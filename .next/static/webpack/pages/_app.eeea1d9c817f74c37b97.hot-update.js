/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/_app",{

/***/ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ _asyncToGenerator; }\n/* harmony export */ });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanM/MWRhMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywga2V5LCBhcmcpIHtcbiAgdHJ5IHtcbiAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgdmFyIHZhbHVlID0gaW5mby52YWx1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChpbmZvLmRvbmUpIHtcbiAgICByZXNvbHZlKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oX25leHQsIF90aHJvdyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2FzeW5jVG9HZW5lcmF0b3IoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseShzZWxmLCBhcmdzKTtcblxuICAgICAgZnVuY3Rpb24gX25leHQodmFsdWUpIHtcbiAgICAgICAgYXN5bmNHZW5lcmF0b3JTdGVwKGdlbiwgcmVzb2x2ZSwgcmVqZWN0LCBfbmV4dCwgX3Rocm93LCBcIm5leHRcIiwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBfdGhyb3coZXJyKSB7XG4gICAgICAgIGFzeW5jR2VuZXJhdG9yU3RlcChnZW4sIHJlc29sdmUsIHJlamVjdCwgX25leHQsIF90aHJvdywgXCJ0aHJvd1wiLCBlcnIpO1xuICAgICAgfVxuXG4gICAgICBfbmV4dCh1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\n");

/***/ }),

/***/ "./components/forms/login.js":
/*!***********************************!*\
  !*** ./components/forms/login.js ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_sisirreddy_Desktop_Development_WebD_SPM_project_FrontEnd_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _Users_sisirreddy_Desktop_Development_WebD_SPM_project_FrontEnd_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_sisirreddy_Desktop_Development_WebD_SPM_project_FrontEnd_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_sisirreddy_Desktop_Development_WebD_SPM_project_FrontEnd_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _firebase_firebase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../firebase/firebase */ \"./firebase/firebase.js\");\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\nvar _jsxFileName = \"/Users/sisirreddy/Desktop/Development/WebD/SPM project/FrontEnd/components/forms/login.js\",\n    _this = undefined,\n    _s = $RefreshSig$();\n\n\n\n\n\nvar Login = function Login() {\n  _s();\n\n  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(false),\n      logged = _useState[0],\n      setLogged = _useState[1];\n\n  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(\"\"),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(\"\"),\n      pswd = _useState3[0],\n      setPswd = _useState3[1];\n\n  var login = /*#__PURE__*/function () {\n    var _ref = (0,_Users_sisirreddy_Desktop_Development_WebD_SPM_project_FrontEnd_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__.default)( /*#__PURE__*/_Users_sisirreddy_Desktop_Development_WebD_SPM_project_FrontEnd_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee() {\n      return _Users_sisirreddy_Desktop_Development_WebD_SPM_project_FrontEnd_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _firebase_firebase__WEBPACK_IMPORTED_MODULE_5__.default.auth().signInWithEmailAndPassword(email, pswd);\n\n            case 2:\n              console.log(\"Signed up user\");\n              Router.push(\"/\");\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function login() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"100%\",\n      right: \"1%\",\n      width: \"400px\"\n    },\n    children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n      className: \"bg-gray-100 p-2 mt-1 rounded\",\n      children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n        className: \"text-3xl font-semibold text-center text-gray-600 uppercase\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n        className: \"mt-4\",\n        style: {\n          display: \"flex\",\n          flexDirection: \"column\"\n        },\n        children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n          className: \"p-2\",\n          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n            className: \"text-gray-500 ml-1 text-2xl\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n            onChange: function onChange(e) {\n              return setEmail(e.target.value);\n            },\n            style: {\n              outline: \"none\",\n              width: \"100%\"\n            },\n            className: \"tracking-wider text-gray-600 text-lg px-2 outline-none bg-transparent border-b-2 border-gray-500\",\n            type: \"email\",\n            placeholder: \"username@example.com\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 6\n        }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n          className: \"p-2\",\n          children: [/*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n            className: \"text-gray-500 ml-1 text-2xl\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 7\n          }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n            onChange: function onChange(e) {\n              return setPswd(e.target.value);\n            },\n            style: {\n              outline: \"none\",\n              width: \"100%\"\n            },\n            className: \"tracking-wider text-gray-600 text-lg px-2 outline-none bg-transparent border-b-2 border-gray-500\",\n            type: \"password\",\n            placeholder: \".......................\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 7\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 6\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 5\n      }, _this), /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n          position: \"relative\",\n          left: \"30%\"\n        },\n        className: \"text-center inline-block ml-4 px-3 py-1 mt-8 shadow-2xl bg-yellow-500 hover:bg-green-500\",\n        children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_3___default()), {\n          href: \"/dashboard\",\n          children: /*#__PURE__*/(0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n            onClick: login,\n            className: \"text-center font-semibold text-2xl text-white tracking-wider focus:outline-none\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 7\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 6\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 5\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 4\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 3\n  }, _this);\n};\n\n_s(Login, \"Fe+SUy+ZjbaDkYHcLtPGWcs96k0=\");\n\n_c = Login;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9mb3Jtcy9sb2dpbi5qcz82NGVmIl0sIm5hbWVzIjpbIkxvZ2luIiwidXNlU3RhdGUiLCJsb2dnZWQiLCJzZXRMb2dnZWQiLCJlbWFpbCIsInNldEVtYWlsIiwicHN3ZCIsInNldFBzd2QiLCJsb2dpbiIsImFwcCIsInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwiY29uc29sZSIsImxvZyIsIlJvdXRlciIsInB1c2giLCJwb3NpdGlvbiIsInRvcCIsInJpZ2h0Iiwid2lkdGgiLCJkaXNwbGF5IiwiZmxleERpcmVjdGlvbiIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsIm91dGxpbmUiLCJsZWZ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFQSxJQUFNQSxLQUFLLEdBQUcsU0FBUkEsS0FBUSxHQUFNO0FBQUE7O0FBQUEsa0JBQ1NDLCtDQUFRLENBQUMsS0FBRCxDQURqQjtBQUFBLE1BQ1pDLE1BRFk7QUFBQSxNQUNKQyxTQURJOztBQUFBLG1CQUVPRiwrQ0FBUSxDQUFDLEVBQUQsQ0FGZjtBQUFBLE1BRVpHLEtBRlk7QUFBQSxNQUVMQyxRQUZLOztBQUFBLG1CQUdLSiwrQ0FBUSxDQUFDLEVBQUQsQ0FIYjtBQUFBLE1BR1pLLElBSFk7QUFBQSxNQUdOQyxPQUhNOztBQUtuQixNQUFNQyxLQUFLO0FBQUEsaVZBQUc7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBQ1BDLDREQUFBLEdBQVdDLDBCQUFYLENBQXNDTixLQUF0QyxFQUE2Q0UsSUFBN0MsQ0FETzs7QUFBQTtBQUViSyxxQkFBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVo7QUFDQUMsb0JBQU0sQ0FBQ0MsSUFBUCxDQUFZLEdBQVo7O0FBSGE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsS0FBSDs7QUFBQSxvQkFBTE4sS0FBSztBQUFBO0FBQUE7QUFBQSxLQUFYOztBQU1BLHNCQUNDO0FBQ0MsU0FBSyxFQUFFO0FBQUVPLGNBQVEsRUFBRSxVQUFaO0FBQXdCQyxTQUFHLEVBQUUsTUFBN0I7QUFBcUNDLFdBQUssRUFBRSxJQUE1QztBQUFrREMsV0FBSyxFQUFFO0FBQXpELEtBRFI7QUFBQSwyQkFHQztBQUFLLGVBQVMsRUFBQyw4QkFBZjtBQUFBLDhCQUNDO0FBQUksaUJBQVMsRUFBQyw0REFBZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxlQURELGVBSUM7QUFDQyxpQkFBUyxFQUFDLE1BRFg7QUFFQyxhQUFLLEVBQUU7QUFBRUMsaUJBQU8sRUFBRSxNQUFYO0FBQW1CQyx1QkFBYSxFQUFFO0FBQWxDLFNBRlI7QUFBQSxnQ0FJQztBQUFLLG1CQUFTLEVBQUMsS0FBZjtBQUFBLGtDQUNDO0FBQU8scUJBQVMsRUFBQyw2QkFBakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBREQsZUFFQztBQUNDLG9CQUFRLEVBQUUsa0JBQUNDLENBQUQ7QUFBQSxxQkFBT2hCLFFBQVEsQ0FBQ2dCLENBQUMsQ0FBQ0MsTUFBRixDQUFTQyxLQUFWLENBQWY7QUFBQSxhQURYO0FBRUMsaUJBQUssRUFBRTtBQUFFQyxxQkFBTyxFQUFFLE1BQVg7QUFBbUJOLG1CQUFLLEVBQUU7QUFBMUIsYUFGUjtBQUdDLHFCQUFTLEVBQUMsa0dBSFg7QUFJQyxnQkFBSSxFQUFDLE9BSk47QUFLQyx1QkFBVyxFQUFDO0FBTGI7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFGRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBSkQsZUFjQztBQUFLLG1CQUFTLEVBQUMsS0FBZjtBQUFBLGtDQUNDO0FBQU8scUJBQVMsRUFBQyw2QkFBakI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBREQsZUFFQztBQUNDLG9CQUFRLEVBQUUsa0JBQUNHLENBQUQ7QUFBQSxxQkFBT2QsT0FBTyxDQUFDYyxDQUFDLENBQUNDLE1BQUYsQ0FBU0MsS0FBVixDQUFkO0FBQUEsYUFEWDtBQUVDLGlCQUFLLEVBQUU7QUFBRUMscUJBQU8sRUFBRSxNQUFYO0FBQW1CTixtQkFBSyxFQUFFO0FBQTFCLGFBRlI7QUFHQyxxQkFBUyxFQUFDLGtHQUhYO0FBSUMsZ0JBQUksRUFBQyxVQUpOO0FBS0MsdUJBQVcsRUFBQztBQUxiO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBRkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQWREO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxlQUpELGVBNkJDO0FBQ0MsYUFBSyxFQUFFO0FBQUVILGtCQUFRLEVBQUUsVUFBWjtBQUF3QlUsY0FBSSxFQUFFO0FBQTlCLFNBRFI7QUFFQyxpQkFBUyxFQUFDLDBGQUZYO0FBQUEsK0JBSUMsOERBQUMsa0RBQUQ7QUFBTSxjQUFJLEVBQUMsWUFBWDtBQUFBLGlDQUNDO0FBQ0MsbUJBQU8sRUFBRWpCLEtBRFY7QUFFQyxxQkFBUyxFQUFDLGlGQUZYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUpEO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUE3QkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSEQ7QUFBQTtBQUFBO0FBQUE7QUFBQSxXQUREO0FBaURBLENBNUREOztHQUFNUixLOztLQUFBQSxLO0FBOEROLCtEQUFlQSxLQUFmIiwiZmlsZSI6Ii4vY29tcG9uZW50cy9mb3Jtcy9sb2dpbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBMaW5rIGZyb20gXCJuZXh0L2xpbmtcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgYXBwIGZyb20gXCIuLi8uLi9maXJlYmFzZS9maXJlYmFzZVwiO1xuXG5jb25zdCBMb2dpbiA9ICgpID0+IHtcblx0Y29uc3QgW2xvZ2dlZCwgc2V0TG9nZ2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblx0Y29uc3QgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZShcIlwiKTtcblx0Y29uc3QgW3Bzd2QsIHNldFBzd2RdID0gdXNlU3RhdGUoXCJcIik7XG5cblx0Y29uc3QgbG9naW4gPSBhc3luYyAoKSA9PiB7XG5cdFx0YXdhaXQgYXBwLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcHN3ZCk7XG5cdFx0Y29uc29sZS5sb2coXCJTaWduZWQgdXAgdXNlclwiKTtcblx0XHRSb3V0ZXIucHVzaChcIi9cIik7XG5cdH07XG5cblx0cmV0dXJuIChcblx0XHQ8ZGl2XG5cdFx0XHRzdHlsZT17eyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB0b3A6IFwiMTAwJVwiLCByaWdodDogXCIxJVwiLCB3aWR0aDogXCI0MDBweFwiIH19XG5cdFx0PlxuXHRcdFx0PGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCBwLTIgbXQtMSByb3VuZGVkXCI+XG5cdFx0XHRcdDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LXNlbWlib2xkIHRleHQtY2VudGVyIHRleHQtZ3JheS02MDAgdXBwZXJjYXNlXCI+XG5cdFx0XHRcdFx0TG9naW5cblx0XHRcdFx0PC9oMT5cblx0XHRcdFx0PGZvcm1cblx0XHRcdFx0XHRjbGFzc05hbWU9XCJtdC00XCJcblx0XHRcdFx0XHRzdHlsZT17eyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiB9fVxuXHRcdFx0XHQ+XG5cdFx0XHRcdFx0PGRpdiBjbGFzc05hbWU9XCJwLTJcIj5cblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG1sLTEgdGV4dC0yeGxcIj5FbWFpbDwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8aW5wdXRcblx0XHRcdFx0XHRcdFx0b25DaGFuZ2U9eyhlKSA9PiBzZXRFbWFpbChlLnRhcmdldC52YWx1ZSl9XG5cdFx0XHRcdFx0XHRcdHN0eWxlPXt7IG91dGxpbmU6IFwibm9uZVwiLCB3aWR0aDogXCIxMDAlXCIgfX1cblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwidHJhY2tpbmctd2lkZXIgdGV4dC1ncmF5LTYwMCB0ZXh0LWxnIHB4LTIgb3V0bGluZS1ub25lIGJnLXRyYW5zcGFyZW50IGJvcmRlci1iLTIgYm9yZGVyLWdyYXktNTAwXCJcblx0XHRcdFx0XHRcdFx0dHlwZT1cImVtYWlsXCJcblx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCJ1c2VybmFtZUBleGFtcGxlLmNvbVwiXG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3NOYW1lPVwicC0yXCI+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBtbC0xIHRleHQtMnhsXCI+UGFzc3dvcmQ8L2xhYmVsPlxuXHRcdFx0XHRcdFx0PGlucHV0XG5cdFx0XHRcdFx0XHRcdG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHN3ZChlLnRhcmdldC52YWx1ZSl9XG5cdFx0XHRcdFx0XHRcdHN0eWxlPXt7IG91dGxpbmU6IFwibm9uZVwiLCB3aWR0aDogXCIxMDAlXCIgfX1cblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwidHJhY2tpbmctd2lkZXIgdGV4dC1ncmF5LTYwMCB0ZXh0LWxnIHB4LTIgb3V0bGluZS1ub25lIGJnLXRyYW5zcGFyZW50IGJvcmRlci1iLTIgYm9yZGVyLWdyYXktNTAwXCJcblx0XHRcdFx0XHRcdFx0dHlwZT1cInBhc3N3b3JkXCJcblx0XHRcdFx0XHRcdFx0cGxhY2Vob2xkZXI9XCIuLi4uLi4uLi4uLi4uLi4uLi4uLi4uLlwiXG5cdFx0XHRcdFx0XHQvPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Zvcm0+XG5cdFx0XHRcdDxkaXZcblx0XHRcdFx0XHRzdHlsZT17eyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLCBsZWZ0OiBcIjMwJVwiIH19XG5cdFx0XHRcdFx0Y2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgaW5saW5lLWJsb2NrIG1sLTQgcHgtMyBweS0xIG10LTggc2hhZG93LTJ4bCBiZy15ZWxsb3ctNTAwIGhvdmVyOmJnLWdyZWVuLTUwMFwiXG5cdFx0XHRcdD5cblx0XHRcdFx0XHQ8TGluayBocmVmPVwiL2Rhc2hib2FyZFwiPlxuXHRcdFx0XHRcdFx0PGJ1dHRvblxuXHRcdFx0XHRcdFx0XHRvbkNsaWNrPXtsb2dpbn1cblx0XHRcdFx0XHRcdFx0Y2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgZm9udC1zZW1pYm9sZCB0ZXh0LTJ4bCB0ZXh0LXdoaXRlIHRyYWNraW5nLXdpZGVyIGZvY3VzOm91dGxpbmUtbm9uZVwiXG5cdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XHRcdExvZ2luXG5cdFx0XHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0XHQ8L0xpbms+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9kaXY+XG5cdCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb2dpbjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/forms/login.js\n");

/***/ }),

/***/ "./firebase/firebase.js":
/*!******************************!*\
  !*** ./firebase/firebase.js ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"./node_modules/firebase/app/dist/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/index.esm.js\");\n/* harmony import */ var firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firebase-firestore */ \"./node_modules/firebase/firebase-firestore.js\");\n/* harmony import */ var firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(firebase_firebase_firestore__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var firebase_firebase_database__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firebase-database */ \"./node_modules/firebase/firebase-database.js\");\n/* harmony import */ var firebase_firebase_database__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(firebase_firebase_database__WEBPACK_IMPORTED_MODULE_3__);\n/* module decorator */ module = __webpack_require__.hmd(module);\n\n\n\n\nvar config = {\n  apiKey: \"AIzaSyCw5d4c-akVvDcD6g4hfIoitlnNNGyaRZ0\",\n  authDomain: \"uni-fi-a4a8e.firebaseapp.com\",\n  databaseURL: \"https://uni-fi-a4a8e-default-rtdb.firebaseio.com\",\n  projectId: \"uni-fi-a4a8e\",\n  storageBucket: \"uni-fi-a4a8e.appspot.com\",\n  messagingSenderId: \"383969856047\",\n  appId: \"1:383969856047:web:42e42c30d0c7d25b9e14da\",\n  measurementId: \"G-DP4WF4X4HM\"\n};\n\nif (!firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.apps.length) {\n  firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.initializeApp(config);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (firebase_app__WEBPACK_IMPORTED_MODULE_0__.default);\n\n;\n    var _a, _b;\n    // Legacy CSS implementations will `eval` browser code in a Node.js context\n    // to extract CSS. For backwards compatibility, we need to check we're in a\n    // browser context before continuing.\n    if (typeof self !== 'undefined' &&\n        // AMP / No-JS mode does not inject these helpers:\n        '$RefreshHelpers$' in self) {\n        var currentExports = module.__proto__.exports;\n        var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n        // This cannot happen in MainTemplate because the exports mismatch between\n        // templating and execution.\n        self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n        // A module can be accepted automatically based on its exports, e.g. when\n        // it is a Refresh Boundary.\n        if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n            // Save the previous exports on update so we can compare the boundary\n            // signatures.\n            module.hot.dispose(function (data) {\n                data.prevExports = currentExports;\n            });\n            // Unconditionally accept an update to this module, we'll check if it's\n            // still a Refresh Boundary later.\n            module.hot.accept();\n            // This field is set when the previous version of this module was a\n            // Refresh Boundary, letting us know we need to check for invalidation or\n            // enqueue an update.\n            if (prevExports !== null) {\n                // A boundary can become ineligible if its exports are incompatible\n                // with the previous exports.\n                //\n                // For example, if you add/remove/change exports, we'll want to\n                // re-execute the importing modules, and force those components to\n                // re-render. Similarly, if you convert a class component to a\n                // function, we want to invalidate the boundary.\n                if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                    module.hot.invalidate();\n                }\n                else {\n                    self.$RefreshHelpers$.scheduleUpdate();\n                }\n            }\n        }\n        else {\n            // Since we just executed the code for the module, it's possible that the\n            // new exports made it ineligible for being a boundary.\n            // We only care about the case when we were _previously_ a boundary,\n            // because we already accepted this update (accidental side effect).\n            var isNoLongerABoundary = prevExports !== null;\n            if (isNoLongerABoundary) {\n                module.hot.invalidate();\n            }\n        }\n    }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vZmlyZWJhc2UvZmlyZWJhc2UuanM/MjNiYyJdLCJuYW1lcyI6WyJjb25maWciLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwiZGF0YWJhc2VVUkwiLCJwcm9qZWN0SWQiLCJzdG9yYWdlQnVja2V0IiwibWVzc2FnaW5nU2VuZGVySWQiLCJhcHBJZCIsIm1lYXN1cmVtZW50SWQiLCJmaXJlYmFzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUdBLElBQUlBLE1BQU0sR0FBRztBQUNUQyxRQUFNLEVBQUUseUNBREM7QUFFVEMsWUFBVSxFQUFFLDhCQUZIO0FBR1RDLGFBQVcsRUFBRSxrREFISjtBQUlUQyxXQUFTLEVBQUUsY0FKRjtBQUtUQyxlQUFhLEVBQUUsMEJBTE47QUFNVEMsbUJBQWlCLEVBQUUsY0FOVjtBQU9UQyxPQUFLLEVBQUUsMkNBUEU7QUFRVEMsZUFBYSxFQUFFO0FBUk4sQ0FBYjs7QUFZQSxJQUFJLENBQUNDLDZEQUFMLEVBQTJCO0FBQzFCQSxpRUFBQSxDQUF1QlQsTUFBdkI7QUFDQTs7QUFFRCwrREFBZVMsaURBQWYiLCJmaWxlIjoiLi9maXJlYmFzZS9maXJlYmFzZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmaXJlYmFzZSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XG5pbXBvcnQgXCJmaXJlYmFzZS9hdXRoXCI7XG5pbXBvcnQgXCJmaXJlYmFzZS9maXJlYmFzZS1maXJlc3RvcmVcIjtcbmltcG9ydCBcImZpcmViYXNlL2ZpcmViYXNlLWRhdGFiYXNlXCI7XG5cblxudmFyIGNvbmZpZyA9IHtcbiAgICBhcGlLZXk6IFwiQUl6YVN5Q3c1ZDRjLWFrVnZEY0Q2ZzRoZklvaXRsbk5OR3lhUlowXCIsXG4gICAgYXV0aERvbWFpbjogXCJ1bmktZmktYTRhOGUuZmlyZWJhc2VhcHAuY29tXCIsXG4gICAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly91bmktZmktYTRhOGUtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tXCIsXG4gICAgcHJvamVjdElkOiBcInVuaS1maS1hNGE4ZVwiLFxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwidW5pLWZpLWE0YThlLmFwcHNwb3QuY29tXCIsXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiMzgzOTY5ODU2MDQ3XCIsXG4gICAgYXBwSWQ6IFwiMTozODM5Njk4NTYwNDc6d2ViOjQyZTQyYzMwZDBjN2QyNWI5ZTE0ZGFcIixcbiAgICBtZWFzdXJlbWVudElkOiBcIkctRFA0V0Y0WDRITVwiXG4gIH07XG5cblxuaWYgKCFmaXJlYmFzZS5hcHBzLmxlbmd0aCkge1xuXHRmaXJlYmFzZS5pbml0aWFsaXplQXBwKGNvbmZpZyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZpcmViYXNlOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./firebase/firebase.js\n");

/***/ }),

/***/ "./node_modules/firebase/app/dist/index.esm.js":
/*!*****************************************************!*\
  !*** ./node_modules/firebase/app/dist/index.esm.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* reexport safe */ _firebase_app__WEBPACK_IMPORTED_MODULE_0__.default; }\n/* harmony export */ });\n/* harmony import */ var _firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/app */ \"./node_modules/@firebase/app/dist/index.esm.js\");\n\n\n\nvar name = \"firebase\";\nvar version = \"8.6.2\";\n\n/**\r\n * @license\r\n * Copyright 2018 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n_firebase_app__WEBPACK_IMPORTED_MODULE_0__.default.registerVersion(name, version, 'app');\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2ZpcmViYXNlL2FwcC9kaXN0L2luZGV4LmVzbS5qcz8yNjBiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBQ0c7O0FBRXhDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBd0I7QUFDeEIiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvYXBwL2Rpc3QvaW5kZXguZXNtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpcmViYXNlIGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuXG52YXIgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbnZhciB2ZXJzaW9uID0gXCI4LjYuMlwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5maXJlYmFzZS5yZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ2FwcCcpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXNtLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/firebase/app/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/firebase/auth/dist/index.esm.js":
/*!******************************************************!*\
  !*** ./node_modules/firebase/auth/dist/index.esm.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _firebase_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/auth */ \"./node_modules/@firebase/auth/dist/auth.esm.js\");\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2ZpcmViYXNlL2F1dGgvZGlzdC9pbmRleC5lc20uanM/ZWE3YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUF3QjtBQUN4QiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hdXRoL2Rpc3QvaW5kZXguZXNtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdAZmlyZWJhc2UvYXV0aCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/firebase/auth/dist/index.esm.js\n");

/***/ }),

/***/ "./node_modules/firebase/firebase-database.js":
/*!****************************************************!*\
  !*** ./node_modules/firebase/firebase-database.js ***!
  \****************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/process/browser.js\");\n!function(e,t){ true?t(__webpack_require__(/*! @firebase/app */ \"./node_modules/@firebase/app/dist/index.esm.js\")):0}(this,function(Ru){\"use strict\";try{!function(){function e(e){return e&&\"object\"==typeof e&&\"default\"in e?e:{default:e}}var t=e(Ru),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function n(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,a,s,u){return new(s=s||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function i(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((u=u.apply(e,a||[])).next())})}function p(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return\"function\"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError(\"Generator is already executing.\");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function _(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function y(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function a(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function o(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function s(e){try{return h.decodeString(e,!0)}catch(e){console.error(\"base64Decode failed: \",e)}return null}var u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:\"${JSCORE_VERSION}\"},g=function(e,t){if(!e)throw m(t)},m=function(e){return new Error(\"Firebase Database (\"+u.SDK_VERSION+\") INTERNAL ASSERT FAILED: \"+e)},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+\"+/=\"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+\"-_.\"},HAS_NATIVE_SUPPORT:\"function\"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error(\"encodeByteArray takes an array as a parameter\");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,h=o>>2,o=(3&o)<<4|s>>4,s=(15&s)<<2|l>>6,l=63&l;u||(l=64,a||(s=64)),r.push(n[h],n[o],n[s],n[l])}return r.join(\"\")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,o,a,s=e[n++];s<128?t[r++]=String.fromCharCode(s):191<s&&s<224?(o=e[n++],t[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))):(o=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return t.join(\"\")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();o=o<<2|a>>4;r.push(o),64!==s&&(a=a<<4&240|s>>2,r.push(a),64!==u&&(u=s<<6&192|u,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function c(e){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:var r=n;return new Date(r.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(var i in n)n.hasOwnProperty(i)&&d(i)&&(t[i]=e(t[i],n[i]));return t}(void 0,e)}function d(e){return\"__proto__\"!==e}var f=(v.prototype.wrapCallback=function(n){var r=this;return function(e,t){e?r.reject(e):r.resolve(t),\"function\"==typeof n&&(r.promise.catch(function(){}),1===n.length?n(e):n(e,t))}},v);function v(){var n=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,t){n.resolve=e,n.reject=t})}function w(){return\"undefined\"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.userAgent?navigator.userAgent:\"\")}function C(){return!0===u.NODE_ADMIN}var b,T=\"FirebaseError\",E=(n(I,b=Error),I);function I(e,t,n){t=b.call(this,t)||this;return t.code=e,t.customData=n,t.name=T,Object.setPrototypeOf(t,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,S.prototype.create),t}var S=(k.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+\"/\"+e,e=this.errors[e],e=e?(r=i,e.replace(P,function(e,t){var n=r[t];return null!=n?String(n):\"<\"+t+\"?>\"})):\"Error\",e=this.serviceName+\": \"+e+\" (\"+o+\").\";return new E(o,e,i)},k);function k(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var P=/\\{\\$([^}]+)}/g;function N(e){return JSON.parse(e)}function x(e){return JSON.stringify(e)}function R(e){var t={},n={},r={},i=\"\";try{var o=e.split(\".\"),t=N(s(o[0])||\"\"),n=N(s(o[1])||\"\"),i=o[2],r=n.d||{};delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function A(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function L(e,t,n){var r,i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function M(e){for(var n=[],t=0,r=Object.entries(e);t<r.length;t++){var i=r[t];!function(t,e){Array.isArray(e)?e.forEach(function(e){n.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(e))}):n.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(e))}(i[0],i[1])}return n.length?\"&\"+n.join(\"&\"):\"\"}var F=(q.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},q.prototype.compress_=function(e,t){t=t||0;var n=this.W_;if(\"string\"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],l=this.chain_[3],h=this.chain_[4],r=0;r<80;r++)var c=r<40?r<20?(o=l^s&(u^l),1518500249):(o=s^u^l,1859775393):r<60?(o=s&u|l&(s|u),2400959708):(o=s^u^l,3395469782),i=(a<<5|a>>>27)+o+h+c+n[r]&4294967295,h=l,l=u,u=4294967295&(s<<30|s>>>2),s=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},q.prototype.update=function(e,t){if(null!=e){for(var n=(t=void 0===t?e.length:t)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if(\"string\"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},q.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},q);function q(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}function W(e,t,n,r){var i;if(r<t?i=\"at least \"+t:n<r&&(i=0===n?\"none\":\"no more than \"+n),i)throw new Error(e+\" failed: Was called with \"+r+(1===r?\" argument.\":\" arguments.\")+\" Expects \"+i+\".\")}function j(e,t){return e+\" failed: \"+t+\" argument \"}function U(e,t,n,r){if((!r||n)&&\"function\"!=typeof n)throw new Error(j(e,t)+\"must be a valid function.\")}function B(e,t,n,r){if((!r||n)&&(\"object\"!=typeof n||null===n))throw new Error(j(e,t)+\"must be a valid context object.\")}function V(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t}function z(e){return e&&e._delegate?e._delegate:e}var H=(Q.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},Q.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},Q.prototype.setServiceProps=function(e){return this.serviceProps=e,this},Q.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},Q);function Q(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=\"LAZY\",this.onInstanceCreated=null}var Y=\"[DEFAULT]\",K=(G.prototype.get=function(e){void 0===e&&(e=Y);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new f;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},G.prototype.getImmediate=function(e){var t=l({identifier:Y,optional:!1},e),e=t.identifier,t=t.optional,n=this.normalizeInstanceIdentifier(e);if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(t)return null;throw Error(\"Service \"+this.name+\" is not available\")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(t)return null;throw e}},G.prototype.getComponent=function(){return this.component},G.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error(\"Mismatching Component \"+e.name+\" for Provider \"+this.name+\".\");if(this.component)throw Error(\"Component for \"+this.name+\" has already been provided\");if(this.component=e,this.shouldAutoInitialize()){if(\"EAGER\"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:Y})}catch(e){}try{for(var r=_(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=y(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var l=this.getOrInitializeService({instanceIdentifier:u});s.resolve(l)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},G.prototype.clearInstance=function(e){void 0===e&&(e=Y),this.instancesDeferred.delete(e),this.instances.delete(e)},G.prototype.delete=function(){return i(this,void 0,void 0,function(){var t;return p(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(a(a([],y(t.filter(function(e){return\"INTERNAL\"in e}).map(function(e){return e.INTERNAL.delete()}))),y(t.filter(function(e){return\"_delete\"in e}).map(function(e){return e._delete()}))))];case 1:return e.sent(),[2]}})})},G.prototype.isComponentSet=function(){return null!=this.component},G.prototype.isInitialized=function(e){return void 0===e&&(e=Y),this.instances.has(e)},G.prototype.initialize=function(e){var t,n,r=(e=void 0===e?{}:e).instanceIdentifier,r=void 0===r?Y:r,e=e.options,e=void 0===e?{}:e,i=this.normalizeInstanceIdentifier(r);if(this.isInitialized(i))throw Error(this.name+\"(\"+i+\") has already been initialized\");if(!this.isComponentSet())throw Error(\"Component \"+this.name+\" has not been registered yet\");var o=this.getOrInitializeService({instanceIdentifier:i,options:e});try{for(var a=_(this.instancesDeferred.entries()),s=a.next();!s.done;s=a.next()){var u=y(s.value,2),l=u[0],u=u[1];i===this.normalizeInstanceIdentifier(l)&&u.resolve(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(o,i),o},G.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},G.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=_(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},G.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,e=void 0===n?{}:n,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===Y?void 0:n,options:e}),this.instances.set(t,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(e){}return r||null},G.prototype.normalizeInstanceIdentifier=function(e){return!this.component||this.component.multipleInstances?e:Y},G.prototype.shouldAutoInitialize=function(){return!!this.component&&\"EXPLICIT\"!==this.component.instantiationMode},G);function G(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}var $,J=(X.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(\"Component \"+e.name+\" has already been registered with \"+this.name);t.setComponent(e)},X.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},X.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new K(e,this);return this.providers.set(e,t),t},X.prototype.getProviders=function(){return Array.from(this.providers.values())},X);function X(e){this.name=e,this.providers=new Map}(Ct=$=$||{})[Ct.DEBUG=0]=\"DEBUG\",Ct[Ct.VERBOSE=1]=\"VERBOSE\",Ct[Ct.INFO=2]=\"INFO\",Ct[Ct.WARN=3]=\"WARN\",Ct[Ct.ERROR=4]=\"ERROR\",Ct[Ct.SILENT=5]=\"SILENT\";function Z(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ne[t];if(!o)throw new Error(\"Attempted to log a message with an invalid logType (value: \"+t+\")\");console[o].apply(console,a([\"[\"+i+\"]  \"+e.name+\":\"],n))}}var ee={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},te=$.INFO,ne=((Tt={})[$.DEBUG]=\"log\",Tt[$.VERBOSE]=\"log\",Tt[$.INFO]=\"info\",Tt[$.WARN]=\"warn\",Tt[$.ERROR]=\"error\",Tt),re=(Object.defineProperty(ie.prototype,\"logLevel\",{get:function(){return this._logLevel},set:function(e){if(!(e in $))throw new TypeError('Invalid value \"'+e+'\" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),ie.prototype.setLogLevel=function(e){this._logLevel=\"string\"==typeof e?ee[e]:e},Object.defineProperty(ie.prototype,\"logHandler\",{get:function(){return this._logHandler},set:function(e){if(\"function\"!=typeof e)throw new TypeError(\"Value assigned to `logHandler` must be a function\");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(ie.prototype,\"userLogHandler\",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),ie.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,a([this,$.DEBUG],e)),this._logHandler.apply(this,a([this,$.DEBUG],e))},ie.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,a([this,$.VERBOSE],e)),this._logHandler.apply(this,a([this,$.VERBOSE],e))},ie.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,a([this,$.INFO],e)),this._logHandler.apply(this,a([this,$.INFO],e))},ie.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,a([this,$.WARN],e)),this._logHandler.apply(this,a([this,$.WARN],e))},ie.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,a([this,$.ERROR],e)),this._logHandler.apply(this,a([this,$.ERROR],e))},ie);function ie(e){this.name=e,this._logLevel=te,this._logHandler=Z,this._userLogHandler=null}var oe=\"\";function ae(e){oe=e}var se=(ue.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),x(t))},ue.prototype.get=function(e){e=this.domStorage_.getItem(this.prefixedName_(e));return null==e?null:N(e)},ue.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},ue.prototype.prefixedName_=function(e){return this.prefix_+e},ue.prototype.toString=function(){return this.domStorage_.toString()},ue);function ue(e){this.domStorage_=e,this.prefix_=\"firebase:\"}var le=(he.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},he.prototype.get=function(e){return D(this.cache_,e)?this.cache_[e]:null},he.prototype.remove=function(e){delete this.cache_[e]},he);function he(){this.cache_={},this.isInMemoryStorage=!0}function ce(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i,o=e.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,g(++r<e.length,\"Surrogate pair missing trail surrogate.\"),o=65536+(i<<10)+(e.charCodeAt(r)-56320)),o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t}(e);return(e=new F).update(t),e=e.digest(),h.encodeByteArray(e)}function pe(e,t){g(!t||!0===e||!1===e,\"Can't turn on custom loggers persistently.\"),!0===e?(be.logLevel=$.VERBOSE,Ie=be.log.bind(be),t&&Ce.set(\"logging_enabled\",!0)):\"function\"==typeof e?Ie=e:(Ie=null,Ce.remove(\"logging_enabled\"))}function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=\"FIREBASE INTERNAL ERROR: \"+Ee.apply(void 0,a([],y(e)));be.error(n)}function fe(e){return\"number\"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function _e(e,t){return e===t?0:e<t?-1:1}function ye(e,t){if(t&&e in t)return t[e];throw new Error(\"Missing required key (\"+e+\") in object: \"+x(t))}function ve(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}var ge,me=function(e){try{if(\"undefined\"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem(\"firebase:sentinel\",\"cache\"),t.removeItem(\"firebase:sentinel\"),new se(t)}}catch(e){}return new le},we=me(\"localStorage\"),Ce=me(\"sessionStorage\"),be=new re(\"@firebase/database\"),Te=(ge=1,function(){return ge++}),Ee=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=\"\",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&\"object\"==typeof i&&\"number\"==typeof i.length?n+=Ee.apply(null,i):n+=\"object\"==typeof i?x(i):i,n+=\" \"}return n},Ie=null,Se=!0,ke=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!0===Se&&(Se=!1,null===Ie&&!0===Ce.get(\"logging_enabled\")&&pe(!0)),Ie&&(e=Ee.apply(null,t),Ie(e))},Pe=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];ke.apply(void 0,a([n],y(e)))}},Ne=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=\"FIREBASE FATAL ERROR: \"+Ee.apply(void 0,a([],y(e)));throw be.error(n),new Error(n)},xe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=\"FIREBASE WARNING: \"+Ee.apply(void 0,a([],y(e)));be.warn(n)},Re=\"[MIN_NAME]\",De=\"[MAX_NAME]\",Oe=function(e,t){if(e===t)return 0;if(e===Re||t===De)return-1;if(t===Re||e===De)return 1;var n=Ue(e),r=Ue(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null===r&&e<t?-1:1},Ae=function(e){if(\"object\"!=typeof e||null===e)return x(e);var t,n=[];for(t in e)n.push(t);n.sort();for(var r=\"{\",i=0;i<n.length;i++)0!==i&&(r+=\",\"),r+=x(n[i]),r+=\":\",r+=Ae(e[n[i]]);return r+=\"}\"};function Le(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function Me(e){var t,n,r,i;g(!fe(e),\"Invalid JSON number\"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(\"\"),u=\"\";for(a=0;a<64;a+=8){var l=parseInt(s.substr(a,8),2).toString(16);u+=l=1===l.length?\"0\"+l:l}return u.toLowerCase()}function Fe(e,t){return\"object\"==typeof(t=setTimeout(e,t))&&t.unref&&t.unref(),t}var qe=new RegExp(\"^-?(0*)\\\\d{1,10}$\"),We=-2147483648,je=2147483647,Ue=function(e){if(qe.test(e)){e=Number(e);if(We<=e&&e<=je)return e}return null},Be=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||\"\";throw xe(\"Exception was thrown by user callback.\",e),t},Math.floor(0))}},Ve=(ze.prototype.getToken=function(n){var r=this;return this.appCheck?this.appCheck.getToken(n):new Promise(function(e,t){setTimeout(function(){r.appCheck?r.getToken(n).then(e,t):e(null)},0)})},ze.prototype.addTokenChangeListener=function(t){var e;null!==(e=this.appCheckProvider)&&void 0!==e&&e.get().then(function(e){return e.addTokenListener(t)})},ze.prototype.notifyForInvalidToken=function(){xe('Provided AppCheck credentials for the app named \"'+this.appName_+'\" are invalid. This usually indicates your app was not initialized correctly.')},ze);function ze(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null!=t&&t.get().then(function(e){return n.appCheck=e})}var He=(Qe.prototype.getToken=function(n){var r=this;return this.auth_?this.auth_.getToken(n).catch(function(e){return e&&\"auth/token-not-initialized\"===e.code?(ke(\"Got auth/token-not-initialized error.  Treating as null token.\"),null):Promise.reject(e)}):new Promise(function(e,t){setTimeout(function(){r.auth_?r.getToken(n).then(e,t):e(null)},0)})},Qe.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},Qe.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},Qe.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named \"'+this.appName_+'\" are invalid. This usually indicates your app was not initialized correctly. ';\"credential\"in this.firebaseOptions_?e+='Make sure the \"credential\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':\"serviceAccount\"in this.firebaseOptions_?e+='Make sure the \"serviceAccount\" property provided to initializeApp() is authorized to access the specified \"databaseURL\" and is from the correct project.':e+='Make sure the \"apiKey\" and \"databaseURL\" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xe(e)},Qe);function Qe(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(e){return r.auth_=e})}var Ye=(Ke.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},Ke.prototype.addTokenChangeListener=function(e){e(this.accessToken)},Ke.prototype.removeTokenChangeListener=function(e){},Ke.prototype.notifyForInvalidToken=function(){},Ke.OWNER=\"owner\",Ke);function Ke(e){this.accessToken=e}var Ge=/(console\\.firebase|firebase-console-\\w+\\.corp|firebase\\.corp)\\.google\\.com/,$e=\"websocket\",Je=\"long_polling\",Xe=(Ze.prototype.isCacheableHost=function(){return\"s-\"===this.internalHost.substr(0,2)},Ze.prototype.isCustomHost=function(){return\"firebaseio.com\"!==this._domain&&\"firebaseio-demo.com\"!==this._domain},Object.defineProperty(Ze.prototype,\"host\",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&we.set(\"host:\"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),Ze.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+=\"<\"+this.persistenceKey+\">\"),e},Ze.prototype.toURLString=function(){var e=this.secure?\"https://\":\"http://\",t=this.includeNamespaceInQueryParams?\"?ns=\"+this.namespace:\"\";return e+this.host+\"/\"+t},Ze);function Ze(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=\"\"),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(\".\")+1),this.internalHost=we.get(\"host:\"+e)||this._host}function et(e,t,n){var r;if(g(\"string\"==typeof t,\"typeof type must == string\"),g(\"object\"==typeof n,\"typeof params must == object\"),t===$e)r=(e.secure?\"wss://\":\"ws://\")+e.internalHost+\"/.ws?\";else{if(t!==Je)throw new Error(\"Unknown connection type: \"+t);r=(e.secure?\"https://\":\"http://\")+e.internalHost+\"/.lp?\"}((t=e).host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var i=[];return Le(n,function(e,t){i.push(e+\"=\"+t)}),r+i.join(\"&\")}var tt=(nt.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),D(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},nt.prototype.get=function(){return c(this.counters_)},nt);function nt(){this.counters_={}}var rt={},it={};function ot(e){e=e.toString();return rt[e]||(rt[e]=new tt),rt[e]}var at=(st.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},st.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum];)if(\"break\"===function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&Be(function(){n.onMessage_(t[e])})}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),\"break\";r.currentResponseNum++}())break},st);function st(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var ut=\"pLPCommand\",lt=\"pRTLPCB\",ht=(ct.prototype.open=function(e,t){var n,r,i,a=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new at(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){a.log_(\"Timed out trying to connect.\"),a.onClosed_(),a.connectTimeoutTimer_=null},Math.floor(3e4)),n=function(){var e;a.isClosed_||(a.scriptTagHolder=new pt(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=y(e,5),r=n[0],i=n[1],o=n[2];n[3],n[4];if(a.incrementIncomingBytes_(e),a.scriptTagHolder)if(a.connectTimeoutTimer_&&(clearTimeout(a.connectTimeoutTimer_),a.connectTimeoutTimer_=null),a.everConnected_=!0,\"start\"===r)a.id=i,a.password=o;else{if(\"close\"!==r)throw new Error(\"Unrecognized command received: \"+r);i?(a.scriptTagHolder.sendNewPolls=!1,a.myPacketOrderer.closeAfter(i,function(){a.onClosed_()})):a.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=y(e,2),r=n[0],n=n[1];a.incrementIncomingBytes_(e),a.myPacketOrderer.handleResponse(r,n)},function(){a.onClosed_()},a.urlFn),(e={start:\"t\"}).ser=Math.floor(1e8*Math.random()),a.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=a.scriptTagHolder.uniqueCallbackIdentifier),e.v=\"5\",a.transportSessionId&&(e.s=a.transportSessionId),a.lastSessionId&&(e.ls=a.lastSessionId),a.applicationId&&(e.p=a.applicationId),a.appCheckToken&&(e.ac=a.appCheckToken),\"undefined\"!=typeof location&&location.hostname&&Ge.test(location.hostname)&&(e.r=\"f\"),e=a.urlFn(e),a.log_(\"Connecting via long-poll to \"+e),a.scriptTagHolder.addTag(e,function(){}))},\"complete\"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener(\"DOMContentLoaded\",i,!1),window.addEventListener(\"load\",i,!1)):document.attachEvent&&(document.attachEvent(\"onreadystatechange\",function(){\"complete\"===document.readyState&&i()}),window.attachEvent(\"onload\",i)))},ct.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},ct.forceAllow=function(){ct.forceAllow_=!0},ct.forceDisallow=function(){ct.forceDisallow_=!0},ct.isAvailable=function(){return!!ct.forceAllow_||!(ct.forceDisallow_||\"undefined\"==typeof document||null==document.createElement||\"object\"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||\"object\"==typeof Windows&&\"object\"==typeof Windows.UI)},ct.prototype.markConnectionHealthy=function(){},ct.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},ct.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"Longpoll is closing itself\"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},ct.prototype.close=function(){this.isClosed_||(this.log_(\"Longpoll is being closed.\"),this.shutdown_())},ct.prototype.send=function(e){e=x(e);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);for(var e=function(e){e=o(e);return h.encodeByteArray(e,!0)}(e),t=ve(e,1840),n=0;n<t.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,t.length,t[n]),this.curSegmentNum++},ct.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement(\"iframe\");var n={dframe:\"t\"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display=\"none\",document.body.appendChild(this.myDisconnFrame)},ct.prototype.incrementIncomingBytes_=function(e){e=x(e).length;this.bytesReceived+=e,this.stats_.incrementCounter(\"bytes_received\",e)},ct);function ct(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pe(e),this.stats_=ot(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),et(t,Je,e)}}var pt=(dt.createIFrame_=function(){var t=document.createElement(\"iframe\");if(t.style.display=\"none\",!document.body)throw\"Document body has not initialized. Wait to initialize Firebase until after the document is ready.\";document.body.appendChild(t);try{t.contentWindow.document||ke(\"No IE domain setting required\")}catch(e){var n=document.domain;t.src=\"javascript:void((function(){document.open();document.domain='\"+n+\"';document.close();})())\"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},dt.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML=\"\",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},dt.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},dt.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var e=this.urlFn(e),t=\"\",n=0;0<this.pendingSegs.length;){if(!(this.pendingSegs[0].d.length+30+t.length<=1870))break;var r=this.pendingSegs.shift(),t=t+\"&seg\"+n+\"=\"+r.seg+\"&ts\"+n+\"=\"+r.ts+\"&d\"+n+\"=\"+r.d;n++}return e+=t,this.addLongPollTag_(e,this.currentSerial),!0}return!1},dt.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},dt.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);function r(){n.outstandingRequests.delete(t),n.newRequest_()}var i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})},dt.prototype.addTag=function(e,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var t=r.myIFrame.doc.createElement(\"script\");t.type=\"text/javascript\",t.async=!0,t.src=e,t.onload=t.onreadystatechange=function(){var e=t.readyState;e&&\"loaded\"!==e&&\"complete\"!==e||(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),n())},t.onerror=function(){ke(\"Long-poll script failed to load: \"+e),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(t)}catch(e){}},Math.floor(1))},dt);function dt(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Te(),window[ut+this.uniqueCallbackIdentifier]=e,window[lt+this.uniqueCallbackIdentifier]=t,this.myIFrame=dt.createIFrame_();var t=\"\",i=\"<html><body>\"+(t=this.myIFrame.src&&\"javascript:\"===this.myIFrame.src.substr(0,\"javascript:\".length)?'<script>document.domain=\"'+document.domain+'\";<\\/script>':t)+\"</body></html>\";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(e){ke(\"frame writing exception\"),e.stack&&ke(e.stack),ke(e)}}var ft=null;\"undefined\"!=typeof MozWebSocket?ft=MozWebSocket:\"undefined\"!=typeof WebSocket&&(ft=WebSocket);var _t=(yt.connectionURL_=function(e,t,n,r){var i={v:\"5\"};return\"undefined\"!=typeof location&&location.hostname&&Ge.test(location.hostname)&&(i.r=\"f\"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),et(e,$e,i)},yt.prototype.open=function(t,e){var n,r=this;this.onDisconnect=e,this.onMessage=t,this.log_(\"Websocket connecting to \"+this.connURL),this.everConnected_=!1,we.set(\"previous_websocket_failure\",!0);try{C()||(n={headers:{\"X-Firebase-GMPID\":this.applicationId||\"\",\"X-Firebase-AppCheck\":this.appCheckToken||\"\"}},this.mySock=new ft(this.connURL,[],n))}catch(e){this.log_(\"Error instantiating WebSocket.\");t=e.message||e.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=function(){r.log_(\"Websocket connected.\"),r.everConnected_=!0},this.mySock.onclose=function(){r.log_(\"Websocket connection was disconnected.\"),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_(\"WebSocket error.  Closing connection.\");e=e.message||e.data;e&&r.log_(e),r.onClosed_()}},yt.prototype.start=function(){},yt.forceDisallow=function(){yt.forceDisallow_=!0},yt.isAvailable=function(){var e,t=!1;return\"undefined\"!=typeof navigator&&navigator.userAgent&&((e=navigator.userAgent.match(/Android ([0-9]{0,}\\.[0-9]{0,})/))&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0)),!t&&null!==ft&&!yt.forceDisallow_},yt.previouslyFailed=function(){return we.isInMemoryStorage||!0===we.get(\"previous_websocket_failure\")},yt.prototype.markConnectionHealthy=function(){we.remove(\"previous_websocket_failure\")},yt.prototype.appendFrame_=function(e){this.frames.push(e),this.frames.length===this.totalFrames&&(e=this.frames.join(\"\"),this.frames=null,e=N(e),this.onMessage(e))},yt.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},yt.prototype.extractFrameCount_=function(e){if(g(null===this.frames,\"We already have a frame buffer\"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},yt.prototype.handleIncomingFrame=function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter(\"bytes_received\",e.length),this.resetKeepAlive(),null!==this.frames?this.appendFrame_(e):null!==(e=this.extractFrameCount_(e))&&this.appendFrame_(e))},yt.prototype.send=function(e){this.resetKeepAlive();e=x(e);this.bytesSent+=e.length,this.stats_.incrementCounter(\"bytes_sent\",e.length);var t=ve(e,16384);1<t.length&&this.sendString_(String(t.length));for(var n=0;n<t.length;n++)this.sendString_(t[n])},yt.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},yt.prototype.onClosed_=function(){this.isClosed_||(this.log_(\"WebSocket is closing itself\"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},yt.prototype.close=function(){this.isClosed_||(this.log_(\"WebSocket is being closed\"),this.shutdown_())},yt.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_(\"0\"),e.resetKeepAlive()},Math.floor(45e3))},yt.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_(\"Exception thrown from WebSocket.send():\",e.message||e.data,\"Closing connection.\"),setTimeout(this.onClosed_.bind(this),0)}},yt.responsesRequiredToBeHealthy=2,yt.healthyTimeout=3e4,yt);function yt(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pe(this.connId),this.stats_=ot(t),this.connURL=yt.connectionURL_(t,o,a,r),this.nodeAdmin=t.nodeAdmin}var vt=(Object.defineProperty(gt,\"ALL_TRANSPORTS\",{get:function(){return[ht,_t]},enumerable:!1,configurable:!0}),gt.prototype.initTransports_=function(e){var t,n,r=_t&&_t.isAvailable(),i=r&&!_t.previouslyFailed();if(e.webSocketOnly&&(r||xe(\"wss:// URL used, but browser isn't known to support websockets.  Trying anyway.\"),i=!0),i)this.transports_=[_t];else{var o=this.transports_=[];try{for(var a=_(gt.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},gt.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error(\"No transports available\")},gt.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},gt);function gt(e){this.initTransports_(e)}var mt=(wt.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));t=t.healthyTimeout||0;0<t&&(this.healthyTimeout_=Fe(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_(\"Connection exceeded healthy timeout but has received \"+e.conn_.bytesReceived+\" bytes.  Marking connection healthy.\"),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_(\"Connection exceeded healthy timeout but has sent \"+e.conn_.bytesSent+\" bytes.  Leaving connection alive.\"):(e.log_(\"Closing unhealthy connection after timeout.\"),e.close()))},Math.floor(t)))},wt.prototype.nextTransportId_=function(){return\"c:\"+this.id+\":\"+this.connectionCount++},wt.prototype.disconnReceiver_=function(t){var n=this;return function(e){t===n.conn_?n.onConnectionLost_(e):t===n.secondaryConn_?(n.log_(\"Secondary connection lost.\"),n.onSecondaryConnectionLost_()):n.log_(\"closing an old connection\")}},wt.prototype.connReceiver_=function(t){var n=this;return function(e){2!==n.state_&&(t===n.rx_?n.onPrimaryMessageReceived_(e):t===n.secondaryConn_?n.onSecondaryMessageReceived_(e):n.log_(\"message on old connection\"))}},wt.prototype.sendRequest=function(e){e={t:\"d\",d:e};this.sendData_(e)},wt.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_(\"cleaning up and promoting a connection: \"+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},wt.prototype.onSecondaryControl_=function(e){\"t\"in e&&(\"a\"===(e=e.t)?this.upgradeIfSecondaryHealthy_():\"r\"===e?(this.log_(\"Got a reset on secondary, closing it\"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):\"o\"===e&&(this.log_(\"got pong on secondary.\"),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},wt.prototype.onSecondaryMessageReceived_=function(e){var t=ye(\"t\",e),e=ye(\"d\",e);if(\"c\"===t)this.onSecondaryControl_(e);else{if(\"d\"!==t)throw new Error(\"Unknown protocol layer: \"+t);this.pendingDataMessages.push(e)}},wt.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_(\"Secondary connection is healthy.\"),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_(\"sending ping on secondary.\"),this.secondaryConn_.send({t:\"c\",d:{t:\"p\",d:{}}}))},wt.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_(\"sending client ack on secondary\"),this.secondaryConn_.send({t:\"c\",d:{t:\"a\",d:{}}}),this.log_(\"Ending transmission on primary\"),this.conn_.send({t:\"c\",d:{t:\"n\",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},wt.prototype.onPrimaryMessageReceived_=function(e){var t=ye(\"t\",e),e=ye(\"d\",e);\"c\"===t?this.onControl_(e):\"d\"===t&&this.onDataMessage_(e)},wt.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},wt.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},wt.prototype.onControl_=function(e){var t=ye(\"t\",e);if(\"d\"in e){e=e.d;if(\"h\"===t)this.onHandshake_(e);else if(\"n\"===t){this.log_(\"recvd end transmission on primary\"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else\"s\"===t?this.onConnectionShutdown_(e):\"r\"===t?this.onReset_(e):\"e\"===t?de(\"Server Error: \"+e):\"o\"===t?(this.log_(\"got pong on primary.\"),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):de(\"Unknown control packet command: \"+t)}},wt.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),\"5\"!==n&&xe(\"Protocol version mismatch detected\"),this.tryStartUpgrade_())},wt.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},wt.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),e=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,e),Fe(function(){t.secondaryConn_&&(t.log_(\"Timed out trying to upgrade.\"),t.secondaryConn_.close())},Math.floor(6e4))},wt.prototype.onReset_=function(e){this.log_(\"Reset packet received.  New host: \"+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},wt.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_(\"Realtime connection established.\"),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_(\"Primary connection is healthy.\"),this.isHealthy_=!0):Fe(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},wt.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_(\"sending ping on primary.\"),this.sendData_({t:\"c\",d:{t:\"p\",d:{}}}))},wt.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},wt.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_(\"Realtime connection lost.\"):(this.log_(\"Realtime connection failed.\"),this.repoInfo_.isCacheableHost()&&(we.remove(\"host:\"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},wt.prototype.onConnectionShutdown_=function(e){this.log_(\"Connection shutdown command received. Shutting down...\"),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},wt.prototype.sendData_=function(e){if(1!==this.state_)throw\"Connection is not connected\";this.tx_.send(e)},wt.prototype.close=function(){2!==this.state_&&(this.log_(\"Closing realtime connection.\"),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},wt.prototype.closeConnections_=function(){this.log_(\"Shutting down all connections\"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},wt);function wt(e,t,n,r,i,o,a,s,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pe(\"c:\"+this.id+\":\"),this.transportManager_=new vt(t),this.log_(\"Connection created\"),this.start_()}var Ct=(bt.prototype.put=function(e,t,n,r){},bt.prototype.merge=function(e,t,n,r){},bt.prototype.refreshAuthToken=function(e){},bt.prototype.refreshAppCheckToken=function(e){},bt.prototype.onDisconnectPut=function(e,t,n){},bt.prototype.onDisconnectMerge=function(e,t,n){},bt.prototype.onDisconnectCancel=function(e,t){},bt.prototype.reportStats=function(e){},bt);function bt(){}var Tt=(Et.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=a([],y(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},Et.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});e=this.getInitialEvent(e);e&&t.apply(n,e)},Et.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},Et.prototype.validateEventType_=function(t){g(this.allowedEvents_.find(function(e){return e===t}),\"Unknown event: \"+t)},Et);function Et(e){this.allowedEvents_=e,this.listeners_={},g(Array.isArray(e)&&0<e.length,\"Requires a non-empty array\")}var It,St=(n(kt,It=Tt),kt.getInstance=function(){return new kt},kt.prototype.getInitialEvent=function(e){return g(\"online\"===e,\"Unknown event type: \"+e),[this.online_]},kt.prototype.currentlyOnline=function(){return this.online_},kt);function kt(){var e=It.call(this,[\"online\"])||this;return e.online_=!0,\"undefined\"==typeof window||void 0===window.addEventListener||w()||(window.addEventListener(\"online\",function(){e.online_||(e.online_=!0,e.trigger(\"online\",!0))},!1),window.addEventListener(\"offline\",function(){e.online_&&(e.online_=!1,e.trigger(\"online\",!1))},!1)),e}var Pt=32,Nt=768,xt=(Rt.prototype.toString=function(){for(var e=\"\",t=this.pieceNum_;t<this.pieces_.length;t++)\"\"!==this.pieces_[t]&&(e+=\"/\"+this.pieces_[t]);return e||\"/\"},Rt);function Rt(e,t){if(void 0===t){this.pieces_=e.split(\"/\");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}function Dt(){return new xt(\"\")}function Ot(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function At(e){return e.pieces_.length-e.pieceNum_}function Lt(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new xt(e.pieces_,t)}function Mt(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ft(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function qt(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new xt(t,0)}function Wt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof xt)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split(\"/\"),r=0;r<i.length;r++)0<i[r].length&&n.push(i[r]);return new xt(n,0)}function jt(e){return e.pieceNum_>=e.pieces_.length}function Ut(e,t){var n=Ot(e),r=Ot(t);if(null===n)return t;if(n===r)return Ut(Lt(e),Lt(t));throw new Error(\"INTERNAL ERROR: innerPath (\"+t+\") is not within outerPath (\"+e+\")\")}function Bt(e,t){for(var n=Ft(e,0),r=Ft(t,0),i=0;i<n.length&&i<r.length;i++){var o=Oe(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Vt(e,t){if(At(e)!==At(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function zt(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(At(e)>At(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ht=function(e,t){this.errorPrefix_=t,this.parts_=Ft(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=V(this.parts_[n]);Qt(this)};function Qt(e){if(e.byteLength_>Nt)throw new Error(e.errorPrefix_+\"has a key path longer than \"+Nt+\" bytes (\"+e.byteLength_+\").\");if(e.parts_.length>Pt)throw new Error(e.errorPrefix_+\"path specified exceeds the maximum depth that can be written (\"+Pt+\") or object contains a cycle \"+Yt(e))}function Yt(e){return 0===e.parts_.length?\"\":\"in property '\"+e.parts_.join(\".\")+\"'\"}var Kt,Gt=(n($t,Kt=Tt),$t.getInstance=function(){return new $t},$t.prototype.getInitialEvent=function(e){return g(\"visible\"===e,\"Unknown event type: \"+e),[this.visible_]},$t);function $t(){var t,e,n=Kt.call(this,[\"visible\"])||this;return\"undefined\"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e=\"visibilitychange\",t=\"hidden\"):void 0!==document.mozHidden?(e=\"mozvisibilitychange\",t=\"mozHidden\"):void 0!==document.msHidden?(e=\"msvisibilitychange\",t=\"msHidden\"):void 0!==document.webkitHidden&&(e=\"webkitvisibilitychange\",t=\"webkitHidden\")),n.visible_=!0,e&&document.addEventListener(e,function(){var e=!document[t];e!==n.visible_&&(n.visible_=e,n.trigger(\"visible\",e))},!1),n}var Jt,Xt=1e3,Zt=3e5,en=(n(tn,Jt=Ct),tn.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,t={r:r,a:e,b:t};this.log_(x(t)),g(this.connected_,\"sendRequest call when we're not connected not allowed.\"),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)},tn.prototype.get=function(e){var n=this;this.initConnection_();var r=new f,i={p:e._path.toString(),q:e._queryObject},t={action:\"g\",request:i,onComplete:function(e){var t=e.d;\"ok\"===e.s?(n.onDataUpdate_(i.p,t,!1,null),r.resolve(t)):r.reject(t)}};this.outstandingGets_.push(t),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=n.outstandingGets_[o];void 0!==e&&t===e&&(delete n.outstandingGets_[o],n.outstandingGetCount_--,0===n.outstandingGetCount_&&(n.outstandingGets_=[]),n.log_(\"get \"+o+\" timed out on connection\"),r.reject(new Error(\"Client is offline.\")))},3e3),this.connected_&&this.sendGet_(o),r.promise},tn.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_(\"Listen called for \"+o+\" \"+i),this.listens.has(o)||this.listens.set(o,new Map),g(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),\"listen() called for non-default but complete query\"),g(!this.listens.get(o).has(i),\"listen() called twice for same path/queryId.\");n={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},tn.prototype.sendGet_=function(t){var n=this,r=this.outstandingGets_[t];this.sendRequest(\"g\",r.request,function(e){delete n.outstandingGets_[t],n.outstandingGetCount_--,0===n.outstandingGetCount_&&(n.outstandingGets_=[]),r.onComplete&&r.onComplete(e)})},tn.prototype.sendListen_=function(r){var i=this,o=r.query,a=o._path.toString(),s=o._queryIdentifier;this.log_(\"Listen on \"+a+\" for \"+s);var e={p:a};r.tag&&(e.q=o._queryObject,e.t=r.tag),e.h=r.hashFn(),this.sendRequest(\"q\",e,function(e){var t=e.d,n=e.s;tn.warnOnListenWarnings_(t,o),(i.listens.get(a)&&i.listens.get(a).get(s))===r&&(i.log_(\"listen response\",e),\"ok\"!==n&&i.removeListen_(a,s),r.onComplete&&r.onComplete(n,t))})},tn.warnOnListenWarnings_=function(e,t){e&&\"object\"==typeof e&&D(e,\"w\")&&(e=O(e,\"w\"),Array.isArray(e)&&~e.indexOf(\"no_index\")&&(e='\".indexOn\": \"'+t._queryParams.getIndex().toString()+'\"',t=t._path.toString(),xe(\"Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding \"+e+\" at \"+t+\" to your security rules for better performance.\")))},tn.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_(\"Auth token refreshed\"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest(\"unauth\",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},tn.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||function(e){e=R(e).claims;return\"object\"==typeof e&&!0===e.admin}(e))&&(this.log_(\"Admin auth credential detected.  Reducing max reconnect time.\"),this.maxReconnectDelay_=3e4)},tn.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_(\"App check token refreshed\"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest(\"unappeck\",{},function(){})},tn.prototype.tryAuth=function(){var n,e,t,r=this;this.connected_&&this.authToken_&&(e=function(e){e=R(e).claims;return!!e&&\"object\"==typeof e&&e.hasOwnProperty(\"iat\")}(n=this.authToken_)?\"auth\":\"gauth\",t={cred:n},null===this.authOverride_?t.noauth=!0:\"object\"==typeof this.authOverride_&&(t.authvar=this.authOverride_),this.sendRequest(e,t,function(e){var t=e.s,e=e.d||\"error\";r.authToken_===n&&(\"ok\"===t?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(t,e))}))},tn.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest(\"appcheck\",{token:this.appCheckToken_},function(e){var t=e.s,e=e.d||\"error\";\"ok\"===t?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(t,e)})},tn.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_(\"Unlisten called for \"+n+\" \"+r),g(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),\"unlisten() called for non-default but complete query\"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},tn.prototype.sendUnlisten_=function(e,t,n,r){this.log_(\"Unlisten on \"+e+\" for \"+t);e={p:e};r&&(e.q=n,e.t=r),this.sendRequest(\"n\",e)},tn.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_(\"o\",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:\"o\",data:t,onComplete:n})},tn.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_(\"om\",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:\"om\",data:t,onComplete:n})},tn.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_(\"oc\",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:\"oc\",data:null,onComplete:t})},tn.prototype.sendOnDisconnect_=function(e,t,n,r){n={p:t,d:n};this.log_(\"onDisconnect \"+e,n),this.sendRequest(e,n,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},tn.prototype.put=function(e,t,n,r){this.putInternal(\"p\",e,t,n,r)},tn.prototype.merge=function(e,t,n,r){this.putInternal(\"m\",e,t,n,r)},tn.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();n={p:t,d:n};void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:e,request:n,onComplete:r}),this.outstandingPutCount_++;r=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(r):this.log_(\"Buffering put: \"+t)},tn.prototype.sendPut_=function(t){var n=this,r=this.outstandingPuts_[t].action,e=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,e,function(e){n.log_(r+\" response\",e),delete n.outstandingPuts_[t],n.outstandingPutCount_--,0===n.outstandingPutCount_&&(n.outstandingPuts_=[]),i&&i(e.s,e.d)})},tn.prototype.reportStats=function(e){var t=this;this.connected_&&(e={c:e},this.log_(\"reportStats\",e),this.sendRequest(\"s\",e,function(e){\"ok\"!==e.s&&(e=e.d,t.log_(\"reportStats\",\"Error sending stats: \"+e))}))},tn.prototype.onDataMessage_=function(e){if(\"r\"in e){this.log_(\"from server: \"+x(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if(\"error\"in e)throw\"A server-side error has occurred: \"+e.error;\"a\"in e&&this.onDataPush_(e.a,e.b)}},tn.prototype.onDataPush_=function(e,t){this.log_(\"handleServerMessage\",e,t),\"d\"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):\"m\"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):\"c\"===e?this.onListenRevoked_(t.p,t.q):\"ac\"===e?this.onAuthRevoked_(t.s,t.d):\"apc\"===e?this.onAppCheckRevoked_(t.s,t.d):\"sd\"===e?this.onSecurityDebugPacket_(t):de(\"Unrecognized action received from server: \"+x(e)+\"\\nAre you using the latest client?\")},tn.prototype.onReady_=function(e,t){this.log_(\"connection ready\"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},tn.prototype.scheduleConnect_=function(e){var t=this;g(!this.realtime_,\"Scheduling a connect when we're already connected/ing?\"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},tn.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},tn.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_(\"Window became visible.  Reducing delay.\"),this.reconnectDelay_=Xt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},tn.prototype.onOnline_=function(e){e?(this.log_(\"Browser went online.\"),this.reconnectDelay_=Xt,this.realtime_||this.scheduleConnect_(0)):(this.log_(\"Browser went offline.  Killing connection.\"),this.realtime_&&this.realtime_.close())},tn.prototype.onRealtimeDisconnect_=function(){var e;this.log_(\"data client disconnected\"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=Xt),this.lastConnectionEstablishedTime_=null):(this.log_(\"Window isn't visible.  Delaying reconnect.\"),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e=Math.random()*e,this.log_(\"Trying to reconnect in \"+e+\"ms\"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},tn.prototype.establishConnection_=function(){return i(this,void 0,void 0,function(){var t,n,r,i,o,a,s,u,l,h,c=this;return p(this,function(e){switch(e.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_(\"Making a connection attempt\"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+\":\"+tn.nextConnectionId_++,h=this.lastSessionId,o=!1,a=null,s=function(){a?a.close():(o=!0,r())},l=function(e){g(a,\"sendRequest call when we're not connected not allowed.\"),a.sendRequest(e)},this.realtime_={close:s,sendRequest:l},u=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)])];case 2:return l=y.apply(void 0,[e.sent(),2]),u=l[0],l=l[1],o?ke(\"getToken() completed but was canceled\"):(ke(\"getToken() completed. Creating connection.\"),this.authToken_=u&&u.accessToken,this.appCheckToken_=l&&l.token,a=new mt(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(e){xe(e+\" (\"+c.repoInfo_.toString()+\")\"),c.interrupt(\"server_kill\")},h)),[3,4];case 3:return h=e.sent(),this.log_(\"Failed to get token: \"+h),o||(this.repoInfo_.nodeAdmin&&xe(h),s()),[3,4];case 4:return[2]}})})},tn.prototype.interrupt=function(e){ke(\"Interrupting connection for reason: \"+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},tn.prototype.resume=function(e){ke(\"Resuming connection for reason: \"+e),delete this.interruptReasons_[e],A(this.interruptReasons_)&&(this.reconnectDelay_=Xt,this.realtime_||this.scheduleConnect_(0))},tn.prototype.handleTimestamp_=function(e){e-=(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},tn.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&\"h\"in t.request&&t.queued&&(t.onComplete&&t.onComplete(\"disconnect\"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},tn.prototype.onListenRevoked_=function(e,t){t=t?t.map(function(e){return Ae(e)}).join(\"$\"):\"default\",t=this.removeListen_(e,t);t&&t.onComplete&&t.onComplete(\"permission_denied\")},tn.prototype.removeListen_=function(e,t){var n,r=new xt(e).toString();return this.listens.has(r)?(n=(e=this.listens.get(r)).get(t),e.delete(t),0===e.size&&this.listens.delete(r)):n=void 0,n},tn.prototype.onAuthRevoked_=function(e,t){ke(\"Auth token revoked: \"+e+\"/\"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),\"invalid_token\"!==e&&\"permission_denied\"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},tn.prototype.onAppCheckRevoked_=function(e,t){ke(\"App check token revoked: \"+e+\"/\"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,\"invalid_token\"!==e&&\"permission_denied\"!==e||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())},tn.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):\"msg\"in e&&console.log(\"FIREBASE: \"+e.msg.replace(\"\\n\",\"\\nFIREBASE: \"))},tn.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=_(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,_(a.values())),u=s.next();!u.done;u=s.next()){var l=u.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var c=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(c.action,c.pathString,c.data,c.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},tn.prototype.sendConnectStats_=function(){var e={};e[\"sdk.js.\"+oe.replace(/\\./g,\"-\")]=1,w()?e[\"framework.cordova\"]=1:\"object\"==typeof navigator&&\"ReactNative\"===navigator.product&&(e[\"framework.reactnative\"]=1),this.reportStats(e)},tn.prototype.shouldReconnect_=function(){var e=St.getInstance().currentlyOnline();return A(this.interruptReasons_)&&e},tn.nextPersistentConnectionId_=0,tn.nextConnectionId_=0,tn);function tn(e,t,n,r,i,o,a,s){var u=Jt.call(this)||this;if(u.repoInfo_=e,u.applicationId_=t,u.onDataUpdate_=n,u.onConnectStatus_=r,u.onServerInfoUpdate_=i,u.authTokenProvider_=o,u.appCheckTokenProvider_=a,u.authOverride_=s,u.id=tn.nextPersistentConnectionId_++,u.log_=Pe(\"p:\"+u.id+\":\"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Xt,u.maxReconnectDelay_=Zt,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.appCheckToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.invalidAppCheckTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!C())throw new Error(\"Auth override specified in options, but not supported on non Node.js platforms\");return Gt.getInstance().on(\"visible\",u.onVisible_,u),-1===e.host.indexOf(\"fblocal\")&&St.getInstance().on(\"online\",u.onOnline_,u),u}var nn=(rn.Wrap=function(e,t){return new rn(e,t)},rn);function rn(e,t){this.name=e,this.node=t}var on,me=(an.prototype.getCompare=function(){return this.compare.bind(this)},an.prototype.indexedValueChanged=function(e,t){e=new nn(Re,e),t=new nn(Re,t);return 0!==this.compare(e,t)},an.prototype.minPost=function(){return nn.MIN},an);function an(){}var sn,re=(n(un,sn=me),Object.defineProperty(un,\"__EMPTY_NODE\",{get:function(){return on},set:function(e){on=e},enumerable:!1,configurable:!0}),un.prototype.compare=function(e,t){return Oe(e.name,t.name)},un.prototype.isDefinedOn=function(e){throw m(\"KeyIndex.isDefinedOn not expected to be called.\")},un.prototype.indexedValueChanged=function(e,t){return!1},un.prototype.minPost=function(){return nn.MIN},un.prototype.maxPost=function(){return new nn(De,on)},un.prototype.makePost=function(e,t){return g(\"string\"==typeof e,\"KeyIndex indexValue must always be a string.\"),new nn(e,on)},un.prototype.toString=function(){return\".key\"},un);function un(){return null!==sn&&sn.apply(this,arguments)||this}var ln=new re,hn=(cn.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value};if(this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},cn.prototype.hasNext=function(){return 0<this.nodeStack_.length},cn.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},cn);function cn(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var pn=(dn.prototype.copy=function(e,t,n,r,i){return new dn(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},dn.prototype.count=function(){return this.left.count()+1+this.right.count()},dn.prototype.isEmpty=function(){return!1},dn.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},dn.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},dn.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},dn.prototype.minKey=function(){return this.min_().key},dn.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},dn.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},dn.prototype.removeMin_=function(){if(this.left.isEmpty())return yn.EMPTY_NODE;var e=this;return(e=(e=!e.left.isRed_()&&!e.left.left.isRed_()?e.moveRedLeft_():e).copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},dn.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=!(r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_())?r.moveRedLeft_():r).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=!((r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_())?r.moveRedRight_():r).key)){if(r.right.isEmpty())return yn.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},dn.prototype.isRed_=function(){return this.color},dn.prototype.fixUp_=function(){var e=this;return e=(e=(e=e.right.isRed_()&&!e.left.isRed_()?e.rotateLeft_():e).left.isRed_()&&e.left.left.isRed_()?e.rotateRight_():e).left.isRed_()&&e.right.isRed_()?e.colorFlip_():e},dn.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e=e.right.left.isRed_()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_():e},dn.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e=e.left.left.isRed_()?(e=e.rotateRight_()).colorFlip_():e},dn.prototype.rotateLeft_=function(){var e=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},dn.prototype.rotateRight_=function(){var e=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},dn.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},dn.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},dn.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error(\"Red node has red child(\"+this.key+\",\"+this.value+\")\");if(this.right.isRed_())throw new Error(\"Right child of (\"+this.key+\",\"+this.value+\") is red\");var e=this.left.check_();if(e!==this.right.check_())throw new Error(\"Black depths differ\");return e+(this.isRed_()?0:1)},dn.RED=!0,dn.BLACK=!1,dn);function dn(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:dn.RED,this.left=null!=r?r:yn.EMPTY_NODE,this.right=null!=i?i:yn.EMPTY_NODE}fn.prototype.copy=function(e,t,n,r,i){return this},fn.prototype.insert=function(e,t,n){return new pn(e,t,null)},fn.prototype.remove=function(e,t){return this},fn.prototype.count=function(){return 0},fn.prototype.isEmpty=function(){return!0},fn.prototype.inorderTraversal=function(e){return!1},fn.prototype.reverseTraversal=function(e){return!1},fn.prototype.minKey=function(){return null},fn.prototype.maxKey=function(){return null},fn.prototype.check_=function(){return 0},fn.prototype.isRed_=function(){return!1},Tt=fn;function fn(){}var _n,yn=(vn.prototype.insert=function(e,t){return new vn(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,pn.BLACK,null,null))},vn.prototype.remove=function(e){return new vn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pn.BLACK,null,null))},vn.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},vn.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error(\"Attempted to find predecessor key for a nonexistent key.  What gives?\")},vn.prototype.isEmpty=function(){return this.root_.isEmpty()},vn.prototype.count=function(){return this.root_.count()},vn.prototype.minKey=function(){return this.root_.minKey()},vn.prototype.maxKey=function(){return this.root_.maxKey()},vn.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},vn.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},vn.prototype.getIterator=function(e){return new hn(this.root_,null,this.comparator_,!1,e)},vn.prototype.getIteratorFrom=function(e,t){return new hn(this.root_,e,this.comparator_,!1,t)},vn.prototype.getReverseIteratorFrom=function(e,t){return new hn(this.root_,e,this.comparator_,!0,t)},vn.prototype.getReverseIterator=function(e){return new hn(this.root_,null,this.comparator_,!0,e)},vn.EMPTY_NODE=new Tt,vn);function vn(e,t){void 0===t&&(t=vn.EMPTY_NODE),this.comparator_=e,this.root_=t}function gn(e,t){return Oe(e.name,t.name)}function mn(e,t){return Oe(e,t)}function wn(e){return\"number\"==typeof e?\"number:\"+Me(e):\"string:\"+e}var Cn,bn,Tn,En,In=function(e){var t;e.isLeafNode()?(t=e.val(),g(\"string\"==typeof t||\"number\"==typeof t||\"object\"==typeof t&&D(t,\".sv\"),\"Priority must be a string or number.\")):g(e===_n||e.isEmpty(),\"priority of unexpected type.\"),g(e===_n||e.getPriority().isEmpty(),\"Priority nodes can't have a priority of their own.\")},Sn=(Object.defineProperty(kn,\"__childrenNodeConstructor\",{get:function(){return Cn},set:function(e){Cn=e},enumerable:!1,configurable:!0}),kn.prototype.isLeafNode=function(){return!0},kn.prototype.getPriority=function(){return this.priorityNode_},kn.prototype.updatePriority=function(e){return new kn(this.value_,e)},kn.prototype.getImmediateChild=function(e){return\".priority\"===e?this.priorityNode_:kn.__childrenNodeConstructor.EMPTY_NODE},kn.prototype.getChild=function(e){return jt(e)?this:\".priority\"===Ot(e)?this.priorityNode_:kn.__childrenNodeConstructor.EMPTY_NODE},kn.prototype.hasChild=function(){return!1},kn.prototype.getPredecessorChildName=function(e,t){return null},kn.prototype.updateImmediateChild=function(e,t){return\".priority\"===e?this.updatePriority(t):t.isEmpty()&&\".priority\"!==e?this:kn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},kn.prototype.updateChild=function(e,t){var n=Ot(e);return null===n?t:t.isEmpty()&&\".priority\"!==n?this:(g(\".priority\"!==n||1===At(e),\".priority must be the last token in a path\"),this.updateImmediateChild(n,kn.__childrenNodeConstructor.EMPTY_NODE.updateChild(Lt(e),t)))},kn.prototype.isEmpty=function(){return!1},kn.prototype.numChildren=function(){return 0},kn.prototype.forEachChild=function(e,t){return!1},kn.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{\".value\":this.getValue(),\".priority\":this.getPriority().val()}:this.getValue()},kn.prototype.hash=function(){var e,t;return null===this.lazyHash_&&(e=\"\",this.priorityNode_.isEmpty()||(e+=\"priority:\"+wn(this.priorityNode_.val())+\":\"),e+=(t=typeof this.value_)+\":\",e+=\"number\"==t?Me(this.value_):this.value_,this.lazyHash_=ce(e)),this.lazyHash_},kn.prototype.getValue=function(){return this.value_},kn.prototype.compareTo=function(e){return e===kn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof kn.__childrenNodeConstructor?-1:(g(e.isLeafNode(),\"Unknown node type\"),this.compareToLeafNode_(e))},kn.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=kn.VALUE_TYPE_ORDER.indexOf(t),i=kn.VALUE_TYPE_ORDER.indexOf(n);return g(0<=r,\"Unknown leaf type: \"+t),g(0<=i,\"Unknown leaf type: \"+n),r===i?\"object\"==n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r},kn.prototype.withIndex=function(){return this},kn.prototype.isIndexed=function(){return!0},kn.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))},kn.VALUE_TYPE_ORDER=[\"object\",\"boolean\",\"number\",\"string\"],kn);function kn(e,t){void 0===t&&(t=kn.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,g(void 0!==this.value_&&null!==this.value_,\"LeafNode shouldn't be created with null/undefined value.\"),In(this.priorityNode_)}function Pn(){return null!==En&&En.apply(this,arguments)||this}var Nn=new(n(Pn,En=me),Pn.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),r=n.compareTo(r);return 0===r?Oe(e.name,t.name):r},Pn.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},Pn.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},Pn.prototype.minPost=function(){return nn.MIN},Pn.prototype.maxPost=function(){return new nn(De,new Sn(\"[PRIORITY-POST]\",Tn))},Pn.prototype.makePost=function(e,t){e=bn(e);return new nn(t,new Sn(\"[PRIORITY-POST]\",e))},Pn.prototype.toString=function(){return\".priority\"},Pn),xn=Math.log(2),Rn=(Dn.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},Dn);function Dn(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/xn,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join(\"1\"),2));this.bits_=e+1&r}var On,An,Ln=function(l,e,h,t){l.sort(e);var c=function(e,t){var n=t-e;if(0==n)return null;if(1==n)return r=l[e],i=h?h(r):r,new pn(i,r.node,pn.BLACK,null,null);var n=parseInt(n/2,10)+e,e=c(e,n),t=c(n+1,t),r=l[n],i=h?h(r):r;return new pn(i,r.node,pn.BLACK,e,t)},n=function(e){for(var t=null,n=null,i=l.length,r=function(e,t){var n=i-e,r=i;i-=e;e=c(1+n,r),r=l[n],n=h?h(r):r;o(new pn(n,r.node,t,null,e))},o=function(e){t=t?t.left=e:n=e},a=0;a<e.count;++a){var s=e.nextBitIsOne(),u=Math.pow(2,e.count-(a+1));s?r(u,pn.BLACK):(r(u,pn.BLACK),r(u,pn.RED))}return n}(new Rn(l.length));return new yn(t||e,n)},Mn={},Fn=(Object.defineProperty(qn,\"Default\",{get:function(){return g(Nn,\"ChildrenNode.ts has not been loaded\"),On=On||new qn({\".priority\":Mn},{\".priority\":Nn})},enumerable:!1,configurable:!0}),qn.prototype.get=function(e){var t=O(this.indexes_,e);if(!t)throw new Error(\"No index defined for \"+e);return t instanceof yn?t:null},qn.prototype.hasIndex=function(e){return D(this.indexSet_,e.toString())},qn.prototype.addIndex=function(e,t){g(e!==ln,\"KeyIndex always exists and isn't meant to be added to the IndexMap.\");for(var n=[],r=!1,i=t.getIterator(nn.Wrap),o=i.getNext();o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();var a=r?Ln(n,e.getCompare()):Mn,s=e.toString(),u=l({},this.indexSet_);u[s]=e;t=l({},this.indexes_);return t[s]=a,new qn(t,u)},qn.prototype.addToIndexes=function(a,s){var u=this;return new qn(L(this.indexes_,function(e,t){var n=O(u.indexSet_,t);if(g(n,\"Missing index implementation for \"+t),e===Mn){if(n.isDefinedOn(a.node)){for(var r=[],i=s.getIterator(nn.Wrap),o=i.getNext();o;)o.name!==a.name&&r.push(o),o=i.getNext();return r.push(a),Ln(r,n.getCompare())}return Mn}n=s.get(a.name);return(e=n?e.remove(new nn(a.name,n)):e).insert(a,a.node)}),this.indexSet_)},qn.prototype.removeFromIndexes=function(n,r){return new qn(L(this.indexes_,function(e){if(e===Mn)return e;var t=r.get(n.name);return t?e.remove(new nn(n.name,t)):e}),this.indexSet_)},qn);function qn(e,t){this.indexes_=e,this.indexSet_=t}var Wn,jn=(Object.defineProperty(Un,\"EMPTY_NODE\",{get:function(){return An=An||new Un(new yn(mn),null,Fn.Default)},enumerable:!1,configurable:!0}),Un.prototype.isLeafNode=function(){return!1},Un.prototype.getPriority=function(){return this.priorityNode_||An},Un.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new Un(this.children_,e,this.indexMap_)},Un.prototype.getImmediateChild=function(e){if(\".priority\"===e)return this.getPriority();e=this.children_.get(e);return null===e?An:e},Un.prototype.getChild=function(e){var t=Ot(e);return null===t?this:this.getImmediateChild(t).getChild(Lt(e))},Un.prototype.hasChild=function(e){return null!==this.children_.get(e)},Un.prototype.updateImmediateChild=function(e,t){if(g(t,\"We should always be passing snapshot nodes\"),\".priority\"===e)return this.updatePriority(t);var n=new nn(e,t),r=void 0,i=void 0,i=t.isEmpty()?(r=this.children_.remove(e),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?An:this.priorityNode_;return new Un(r,n,i)},Un.prototype.updateChild=function(e,t){var n=Ot(e);if(null===n)return t;g(\".priority\"!==Ot(e)||1===At(e),\".priority must be the last token in a path\");t=this.getImmediateChild(n).updateChild(Lt(e),t);return this.updateImmediateChild(n,t)},Un.prototype.isEmpty=function(){return this.children_.isEmpty()},Un.prototype.numChildren=function(){return this.children_.count()},Un.prototype.val=function(n){if(this.isEmpty())return null;var r={},i=0,o=0,a=!0;if(this.forEachChild(Nn,function(e,t){r[e]=t.val(n),i++,a&&Un.INTEGER_REGEXP_.test(e)?o=Math.max(o,Number(e)):a=!1}),!n&&a&&o<2*i){var e,t=[];for(e in r)t[e]=r[e];return t}return n&&!this.getPriority().isEmpty()&&(r[\".priority\"]=this.getPriority().val()),r},Un.prototype.hash=function(){var n;return null===this.lazyHash_&&(n=\"\",this.getPriority().isEmpty()||(n+=\"priority:\"+wn(this.getPriority().val())+\":\"),this.forEachChild(Nn,function(e,t){t=t.hash();\"\"!==t&&(n+=\":\"+e+\":\"+t)}),this.lazyHash_=\"\"===n?\"\":ce(n)),this.lazyHash_},Un.prototype.getPredecessorChildName=function(e,t,n){n=this.resolveIndex_(n);if(n){t=n.getPredecessorKey(new nn(e,t));return t?t.name:null}return this.children_.getPredecessorKey(e)},Un.prototype.getFirstChildName=function(e){e=this.resolveIndex_(e);if(e){e=e.minKey();return e&&e.name}return this.children_.minKey()},Un.prototype.getFirstChild=function(e){e=this.getFirstChildName(e);return e?new nn(e,this.children_.get(e)):null},Un.prototype.getLastChildName=function(e){e=this.resolveIndex_(e);if(e){e=e.maxKey();return e&&e.name}return this.children_.maxKey()},Un.prototype.getLastChild=function(e){e=this.getLastChildName(e);return e?new nn(e,this.children_.get(e)):null},Un.prototype.forEachChild=function(e,t){e=this.resolveIndex_(e);return e?e.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},Un.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},Un.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,nn.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},Un.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},Un.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,nn.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},Un.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vn?-1:0},Un.prototype.withIndex=function(e){if(e===ln||this.indexMap_.hasIndex(e))return this;e=this.indexMap_.addIndex(e,this.children_);return new Un(this.children_,this.priorityNode_,e)},Un.prototype.isIndexed=function(e){return e===ln||this.indexMap_.hasIndex(e)},Un.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(Nn),n=e.getIterator(Nn),r=t.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1},Un.prototype.resolveIndex_=function(e){return e===ln?null:this.indexMap_.get(e.toString())},Un.INTEGER_REGEXP_=/^(0|[1-9]\\d*)$/,Un);function Un(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&In(this.priorityNode_),this.children_.isEmpty()&&g(!this.priorityNode_||this.priorityNode_.isEmpty(),\"An empty node cannot have a priority\")}function Bn(){return Wn.call(this,new yn(mn),jn.EMPTY_NODE,Fn.Default)||this}var Vn=new(n(Bn,Wn=jn),Bn.prototype.compareTo=function(e){return e===this?0:1},Bn.prototype.equals=function(e){return e===this},Bn.prototype.getPriority=function(){return this},Bn.prototype.getImmediateChild=function(e){return jn.EMPTY_NODE},Bn.prototype.isEmpty=function(){return!1},Bn);Object.defineProperties(nn,{MIN:{value:new nn(Re,jn.EMPTY_NODE)},MAX:{value:new nn(De,Vn)}}),re.__EMPTY_NODE=jn.EMPTY_NODE,Sn.__childrenNodeConstructor=jn,_n=Vn,Tn=Vn;var zn=!0;function Hn(n,e){if(void 0===e&&(e=null),null===n)return jn.EMPTY_NODE;if(\"object\"==typeof n&&\".priority\"in n&&(e=n[\".priority\"]),g(null===e||\"string\"==typeof e||\"number\"==typeof e||\"object\"==typeof e&&\".sv\"in e,\"Invalid priority type found: \"+typeof e),\"object\"==typeof n&&\".value\"in n&&null!==n[\".value\"]&&(n=n[\".value\"]),\"object\"!=typeof n||\".sv\"in n)return new Sn(n,Hn(e));if(n instanceof Array||!zn){var r=jn.EMPTY_NODE;return Le(n,function(e,t){D(n,e)&&\".\"!==e.substring(0,1)&&(!(t=Hn(t)).isLeafNode()&&t.isEmpty()||(r=r.updateImmediateChild(e,t)))}),r.updatePriority(Hn(e))}var i=[],o=!1;if(Le(n,function(e,t){\".\"!==e.substring(0,1)&&((t=Hn(t)).isEmpty()||(o=o||!t.getPriority().isEmpty(),i.push(new nn(e,t))))}),0===i.length)return jn.EMPTY_NODE;var t=Ln(i,gn,function(e){return e.name},mn);if(o){var a=Ln(i,Nn.getCompare());return new jn(t,Hn(e),new Fn({\".priority\":a},{\".priority\":Nn}))}return new jn(t,Hn(e),Fn.Default)}bn=Hn;var Qn,Yn,Kn=(n(Gn,Qn=me),Gn.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},Gn.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},Gn.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),r=n.compareTo(r);return 0===r?Oe(e.name,t.name):r},Gn.prototype.makePost=function(e,t){e=Hn(e),e=jn.EMPTY_NODE.updateChild(this.indexPath_,e);return new nn(t,e)},Gn.prototype.maxPost=function(){var e=jn.EMPTY_NODE.updateChild(this.indexPath_,Vn);return new nn(De,e)},Gn.prototype.toString=function(){return Ft(this.indexPath_,0).join(\"/\")},Gn);function Gn(e){var t=Qn.call(this)||this;return t.indexPath_=e,g(!jt(e)&&\".priority\"!==Ot(e),\"Can't create PathIndex with empty path or .priority key\"),t}function $n(){return null!==Yn&&Yn.apply(this,arguments)||this}function Jn(e){if(e===\"\"+je)return\"-\";var t=Ue(e);if(null!=t)return\"\"+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push(\"-\"),n.join(\"\");for(var i=n.length-1;0<=i&&\"z\"===n[i];)i--;return-1===i?De:(t=n[i],t=nr.charAt(nr.indexOf(t)+1),n[i]=t,n.slice(0,i+1).join(\"\"))}function Xn(e){if(e===\"\"+We)return Re;var t=Ue(e);if(null!=t)return\"\"+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return\"-\"===n[n.length-1]?1===n.length?\"\"+je:(delete n[n.length-1],n.join(\"\")):(n[n.length-1]=nr.charAt(nr.indexOf(n[n.length-1])-1),n.join(\"\")+\"z\".repeat(786-n.length))}var Zn,er,tr=new(n($n,Yn=me),$n.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Oe(e.name,t.name):n},$n.prototype.isDefinedOn=function(e){return!0},$n.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},$n.prototype.minPost=function(){return nn.MIN},$n.prototype.maxPost=function(){return nn.MAX},$n.prototype.makePost=function(e,t){e=Hn(e);return new nn(t,e)},$n.prototype.toString=function(){return\".value\"},$n),nr=\"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\",rr=(Zn=0,er=[],function(e){var t=e===Zn;Zn=e;for(var n=new Array(8),r=7;0<=r;r--)n[r]=nr.charAt(e%64),e=Math.floor(e/64);g(0===e,\"Cannot push at time == 0\");var i=n.join(\"\");if(t){for(r=11;0<=r&&63===er[r];r--)er[r]=0;er[r]++}else for(r=0;r<12;r++)er[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=nr.charAt(er[r]);return g(20===i.length,\"nextPushId: Length should be 20.\"),i});function ir(e){return{type:\"value\",snapshotNode:e}}function or(e,t){return{type:\"child_added\",snapshotNode:t,childName:e}}function ar(e,t){return{type:\"child_removed\",snapshotNode:t,childName:e}}function sr(e,t,n){return{type:\"child_changed\",snapshotNode:t,childName:e,oldSnap:n}}var ur=(lr.prototype.updateChild=function(e,t,n,r,i,o){g(e.isIndexed(this.index_),\"A node must be indexed if only a child is updated\");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(ar(t,a)):g(e.isLeafNode(),\"A child remove without an old child only makes sense on a leaf node\"):a.isEmpty()?o.trackChildChange(or(t,n)):o.trackChildChange(sr(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},lr.prototype.updateFullNode=function(r,n,i){return null!=i&&(r.isLeafNode()||r.forEachChild(Nn,function(e,t){n.hasChild(e)||i.trackChildChange(ar(e,t))}),n.isLeafNode()||n.forEachChild(Nn,function(e,t){var n;r.hasChild(e)?(n=r.getImmediateChild(e)).equals(t)||i.trackChildChange(sr(e,t,n)):i.trackChildChange(or(e,t))})),n.withIndex(this.index_)},lr.prototype.updatePriority=function(e,t){return e.isEmpty()?jn.EMPTY_NODE:e.updatePriority(t)},lr.prototype.filtersNodes=function(){return!1},lr.prototype.getIndexedFilter=function(){return this},lr.prototype.getIndex=function(){return this.index_},lr);function lr(e){this.index_=e}var hr=(cr.prototype.getStartPost=function(){return this.startPost_},cr.prototype.getEndPost=function(){return this.endPost_},cr.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},cr.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new nn(t,n))||(n=jn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},cr.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=jn.EMPTY_NODE);var r=(r=t.withIndex(this.index_)).updatePriority(jn.EMPTY_NODE),i=this;return t.forEachChild(Nn,function(e,t){i.matches(new nn(e,t))||(r=r.updateImmediateChild(e,jn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},cr.prototype.updatePriority=function(e,t){return e},cr.prototype.filtersNodes=function(){return!0},cr.prototype.getIndexedFilter=function(){return this.indexedFilter_},cr.prototype.getIndex=function(){return this.index_},cr.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},cr.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},cr);function cr(e){this.indexedFilter_=new ur(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cr.getStartPost_(e),this.endPost_=cr.getEndPost_(e)}var pr=(dr.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new nn(t,n))||(n=jn.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},dr.prototype.updateFullNode=function(e,t,n){if(t.isLeafNode()||t.isEmpty())r=jn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var r=jn.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(jn.EMPTY_NODE);var s,u=void 0,l=void 0,h=void 0,i=void 0;h=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(e,t){return s(t,e)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),this.index_.getCompare());for(var o=0,c=!1;i.hasNext();){a=i.getNext();(c=!c&&h(u,a)<=0?!0:c)&&o<this.limit_&&h(a,l)<=0?o++:r=r.updateImmediateChild(a.name,jn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},dr.prototype.updatePriority=function(e,t){return e},dr.prototype.filtersNodes=function(){return!0},dr.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},dr.prototype.getIndex=function(){return this.index_},dr.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(e,t){return o(t,e)}):this.index_.getCompare();var s=e;g(s.numChildren()===this.limit_,\"\");var u=new nn(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var c=s.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===t||s.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,u);if(h&&!n.isEmpty()&&0<=d)return null!=i&&i.trackChildChange(sr(t,n,c)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(ar(t,c));c=s.updateImmediateChild(t,jn.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(or(p.name,p.node)),c.updateImmediateChild(p.name,p.node)):c}return!n.isEmpty()&&h&&0<=a(l,u)?(null!=i&&(i.trackChildChange(ar(l.name,l.node)),i.trackChildChange(or(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,jn.EMPTY_NODE)):e},dr);function dr(e){this.rangedFilter_=new hr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var fr=(_r.prototype.hasStart=function(){return this.startSet_},_r.prototype.hasStartAfter=function(){return this.startAfterSet_},_r.prototype.hasEndBefore=function(){return this.endBeforeSet_},_r.prototype.isViewFromLeft=function(){return\"\"===this.viewFrom_?this.startSet_:\"l\"===this.viewFrom_},_r.prototype.getIndexStartValue=function(){return g(this.startSet_,\"Only valid if start has been set\"),this.indexStartValue_},_r.prototype.getIndexStartName=function(){return g(this.startSet_,\"Only valid if start has been set\"),this.startNameSet_?this.indexStartName_:Re},_r.prototype.hasEnd=function(){return this.endSet_},_r.prototype.getIndexEndValue=function(){return g(this.endSet_,\"Only valid if end has been set\"),this.indexEndValue_},_r.prototype.getIndexEndName=function(){return g(this.endSet_,\"Only valid if end has been set\"),this.endNameSet_?this.indexEndName_:De},_r.prototype.hasLimit=function(){return this.limitSet_},_r.prototype.hasAnchoredLimit=function(){return this.limitSet_&&\"\"!==this.viewFrom_},_r.prototype.getLimit=function(){return g(this.limitSet_,\"Only valid if limit has been set\"),this.limit_},_r.prototype.getIndex=function(){return this.index_},_r.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},_r.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Nn},_r.prototype.copy=function(){var e=new _r;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},_r);function _r(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_=\"\",this.indexStartValue_=null,this.indexStartName_=\"\",this.indexEndValue_=null,this.indexEndName_=\"\",this.index_=Nn}function yr(e,t,n){e=e.copy();return e.startSet_=!0,void 0===t&&(t=null),e.indexStartValue_=t,null!=n?(e.startNameSet_=!0,e.indexStartName_=n):(e.startNameSet_=!1,e.indexStartName_=\"\"),e}function vr(e,t,n){e=e.copy();return e.endSet_=!0,void 0===t&&(t=null),e.indexEndValue_=t,void 0!==n?(e.endNameSet_=!0,e.indexEndName_=n):(e.endNameSet_=!1,e.indexEndName_=\"\"),e}function gr(e,t){e=e.copy();return e.index_=t,e}function mr(e){var t,n={};return e.isDefault()||(t=e.index_===Nn?\"$priority\":e.index_===tr?\"$value\":e.index_===ln?\"$key\":(g(e.index_ instanceof Kn,\"Unrecognized index type!\"),e.index_.toString()),n.orderBy=x(t),e.startSet_&&(n.startAt=x(e.indexStartValue_),e.startNameSet_&&(n.startAt+=\",\"+x(e.indexStartName_))),e.endSet_&&(n.endAt=x(e.indexEndValue_),e.endNameSet_&&(n.endAt+=\",\"+x(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function wr(e){var t,n={};return e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_&&(n.l=e.limit_,\"\"===(t=e.viewFrom_)&&(t=e.isViewFromLeft()?\"l\":\"r\"),n.vf=t),e.index_!==Nn&&(n.i=e.index_.toString()),n}var Cr,br=(n(Tr,Cr=Ct),Tr.prototype.reportStats=function(e){throw new Error(\"Method not implemented.\")},Tr.getListenId_=function(e,t){return void 0!==t?\"tag$\"+t:(g(e._queryParams.isDefault(),\"should have a tag if it's not a default query.\"),e._path.toString())},Tr.prototype.listen=function(e,t,n,r){var i=this,o=e._path.toString();this.log_(\"Listen called for \"+o+\" \"+e._queryIdentifier);var a=Tr.getListenId_(e,n),s={};this.listens_[a]=s;e=mr(e._queryParams);this.restRequest_(o+\".json\",e,function(e,t){null===(e=404===e?t=null:e)&&i.onDataUpdate_(o,t,!1,n),O(i.listens_,a)===s&&r(e?401===e?\"permission_denied\":\"rest_error:\"+e:\"ok\",null)})},Tr.prototype.unlisten=function(e,t){t=Tr.getListenId_(e,t);delete this.listens_[t]},Tr.prototype.get=function(e){var n=this,t=mr(e._queryParams),r=e._path.toString(),i=new f;return this.restRequest_(r+\".json\",t,function(e,t){null===(e=404===e?t=null:e)?(n.onDataUpdate_(r,t,!1,null),i.resolve(t)):i.reject(new Error(t))}),i.promise},Tr.prototype.refreshAuthToken=function(e){},Tr.prototype.restRequest_=function(i,o,a){var s=this;return(o=void 0===o?{}:o).format=\"export\",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(e){var t=y(e,2),e=t[0],t=t[1];e&&e.accessToken&&(o.auth=e.accessToken),t&&t.token&&(o.ac=t.token);var n=(s.repoInfo_.secure?\"https://\":\"http://\")+s.repoInfo_.host+i+\"?ns=\"+s.repoInfo_.namespace+M(o);s.log_(\"Sending REST request for \"+n);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(a&&4===r.readyState){s.log_(\"REST Response for \"+n+\" received. status:\",r.status,\"response:\",r.responseText);var e=null;if(200<=r.status&&r.status<300){try{e=N(r.responseText)}catch(e){xe(\"Failed to parse JSON response for \"+n+\": \"+r.responseText)}a(null,e)}else 401!==r.status&&404!==r.status&&xe(\"Got unsuccessful REST response for \"+n+\" Status: \"+r.status),a(r.status);a=null}},r.open(\"GET\",n,!0),r.send()})},Tr);function Tr(e,t,n,r){var i=Cr.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=t,i.authTokenProvider_=n,i.appCheckTokenProvider_=r,i.log_=Pe(\"p:rest:\"),i.listens_={},i}var Er=(Ir.prototype.getNode=function(e){return this.rootNode_.getChild(e)},Ir.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},Ir);function Ir(){this.rootNode_=jn.EMPTY_NODE}function Sr(){return{value:null,children:new Map}}function kr(e,t,n){var r;jt(t)?(e.value=n,e.children.clear()):null!==e.value?e.value=e.value.updateChild(t,n):(r=Ot(t),e.children.has(r)||e.children.set(r,Sr()),kr(e.children.get(r),t=Lt(t),n))}function Pr(e,n,r){var i;null!==e.value?r(n,e.value):(i=function(e,t){Pr(t,new xt(n.toString()+\"/\"+e),r)},e.children.forEach(function(e,t){i(t,e)}))}var Nr=(xr.prototype.get=function(){var e=this.collection_.get(),n=l({},e);return this.last_&&Le(this.last_,function(e,t){n[e]=n[e]-t}),this.last_=e,n},xr);function xr(e){this.collection_=e,this.last_=null}var Rr,Dr=(Or.prototype.reportStats_=function(){var n=this,e=this.statsListener_.get(),r={},i=!1;Le(e,function(e,t){0<t&&D(n.statsToReport_,e)&&(r[e]=t,i=!0)}),i&&this.server_.reportStats(r),Fe(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},Or);function Or(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Nr(e);e=1e4+2e4*Math.random();Fe(this.reportStats_.bind(this),Math.floor(e))}function Ar(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mr(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(Ct=Rr=Rr||{})[Ct.OVERWRITE=0]=\"OVERWRITE\",Ct[Ct.MERGE=1]=\"MERGE\",Ct[Ct.ACK_USER_WRITE=2]=\"ACK_USER_WRITE\",Ct[Ct.LISTEN_COMPLETE=3]=\"LISTEN_COMPLETE\";var Fr=(qr.prototype.operationForChild=function(e){if(jt(this.path)){if(null!=this.affectedTree.value)return g(this.affectedTree.children.isEmpty(),\"affectedTree should not have overlapping affected paths.\"),this;var t=this.affectedTree.subtree(new xt(e));return new qr(Dt(),t,this.revert)}return g(Ot(this.path)===e,\"operationForChild called for unrelated child.\"),new qr(Lt(this.path),this.affectedTree,this.revert)},qr);function qr(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Rr.ACK_USER_WRITE,this.source=Ar()}var Wr=(jr.prototype.operationForChild=function(e){return jt(this.path)?new jr(this.source,Dt()):new jr(this.source,Lt(this.path))},jr);function jr(e,t){this.source=e,this.path=t,this.type=Rr.LISTEN_COMPLETE}var Ur=(Br.prototype.operationForChild=function(e){return jt(this.path)?new Br(this.source,Dt(),this.snap.getImmediateChild(e)):new Br(this.source,Lt(this.path),this.snap)},Br);function Br(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Rr.OVERWRITE}var Vr=(zr.prototype.operationForChild=function(e){if(jt(this.path)){var t=this.children.subtree(new xt(e));return t.isEmpty()?null:t.value?new Ur(this.source,Dt(),t.value):new zr(this.source,Dt(),t)}return g(Ot(this.path)===e,\"Can't get a merge for a child not on the path of the operation\"),new zr(this.source,Lt(this.path),this.children)},zr.prototype.toString=function(){return\"Operation(\"+this.path+\": \"+this.source.toString()+\" merge: \"+this.children.toString()+\")\"},zr);function zr(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Rr.MERGE}var Hr=(Qr.prototype.isFullyInitialized=function(){return this.fullyInitialized_},Qr.prototype.isFiltered=function(){return this.filtered_},Qr.prototype.isCompleteForPath=function(e){if(jt(e))return this.isFullyInitialized()&&!this.filtered_;e=Ot(e);return this.isCompleteForChild(e)},Qr.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},Qr.prototype.getNode=function(){return this.node_},Qr);function Qr(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var Yr,Kr=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Gr(n,e,t,r){var i=[],o=[];return e.forEach(function(e){var t;\"child_changed\"===e.type&&n.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((t=e.childName,{type:\"child_moved\",snapshotNode:e.snapshotNode,childName:t}))}),$r(n,i,\"child_removed\",e,r,t),$r(n,i,\"child_added\",e,r,t),$r(n,i,\"child_moved\",o,r,t),$r(n,i,\"child_changed\",e,r,t),$r(n,i,\"value\",e,r,t),i}function $r(o,a,t,e,s,u){e=e.filter(function(e){return e.type===t});e.sort(function(e,t){return function(e,t,n){if(null==t.childName||null==n.childName)throw m(\"Should only compare child_ events.\");t=new nn(t.childName,t.snapshotNode),n=new nn(n.childName,n.snapshotNode);return e.index_.compare(t,n)}(o,e,t)}),e.forEach(function(t){var e,n,r,i=(e=o,r=u,\"value\"===(n=t).type||\"child_removed\"===n.type||(n.prevName=r.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n);s.forEach(function(e){e.respondsTo(t.type)&&a.push(e.createEvent(i,o.query_))})})}function Jr(e,t){return{eventCache:e,serverCache:t}}function Xr(e,t,n,r){return Jr(new Hr(t,n,r),e.serverCache)}function Zr(e,t,n,r){return Jr(e.eventCache,new Hr(t,n,r))}function ei(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ti(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ni=(ri.fromObject=function(e){var n=new ri(null);return Le(e,function(e,t){n=n.set(new xt(e),t)}),n},ri.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},ri.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:Dt(),value:this.value};if(jt(e))return null;var n=Ot(e),r=this.children.get(n);if(null===r)return null;t=r.findRootMostMatchingPathAndValue(Lt(e),t);return null==t?null:{path:Wt(new xt(n),t.path),value:t.value}},ri.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},ri.prototype.subtree=function(e){if(jt(e))return this;var t=Ot(e),t=this.children.get(t);return null!==t?t.subtree(Lt(e)):new ri(null)},ri.prototype.set=function(e,t){if(jt(e))return new ri(t,this.children);var n=Ot(e),t=(this.children.get(n)||new ri(null)).set(Lt(e),t),t=this.children.insert(n,t);return new ri(this.value,t)},ri.prototype.remove=function(e){if(jt(e))return this.children.isEmpty()?new ri(null):new ri(null,this.children);var t=Ot(e),n=this.children.get(t);if(n){n=n.remove(Lt(e)),e=void 0,e=n.isEmpty()?this.children.remove(t):this.children.insert(t,n);return null===this.value&&e.isEmpty()?new ri(null):new ri(this.value,e)}return this},ri.prototype.get=function(e){if(jt(e))return this.value;var t=Ot(e),t=this.children.get(t);return t?t.get(Lt(e)):null},ri.prototype.setTree=function(e,t){if(jt(e))return t;var n=Ot(e),e=(this.children.get(n)||new ri(null)).setTree(Lt(e),t),t=void 0,t=e.isEmpty()?this.children.remove(n):this.children.insert(n,e);return new ri(this.value,t)},ri.prototype.fold=function(e){return this.fold_(Dt(),e)},ri.prototype.fold_=function(n,r){var i={};return this.children.inorderTraversal(function(e,t){i[e]=t.fold_(Wt(n,e),r)}),r(n,this.value,i)},ri.prototype.findOnPath=function(e,t){return this.findOnPath_(e,Dt(),t)},ri.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(jt(e))return null;var i=Ot(e),r=this.children.get(i);return r?r.findOnPath_(Lt(e),Wt(t,i),n):null},ri.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,Dt(),t)},ri.prototype.foreachOnPath_=function(e,t,n){if(jt(e))return this;this.value&&n(t,this.value);var r=Ot(e),i=this.children.get(r);return i?i.foreachOnPath_(Lt(e),Wt(t,r),n):new ri(null)},ri.prototype.foreach=function(e){this.foreach_(Dt(),e)},ri.prototype.foreach_=function(n,r){this.children.inorderTraversal(function(e,t){t.foreach_(Wt(n,e),r)}),this.value&&r(n,this.value)},ri.prototype.foreachChild=function(n){this.children.inorderTraversal(function(e,t){t.value&&n(e,t.value)})},ri);function ri(e,t){void 0===t&&(t=Yr=Yr||new yn(_e)),this.value=e,this.children=t}var ii=(oi.empty=function(){return new oi(new ni(null))},oi);function oi(e){this.writeTree_=e}function ai(e,t,n){if(jt(t))return new ii(new ni(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,r=Ut(i,t),o=o.updateChild(r,n);return new ii(e.writeTree_.set(i,o))}n=new ni(n),n=e.writeTree_.setTree(t,n);return new ii(n)}function si(e,n,t){var r=e;return Le(t,function(e,t){r=ai(r,Wt(n,e),t)}),r}function ui(e,t){if(jt(t))return ii.empty();t=e.writeTree_.setTree(t,new ni(null));return new ii(t)}function li(e,t){return null!=hi(e,t)}function hi(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ut(n.path,t)):null}function ci(e){var n=[],t=e.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Nn,function(e,t){n.push(new nn(e,t))}):e.writeTree_.children.inorderTraversal(function(e,t){null!=t.value&&n.push(new nn(e,t.value))}),n}function pi(e,t){if(jt(t))return e;var n=hi(e,t);return new ii(null!=n?new ni(n):e.writeTree_.subtree(t))}function di(e){return e.writeTree_.isEmpty()}function fi(e,t){return function n(r,e,i){{if(null!=e.value)return i.updateChild(r,e.value);var o=null;return e.children.inorderTraversal(function(e,t){\".priority\"===e?(g(null!==t.value,\"Priority writes must always be leaf nodes\"),o=t.value):i=n(Wt(r,e),t,i)}),i=!i.getChild(r).isEmpty()&&null!==o?i.updateChild(Wt(r,\".priority\"),o):i}}(Dt(),e.writeTree_,t)}function _i(e,t){return ki(t,e)}function yi(t,n){var e=t.allWrites.findIndex(function(e){return e.writeId===n});g(0<=e,\"removeWrite called with nonexistent writeId.\");var r=t.allWrites[e];t.allWrites.splice(e,1);for(var i,o=r.visible,a=!1,s=t.allWrites.length-1;o&&0<=s;){var u=t.allWrites[s];u.visible&&(e<=s&&function(e,t){{if(e.snap)return zt(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&zt(Wt(e.path,n),t))return!0;return!1}}(u,r.path)?o=!1:zt(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?((i=t).visibleWrites=gi(i.allWrites,vi,Dt()),0<i.allWrites.length?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1):r.snap?t.visibleWrites=ui(t.visibleWrites,r.path):Le(r.children,function(e){t.visibleWrites=ui(t.visibleWrites,Wt(r.path,e))}),!0)}function vi(e){return e.visible}function gi(e,t,n){for(var r=ii.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)zt(n,a)?r=ai(r,s=Ut(n,a),o.snap):zt(a,n)&&(s=Ut(a,n),r=ai(r,Dt(),o.snap.getChild(s)));else{if(!o.children)throw m(\"WriteRecord should have .snap or .children\");zt(n,a)?r=si(r,s=Ut(n,a),o.children):zt(a,n)&&(jt(s=Ut(a,n))?r=si(r,Dt(),o.children):(o=O(o.children,Ot(s)))&&(s=o.getChild(Lt(s)),r=ai(r,Dt(),s)))}}}return r}function mi(e,t,n,r,i){if(r||i){var o=pi(e.visibleWrites,t);if(!i&&di(o))return n;if(i||null!=n||li(o,Dt()))return fi(gi(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(zt(e.path,t)||zt(t,e.path))},t),n||jn.EMPTY_NODE);return null}o=hi(e.visibleWrites,t);if(null!=o)return o;e=pi(e.visibleWrites,t);return di(e)?n:null!=n||li(e,Dt())?fi(e,n||jn.EMPTY_NODE):null}function wi(e,t,n,r){return mi(e.writeTree,e.treePath,t,n,r)}function Ci(e,t){return function(e,t,n){var r=jn.EMPTY_NODE,i=hi(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Nn,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var o=pi(e.visibleWrites,t);return n.forEachChild(Nn,function(e,t){t=fi(pi(o,new xt(e)),t);r=r.updateImmediateChild(e,t)}),ci(o).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return ci(pi(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function bi(e,t,n,r){return i=e.writeTree,e=e.treePath,t=t,r=r,g(n||r,\"Either existingEventSnap or existingServerSnap must exist\"),e=Wt(e,t),li(i.visibleWrites,e)?null:di(e=pi(i.visibleWrites,e))?r.getChild(t):fi(e,r.getChild(t));var i}function Ti(e,t){return n=e.writeTree,t=Wt(e.treePath,t),hi(n.visibleWrites,t);var n}function Ei(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,e=pi(e.visibleWrites,t);if(null!=(t=hi(e,Dt())))s=t;else{if(null==n)return[];s=fi(e,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],l=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),c=h.getNext();c&&u.length<i;)0!==l(c,r)&&u.push(c),c=h.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,o)}function Ii(e,t,n){return r=e.writeTree,i=e.treePath,e=n,t=Wt(i,n=t),null!=(i=hi(r.visibleWrites,t))?i:e.isCompleteForChild(n)?fi(pi(r.visibleWrites,t),e.getNode().getImmediateChild(n)):null;var r,i}function Si(e,t){return ki(Wt(e.treePath,t),e.writeTree)}function ki(e,t){return{treePath:e,writeTree:t}}var Pi=(Ni.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;g(\"child_added\"===t||\"child_changed\"===t||\"child_removed\"===t,\"Only child changes supported for tracking\"),g(\".priority\"!==n,\"Only non-priority child changes can be tracked.\");var r=this.changeMap.get(n);if(r){var i=r.type;if(\"child_added\"===t&&\"child_removed\"===i)this.changeMap.set(n,sr(n,e.snapshotNode,r.snapshotNode));else if(\"child_removed\"===t&&\"child_added\"===i)this.changeMap.delete(n);else if(\"child_removed\"===t&&\"child_changed\"===i)this.changeMap.set(n,ar(n,r.oldSnap));else if(\"child_changed\"===t&&\"child_added\"===i)this.changeMap.set(n,or(n,e.snapshotNode));else{if(\"child_changed\"!==t||\"child_changed\"!==i)throw m(\"Illegal combination of changes: \"+e+\" occurred after \"+r);this.changeMap.set(n,sr(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},Ni.prototype.getChanges=function(){return Array.from(this.changeMap.values())},Ni);function Ni(){this.changeMap=new Map}function xi(){}var Ri=new(xi.prototype.getCompleteChild=function(e){return null},xi.prototype.getChildAfterChild=function(e,t,n){return null},xi),Di=(Oi.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);t=null!=this.optCompleteServerCache_?new Hr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ii(this.writes_,e,t)},Oi.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ti(this.viewCache_),e=Ei(this.writes_,r,t,1,n,e);return 0===e.length?null:e[0]},Oi);function Oi(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}function Ai(e,t,n,r,i){var o,a,s,u,l,h,c,p,d=new Pi;if(n.type===Rr.OVERWRITE)var f=n,_=f.source.fromUser?Fi(e,t,f.path,f.snap,r,i,d):(g(f.source.fromServer,\"Unknown source.\"),o=f.source.tagged||t.serverCache.isFiltered()&&!jt(f.path),Mi(e,t,f.path,f.snap,r,i,o,d));else if(n.type===Rr.MERGE){var y=n;_=y.source.fromUser?(a=e,s=t,u=y.path,f=y.children,l=r,h=i,c=d,p=s,f.foreach(function(e,t){e=Wt(u,e);qi(s,Ot(e))&&(p=Fi(a,p,e,t,l,h,c))}),f.foreach(function(e,t){e=Wt(u,e);qi(s,Ot(e))||(p=Fi(a,p,e,t,l,h,c))}),p):(g(y.source.fromServer,\"Unknown source.\"),o=y.source.tagged||t.serverCache.isFiltered(),ji(e,t,y.path,y.children,r,i,o,d))}else if(n.type===Rr.ACK_USER_WRITE){var v=n;_=v.revert?function(e,t,n,r,i,o){var a;{if(null!=Ti(r,n))return t;var s,u,l=new Di(r,t,i),h=t.eventCache.getNode(),i=void 0;return jt(n)||\".priority\"===Ot(n)?(u=void 0,u=t.serverCache.isFullyInitialized()?wi(r,ti(t)):(s=t.serverCache.getNode(),g(s instanceof jn,\"serverChildren would be complete if leaf node\"),Ci(r,s)),i=e.filter.updateFullNode(h,u,o)):(s=Ot(n),null==(u=Ii(r,s,t.serverCache))&&t.serverCache.isCompleteForChild(s)&&(u=h.getImmediateChild(s)),(i=null!=u?e.filter.updateChild(h,s,u,Lt(n),l,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(h,s,jn.EMPTY_NODE,Lt(n),l,o):h).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=wi(r,ti(t))).isLeafNode()&&(i=e.filter.updateFullNode(i,a,o))),a=t.serverCache.isFullyInitialized()||null!=Ti(r,Dt()),Xr(t,i,a,e.filter.filtersNodes())}}(e,t,v.path,r,i,d):function(e,t,r,n,i,o,a){if(null!=Ti(i,r))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;{if(null!=n.value){if(jt(r)&&u.isFullyInitialized()||u.isCompleteForPath(r))return Mi(e,t,r,u.getNode().getChild(r),i,o,s,a);if(jt(r)){var l=new ni(null);return u.getNode().forEachChild(ln,function(e,t){l=l.set(new xt(e),t)}),ji(e,t,r,l,i,o,s,a)}return t}var h=new ni(null);return n.foreach(function(e,t){var n=Wt(r,e);u.isCompleteForPath(n)&&(h=h.set(e,u.getNode().getChild(n)))}),ji(e,t,r,h,i,o,s,a)}}(e,t,v.path,v.affectedTree,r,i,d)}else{if(n.type!==Rr.LISTEN_COMPLETE)throw m(\"Unknown operation type: \"+n.type);o=e,v=t,i=n.path,e=r,n=d,r=v.serverCache,r=Zr(v,r.getNode(),r.isFullyInitialized()||jt(i),r.isFiltered()),_=Li(o,r,i,e,Ri,n)}d=d.getChanges();return function(e,t,n){var r=t.eventCache;{var i,o;r.isFullyInitialized()&&(i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ei(e),(0<n.length||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ir(ei(t))))}}(t,_,d),{viewCache:_,changes:d}}function Li(e,t,n,r,i,o){var a=t.eventCache;if(null!=Ti(r,n))return t;var s,u,l,h,c=void 0,p=void 0;return c=jt(n)?(g(t.serverCache.isFullyInitialized(),\"If change path is empty, we must have complete server data\"),t.serverCache.isFiltered()?(s=Ci(r,(s=ti(t))instanceof jn?s:jn.EMPTY_NODE),e.filter.updateFullNode(t.eventCache.getNode(),s,o)):(u=wi(r,ti(t)),e.filter.updateFullNode(t.eventCache.getNode(),u,o))):\".priority\"===(u=Ot(n))?(g(1===At(n),\"Can't have a priority with additional path components\"),null!=(h=bi(r,n,l=a.getNode(),p=t.serverCache.getNode()))?e.filter.updatePriority(l,h):a.getNode()):(l=Lt(n),h=void 0,null!=(h=a.isCompleteForChild(u)?(p=t.serverCache.getNode(),null!=(p=bi(r,n,a.getNode(),p))?a.getNode().getImmediateChild(u).updateChild(l,p):a.getNode().getImmediateChild(u)):Ii(r,u,t.serverCache))?e.filter.updateChild(a.getNode(),u,h,l,i,o):a.getNode()),Xr(t,c,a.isFullyInitialized()||jt(n),e.filter.filtersNodes())}function Mi(e,t,n,r,i,o,a,s){var u=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(jt(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered())var h=u.getNode().updateChild(n,r),c=l.updateFullNode(u.getNode(),h,null);else{a=Ot(n);if(!u.isCompleteForPath(n)&&1<At(n))return t;h=Lt(n),r=u.getNode().getImmediateChild(a).updateChild(h,r);c=\".priority\"===a?l.updatePriority(u.getNode(),r):l.updateChild(u.getNode(),a,r,h,Ri,null)}l=Zr(t,c,u.isFullyInitialized()||jt(n),l.filtersNodes());return Li(e,l,n,i,new Di(i,l,o),s)}function Fi(e,t,n,r,i,o,a){var s,u,l=t.eventCache,h=new Di(i,t,o);return jt(n)?(u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),Xr(t,u,!0,e.filter.filtersNodes())):\".priority\"===(s=Ot(n))?(u=e.filter.updatePriority(t.eventCache.getNode(),r),Xr(t,u,l.isFullyInitialized(),l.isFiltered())):(i=Lt(n),o=l.getNode().getImmediateChild(s),u=void 0,u=jt(i)?r:null!=(n=h.getCompleteChild(s))?\".priority\"===Mt(i)&&n.getChild(qt(i)).isEmpty()?n:n.updateChild(i,r):jn.EMPTY_NODE,o.equals(u)?t:Xr(t,e.filter.updateChild(l.getNode(),s,u,i,h,a),l.isFullyInitialized(),e.filter.filtersNodes()))}function qi(e,t){return e.eventCache.isCompleteForChild(t)}function Wi(e,n,t){return t.foreach(function(e,t){n=n.updateChild(e,t)}),n}function ji(r,i,e,t,o,a,s,u){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;var l=i,t=jt(e)?t:new ni(null).setTree(e,t),h=i.serverCache.getNode();return t.children.inorderTraversal(function(e,t){h.hasChild(e)&&(t=Wi(0,i.serverCache.getNode().getImmediateChild(e),t),l=Mi(r,l,new xt(e),t,o,a,s,u))}),t.children.inorderTraversal(function(e,t){var n=!i.serverCache.isCompleteForChild(e)&&void 0===t.value;h.hasChild(e)||n||(t=Wi(0,i.serverCache.getNode().getImmediateChild(e),t),l=Mi(r,l,new xt(e),t,o,a,s,u))}),l}var Ui,Bi=(Object.defineProperty(Vi.prototype,\"query\",{get:function(){return this.query_},enumerable:!1,configurable:!0}),Vi);function Vi(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new ur(n.getIndex()),i=(o=n).loadsAllData()?new ur(o.getIndex()):new(o.hasLimit()?pr:hr)(o);this.processor_={filter:i};var e=t.serverCache,n=t.eventCache,o=r.updateFullNode(jn.EMPTY_NODE,e.getNode(),null),t=i.updateFullNode(jn.EMPTY_NODE,n.getNode(),null),r=new Hr(o,e.isFullyInitialized(),r.filtersNodes()),i=new Hr(t,n.isFullyInitialized(),i.filtersNodes());this.viewCache_=Jr(i,r),this.eventGenerator_=new Kr(this.query_)}function zi(e){return 0===e.eventRegistrations_.length}function Hi(e,t,n){var r,i=[];if(n&&(g(null==t,\"A cancel should cancel all event registrations.\"),r=e.query._path,e.eventRegistrations_.forEach(function(e){e=e.createCancelEvent(n,r);e&&i.push(e)})),t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return i}function Qi(e,t,n,r){t.type===Rr.MERGE&&null!==t.source.queryId&&(g(ti(e.viewCache_),\"We should always have a full cache before handling merges\"),g(ei(e.viewCache_),\"Missing event cache, even though we have a server cache\"));var i=e.viewCache_,t=Ai(e.processor_,i,t,n,r);return n=e.processor_,r=t.viewCache,g(r.eventCache.getNode().isIndexed(n.filter.getIndex()),\"Event snap not indexed\"),g(r.serverCache.getNode().isIndexed(n.filter.getIndex()),\"Server snap not indexed\"),g(t.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),\"Once a server snap is complete, it should never go back\"),e.viewCache_=t.viewCache,Yi(e,t.changes,t.viewCache.eventCache.getNode(),null)}function Yi(e,t,n,r){r=r?[r]:e.eventRegistrations_;return Gr(e.eventGenerator_,t,n,r)}var Ki,Gi=function(){this.views=new Map};function $i(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return g(null!=s,\"SyncTree gave us an op for an invalid query.\"),Qi(s,t,n,r)}var u=[];try{for(var l=_(e.views.values()),h=l.next();!h.done;h=l.next())s=h.value,u=u.concat(Qi(s,t,n,r))}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return u}function Ji(e,t,n,r,i){var o=t._queryIdentifier,e=e.views.get(o);if(e)return e;o=wi(n,i?r:null),e=!1,e=!!o||(o=r instanceof jn?Ci(n,r):jn.EMPTY_NODE,!1),i=Jr(new Hr(o,e,!1),new Hr(r,i,!1));return new Bi(t,i)}function Xi(e,t,n,r,i,o){var a,o=Ji(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),t=n,o.eventRegistrations_.push(t),t=n,o=(n=o).viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(Nn,function(e,t){a.push(or(e,t))}),o.isFullyInitialized()&&a.push(ir(o.getNode())),Yi(n,a,o.getNode(),t)}function Zi(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],l=io(e);if(\"default\"===a)try{for(var h=_(e.views.entries()),c=h.next();!c.done;c=h.next()){var p=y(c.value,2),d=p[0],f=p[1],u=u.concat(Hi(f,n,r));zi(f)&&(e.views.delete(d),f.query._queryParams.loadsAllData()||s.push(f.query))}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(f=e.views.get(a))&&(u=u.concat(Hi(f,n,r)),zi(f)&&(e.views.delete(a),f.query._queryParams.loadsAllData()||s.push(f.query)));return l&&!io(e)&&s.push((g(Ui,\"Reference.ts has not been loaded\"),new Ui(t._repo,t._path))),{removed:s,events:u}}function eo(e){var t,n,r=[];try{for(var i=_(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function to(e,t){var n,r,i,o,a=null;try{for(var s=_(e.views.values()),u=s.next();!u.done;u=s.next())var l=u.value,a=a||(i=t,o=void 0,(o=ti((l=l).viewCache_))&&(l.query._queryParams.loadsAllData()||!jt(i)&&!o.getImmediateChild(Ot(i)).isEmpty())?o.getChild(i):null)}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}function no(e,t){if(t._queryParams.loadsAllData())return oo(e);t=t._queryIdentifier;return e.views.get(t)}function ro(e,t){return null!=no(e,t)}function io(e){return null!=oo(e)}function oo(e){var t,n;try{for(var r=_(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var ao=1,so=function(e){this.listenProvider_=e,this.syncPointTree_=new ni(null),this.pendingWriteTree_={visibleWrites:ii.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function uo(e,t,n,r,i){var o,a,s,u;return o=e.pendingWriteTree_,a=t,s=n,u=i,g((r=r)>o.lastWriteId,\"Stacking an older write on top of newer ones\"),void 0===u&&(u=!0),o.allWrites.push({path:a,snap:s,writeId:r,visible:u}),u&&(o.visibleWrites=ai(o.visibleWrites,a,s)),o.lastWriteId=r,i?vo(e,new Ur(Ar(),t,n)):[]}function lo(e,t,n,r){var i,o,a;i=e.pendingWriteTree_,o=t,a=n,g((r=r)>i.lastWriteId,\"Stacking an older merge on top of newer ones\"),i.allWrites.push({path:o,children:a,writeId:r,visible:!0}),i.visibleWrites=si(i.visibleWrites,o,a),i.lastWriteId=r;n=ni.fromObject(n);return vo(e,new Vr(Ar(),t,n))}function ho(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(yi(e.pendingWriteTree_,t)){var i=new ni(null);return null!=r.snap?i=i.set(Dt(),!0):Le(r.children,function(e){i=i.set(new xt(e),!0)}),vo(e,new Fr(r.path,i,n))}return[]}function co(e,t,n){return vo(e,new Ur(Lr(),t,n))}function po(n,e,t,r){var i=e._path,o=n.syncPointTree_.get(i),a=[];if(o&&(\"default\"===e._queryIdentifier||ro(o,e))){var s=Zi(o,e,t,r);0===o.views.size&&(n.syncPointTree_=n.syncPointTree_.remove(i));t=s.removed,a=s.events,o=-1!==t.findIndex(function(e){return e._queryParams.loadsAllData()}),s=n.syncPointTree_.findOnPath(i,function(e,t){return io(t)});if(o&&!s){i=n.syncPointTree_.subtree(i);if(!i.isEmpty())for(var u=i.fold(function(e,t,n){if(t&&io(t))return[oo(t)];var r=[];return t&&(r=eo(t)),Le(n,function(e,t){r=r.concat(t)}),r}),l=0;l<u.length;++l){var h=u[l],c=h.query,h=mo(n,h);n.listenProvider_.startListening(Io(c),wo(n,c),h.hashFn,h.onComplete)}}!s&&0<t.length&&!r&&(o?n.listenProvider_.stopListening(Io(e),null):t.forEach(function(e){var t=n.queryToTagMap.get(Co(e));n.listenProvider_.stopListening(Io(e),t)})),function(e,t){for(var n=0;n<t.length;++n){var r,i=t[n];i._queryParams.loadsAllData()||(r=Co(i),i=e.queryToTagMap.get(r),e.queryToTagMap.delete(r),e.tagToQueryMap.delete(i))}}(n,t)}return a}function fo(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,function(e,t){e=Ut(e,r);i=i||to(t,e),o=o||io(t)});var a=e.syncPointTree_.get(r);a?(o=o||io(a),i=i||to(a,Dt())):(a=new Gi,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?h=!0:(h=!1,i=jn.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild(function(e,t){t=to(t,Dt());t&&(i=i.updateImmediateChild(e,t))}));var s,u,l=ro(a,t);l||t._queryParams.loadsAllData()||(s=Co(t),g(!e.queryToTagMap.has(s),\"View does not exist, but we have a tag\"),u=ao++,e.queryToTagMap.set(s,u),e.tagToQueryMap.set(u,s));var h=Xi(a,t,n,_i(e.pendingWriteTree_,r),i,h);return l||o||(a=no(a,t),h=h.concat(function(e,t,n){var r=t._path,i=wo(e,t),n=mo(e,n),n=e.listenProvider_.startListening(Io(t),i,n.hashFn,n.onComplete),r=e.syncPointTree_.subtree(r);if(i)g(!io(r.value),\"If we're adding a query, it shouldn't be shadowed\");else for(var o=r.fold(function(e,t,n){if(!jt(e)&&t&&io(t))return[oo(t).query];var r=[];return t&&(r=r.concat(eo(t).map(function(e){return e.query}))),Le(n,function(e,t){r=r.concat(t)}),r}),a=0;a<o.length;++a){var s=o[a];e.listenProvider_.stopListening(Io(s),wo(e,s))}return n}(e,t,a))),h}function _o(e,n,t){var r=e.pendingWriteTree_,e=e.syncPointTree_.findOnPath(n,function(e,t){e=to(t,Ut(e,n));if(e)return e});return mi(r,n,e,t,!0)}function yo(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(e,t){e=Ut(e,n);r=r||to(t,e)});var i=e.syncPointTree_.get(n);i?r=r||to(i,Dt()):(i=new Gi,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Hr(r,!0,!1):null,o=Ji(i,t,_i(e.pendingWriteTree_,t._path),o?a.getNode():jn.EMPTY_NODE,o);return ei(o.viewCache_)}function vo(e,t){return function e(t,n,r,i){{if(jt(t.path))return go(t,n,r,i);var o=n.get(Dt());null==r&&null!=o&&(r=to(o,Dt()));var a=[],s=Ot(t.path),u=t.operationForChild(s),l=n.children.get(s);return l&&u&&(n=r?r.getImmediateChild(s):null,s=Si(i,s),a=a.concat(e(u,l,n,s))),a=o?a.concat($i(o,t,i,r)):a}}(t,e.syncPointTree_,null,_i(e.pendingWriteTree_,Dt()))}function go(i,e,o,a){var t=e.get(Dt());null==o&&null!=t&&(o=to(t,Dt()));var s=[];return e.children.inorderTraversal(function(e,t){var n=o?o.getImmediateChild(e):null,r=Si(a,e),e=i.operationForChild(e);e&&(s=s.concat(go(e,t,n,r)))}),s=t?s.concat($i(t,i,a,o)):s}function mo(r,e){var i=e.query,o=wo(r,i);return{hashFn:function(){return(e.viewCache_.serverCache.getNode()||jn.EMPTY_NODE).hash()},onComplete:function(e){if(\"ok\"===e)return o?function(e,t,n){var r=bo(e,n);if(r){n=To(r),r=n.path,n=n.queryId,t=Ut(r,t);return Eo(e,r,new Wr(Mr(n),t))}return[]}(r,i._path,o):(t=r,n=i._path,vo(t,new Wr(Lr(),n)));var t,n,n=(n=\"Unknown Error\",\"too_big\"===(e=e)?n=\"The data requested exceeds the maximum size that can be accessed with a single request.\":\"permission_denied\"===e?n=\"Client doesn't have permission to access the desired data.\":\"unavailable\"===e&&(n=\"The service is unavailable\"),(n=new Error(e+\" at \"+i._path.toString()+\": \"+n)).code=e.toUpperCase(),n);return po(r,i,null,n)}}}function wo(e,t){t=Co(t);return e.queryToTagMap.get(t)}function Co(e){return e._path.toString()+\"$\"+e._queryIdentifier}function bo(e,t){return e.tagToQueryMap.get(t)}function To(e){var t=e.indexOf(\"$\");return g(-1!==t&&t<e.length-1,\"Bad queryKey.\"),{queryId:e.substr(t+1),path:new xt(e.substr(0,t))}}function Eo(e,t,n){var r=e.syncPointTree_.get(t);return g(r,\"Missing sync point for query tag that we're tracking\"),$i(r,n,_i(e.pendingWriteTree_,t),null)}function Io(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?(g(Ki,\"Reference.ts has not been loaded\"),new Ki(e._repo,e._path)):e}var So=(ko.prototype.getImmediateChild=function(e){return new ko(this.node_.getImmediateChild(e))},ko.prototype.node=function(){return this.node_},ko);function ko(e){this.node_=e}var Po=(No.prototype.getImmediateChild=function(e){e=Wt(this.path_,e);return new No(this.syncTree_,e)},No.prototype.node=function(){return _o(this.syncTree_,this.path_)},No);function No(e,t){this.syncTree_=e,this.path_=t}var xo=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},Ro=function(e,t,n){return e&&\"object\"==typeof e?(g(\".sv\"in e,\"Unexpected leaf node or priority contents\"),\"string\"==typeof e[\".sv\"]?Do(e[\".sv\"],t,n):\"object\"==typeof e[\".sv\"]?Oo(e[\".sv\"],t):void g(!1,\"Unexpected server value: \"+JSON.stringify(e,null,2))):e},Do=function(e,t,n){if(\"timestamp\"===e)return n.timestamp;g(!1,\"Unexpected server value: \"+e)},Oo=function(e,t,n){e.hasOwnProperty(\"increment\")||g(!1,\"Unexpected server value: \"+JSON.stringify(e,null,2));e=e.increment;\"number\"!=typeof e&&g(!1,\"Unexpected increment value: \"+e);t=t.node();if(g(null!=t,\"Expected ChildrenNode.EMPTY_NODE for nulls\"),!t.isLeafNode())return e;t=t.getValue();return\"number\"!=typeof t?e:t+e},Ao=function(e,t,n,r){return Mo(t,new Po(n,e),r)},Lo=function(e,t,n){return Mo(e,new So(t),n)};function Mo(e,r,i){var t=e.getPriority().val(),n=Ro(t,r.getImmediateChild(\".priority\"),i);if(e.isLeafNode()){var o=e,t=Ro(o.getValue(),r,i);return t!==o.getValue()||n!==o.getPriority().val()?new Sn(t,Hn(n)):e}var e=e,a=e;return n!==e.getPriority().val()&&(a=a.updatePriority(new Sn(n))),e.forEachChild(Nn,function(e,t){var n=Mo(t,r.getImmediateChild(e),i);n!==t&&(a=a.updateImmediateChild(e,n))}),a}var Fo=function(e,t,n){void 0===e&&(e=\"\"),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function qo(e,t){for(var n=t instanceof xt?t:new xt(t),r=e,i=Ot(n);null!==i;)var o=O(r.node.children,i)||{children:{},childCount:0},r=new Fo(i,r,o),i=Ot(n=Lt(n));return r}function Wo(e){return e.node.value}function jo(e,t){e.node.value=t,zo(e)}function Uo(e){return 0<e.node.childCount}function Bo(n,r){Le(n.node.children,function(e,t){r(new Fo(e,n,t))})}function Vo(e){return new xt(null===e.parent?e.name:Vo(e.parent)+\"/\"+e.name)}function zo(e){var t,n,r,i;null!==e.parent&&(t=e.parent,n=e.name,i=function(e){return void 0===Wo(e)&&!Uo(e)}(r=e),e=D(t.node.children,n),i&&e?(delete t.node.children[n],t.node.childCount--,zo(t)):i||e||(t.node.children[n]=r.node,t.node.childCount++,zo(t)))}function Ho(e){return\"string\"==typeof e&&0!==e.length&&!$o.test(e)}function Qo(e){return\"string\"==typeof e&&0!==e.length&&!Jo.test(e)}function Yo(e,t,n,r){if(!r||void 0!==t){var i=j(e,\"values\");if(!t||\"object\"!=typeof t||Array.isArray(t))throw new Error(i+\" must be an object containing the children to replace.\");var o=[];Le(t,function(e,t){e=new xt(e);if(ta(i,t,Wt(n,e)),\".priority\"===Mt(e)&&!Zo(t))throw new Error(i+\"contains an invalid value for '\"+e.toString()+\"', which must be a valid Firebase priority (a string, finite number, server value, or null).\");o.push(e)}),function(e,t){for(var n=0;n<t.length;n++)for(var r,i=Ft(r=t[n]),o=0;o<i.length;o++)if((\".priority\"!==i[o]||o!==i.length-1)&&!Ho(i[o]))throw new Error(e+\"contains an invalid key (\"+i[o]+\") in path \"+r.toString()+'. Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');t.sort(Bt);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&zt(a,r))throw new Error(e+\"contains a path \"+a.toString()+\" that is ancestor of another path \"+r.toString());a=r}}(i,o)}}function Ko(e,t,n){if(!n||void 0!==t){if(fe(t))throw new Error(j(e,\"priority\")+\"is \"+t.toString()+\", but must be a valid Firebase priority (a string, finite number, server value, or null).\");if(!Zo(t))throw new Error(j(e,\"priority\")+\"must be a valid Firebase priority (a string, finite number, server value, or null).\")}}function Go(e,t,n,r){if(!(r&&void 0===n||Ho(n)))throw new Error(j(e,t)+'was an invalid key = \"'+n+'\".  Firebase keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\").')}var $o=/[\\[\\].#$\\/\\u0000-\\u001F\\u007F]/,Jo=/[\\[\\].#$\\u0000-\\u001F\\u007F]/,Xo=10485760,Zo=function(e){return null===e||\"string\"==typeof e||\"number\"==typeof e&&!fe(e)||e&&\"object\"==typeof e&&D(e,\".sv\")},ea=function(e,t,n,r){r&&void 0===t||ta(j(e,\"value\"),t,n)},ta=function(r,e,t){var i=t instanceof xt?new Ht(t,r):t;if(void 0===e)throw new Error(r+\"contains undefined \"+Yt(i));if(\"function\"==typeof e)throw new Error(r+\"contains a function \"+Yt(i)+\" with contents = \"+e.toString());if(fe(e))throw new Error(r+\"contains \"+e.toString()+\" \"+Yt(i));if(\"string\"==typeof e&&e.length>Xo/3&&V(e)>Xo)throw new Error(r+\"contains a string greater than \"+Xo+\" utf8 bytes \"+Yt(i)+\" ('\"+e.substring(0,50)+\"...')\");if(e&&\"object\"==typeof e){var o=!1,a=!1;if(Le(e,function(e,t){if(\".value\"===e)o=!0;else if(\".priority\"!==e&&\".sv\"!==e&&(a=!0,!Ho(e)))throw new Error(r+\" contains an invalid key (\"+e+\") \"+Yt(i)+'.  Keys must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"/\", \"[\", or \"]\"');var n;n=e,0<(e=i).parts_.length&&(e.byteLength_+=1),e.parts_.push(n),e.byteLength_+=V(n),Qt(e),ta(r,t,i),t=(e=i).parts_.pop(),e.byteLength_-=V(t),0<e.parts_.length&&--e.byteLength_}),o&&a)throw new Error(r+' contains \".value\" child '+Yt(i)+\" in addition to actual children.\")}},na=function(e,t,n,r){if(!(r&&void 0===n||Qo(n)))throw new Error(j(e,t)+'was an invalid path = \"'+n+'\". Paths must be non-empty strings and can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\"')},ra=function(e,t,n,r){n=n&&n.replace(/^\\/*\\.info(\\/|$)/,\"/\"),na(e,t,n,r)},ia=function(e,t){if(\".info\"===Ot(t))throw new Error(e+\" failed = Can't modify data under /.info/\")},oa=function(e,t){var n=t.path.toString();if(\"string\"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Ho(t.repoInfo.namespace)&&\"localhost\"!==t.repoInfo.host.split(\":\")[0]||0!==n.length&&(n=(n=n)&&n.replace(/^\\/*\\.info(\\/|$)/,\"/\"),!Qo(n)))throw new Error(j(e,\"url\")+'must be a valid firebase URL and the path can\\'t contain \".\", \"#\", \"$\", \"[\", or \"]\".')},aa=function(){this.eventLists_=[],this.recursionDepth_=0};function sa(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Vt(o,n.path)||(e.eventLists_.push(n),n=null),(n=null===n?{events:[],path:o}:n).events.push(i)}n&&e.eventLists_.push(n)}function ua(e,t,n){sa(e,n),ha(e,function(e){return Vt(e,t)})}function la(e,t,n){sa(e,n),ha(e,function(e){return zt(e,t)||zt(t,e)})}function ha(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n,r=e.events[t];null!==r&&(e.events[t]=null,n=r.getEventRunner(),Ie&&ke(\"event: \"+r.toString()),Be(n))}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}var ca=\"repo_interrupt\",pa=25,da=(fa.prototype.toString=function(){return(this.repoInfo_.secure?\"https://\":\"http://\")+this.repoInfo_.host},fa);function fa(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new aa,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sr(),this.transactionQueueTree_=new Fo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function _a(a,e,t){if(a.stats_=ot(a.repoInfo_),a.forceRestClient_||0<=(\"object\"==typeof window&&window.navigator&&window.navigator.userAgent||\"\").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))a.server_=new br(a.repoInfo_,function(e,t,n,r){ga(a,e,t,n,r)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(function(){return ma(a,!0)},0);else{if(null!=t){if(\"object\"!=typeof t)throw new Error(\"Only objects are supported for option databaseAuthVariableOverride\");try{x(t)}catch(e){throw new Error(\"Invalid authOverride provided: \"+e)}}a.persistentConnection_=new en(a.repoInfo_,e,function(e,t,n,r){ga(a,e,t,n,r)},function(e){ma(a,e)},function(e){var n;n=a,Le(e,function(e,t){wa(n,e,t)})},a.authTokenProvider_,a.appCheckProvider_,t),a.server_=a.persistentConnection_}var n;a.authTokenProvider_.addTokenChangeListener(function(e){a.server_.refreshAuthToken(e)}),a.appCheckProvider_.addTokenChangeListener(function(e){a.server_.refreshAppCheckToken(e.token)}),a.statsReporter_=(n=a.repoInfo_,e=function(){return new Dr(a.stats_,a.server_)},n=n.toString(),it[n]||(it[n]=e()),it[n]),a.infoData_=new Er,a.infoSyncTree_=new so({startListening:function(e,t,n,r){var i=[],o=a.infoData_.getNode(e._path);return o.isEmpty()||(i=co(a.infoSyncTree_,e._path,o),setTimeout(function(){r(\"ok\")},0)),i},stopListening:function(){}}),wa(a,\"connected\",!1),a.serverSyncTree_=new so({startListening:function(n,e,t,r){return a.server_.listen(n,t,e,function(e,t){t=r(e,t);la(a.eventQueue_,n._path,t)}),[]},stopListening:function(e,t){a.server_.unlisten(e,t)}})}function ya(e){e=e.infoData_.getNode(new xt(\".info/serverTimeOffset\")).val()||0;return(new Date).getTime()+e}function va(e){return xo({timestamp:ya(e)})}function ga(e,t,n,r,i){e.dataUpdateCount++;var o=new xt(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a,s,u,l=[],h=o;0<(l=i?r?(a=L(n,function(e){return Hn(e)}),function(e,t,n,r){var i=bo(e,r);if(i){r=To(i),i=r.path,r=r.queryId,t=Ut(i,t),n=ni.fromObject(n);return Eo(e,i,new Vr(Mr(r),t,n))}return[]}(e.serverSyncTree_,o,a,i)):(t=Hn(n),a=e.serverSyncTree_,s=o,u=t,null==(i=bo(a,t=i))?[]:(t=To(i),i=t.path,t=t.queryId,s=Ut(i,s),Eo(a,i,new Ur(Mr(t),s,u)))):r?(s=L(n,function(e){return Hn(e)}),u=e.serverSyncTree_,r=o,s=s,s=ni.fromObject(s),vo(u,new Vr(Lr(),r,s))):(n=Hn(n),co(e.serverSyncTree_,o,n))).length&&(h=Ra(e,o)),la(e.eventQueue_,h,l)}function ma(e,t){wa(e,\"connected\",t),!1===t&&function(n){ka(n,\"onDisconnectEvents\");var r=va(n),i=Sr();Pr(n.onDisconnect_,Dt(),function(e,t){t=Ao(e,t,n.serverSyncTree_,r);kr(i,e,t)});var o=[];Pr(i,Dt(),function(e,t){o=o.concat(co(n.serverSyncTree_,e,t));e=La(n,e);Ra(n,e)}),n.onDisconnect_=Sr(),la(n.eventQueue_,Dt(),o)}(e)}function wa(e,t,n){t=new xt(\"/.info/\"+t),n=Hn(n);e.infoData_.updateSnapshot(t,n);n=co(e.infoSyncTree_,t,n);la(e.eventQueue_,t,n)}function Ca(e){return e.nextWriteId_++}function ba(r,i,e,t,o){ka(r,\"set\",{path:i.toString(),value:e,priority:t});var n=va(r),e=Hn(e,t),t=_o(r.serverSyncTree_,i),n=Lo(e,t,n),a=Ca(r),n=uo(r.serverSyncTree_,i,n,a,!0);sa(r.eventQueue_,n),r.server_.put(i.toString(),e.val(!0),function(e,t){var n=\"ok\"===e;n||xe(\"set at \"+i+\" failed: \"+e);n=ho(r.serverSyncTree_,a,!n);la(r.eventQueue_,i,n),Pa(0,o,e,t)});e=La(r,i);Ra(r,e),la(r.eventQueue_,e,[])}function Ta(n,r,i){n.server_.onDisconnectCancel(r.toString(),function(e,t){\"ok\"===e&&!function e(n,t){if(jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;var r=n.value;return n.value=null,r.forEachChild(Nn,function(e,t){kr(n,new xt(e),t)}),e(n,t)}if(0<n.children.size)return r=Ot(t),t=Lt(t),n.children.has(r)&&e(n.children.get(r),t)&&n.children.delete(r),0===n.children.size;return!0}(n.onDisconnect_,r),Pa(0,i,e,t)})}function Ea(n,r,e,i){var o=Hn(e);n.server_.onDisconnectPut(r.toString(),o.val(!0),function(e,t){\"ok\"===e&&kr(n.onDisconnect_,r,o),Pa(0,i,e,t)})}function Ia(e,t,n){n=\".info\"===Ot(t._path)?po(e.infoSyncTree_,t,n):po(e.serverSyncTree_,t,n);ua(e.eventQueue_,t._path,n)}function Sa(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ca)}function ka(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=\"\";e.persistentConnection_&&(r=e.persistentConnection_.id+\":\"),ke.apply(void 0,a([r],y(t)))}function Pa(e,n,r,i){n&&Be(function(){var e,t;\"ok\"===r?n(null):(t=e=(r||\"error\").toUpperCase(),i&&(t+=\": \"+i),(t=new Error(t)).code=e,n(t))})}function Na(e,t,n){return _o(e.serverSyncTree_,t,n)||jn.EMPTY_NODE}function xa(t,e){var n;(e=void 0===e?t.transactionQueueTree_:e)||Aa(t,e),Wo(e)?(n=Oa(t,e),g(0<n.length,\"Sending zero length transaction queue\"),n.every(function(e){return 0===e.status})&&function(i,o,a){for(var e=a.map(function(e){return e.currentWriteId}),t=Na(i,o,e),n=t,e=t.hash(),r=0;r<a.length;r++){var s=a[r];g(0===s.status,\"tryToSendTransactionQueue_: items in queue should all be run.\"),s.status=1,s.retryCount++;var u=Ut(o,s.path);n=n.updateChild(u,s.currentOutputSnapshotRaw)}var t=n.val(!0),l=o;i.server_.put(l.toString(),t,function(e){ka(i,\"transaction put response\",{path:l.toString(),status:e});var t=[];if(\"ok\"===e){for(var n=[],r=0;r<a.length;r++)!function(e){a[e].status=2,t=t.concat(ho(i.serverSyncTree_,a[e].currentWriteId)),a[e].onComplete&&n.push(function(){return a[e].onComplete(null,!0,a[e].currentOutputSnapshotResolved)}),a[e].unwatcher()}(r);Aa(i,qo(i.transactionQueueTree_,o)),xa(i,i.transactionQueueTree_),la(i.eventQueue_,o,t);for(r=0;r<n.length;r++)Be(n[r])}else{if(\"datastale\"===e)for(r=0;r<a.length;r++)3===a[r].status?a[r].status=4:a[r].status=0;else{xe(\"transaction at \"+l.toString()+\" failed: \"+e);for(r=0;r<a.length;r++)a[r].status=4,a[r].abortReason=e}Ra(i,o)}},e)}(t,Vo(e),n)):Uo(e)&&Bo(e,function(e){xa(t,e)})}function Ra(e,t){var n=Da(e,t),t=Vo(n);return function(u,l,h){if(0===l.length)return;for(var c=[],p=[],d=l.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),e=0;e<l.length;e++)!function(e){var t,n,r,i,o=l[e],a=Ut(h,o.path),s=!1;g(null!==a,\"rerunTransactionsUnderNode_: relativePath should not be null.\"),4===o.status?(s=!0,t=o.abortReason,p=p.concat(ho(u.serverSyncTree_,o.currentWriteId,!0))):0===o.status&&(p=o.retryCount>=pa?(s=!0,t=\"maxretry\",p.concat(ho(u.serverSyncTree_,o.currentWriteId,!0))):(n=Na(u,o.path,d),o.currentInputSnapshot=n,void 0!==(i=l[e].update(n.val()))?(ta(\"transaction failed: Data returned \",i,o.path),r=Hn(i),\"object\"==typeof i&&null!=i&&D(i,\".priority\")||(r=r.updatePriority(n.getPriority())),a=o.currentWriteId,i=va(u),i=Lo(r,n,i),o.currentOutputSnapshotRaw=r,o.currentOutputSnapshotResolved=i,o.currentWriteId=Ca(u),d.splice(d.indexOf(a),1),(p=p.concat(uo(u.serverSyncTree_,o.path,i,o.currentWriteId,o.applyLocally))).concat(ho(u.serverSyncTree_,a,!0))):(s=!0,t=\"nodata\",p.concat(ho(u.serverSyncTree_,o.currentWriteId,!0))))),la(u.eventQueue_,h,p),p=[],s&&(l[e].status=2,s=l[e].unwatcher,setTimeout(s,Math.floor(0)),l[e].onComplete&&(\"nodata\"===t?c.push(function(){return l[e].onComplete(null,!1,l[e].currentInputSnapshot)}):c.push(function(){return l[e].onComplete(new Error(t),!1,null)})))}(e);Aa(u,u.transactionQueueTree_);for(e=0;e<c.length;e++)Be(c[e]);xa(u,u.transactionQueueTree_)}(e,Oa(e,n),t),t}function Da(e,t){for(var n=e.transactionQueueTree_,r=Ot(t);null!==r&&void 0===Wo(n);)n=qo(n,r),r=Ot(t=Lt(t));return n}function Oa(e,t){var n=[];return function t(n,e,r){var i=Wo(e);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);Bo(e,function(e){t(n,e,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function Aa(t,e){var n=Wo(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,jo(e,0<n.length?n:void 0)}Bo(e,function(e){Aa(t,e)})}function La(t,e){var n=Vo(Da(t,e)),e=qo(t.transactionQueueTree_,e);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return;r=r.parent}}(e,function(e){Ma(t,e)}),Ma(t,e),function t(e,n,r,i){r&&!i&&n(e),Bo(e,function(e){t(e,n,!0,i)}),r&&i&&n(e)}(e,function(e){Ma(t,e)}),n}function Ma(e,t){var n=Wo(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(g(o===a-1,\"All SENT items should be at beginning of queue.\"),n[o=a].status=3,n[a].abortReason=\"set\"):(g(0===n[a].status,\"Unexpected transaction status in abort\"),n[a].unwatcher(),i=i.concat(ho(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error(\"set\"),!1,null))));-1===o?jo(t,void 0):n.length=o+1,la(e.eventQueue_,Vo(t),i);for(a=0;a<r.length;a++)Be(r[a])}}var Fa=function(e,t){var n=qa(e),r=n.namespace;\"firebase.com\"===n.domain&&Ne(n.host+\" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead\"),r&&\"undefined\"!==r||\"localhost\"===n.domain||Ne(\"Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com\"),n.secure||\"undefined\"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf(\"https:\")&&xe(\"Insecure Firebase access from a secure page. Please use https in calls to new Firebase().\");e=\"ws\"===n.scheme||\"wss\"===n.scheme;return{repoInfo:new Xe(n.host,n.secure,r,t,e,\"\",r!==n.subdomain),path:new xt(n.pathString)}},qa=function(e){var t,n,r,i=\"\",o=\"\",a=\"\",s=\"\",u=\"\",l=!0,h=\"https\",c=443;return\"string\"==typeof e&&(0<=(r=e.indexOf(\"//\"))&&(h=e.substring(0,r-1),e=e.substring(r+2)),-1===(t=e.indexOf(\"/\"))&&(t=e.length),-1===(n=e.indexOf(\"?\"))&&(n=e.length),i=e.substring(0,Math.min(t,n)),t<n&&(s=function(e){for(var t=\"\",n=e.split(\"/\"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\\+/g,\" \"))}catch(e){}t+=\"/\"+i}return t}(e.substring(t,n))),n=function(e){var t,n,r={};\"?\"===e.charAt(0)&&(e=e.substring(1));try{for(var i=_(e.split(\"&\")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split(\"=\")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):xe(\"Invalid query segment '\"+s+\"' in query '\"+e+\"'\"))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,n))),0<=(r=i.indexOf(\":\"))?(l=\"https\"===h||\"wss\"===h,c=parseInt(i.substring(r+1),10)):r=i.length,\"localhost\"===(r=i.slice(0,r)).toLowerCase()?o=\"localhost\":r.split(\".\").length<=2?o=r:(r=i.indexOf(\".\"),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),\"ns\"in n&&(u=n.ns)),{host:i,port:c,domain:o,subdomain:a,secure:l,scheme:h,pathString:s,namespace:u}},Wa=(ja.prototype.getPath=function(){var e=this.snapshot.ref;return(\"value\"===this.eventType?e:e.parent)._path},ja.prototype.getEventType=function(){return this.eventType},ja.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},ja.prototype.toString=function(){return this.getPath().toString()+\":\"+this.eventType+\":\"+x(this.snapshot.exportVal())},ja);function ja(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var Ua=(Ba.prototype.getPath=function(){return this.path},Ba.prototype.getEventType=function(){return\"cancel\"},Ba.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},Ba.prototype.toString=function(){return this.path.toString()+\":cancel\"},Ba);function Ba(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var Va=(za.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},za.prototype.onCancel=function(e){return g(this.hasCancelCallback,\"Raising a cancel event on a listener with no cancel callback\"),this.cancelCallback.call(null,e)},Object.defineProperty(za.prototype,\"hasCancelCallback\",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),za.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},za);function za(e,t){this.snapshotCallback=e,this.cancelCallback=t}var Ha=(Qa.prototype.cancel=function(){var e=new f;return Ta(this._repo,this._path,e.wrapCallback(function(){})),e.promise},Qa.prototype.remove=function(){ia(\"OnDisconnect.remove\",this._path);var e=new f;return Ea(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},Qa.prototype.set=function(e){ia(\"OnDisconnect.set\",this._path),ea(\"OnDisconnect.set\",e,this._path,!1);var t=new f;return Ea(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},Qa.prototype.setWithPriority=function(e,t){ia(\"OnDisconnect.setWithPriority\",this._path),ea(\"OnDisconnect.setWithPriority\",e,this._path,!1),Ko(\"OnDisconnect.setWithPriority\",t,!1);var n,r,i,o,a=new f;return n=this._repo,r=this._path,e=e,t=t,i=a.wrapCallback(function(){}),o=Hn(e,t),n.server_.onDisconnectPut(r.toString(),o.val(!0),function(e,t){\"ok\"===e&&kr(n.onDisconnect_,r,o),Pa(0,i,e,t)}),a.promise},Qa.prototype.update=function(e){ia(\"OnDisconnect.update\",this._path),Yo(\"OnDisconnect.update\",e,this._path,!1);var t=new f;return function(n,r,i,o){if(A(i))return ke(\"onDisconnect().update() called with empty data.  Don't do anything.\"),Pa(0,o,\"ok\",void 0);n.server_.onDisconnectMerge(r.toString(),i,function(e,t){\"ok\"===e&&Le(i,function(e,t){t=Hn(t);kr(n.onDisconnect_,Wt(r,e),t)}),Pa(0,o,e,t)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},Qa);function Qa(e,t){this._repo=e,this._path=t}var Ya=(Object.defineProperty(Ka.prototype,\"key\",{get:function(){return jt(this._path)?null:Mt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,\"ref\",{get:function(){return new Za(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,\"_queryIdentifier\",{get:function(){var e=wr(this._queryParams),e=Ae(e);return\"{}\"===e?\"default\":e},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,\"_queryObject\",{get:function(){return wr(this._queryParams)},enumerable:!1,configurable:!0}),Ka.prototype.isEqual=function(e){if(!((e=z(e))instanceof Ka))return!1;var t=this._repo===e._repo,n=Vt(this._path,e._path),e=this._queryIdentifier===e._queryIdentifier;return t&&n&&e},Ka.prototype.toJSON=function(){return this.toString()},Ka.prototype.toString=function(){return this._repo.toString()+function(e){for(var t=\"\",n=e.pieceNum_;n<e.pieces_.length;n++)\"\"!==e.pieces_[n]&&(t+=\"/\"+encodeURIComponent(String(e.pieces_[n])));return t||\"/\"}(this._path)},Ka);function Ka(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}function Ga(e,t){if(!0===e._orderByCalled)throw new Error(t+\": You can't combine multiple orderBy calls.\")}function $a(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===ln){var r=\"Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().\",i=\"Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.\";if(e.hasStart()){if(e.getIndexStartName()!==Re)throw new Error(r);if(\"string\"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==De)throw new Error(r);if(\"string\"!=typeof n)throw new Error(i)}}else if(e.getIndex()===Nn){if(null!=t&&!Zo(t)||null!=n&&!Zo(n))throw new Error(\"Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).\")}else if(g(e.getIndex()instanceof Kn||e.getIndex()===tr,\"unknown index type.\"),null!=t&&\"object\"==typeof t||null!=n&&\"object\"==typeof n)throw new Error(\"Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.\")}function Ja(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error(\"Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.\")}var Xa,Za=(n(es,Xa=Ya),Object.defineProperty(es.prototype,\"parent\",{get:function(){var e=qt(this._path);return null===e?null:new es(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(es.prototype,\"root\",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),es);function es(e,t){return Xa.call(this,e,t,new fr,!1)||this}var ts=(Object.defineProperty(ns.prototype,\"priority\",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(ns.prototype,\"key\",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(ns.prototype,\"size\",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),ns.prototype.child=function(e){var t=new xt(e),e=os(this.ref,e);return new ns(this._node.getChild(t),e,Nn)},ns.prototype.exists=function(){return!this._node.isEmpty()},ns.prototype.exportVal=function(){return this._node.val(!0)},ns.prototype.forEach=function(n){var r=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(e,t){return n(new ns(t,os(r.ref,e),Nn))})},ns.prototype.hasChild=function(e){e=new xt(e);return!this._node.getChild(e).isEmpty()},ns.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},ns.prototype.toJSON=function(){return this.exportVal()},ns.prototype.val=function(){return this._node.val()},ns);function ns(e,t,n){this._node=e,this.ref=t,this._index=n}function rs(e,t){return(e=z(e))._checkNotDeleted(\"ref\"),void 0!==t?os(e._root,t):e._root}function is(e,t){(e=z(e))._checkNotDeleted(\"refFromURL\");var n=Fa(t,e._repo.repoInfo_.nodeAdmin);oa(\"refFromURL\",n);t=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||t.host===e._repo.repoInfo_.host||Ne(\"refFromURL: Host name does not match the current database: (found \"+t.host+\" but expected \"+e._repo.repoInfo_.host+\")\"),rs(e,n.path.toString())}function os(e,t){return(null===Ot((e=z(e))._path)?ra:na)(\"child\",\"path\",t,!1),new Za(e._repo,Wt(e._path,t))}function as(e,t){e=z(e),ia(\"set\",e._path),ea(\"set\",t,e._path,!1);var n=new f;return ba(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function ss(e,t){Yo(\"update\",t,e._path,!1);var n=new f;return function(i,o,e,a){ka(i,\"update\",{path:o.toString(),value:e});var s,t,n=!0,r=va(i),u={};Le(e,function(e,t){n=!1,u[e]=Ao(Wt(o,e),Hn(t),i.serverSyncTree_,r)}),n?(ke(\"update() called with empty data.  Don't do anything.\"),Pa(0,a,\"ok\",void 0)):(s=Ca(i),t=lo(i.serverSyncTree_,o,u,s),sa(i.eventQueue_,t),i.server_.merge(o.toString(),e,function(e,t){var n=\"ok\"===e;n||xe(\"update at \"+o+\" failed: \"+e);var r=ho(i.serverSyncTree_,s,!n),n=0<r.length?Ra(i,o):o;la(i.eventQueue_,n,r),Pa(0,a,e,t)}),Le(e,function(e){e=La(i,Wt(o,e));Ra(i,e)}),la(i.eventQueue_,o,[]))}(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function us(t){return t=z(t),n=t._repo,r=t,(null!=(e=yo(n.serverSyncTree_,r))?Promise.resolve(e):n.server_.get(r).then(function(e){var t=Hn(e),e=co(n.serverSyncTree_,r._path,t);return ua(n.eventQueue_,r._path,e),Promise.resolve(t)},function(e){return ka(n,\"get for query \"+x(r)+\" failed: \"+e),Promise.reject(new Error(e))})).then(function(e){return new ts(e,new Za(t._repo,t._path),t._queryParams.getIndex())});var n,r,e}var ls=(hs.prototype.respondsTo=function(e){return\"value\"===e},hs.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Wa(\"value\",this,new ts(e.snapshotNode,new Za(t._repo,t._path),n))},hs.prototype.getEventRunner=function(e){var t=this;return\"cancel\"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},hs.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ua(this,e,t):null},hs.prototype.matches=function(e){return e instanceof hs&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},hs.prototype.hasAnyCallback=function(){return null!==this.callbackContext},hs);function hs(e){this.callbackContext=e}var cs=(ps.prototype.respondsTo=function(e){e=\"children_removed\"===(e=\"children_added\"===e?\"child_added\":e)?\"child_removed\":e;return this.eventType===e},ps.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Ua(this,e,t):null},ps.prototype.createEvent=function(e,t){g(null!=e.childName,\"Child events should have a childName.\");var n=os(new Za(t._repo,t._path),e.childName),t=t._queryParams.getIndex();return new Wa(e.type,this,new ts(e.snapshotNode,n,t),e.prevName)},ps.prototype.getEventRunner=function(e){var t=this;return\"cancel\"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},ps.prototype.matches=function(e){return e instanceof ps&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},ps.prototype.hasAnyCallback=function(){return!!this.callbackContext},ps);function ps(e,t){this.eventType=e,this.callbackContext=t}function ds(n,e,t,r,i){var o;\"object\"==typeof r&&(a=void 0,i=r),\"function\"==typeof r&&(a=r),i&&i.onlyOnce&&((i=function(e,t){Ia(n._repo,n,s),o(e,t)}).userCallback=(o=t).userCallback,i.context=t.context,t=i);var a,t=new Va(t,a||void 0),s=\"value\"===e?new ls(t):new cs(e,t);return a=n._repo,e=s,e=\".info\"===Ot((t=n)._path)?fo(a.infoSyncTree_,t,e):fo(a.serverSyncTree_,t,e),ua(a.eventQueue_,t._path,e),function(){return Ia(n._repo,n,s)}}function fs(e,t,n,r){return ds(e,\"value\",t,n,r)}function _s(e,t,n,r){return ds(e,\"child_added\",t,n,r)}function ys(e,t,n,r){return ds(e,\"child_changed\",t,n,r)}function vs(e,t,n,r){return ds(e,\"child_moved\",t,n,r)}function gs(e,t,n,r){return ds(e,\"child_removed\",t,n,r)}function ms(e,t,n){var r=null,n=n?new Va(n):null;\"value\"===t?r=new ls(n):t&&(r=new cs(t,n)),Ia(e._repo,e,r)}var ws,Ct=function(){},Cs=(n(bs,ws=Ct),bs.prototype._apply=function(e){ea(\"endAt\",this._value,e._path,!0);var t=vr(e._queryParams,this._value,this._key);if(Ja(t),$a(t),e._queryParams.hasEnd())throw new Error(\"endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).\");return new Ya(e._repo,e._path,t,e._orderByCalled)},bs);function bs(e,t){var n=ws.call(this)||this;return n._value=e,n._key=t,n}var Ts,Es=(n(Is,Ts=Ct),Is.prototype._apply=function(e){ea(\"endBefore\",this._value,e._path,!1);var t,n,r,r=(t=e._queryParams,n=this._value,r=this._key,(r=t.index_===ln?vr(t,n=\"string\"==typeof n?Xn(n):n,r):vr(t,n,null==r?Re:Xn(r))).endBeforeSet_=!0,r);if(Ja(r),$a(r),e._queryParams.hasEnd())throw new Error(\"endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).\");return new Ya(e._repo,e._path,r,e._orderByCalled)},Is);function Is(e,t){var n=Ts.call(this)||this;return n._value=e,n._key=t,n}var Ss,ks=(n(Ps,Ss=Ct),Ps.prototype._apply=function(e){ea(\"startAt\",this._value,e._path,!0);var t=yr(e._queryParams,this._value,this._key);if(Ja(t),$a(t),e._queryParams.hasStart())throw new Error(\"startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).\");return new Ya(e._repo,e._path,t,e._orderByCalled)},Ps);function Ps(e,t){var n=Ss.call(this)||this;return n._value=e,n._key=t,n}var Ns,xs=(n(Rs,Ns=Ct),Rs.prototype._apply=function(e){ea(\"startAfter\",this._value,e._path,!1);var t,n,r,r=(t=e._queryParams,n=this._value,r=this._key,(r=t.index_===ln?yr(t,n=\"string\"==typeof n?Jn(n):n,r):yr(t,n,null==r?De:Jn(r))).startAfterSet_=!0,r);if(Ja(r),$a(r),e._queryParams.hasStart())throw new Error(\"startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).\");return new Ya(e._repo,e._path,r,e._orderByCalled)},Rs);function Rs(e,t){var n=Ns.call(this)||this;return n._value=e,n._key=t,n}var Ds,Os=(n(As,Ds=Ct),As.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error(\"limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).\");return new Ya(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_=\"l\",t),e._orderByCalled);var t,n},As);function As(e){var t=Ds.call(this)||this;return t._limit=e,t}var Ls,Ms=(n(Fs,Ls=Ct),Fs.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error(\"limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).\");return new Ya(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_=\"r\",t),e._orderByCalled);var t,n},Fs);function Fs(e){var t=Ls.call(this)||this;return t._limit=e,t}var qs,Ws=(n(js,qs=Ct),js.prototype._apply=function(e){Ga(e,\"orderByChild\");var t=new xt(this._path);if(jt(t))throw new Error(\"orderByChild: cannot pass in empty path. Use orderByValue() instead.\");t=new Kn(t),t=gr(e._queryParams,t);return $a(t),new Ya(e._repo,e._path,t,!0)},js);function js(e){var t=qs.call(this)||this;return t._path=e,t}var Us,Bs=(n(Vs,Us=Ct),Vs.prototype._apply=function(e){Ga(e,\"orderByKey\");var t=gr(e._queryParams,ln);return $a(t),new Ya(e._repo,e._path,t,!0)},Vs);function Vs(){return null!==Us&&Us.apply(this,arguments)||this}var zs,Hs=(n(Qs,zs=Ct),Qs.prototype._apply=function(e){Ga(e,\"orderByPriority\");var t=gr(e._queryParams,Nn);return $a(t),new Ya(e._repo,e._path,t,!0)},Qs);function Qs(){return null!==zs&&zs.apply(this,arguments)||this}var Ys,Ks=(n(Gs,Ys=Ct),Gs.prototype._apply=function(e){Ga(e,\"orderByValue\");var t=gr(e._queryParams,tr);return $a(t),new Ya(e._repo,e._path,t,!0)},Gs);function Gs(){return null!==Ys&&Ys.apply(this,arguments)||this}var $s,Js,Xs,Zs=(n(eu,$s=Ct),eu.prototype._apply=function(e){if(ea(\"equalTo\",this._value,e._path,!1),e._queryParams.hasStart())throw new Error(\"equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).\");if(e._queryParams.hasEnd())throw new Error(\"equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).\");return new Cs(this._value,this._key)._apply(new ks(this._value,this._key)._apply(e))},eu);function eu(e,t){var n=$s.call(this)||this;return n._value=e,n._key=t,n}function tu(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=z(e);try{for(var a=_(r),s=a.next();!s.done;s=a.next())o=s.value._apply(o)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}Js=Za,g(!Ui,\"__referenceConstructor has already been defined\"),Ui=Js,Xs=Za,g(!Ki,\"__referenceConstructor has already been defined\"),Ki=Xs;var nu=\"FIREBASE_DATABASE_EMULATOR_HOST\",ru={},iu=!1;function ou(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Ne(\"Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp().\"),ke(\"Using default host for project \",e.options.projectId),o=e.options.projectId+\"-default-rtdb.firebaseio.com\");var a,s=Fa(o,i),u=s.repoInfo,r=void 0;(r=\"undefined\"!=typeof process?process.env[nu]:r)?(a=!0,o=\"http://\"+r+\"?ns=\"+u.namespace,u=(s=Fa(o,i)).repoInfo):a=!s.repoInfo.secure;t=i&&a?new Ye(Ye.OWNER):new He(e.name,e.options,t);oa(\"Invalid Firebase Database URL\",s),jt(s.path)||Ne(\"Database URL must point to the root of a Firebase Database (not including a child path).\");n=function(e,t,n,r){var i=ru[t.name];i||(i={},ru[t.name]=i);t=i[e.toURLString()];t&&Ne(\"Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.\");return t=new da(e,iu,n,r),i[e.toURLString()]=t}(u,e,t,new Ve(e.name,n));return new au(n,e)}var au=(Object.defineProperty(su.prototype,\"_repo\",{get:function(){return this._instanceStarted||(_a(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(su.prototype,\"_root\",{get:function(){return this._rootInternal||(this._rootInternal=new Za(this._repo,Dt())),this._rootInternal},enumerable:!1,configurable:!0}),su.prototype._delete=function(){var e,t,n;return this._checkNotDeleted(\"delete\"),e=this._repo,t=this.app.name,(n=ru[t])&&n[e.key]===e||Ne(\"Database \"+t+\"(\"+e.repoInfo_+\") has already been deleted.\"),Sa(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},su.prototype._checkNotDeleted=function(e){null===this._rootInternal&&Ne(\"Cannot call \"+e+\" on a deleted database.\")},su);function su(e,t){this._repoInternal=e,this.app=t,this.type=\"database\",this._instanceStarted=!1}function uu(e,t,n,r){void 0===r&&(r={}),(e=z(e))._checkNotDeleted(\"useEmulator\"),e._instanceStarted&&Ne(\"Cannot call useEmulator() after instance has already been initialized.\");var i=e._repoInternal,o=void 0;i.repoInfo_.nodeAdmin?(r.mockUserToken&&Ne('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the \"firebase\" package instead of \"firebase-admin\".'),o=new Ye(Ye.OWNER)):r.mockUserToken&&(e=function(e,t){if(e.uid)throw new Error('The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.');var n=t||\"demo-project\",r=e.iat||0;if(!(t=e.sub||e.user_id))throw new Error(\"mockUserToken must contain 'sub' or 'user_id' field!\");return e=l({iss:\"https://securetoken.google.com/\"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:t,user_id:t,firebase:{sign_in_provider:\"custom\",identities:{}}},e),[h.encodeString(JSON.stringify({alg:\"none\",type:\"JWT\"}),!1),h.encodeString(JSON.stringify(e),!1),\"\"].join(\".\")}(r.mockUserToken,e.app.options.projectId),o=new Ye(e)),t=t,n=n,o=o,(i=i).repoInfo_=new Xe(t+\":\"+n,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}function lu(e){(e=z(e))._checkNotDeleted(\"goOnline\"),(e=e._repo).persistentConnection_&&e.persistentConnection_.resume(ca)}var hu={\".sv\":\"timestamp\"};var cu=(pu.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},pu);function pu(e,t){this.committed=e,this.snapshot=t}function du(i,e,t){if(i=z(i),ia(\"Reference.transaction\",i._path),\".length\"===i.key||\".keys\"===i.key)throw\"Reference.transaction failed: \"+i.key+\" is a read-only object.\";var t=null===(n=null==t?void 0:t.applyLocally)||void 0===n||n,o=new f,n=fs(i,function(){});return function(e,t,n,r,i,o){ka(e,\"transaction on \"+t);var a={path:t,update:n,onComplete:r,status:null,order:Te(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},n=Na(e,t,void 0);a.currentInputSnapshot=n,void 0===(r=a.update(n.val()))?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot)):(ta(\"transaction failed: Data returned \",r,a.path),a.status=0,(i=Wo(o=qo(e.transactionQueueTree_,t))||[]).push(a),jo(o,i),o=void 0,\"object\"==typeof r&&null!==r&&D(r,\".priority\")?(o=O(r,\".priority\"),g(Zo(o),\"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.\")):o=(_o(e.serverSyncTree_,t)||jn.EMPTY_NODE).getPriority().val(),i=va(e),o=Hn(r,o),i=Lo(o,n,i),a.currentOutputSnapshotRaw=o,a.currentOutputSnapshotResolved=i,a.currentWriteId=Ca(e),a=uo(e.serverSyncTree_,t,i,a.currentWriteId,a.applyLocally),la(e.eventQueue_,t,a),xa(e,e.transactionQueueTree_))}(i._repo,i._path,e,function(e,t,n){var r;e?o.reject(e):(r=new ts(n,new Za(i._repo,i._path),Nn),o.resolve(new cu(t,r)))},n,t),o.promise}var fu=(_u.prototype.cancel=function(t){W(\"OnDisconnect.cancel\",0,1,arguments.length),U(\"OnDisconnect.cancel\",\"onComplete\",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},_u.prototype.remove=function(t){W(\"OnDisconnect.remove\",0,1,arguments.length),U(\"OnDisconnect.remove\",\"onComplete\",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},_u.prototype.set=function(e,t){W(\"OnDisconnect.set\",1,2,arguments.length),U(\"OnDisconnect.set\",\"onComplete\",t,!0);e=this._delegate.set(e);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},_u.prototype.setWithPriority=function(e,t,n){W(\"OnDisconnect.setWithPriority\",2,3,arguments.length),U(\"OnDisconnect.setWithPriority\",\"onComplete\",n,!0);t=this._delegate.setWithPriority(e,t);return n&&t.then(function(){return n(null)},function(e){return n(e)}),t},_u.prototype.update=function(e,t){if(W(\"OnDisconnect.update\",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[\"\"+r]=e[r];e=n,xe(\"Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}U(\"OnDisconnect.update\",\"onComplete\",t,!0);var i=this._delegate.update(e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},_u);function _u(e){this._delegate=e}var yu=(vu.prototype.toJSON=function(){return W(\"TransactionResult.toJSON\",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},vu);function vu(e,t){this.committed=e,this.snapshot=t}var gu=(mu.prototype.val=function(){return W(\"DataSnapshot.val\",0,0,arguments.length),this._delegate.val()},mu.prototype.exportVal=function(){return W(\"DataSnapshot.exportVal\",0,0,arguments.length),this._delegate.exportVal()},mu.prototype.toJSON=function(){return W(\"DataSnapshot.toJSON\",0,1,arguments.length),this._delegate.toJSON()},mu.prototype.exists=function(){return W(\"DataSnapshot.exists\",0,0,arguments.length),this._delegate.exists()},mu.prototype.child=function(e){return W(\"DataSnapshot.child\",0,1,arguments.length),e=String(e),na(\"DataSnapshot.child\",\"path\",e,!1),new mu(this._database,this._delegate.child(e))},mu.prototype.hasChild=function(e){return W(\"DataSnapshot.hasChild\",1,1,arguments.length),na(\"DataSnapshot.hasChild\",\"path\",e,!1),this._delegate.hasChild(e)},mu.prototype.getPriority=function(){return W(\"DataSnapshot.getPriority\",0,0,arguments.length),this._delegate.priority},mu.prototype.forEach=function(t){var n=this;return W(\"DataSnapshot.forEach\",1,1,arguments.length),U(\"DataSnapshot.forEach\",\"action\",t,!1),this._delegate.forEach(function(e){return t(new mu(n._database,e))})},mu.prototype.hasChildren=function(){return W(\"DataSnapshot.hasChildren\",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(mu.prototype,\"key\",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),mu.prototype.numChildren=function(){return W(\"DataSnapshot.numChildren\",0,0,arguments.length),this._delegate.size},mu.prototype.getRef=function(){return W(\"DataSnapshot.ref\",0,0,arguments.length),new Tu(this._database,this._delegate.ref)},Object.defineProperty(mu.prototype,\"ref\",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),mu);function mu(e,t){this._database=e,this._delegate=t}var wu=(Cu.prototype.on=function(e,n,t,r){var i=this;W(\"Query.on\",2,4,arguments.length),U(\"Query.on\",\"callback\",n,!1);function o(e,t){n.call(a.context,new gu(i.database,e),t)}var a=Cu.getCancelAndContextArgs_(\"Query.on\",t,r);o.userCallback=n,o.context=a.context;var s=null===(r=a.cancel)||void 0===r?void 0:r.bind(a.context);switch(e){case\"value\":return fs(this._delegate,o,s),n;case\"child_added\":return _s(this._delegate,o,s),n;case\"child_removed\":return gs(this._delegate,o,s),n;case\"child_changed\":return ys(this._delegate,o,s),n;case\"child_moved\":return vs(this._delegate,o,s),n;default:throw new Error(j(\"Query.on\",\"eventType\")+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}},Cu.prototype.off=function(e,t,n){var r;W(\"Query.off\",0,3,arguments.length),function(e,t,n){if(!n||void 0!==t)switch(t){case\"value\":case\"child_added\":case\"child_removed\":case\"child_changed\":case\"child_moved\":break;default:throw new Error(j(e,\"eventType\")+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}}(\"Query.off\",e,!0),U(\"Query.off\",\"callback\",t,!0),B(\"Query.off\",\"context\",n,!0),t?((r=function(){}).userCallback=t,r.context=n,ms(this._delegate,e,r)):ms(this._delegate,e)},Cu.prototype.get=function(){var t=this;return us(this._delegate).then(function(e){return new gu(t.database,e)})},Cu.prototype.once=function(e,n,t,r){var i=this;W(\"Query.once\",1,4,arguments.length),U(\"Query.once\",\"callback\",n,!0);function o(e,t){e=new gu(i.database,e),n&&n.call(a.context,e,t),s.resolve(e)}var a=Cu.getCancelAndContextArgs_(\"Query.once\",t,r),s=new f;o.userCallback=n,o.context=a.context;function u(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)}switch(e){case\"value\":fs(this._delegate,o,u,{onlyOnce:!0});break;case\"child_added\":_s(this._delegate,o,u,{onlyOnce:!0});break;case\"child_removed\":gs(this._delegate,o,u,{onlyOnce:!0});break;case\"child_changed\":ys(this._delegate,o,u,{onlyOnce:!0});break;case\"child_moved\":vs(this._delegate,o,u,{onlyOnce:!0});break;default:throw new Error(j(\"Query.once\",\"eventType\")+'must be a valid event type = \"value\", \"child_added\", \"child_removed\", \"child_changed\", or \"child_moved\".')}return s.promise},Cu.prototype.limitToFirst=function(e){return W(\"Query.limitToFirst\",1,1,arguments.length),new Cu(this.database,tu(this._delegate,function(e){if(\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"limitToFirst: First argument must be a positive integer.\");return new Os(e)}(e)))},Cu.prototype.limitToLast=function(e){return W(\"Query.limitToLast\",1,1,arguments.length),new Cu(this.database,tu(this._delegate,function(e){if(\"number\"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error(\"limitToLast: First argument must be a positive integer.\");return new Ms(e)}(e)))},Cu.prototype.orderByChild=function(e){return W(\"Query.orderByChild\",1,1,arguments.length),new Cu(this.database,tu(this._delegate,function(e){if(\"$key\"===e)throw new Error('orderByChild: \"$key\" is invalid.  Use orderByKey() instead.');if(\"$priority\"===e)throw new Error('orderByChild: \"$priority\" is invalid.  Use orderByPriority() instead.');if(\"$value\"===e)throw new Error('orderByChild: \"$value\" is invalid.  Use orderByValue() instead.');return na(\"orderByChild\",\"path\",e,!1),new Ws(e)}(e)))},Cu.prototype.orderByKey=function(){return W(\"Query.orderByKey\",0,0,arguments.length),new Cu(this.database,tu(this._delegate,new Bs))},Cu.prototype.orderByPriority=function(){return W(\"Query.orderByPriority\",0,0,arguments.length),new Cu(this.database,tu(this._delegate,new Hs))},Cu.prototype.orderByValue=function(){return W(\"Query.orderByValue\",0,0,arguments.length),new Cu(this.database,tu(this._delegate,new Ks))},Cu.prototype.startAt=function(e,t){return void 0===e&&(e=null),W(\"Query.startAt\",0,2,arguments.length),new Cu(this.database,tu(this._delegate,(void 0===(e=e)&&(e=null),Go(\"startAt\",\"key\",t=t,!0),new ks(e,t))))},Cu.prototype.startAfter=function(e,t){return void 0===e&&(e=null),W(\"Query.startAfter\",0,2,arguments.length),new Cu(this.database,tu(this._delegate,(e=e,Go(\"startAfter\",\"key\",t=t,!0),new xs(e,t))))},Cu.prototype.endAt=function(e,t){return void 0===e&&(e=null),W(\"Query.endAt\",0,2,arguments.length),new Cu(this.database,tu(this._delegate,(e=e,Go(\"endAt\",\"key\",t=t,!0),new Cs(e,t))))},Cu.prototype.endBefore=function(e,t){return void 0===e&&(e=null),W(\"Query.endBefore\",0,2,arguments.length),new Cu(this.database,tu(this._delegate,(e=e,Go(\"endBefore\",\"key\",t=t,!0),new Es(e,t))))},Cu.prototype.equalTo=function(e,t){return W(\"Query.equalTo\",1,2,arguments.length),new Cu(this.database,tu(this._delegate,(e=e,Go(\"equalTo\",\"key\",t=t,!0),new Zs(e,t))))},Cu.prototype.toString=function(){return W(\"Query.toString\",0,0,arguments.length),this._delegate.toString()},Cu.prototype.toJSON=function(){return W(\"Query.toJSON\",0,1,arguments.length),this._delegate.toJSON()},Cu.prototype.isEqual=function(e){if(W(\"Query.isEqual\",1,1,arguments.length),e instanceof Cu)return this._delegate.isEqual(e._delegate);throw new Error(\"Query.isEqual failed: First argument must be an instance of firebase.database.Query.\")},Cu.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,U(e,\"cancel\",r.cancel,!0),r.context=n,B(e,\"context\",r.context,!0);else if(t)if(\"object\"==typeof t&&null!==t)r.context=t;else{if(\"function\"!=typeof t)throw new Error(j(e,\"cancelOrContext\")+\" must either be a cancel callback or a context object.\");r.cancel=t}return r},Object.defineProperty(Cu.prototype,\"ref\",{get:function(){return new Tu(this.database,new Za(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),Cu);function Cu(e,t){this.database=e,this._delegate=t}var bu,Tu=(n(Eu,bu=wu),Eu.prototype.getKey=function(){return W(\"Reference.key\",0,0,arguments.length),this._delegate.key},Eu.prototype.child=function(e){return W(\"Reference.child\",1,1,arguments.length),\"number\"==typeof e&&(e=String(e)),new Eu(this.database,os(this._delegate,e))},Eu.prototype.getParent=function(){W(\"Reference.parent\",0,0,arguments.length);var e=this._delegate.parent;return e?new Eu(this.database,e):null},Eu.prototype.getRoot=function(){return W(\"Reference.root\",0,0,arguments.length),new Eu(this.database,this._delegate.root)},Eu.prototype.set=function(e,t){W(\"Reference.set\",1,2,arguments.length),U(\"Reference.set\",\"onComplete\",t,!0);e=as(this._delegate,e);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},Eu.prototype.update=function(e,t){if(W(\"Reference.update\",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[\"\"+r]=e[r];e=n,xe(\"Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.\")}ia(\"Reference.update\",this._delegate._path),U(\"Reference.update\",\"onComplete\",t,!0);var i=ss(this._delegate,e);return t&&i.then(function(){return t(null)},function(e){return t(e)}),i},Eu.prototype.setWithPriority=function(e,t,n){W(\"Reference.setWithPriority\",2,3,arguments.length),U(\"Reference.setWithPriority\",\"onComplete\",n,!0);t=function(e,t,n){if(ia(\"setWithPriority\",e._path),ea(\"setWithPriority\",t,e._path,!1),Ko(\"setWithPriority\",n,!1),\".length\"===e.key||\".keys\"===e.key)throw\"setWithPriority failed: \"+e.key+\" is a read-only object.\";var r=new f;return ba(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}(this._delegate,e,t);return n&&t.then(function(){return n(null)},function(e){return n(e)}),t},Eu.prototype.remove=function(t){W(\"Reference.remove\",0,1,arguments.length),U(\"Reference.remove\",\"onComplete\",t,!0);var e,e=(e=this._delegate,ia(\"remove\",e._path),as(e,null));return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},Eu.prototype.transaction=function(e,t,n){var r=this;W(\"Reference.transaction\",1,3,arguments.length),U(\"Reference.transaction\",\"transactionUpdate\",e,!1),U(\"Reference.transaction\",\"onComplete\",t,!0),function(e,t,n,r){if((!r||void 0!==n)&&\"boolean\"!=typeof n)throw new Error(j(e,t)+\"must be a boolean.\")}(\"Reference.transaction\",\"applyLocally\",n,!0);n=du(this._delegate,e,{applyLocally:n}).then(function(e){return new yu(e.committed,new gu(r.database,e.snapshot))});return t&&n.then(function(e){return t(null,e.committed,e.snapshot)},function(e){return t(e,!1,null)}),n},Eu.prototype.setPriority=function(e,t){W(\"Reference.setPriority\",1,2,arguments.length),U(\"Reference.setPriority\",\"onComplete\",t,!0);e=function(e,t){e=z(e),ia(\"setPriority\",e._path),Ko(\"setPriority\",t,!1);var n=new f;return ba(e._repo,Wt(e._path,\".priority\"),t,null,n.wrapCallback(function(){})),n.promise}(this._delegate,e);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},Eu.prototype.push=function(e,t){var n=this;W(\"Reference.push\",0,2,arguments.length),U(\"Reference.push\",\"onComplete\",t,!0);var r=function(e,t){e=z(e),ia(\"push\",e._path),ea(\"push\",t,e._path,!0);var n=ya(e._repo),r=rr(n),n=os(e,r),i=os(e,r),t=null!=t?as(i,t).then(function(){return i}):Promise.resolve(i);return n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),n}(this._delegate,e),e=r.then(function(e){return new Eu(n.database,e)});t&&e.then(function(){return t(null)},function(e){return t(e)});r=new Eu(this.database,r);return r.then=e.then.bind(e),r.catch=e.catch.bind(e,void 0),r},Eu.prototype.onDisconnect=function(){return ia(\"Reference.onDisconnect\",this._delegate._path),new fu(new Ha(this._delegate._repo,this._delegate._path))},Object.defineProperty(Eu.prototype,\"key\",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(Eu.prototype,\"parent\",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(Eu.prototype,\"root\",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),Eu);function Eu(e,t){var n=bu.call(this,e,new Ya(t._repo,t._path,new fr,!1))||this;return n.database=e,n._delegate=t,n}var Iu=(Su.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),uu(this._delegate,e,t,n)},Su.prototype.ref=function(e){if(W(\"database.ref\",0,1,arguments.length),e instanceof Tu){var t=is(this._delegate,e.toString());return new Tu(this,t)}t=rs(this._delegate,e);return new Tu(this,t)},Su.prototype.refFromURL=function(e){W(\"database.refFromURL\",1,1,arguments.length);e=is(this._delegate,e);return new Tu(this,e)},Su.prototype.goOffline=function(){var e;W(\"database.goOffline\",0,0,arguments.length),(e=z(e=this._delegate))._checkNotDeleted(\"goOffline\"),Sa(e._repo)},Su.prototype.goOnline=function(){return W(\"database.goOnline\",0,0,arguments.length),lu(this._delegate)},Su.ServerValue={TIMESTAMP:hu,increment:function(e){return{\".sv\":{increment:e}}}},Su);function Su(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}var ku=Object.freeze({__proto__:null,forceLongPolling:function(){_t.forceDisallow(),ht.forceAllow()},forceWebSockets:function(){ht.forceDisallow()},isWebSocketsAvailable:function(){return _t.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){var i;e=e._delegate._repo,void 0===(t=t)&&(t=!1),\"undefined\"!=typeof console&&(e=t?(e.statsListener_||(e.statsListener_=new Nr(e.stats_)),e.statsListener_.get()):e.stats_.get(),i=Object.keys(e).reduce(function(e,t){return Math.max(t.length,e)},0),Le(e,function(e,t){for(var n=e,r=e.length;r<i+2;r++)n+=\" \";console.log(n+t)}))},statsIncrementCounter:function(e,t){e=e._delegate._repo,t=t,e.stats_.incrementCounter(t),e=e.statsReporter_,t=t,e.statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){e=e._delegate._repo,t=t,e.interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace,e=void 0!==(e=e.nodeAdmin)&&e;return ae(r),(r=new K(\"auth-internal\",new J(\"database-standalone\"))).setComponent(new H(\"auth-internal\",function(){return i},\"PRIVATE\")),{instance:new Iu(ou(t,r,void 0,n,e),t),namespace:o}}}),Ct=en;en.prototype.simpleListen=function(e,t){this.sendRequest(\"q\",{p:e},t)},en.prototype.echo=function(e,t){this.sendRequest(\"echo\",{d:e},t)};var Pu,Nu=Object.freeze({__proto__:null,DataConnection:Ct,RealTimeConnection:mt,hijackHash:function(i){var o=en.prototype.put;return en.prototype.put=function(e,t,n,r){void 0!==r&&(r=i()),o.call(this,e,t,n,r)},function(){en.prototype.put=o}},ConnectionTarget:Xe,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){iu=e}}),xu=Iu.ServerValue;ae((Pu=t.default).SDK_VERSION),Pu.INTERNAL.registerComponent(new H(\"database\",function(e,t){var n=t.instanceIdentifier,r=e.getProvider(\"app\").getImmediate(),t=e.getProvider(\"auth-internal\"),e=e.getProvider(\"app-check-internal\");return new Iu(ou(r,t,e,n),r)},\"PUBLIC\").setServiceProps({Reference:Tu,Query:wu,Database:Iu,DataSnapshot:gu,enableLogging:pe,INTERNAL:ku,ServerValue:xu,TEST_ACCESS:Nu}).setMultipleInstances(!0)),Pu.registerVersion(\"@firebase/database\",\"0.10.1\")}.apply(this,arguments)}catch(e){throw console.error(e),new Error(\"Cannot instantiate firebase-database.js - be sure to load firebase-app.js first.\")}});\n//# sourceMappingURL=firebase-database.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2ZpcmViYXNlL2ZpcmViYXNlLWRhdGFiYXNlLmpzP2FlOGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLGVBQWUsS0FBb0QsR0FBRyxtQkFBTyxDQUFDLHFFQUFlLEdBQUcsQ0FBbUksQ0FBQyxtQkFBbUIsYUFBYSxJQUFJLFlBQVksY0FBYywrQ0FBK0MsV0FBVyw0QkFBNEIsaUNBQWlDLGFBQWEsZ0NBQWdDLGNBQWMsZ0JBQWdCLHNFQUFzRSxRQUFRLGdCQUFnQix3SEFBd0gsYUFBYSxtQkFBbUIsNkVBQTZFLGlCQUFpQixvQ0FBb0MsaUNBQWlDLElBQUksdUZBQXVGLFNBQVMseUJBQXlCLG9CQUFvQix1Q0FBdUMsY0FBYyxJQUFJLGFBQWEsU0FBUyxNQUFNLGNBQWMsSUFBSSxjQUFjLFNBQVMsTUFBTSxjQUFjLE1BQU0sK0RBQStELEtBQUssYUFBYSwrQkFBK0IsRUFBRSxnQkFBZ0IsYUFBYSx3QkFBd0IscUJBQXFCLFlBQVksZ0JBQWdCLElBQUksa0NBQWtDLGdFQUFnRSxZQUFZLElBQUksY0FBYyxtQkFBbUIsbUJBQW1CLDREQUE0RCxLQUFLLEVBQUUsS0FBSyxrSEFBa0gsd0NBQXdDLGtCQUFrQixNQUFNLHlCQUF5QixvQkFBb0IsOEJBQThCLFNBQVMsa0NBQWtDLFNBQVMsMEVBQTBFLElBQUksU0FBUyx5Q0FBeUMsYUFBYSxNQUFNLDJCQUEyQixpQkFBaUIsTUFBTSxvQkFBb0IsMkJBQTJCLE1BQU0sK0JBQStCLFNBQVMsY0FBYyxTQUFTLFlBQVksUUFBUSxNQUFNLHFCQUFxQixPQUFPLGdDQUFnQyxVQUFVLGNBQWMsK0RBQStELHNCQUFzQix1Q0FBdUMsZ0JBQWdCLE9BQU8scURBQXFELG1GQUFtRixnQkFBZ0Isb0RBQW9ELGVBQWUseUJBQXlCLElBQUksS0FBSyx3Q0FBd0MsaUJBQWlCLFNBQVMsR0FBRyxTQUFTLFFBQVEsSUFBSSxvQ0FBb0MsUUFBUSxvQkFBb0IsU0FBUyxnQkFB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QWlELG9DQUFvQyw2QkFBNkIsTUFBTSxvQkFBb0IsNEZBQTRGLHdJQUF3SSw2QkFBNkIsNEJBQTRCLDZHQUE2Ryw4RUFBOEUsdUJBQXVCLFNBQVMsc0hBQXNIO0FBQ3Y3dEwiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvZmlyZWJhc2UtZGF0YWJhc2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT90KHJlcXVpcmUoXCJAZmlyZWJhc2UvYXBwXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcIkBmaXJlYmFzZS9hcHBcIl0sdCk6dCgoZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOmV8fHNlbGYpLmZpcmViYXNlKX0odGhpcyxmdW5jdGlvbihSdSl7XCJ1c2Ugc3RyaWN0XCI7dHJ5eyFmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImRlZmF1bHRcImluIGU/ZTp7ZGVmYXVsdDplfX12YXIgdD1lKFJ1KSxyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfSkoZSx0KX07ZnVuY3Rpb24gbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyh0KStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9cihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KG4ucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBuKX12YXIgbD1mdW5jdGlvbigpe3JldHVybihsPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIHQ9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gaShlLGEscyx1KXtyZXR1cm4gbmV3KHM9c3x8UHJvbWlzZSkoZnVuY3Rpb24obix0KXtmdW5jdGlvbiByKGUpe3RyeXtvKHUubmV4dChlKSl9Y2F0Y2goZSl7dChlKX19ZnVuY3Rpb24gaShlKXt0cnl7byh1LnRocm93KGUpKX1jYXRjaChlKXt0KGUpfX1mdW5jdGlvbiBvKGUpe3ZhciB0O2UuZG9uZT9uKGUudmFsdWUpOigodD1lLnZhbHVlKWluc3RhbmNlb2Ygcz90Om5ldyBzKGZ1bmN0aW9uKGUpe2UodCl9KSkudGhlbihyLGkpfW8oKHU9dS5hcHBseShlLGF8fFtdKSkubmV4dCgpKX0pfWZ1bmN0aW9uIHAobixyKXt2YXIgaSxvLGEscz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZhWzBdKXRocm93IGFbMV07cmV0dXJuIGFbMV19LHRyeXM6W10sb3BzOltdfSxlPXtuZXh0OnQoMCksdGhyb3c6dCgxKSxyZXR1cm46dCgyKX07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxlO2Z1bmN0aW9uIHQodCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7czspdHJ5e2lmKGk9MSxvJiYoYT0yJnRbMF0/by5yZXR1cm46dFswXT9vLnRocm93fHwoKGE9by5yZXR1cm4pJiZhLmNhbGwobyksMCk6by5uZXh0KSYmIShhPWEuY2FsbChvLHRbMV0pKS5kb25lKXJldHVybiBhO3N3aXRjaChvPTAsKHQ9YT9bMiZ0WzBdLGEudmFsdWVdOnQpWzBdKXtjYXNlIDA6Y2FzZSAxOmE9dDticmVhaztjYXNlIDQ6cmV0dXJuIHMubGFiZWwrKyx7dmFsdWU6dFsxXSxkb25lOiExfTtjYXNlIDU6cy5sYWJlbCsrLG89dFsxXSx0PVswXTtjb250aW51ZTtjYXNlIDc6dD1zLm9wcy5wb3AoKSxzLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKGE9MDwoYT1zLnRyeXMpLmxlbmd0aCYmYVthLmxlbmd0aC0xXSkmJig2PT09dFswXXx8Mj09PXRbMF0pKXtzPTA7Y29udGludWV9aWYoMz09PXRbMF0mJighYXx8dFsxXT5hWzBdJiZ0WzFdPGFbM10pKXtzLmxhYmVsPXRbMV07YnJlYWt9aWYoNj09PXRbMF0mJnMubGFiZWw8YVsxXSl7cy5sYWJlbD1hWzFdLGE9dDticmVha31pZihhJiZzLmxhYmVsPGFbMl0pe3MubGFiZWw9YVsyXSxzLm9wcy5wdXNoKHQpO2JyZWFrfWFbMl0mJnMub3BzLnBvcCgpLHMudHJ5cy5wb3AoKTtjb250aW51ZX10PXIuY2FsbChuLHMpfWNhdGNoKGUpe3Q9WzYsZV0sbz0wfWZpbmFsbHl7aT1hPTB9aWYoNSZ0WzBdKXRocm93IHRbMV07cmV0dXJue3ZhbHVlOnRbMF0/dFsxXTp2b2lkIDAsZG9uZTohMH19KFt0LGVdKX19fWZ1bmN0aW9uIF8oZSl7dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3Isbj10JiZlW3RdLHI9MDtpZihuKXJldHVybiBuLmNhbGwoZSk7aWYoZSYmXCJudW1iZXJcIj09dHlwZW9mIGUubGVuZ3RoKXJldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue3ZhbHVlOihlPWUmJnI+PWUubGVuZ3RoP3ZvaWQgMDplKSYmZVtyKytdLGRvbmU6IWV9fX07dGhyb3cgbmV3IFR5cGVFcnJvcih0P1wiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIjpcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIil9ZnVuY3Rpb24geShlLHQpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdO2lmKCFuKXJldHVybiBlO3ZhciByLGksbz1uLmNhbGwoZSksYT1bXTt0cnl7Zm9yKDsodm9pZCAwPT09dHx8MDx0LS0pJiYhKHI9by5uZXh0KCkpLmRvbmU7KWEucHVzaChyLnZhbHVlKX1jYXRjaChlKXtpPXtlcnJvcjplfX1maW5hbGx5e3RyeXtyJiYhci5kb25lJiYobj1vLnJldHVybikmJm4uY2FsbChvKX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19cmV0dXJuIGF9ZnVuY3Rpb24gYShlLHQpe2Zvcih2YXIgbj0wLHI9dC5sZW5ndGgsaT1lLmxlbmd0aDtuPHI7bisrLGkrKyllW2ldPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQ9W10sbj0wLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9ZS5jaGFyQ29kZUF0KHIpO2k8MTI4P3RbbisrXT1pOihpPDIwNDg/dFtuKytdPWk+PjZ8MTkyOig1NTI5Nj09KDY0NTEyJmkpJiZyKzE8ZS5sZW5ndGgmJjU2MzIwPT0oNjQ1MTImZS5jaGFyQ29kZUF0KHIrMSkpPyhpPTY1NTM2KygoMTAyMyZpKTw8MTApKygxMDIzJmUuY2hhckNvZGVBdCgrK3IpKSx0W24rK109aT4+MTh8MjQwLHRbbisrXT1pPj4xMiY2M3wxMjgpOnRbbisrXT1pPj4xMnwyMjQsdFtuKytdPWk+PjYmNjN8MTI4KSx0W24rK109NjMmaXwxMjgpfXJldHVybiB0fWZ1bmN0aW9uIHMoZSl7dHJ5e3JldHVybiBoLmRlY29kZVN0cmluZyhlLCEwKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsZSl9cmV0dXJuIG51bGx9dmFyIHU9e05PREVfQ0xJRU5UOiExLE5PREVfQURNSU46ITEsU0RLX1ZFUlNJT046XCIke0pTQ09SRV9WRVJTSU9OfVwifSxnPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbSh0KX0sbT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IEVycm9yKFwiRmlyZWJhc2UgRGF0YWJhc2UgKFwiK3UuU0RLX1ZFUlNJT04rXCIpIElOVEVSTkFMIEFTU0VSVCBGQUlMRUQ6IFwiK2UpfSxoPXtieXRlVG9DaGFyTWFwXzpudWxsLGNoYXJUb0J5dGVNYXBfOm51bGwsYnl0ZVRvQ2hhck1hcFdlYlNhZmVfOm51bGwsY2hhclRvQnl0ZU1hcFdlYlNhZmVfOm51bGwsRU5DT0RFRF9WQUxTX0JBU0U6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLGdldCBFTkNPREVEX1ZBTFMoKXtyZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRStcIisvPVwifSxnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKXtyZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRStcIi1fLlwifSxIQVNfTkFUSVZFX1NVUFBPUlQ6XCJmdW5jdGlvblwiPT10eXBlb2YgYXRvYixlbmNvZGVCeXRlQXJyYXk6ZnVuY3Rpb24oZSx0KXtpZighQXJyYXkuaXNBcnJheShlKSl0aHJvdyBFcnJvcihcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTt0aGlzLmluaXRfKCk7Zm9yKHZhciBuPXQ/dGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV86dGhpcy5ieXRlVG9DaGFyTWFwXyxyPVtdLGk9MDtpPGUubGVuZ3RoO2krPTMpe3ZhciBvPWVbaV0sYT1pKzE8ZS5sZW5ndGgscz1hP2VbaSsxXTowLHU9aSsyPGUubGVuZ3RoLGw9dT9lW2krMl06MCxoPW8+PjIsbz0oMyZvKTw8NHxzPj40LHM9KDE1JnMpPDwyfGw+PjYsbD02MyZsO3V8fChsPTY0LGF8fChzPTY0KSksci5wdXNoKG5baF0sbltvXSxuW3NdLG5bbF0pfXJldHVybiByLmpvaW4oXCJcIil9LGVuY29kZVN0cmluZzpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCYmIXQ/YnRvYShlKTp0aGlzLmVuY29kZUJ5dGVBcnJheShvKGUpLHQpfSxkZWNvZGVTdHJpbmc6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5IQVNfTkFUSVZFX1NVUFBPUlQmJiF0P2F0b2IoZSk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPTA7bjxlLmxlbmd0aDspe3ZhciBpLG8sYSxzPWVbbisrXTtzPDEyOD90W3IrK109U3RyaW5nLmZyb21DaGFyQ29kZShzKToxOTE8cyYmczwyMjQ/KG89ZVtuKytdLHRbcisrXT1TdHJpbmcuZnJvbUNoYXJDb2RlKCgzMSZzKTw8Nnw2MyZvKSk6MjM5PHMmJnM8MzY1PyhpPSgoNyZzKTw8MTh8KDYzJihvPWVbbisrXSkpPDwxMnwoNjMmKGE9ZVtuKytdKSk8PDZ8NjMmZVtuKytdKS02NTUzNix0W3IrK109U3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NisoaT4+MTApKSx0W3IrK109U3RyaW5nLmZyb21DaGFyQ29kZSg1NjMyMCsoMTAyMyZpKSkpOihvPWVbbisrXSxhPWVbbisrXSx0W3IrK109U3RyaW5nLmZyb21DaGFyQ29kZSgoMTUmcyk8PDEyfCg2MyZvKTw8Nnw2MyZhKSl9cmV0dXJuIHQuam9pbihcIlwiKX0odGhpcy5kZWNvZGVTdHJpbmdUb0J5dGVBcnJheShlLHQpKX0sZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXk6ZnVuY3Rpb24oZSx0KXt0aGlzLmluaXRfKCk7Zm9yKHZhciBuPXQ/dGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV86dGhpcy5jaGFyVG9CeXRlTWFwXyxyPVtdLGk9MDtpPGUubGVuZ3RoOyl7dmFyIG89bltlLmNoYXJBdChpKyspXSxhPWk8ZS5sZW5ndGg/bltlLmNoYXJBdChpKV06MCxzPSsraTxlLmxlbmd0aD9uW2UuY2hhckF0KGkpXTo2NCx1PSsraTxlLmxlbmd0aD9uW2UuY2hhckF0KGkpXTo2NDtpZigrK2ksbnVsbD09b3x8bnVsbD09YXx8bnVsbD09c3x8bnVsbD09dSl0aHJvdyBFcnJvcigpO289bzw8MnxhPj40O3IucHVzaChvKSw2NCE9PXMmJihhPWE8PDQmMjQwfHM+PjIsci5wdXNoKGEpLDY0IT09dSYmKHU9czw8NiYxOTJ8dSxyLnB1c2godSkpKX1yZXR1cm4gcn0saW5pdF86ZnVuY3Rpb24oKXtpZighdGhpcy5ieXRlVG9DaGFyTWFwXyl7dGhpcy5ieXRlVG9DaGFyTWFwXz17fSx0aGlzLmNoYXJUb0J5dGVNYXBfPXt9LHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfPXt9LHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfPXt9O2Zvcih2YXIgZT0wO2U8dGhpcy5FTkNPREVEX1ZBTFMubGVuZ3RoO2UrKyl0aGlzLmJ5dGVUb0NoYXJNYXBfW2VdPXRoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChlKSx0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuYnl0ZVRvQ2hhck1hcF9bZV1dPWUsdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9bZV09dGhpcy5FTkNPREVEX1ZBTFNfV0VCU0FGRS5jaGFyQXQoZSksKHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2VdXT1lKT49dGhpcy5FTkNPREVEX1ZBTFNfQkFTRS5sZW5ndGgmJih0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KGUpXT1lLHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChlKV09ZSl9fX07ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24gZSh0LG4pe2lmKCEobiBpbnN0YW5jZW9mIE9iamVjdCkpcmV0dXJuIG47c3dpdGNoKG4uY29uc3RydWN0b3Ipe2Nhc2UgRGF0ZTp2YXIgcj1uO3JldHVybiBuZXcgRGF0ZShyLmdldFRpbWUoKSk7Y2FzZSBPYmplY3Q6dm9pZCAwPT09dCYmKHQ9e30pO2JyZWFrO2Nhc2UgQXJyYXk6dD1bXTticmVhaztkZWZhdWx0OnJldHVybiBufWZvcih2YXIgaSBpbiBuKW4uaGFzT3duUHJvcGVydHkoaSkmJmQoaSkmJih0W2ldPWUodFtpXSxuW2ldKSk7cmV0dXJuIHR9KHZvaWQgMCxlKX1mdW5jdGlvbiBkKGUpe3JldHVyblwiX19wcm90b19fXCIhPT1lfXZhciBmPSh2LnByb3RvdHlwZS53cmFwQ2FsbGJhY2s9ZnVuY3Rpb24obil7dmFyIHI9dGhpcztyZXR1cm4gZnVuY3Rpb24oZSx0KXtlP3IucmVqZWN0KGUpOnIucmVzb2x2ZSh0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYoci5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uKCl7fSksMT09PW4ubGVuZ3RoP24oZSk6bihlLHQpKX19LHYpO2Z1bmN0aW9uIHYoKXt2YXIgbj10aGlzO3RoaXMucmVqZWN0PWZ1bmN0aW9uKCl7fSx0aGlzLnJlc29sdmU9ZnVuY3Rpb24oKXt9LHRoaXMucHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe24ucmVzb2x2ZT1lLG4ucmVqZWN0PXR9KX1mdW5jdGlvbiB3KCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5jb3Jkb3ZhfHx3aW5kb3cucGhvbmVnYXB8fHdpbmRvdy5QaG9uZUdhcCkmJi9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlwic3RyaW5nXCI9PXR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50P25hdmlnYXRvci51c2VyQWdlbnQ6XCJcIil9ZnVuY3Rpb24gQygpe3JldHVybiEwPT09dS5OT0RFX0FETUlOfXZhciBiLFQ9XCJGaXJlYmFzZUVycm9yXCIsRT0obihJLGI9RXJyb3IpLEkpO2Z1bmN0aW9uIEkoZSx0LG4pe3Q9Yi5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHQuY29kZT1lLHQuY3VzdG9tRGF0YT1uLHQubmFtZT1ULE9iamVjdC5zZXRQcm90b3R5cGVPZih0LEkucHJvdG90eXBlKSxFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSYmRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodCxTLnByb3RvdHlwZS5jcmVhdGUpLHR9dmFyIFM9KGsucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt2YXIgcixpPXRbMF18fHt9LG89dGhpcy5zZXJ2aWNlK1wiL1wiK2UsZT10aGlzLmVycm9yc1tlXSxlPWU/KHI9aSxlLnJlcGxhY2UoUCxmdW5jdGlvbihlLHQpe3ZhciBuPXJbdF07cmV0dXJuIG51bGwhPW4/U3RyaW5nKG4pOlwiPFwiK3QrXCI/PlwifSkpOlwiRXJyb3JcIixlPXRoaXMuc2VydmljZU5hbWUrXCI6IFwiK2UrXCIgKFwiK28rXCIpLlwiO3JldHVybiBuZXcgRShvLGUsaSl9LGspO2Z1bmN0aW9uIGsoZSx0LG4pe3RoaXMuc2VydmljZT1lLHRoaXMuc2VydmljZU5hbWU9dCx0aGlzLmVycm9ycz1ufXZhciBQPS9cXHtcXCQoW159XSspfS9nO2Z1bmN0aW9uIE4oZSl7cmV0dXJuIEpTT04ucGFyc2UoZSl9ZnVuY3Rpb24geChlKXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9ZnVuY3Rpb24gUihlKXt2YXIgdD17fSxuPXt9LHI9e30saT1cIlwiO3RyeXt2YXIgbz1lLnNwbGl0KFwiLlwiKSx0PU4ocyhvWzBdKXx8XCJcIiksbj1OKHMob1sxXSl8fFwiXCIpLGk9b1syXSxyPW4uZHx8e307ZGVsZXRlIG4uZH1jYXRjaChlKXt9cmV0dXJue2hlYWRlcjp0LGNsYWltczpuLGRhdGE6cixzaWduYXR1cmU6aX19ZnVuY3Rpb24gRChlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX1mdW5jdGlvbiBPKGUsdCl7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkpcmV0dXJuIGVbdF19ZnVuY3Rpb24gQShlKXtmb3IodmFyIHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBMKGUsdCxuKXt2YXIgcixpPXt9O2ZvcihyIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJihpW3JdPXQuY2FsbChuLGVbcl0scixlKSk7cmV0dXJuIGl9ZnVuY3Rpb24gTShlKXtmb3IodmFyIG49W10sdD0wLHI9T2JqZWN0LmVudHJpZXMoZSk7dDxyLmxlbmd0aDt0Kyspe3ZhciBpPXJbdF07IWZ1bmN0aW9uKHQsZSl7QXJyYXkuaXNBcnJheShlKT9lLmZvckVhY2goZnVuY3Rpb24oZSl7bi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZSkpfSk6bi5wdXNoKGVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZSkpfShpWzBdLGlbMV0pfXJldHVybiBuLmxlbmd0aD9cIiZcIituLmpvaW4oXCImXCIpOlwiXCJ9dmFyIEY9KHEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jaGFpbl9bMF09MTczMjU4NDE5Myx0aGlzLmNoYWluX1sxXT00MDIzMjMzNDE3LHRoaXMuY2hhaW5fWzJdPTI1NjIzODMxMDIsdGhpcy5jaGFpbl9bM109MjcxNzMzODc4LHRoaXMuY2hhaW5fWzRdPTMyODUzNzc1MjAsdGhpcy5pbmJ1Zl89MCx0aGlzLnRvdGFsXz0wfSxxLnByb3RvdHlwZS5jb21wcmVzc189ZnVuY3Rpb24oZSx0KXt0PXR8fDA7dmFyIG49dGhpcy5XXztpZihcInN0cmluZ1wiPT10eXBlb2YgZSlmb3IodmFyIHI9MDtyPDE2O3IrKyluW3JdPWUuY2hhckNvZGVBdCh0KTw8MjR8ZS5jaGFyQ29kZUF0KHQrMSk8PDE2fGUuY2hhckNvZGVBdCh0KzIpPDw4fGUuY2hhckNvZGVBdCh0KzMpLHQrPTQ7ZWxzZSBmb3Iocj0wO3I8MTY7cisrKW5bcl09ZVt0XTw8MjR8ZVt0KzFdPDwxNnxlW3QrMl08PDh8ZVt0KzNdLHQrPTQ7Zm9yKHI9MTY7cjw4MDtyKyspe3ZhciBpPW5bci0zXV5uW3ItOF1ebltyLTE0XV5uW3ItMTZdO25bcl09NDI5NDk2NzI5NSYoaTw8MXxpPj4+MzEpfWZvcih2YXIgbyxhPXRoaXMuY2hhaW5fWzBdLHM9dGhpcy5jaGFpbl9bMV0sdT10aGlzLmNoYWluX1syXSxsPXRoaXMuY2hhaW5fWzNdLGg9dGhpcy5jaGFpbl9bNF0scj0wO3I8ODA7cisrKXZhciBjPXI8NDA/cjwyMD8obz1sXnMmKHVebCksMTUxODUwMDI0OSk6KG89c151XmwsMTg1OTc3NTM5Myk6cjw2MD8obz1zJnV8bCYoc3x1KSwyNDAwOTU5NzA4KToobz1zXnVebCwzMzk1NDY5NzgyKSxpPShhPDw1fGE+Pj4yNykrbytoK2MrbltyXSY0Mjk0OTY3Mjk1LGg9bCxsPXUsdT00Mjk0OTY3Mjk1JihzPDwzMHxzPj4+Mikscz1hLGE9aTt0aGlzLmNoYWluX1swXT10aGlzLmNoYWluX1swXSthJjQyOTQ5NjcyOTUsdGhpcy5jaGFpbl9bMV09dGhpcy5jaGFpbl9bMV0rcyY0Mjk0OTY3Mjk1LHRoaXMuY2hhaW5fWzJdPXRoaXMuY2hhaW5fWzJdK3UmNDI5NDk2NzI5NSx0aGlzLmNoYWluX1szXT10aGlzLmNoYWluX1szXStsJjQyOTQ5NjcyOTUsdGhpcy5jaGFpbl9bNF09dGhpcy5jaGFpbl9bNF0raCY0Mjk0OTY3Mjk1fSxxLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT1lKXtmb3IodmFyIG49KHQ9dm9pZCAwPT09dD9lLmxlbmd0aDp0KS10aGlzLmJsb2NrU2l6ZSxyPTAsaT10aGlzLmJ1Zl8sbz10aGlzLmluYnVmXztyPHQ7KXtpZigwPT09bylmb3IoO3I8PW47KXRoaXMuY29tcHJlc3NfKGUscikscis9dGhpcy5ibG9ja1NpemU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2Zvcig7cjx0OylpZihpW29dPWUuY2hhckNvZGVBdChyKSwrK3IsKytvPT09dGhpcy5ibG9ja1NpemUpe3RoaXMuY29tcHJlc3NfKGkpLG89MDticmVha319ZWxzZSBmb3IoO3I8dDspaWYoaVtvXT1lW3JdLCsrciwrK289PT10aGlzLmJsb2NrU2l6ZSl7dGhpcy5jb21wcmVzc18oaSksbz0wO2JyZWFrfX10aGlzLmluYnVmXz1vLHRoaXMudG90YWxfKz10fX0scS5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGU9W10sdD04KnRoaXMudG90YWxfO3RoaXMuaW5idWZfPDU2P3RoaXMudXBkYXRlKHRoaXMucGFkXyw1Ni10aGlzLmluYnVmXyk6dGhpcy51cGRhdGUodGhpcy5wYWRfLHRoaXMuYmxvY2tTaXplLSh0aGlzLmluYnVmXy01NikpO2Zvcih2YXIgbj10aGlzLmJsb2NrU2l6ZS0xOzU2PD1uO24tLSl0aGlzLmJ1Zl9bbl09MjU1JnQsdC89MjU2O3RoaXMuY29tcHJlc3NfKHRoaXMuYnVmXyk7Zm9yKHZhciByPTAsbj0wO248NTtuKyspZm9yKHZhciBpPTI0OzA8PWk7aS09OCllW3JdPXRoaXMuY2hhaW5fW25dPj5pJjI1NSwrK3I7cmV0dXJuIGV9LHEpO2Z1bmN0aW9uIHEoKXt0aGlzLmNoYWluXz1bXSx0aGlzLmJ1Zl89W10sdGhpcy5XXz1bXSx0aGlzLnBhZF89W10sdGhpcy5pbmJ1Zl89MCx0aGlzLnRvdGFsXz0wLHRoaXMuYmxvY2tTaXplPTY0LHRoaXMucGFkX1swXT0xMjg7Zm9yKHZhciBlPTE7ZTx0aGlzLmJsb2NrU2l6ZTsrK2UpdGhpcy5wYWRfW2VdPTA7dGhpcy5yZXNldCgpfWZ1bmN0aW9uIFcoZSx0LG4scil7dmFyIGk7aWYocjx0P2k9XCJhdCBsZWFzdCBcIit0Om48ciYmKGk9MD09PW4/XCJub25lXCI6XCJubyBtb3JlIHRoYW4gXCIrbiksaSl0aHJvdyBuZXcgRXJyb3IoZStcIiBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCBcIityKygxPT09cj9cIiBhcmd1bWVudC5cIjpcIiBhcmd1bWVudHMuXCIpK1wiIEV4cGVjdHMgXCIraStcIi5cIil9ZnVuY3Rpb24gaihlLHQpe3JldHVybiBlK1wiIGZhaWxlZDogXCIrdCtcIiBhcmd1bWVudCBcIn1mdW5jdGlvbiBVKGUsdCxuLHIpe2lmKCghcnx8bikmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKGooZSx0KStcIm11c3QgYmUgYSB2YWxpZCBmdW5jdGlvbi5cIil9ZnVuY3Rpb24gQihlLHQsbixyKXtpZigoIXJ8fG4pJiYoXCJvYmplY3RcIiE9dHlwZW9mIG58fG51bGw9PT1uKSl0aHJvdyBuZXcgRXJyb3IoaihlLHQpK1wibXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LlwiKX1mdW5jdGlvbiBWKGUpe2Zvcih2YXIgdD0wLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIHI9ZS5jaGFyQ29kZUF0KG4pO3I8MTI4P3QrKzpyPDIwNDg/dCs9Mjo1NTI5Njw9ciYmcjw9NTYzMTk/KHQrPTQsbisrKTp0Kz0zfXJldHVybiB0fWZ1bmN0aW9uIHooZSl7cmV0dXJuIGUmJmUuX2RlbGVnYXRlP2UuX2RlbGVnYXRlOmV9dmFyIEg9KFEucHJvdG90eXBlLnNldEluc3RhbnRpYXRpb25Nb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluc3RhbnRpYXRpb25Nb2RlPWUsdGhpc30sUS5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubXVsdGlwbGVJbnN0YW5jZXM9ZSx0aGlzfSxRLnByb3RvdHlwZS5zZXRTZXJ2aWNlUHJvcHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VydmljZVByb3BzPWUsdGhpc30sUS5wcm90b3R5cGUuc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQ9ZSx0aGlzfSxRKTtmdW5jdGlvbiBRKGUsdCxuKXt0aGlzLm5hbWU9ZSx0aGlzLmluc3RhbmNlRmFjdG9yeT10LHRoaXMudHlwZT1uLHRoaXMubXVsdGlwbGVJbnN0YW5jZXM9ITEsdGhpcy5zZXJ2aWNlUHJvcHM9e30sdGhpcy5pbnN0YW50aWF0aW9uTW9kZT1cIkxBWllcIix0aGlzLm9uSW5zdGFuY2VDcmVhdGVkPW51bGx9dmFyIFk9XCJbREVGQVVMVF1cIixLPShHLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dm9pZCAwPT09ZSYmKGU9WSk7dmFyIHQ9dGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIoZSk7aWYoIXRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuaGFzKHQpKXt2YXIgbj1uZXcgZjtpZih0aGlzLmluc3RhbmNlc0RlZmVycmVkLnNldCh0LG4pLHRoaXMuaXNJbml0aWFsaXplZCh0KXx8dGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKXRyeXt2YXIgcj10aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe2luc3RhbmNlSWRlbnRpZmllcjp0fSk7ciYmbi5yZXNvbHZlKHIpfWNhdGNoKGUpe319cmV0dXJuIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZ2V0KHQpLnByb21pc2V9LEcucHJvdG90eXBlLmdldEltbWVkaWF0ZT1mdW5jdGlvbihlKXt2YXIgdD1sKHtpZGVudGlmaWVyOlksb3B0aW9uYWw6ITF9LGUpLGU9dC5pZGVudGlmaWVyLHQ9dC5vcHRpb25hbCxuPXRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGUpO2lmKCF0aGlzLmlzSW5pdGlhbGl6ZWQobikmJiF0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpe2lmKHQpcmV0dXJuIG51bGw7dGhyb3cgRXJyb3IoXCJTZXJ2aWNlIFwiK3RoaXMubmFtZStcIiBpcyBub3QgYXZhaWxhYmxlXCIpfXRyeXtyZXR1cm4gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtpbnN0YW5jZUlkZW50aWZpZXI6bn0pfWNhdGNoKGUpe2lmKHQpcmV0dXJuIG51bGw7dGhyb3cgZX19LEcucHJvdG90eXBlLmdldENvbXBvbmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbXBvbmVudH0sRy5wcm90b3R5cGUuc2V0Q29tcG9uZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoZS5uYW1lIT09dGhpcy5uYW1lKXRocm93IEVycm9yKFwiTWlzbWF0Y2hpbmcgQ29tcG9uZW50IFwiK2UubmFtZStcIiBmb3IgUHJvdmlkZXIgXCIrdGhpcy5uYW1lK1wiLlwiKTtpZih0aGlzLmNvbXBvbmVudCl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBmb3IgXCIrdGhpcy5uYW1lK1wiIGhhcyBhbHJlYWR5IGJlZW4gcHJvdmlkZWRcIik7aWYodGhpcy5jb21wb25lbnQ9ZSx0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpe2lmKFwiRUFHRVJcIj09PWUuaW5zdGFudGlhdGlvbk1vZGUpdHJ5e3RoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7aW5zdGFuY2VJZGVudGlmaWVyOll9KX1jYXRjaChlKXt9dHJ5e2Zvcih2YXIgcj1fKHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSxpPXIubmV4dCgpOyFpLmRvbmU7aT1yLm5leHQoKSl7dmFyIG89eShpLnZhbHVlLDIpLGE9b1swXSxzPW9bMV0sdT10aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihhKTt0cnl7dmFyIGw9dGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtpbnN0YW5jZUlkZW50aWZpZXI6dX0pO3MucmVzb2x2ZShsKX1jYXRjaChlKXt9fX1jYXRjaChlKXt0PXtlcnJvcjplfX1maW5hbGx5e3RyeXtpJiYhaS5kb25lJiYobj1yLnJldHVybikmJm4uY2FsbChyKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19fX0sRy5wcm90b3R5cGUuY2xlYXJJbnN0YW5jZT1mdW5jdGlvbihlKXt2b2lkIDA9PT1lJiYoZT1ZKSx0aGlzLmluc3RhbmNlc0RlZmVycmVkLmRlbGV0ZShlKSx0aGlzLmluc3RhbmNlcy5kZWxldGUoZSl9LEcucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3JldHVybiBpKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0O3JldHVybiBwKHRoaXMsZnVuY3Rpb24oZSl7c3dpdGNoKGUubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdD1BcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKSxbNCxQcm9taXNlLmFsbChhKGEoW10seSh0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIklOVEVSTkFMXCJpbiBlfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLklOVEVSTkFMLmRlbGV0ZSgpfSkpKSx5KHQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVyblwiX2RlbGV0ZVwiaW4gZX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5fZGVsZXRlKCl9KSkpKV07Y2FzZSAxOnJldHVybiBlLnNlbnQoKSxbMl19fSl9KX0sRy5wcm90b3R5cGUuaXNDb21wb25lbnRTZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5jb21wb25lbnR9LEcucHJvdG90eXBlLmlzSW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVkpLHRoaXMuaW5zdGFuY2VzLmhhcyhlKX0sRy5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXt2YXIgdCxuLHI9KGU9dm9pZCAwPT09ZT97fTplKS5pbnN0YW5jZUlkZW50aWZpZXIscj12b2lkIDA9PT1yP1k6cixlPWUub3B0aW9ucyxlPXZvaWQgMD09PWU/e306ZSxpPXRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKHIpO2lmKHRoaXMuaXNJbml0aWFsaXplZChpKSl0aHJvdyBFcnJvcih0aGlzLm5hbWUrXCIoXCIraStcIikgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZFwiKTtpZighdGhpcy5pc0NvbXBvbmVudFNldCgpKXRocm93IEVycm9yKFwiQ29tcG9uZW50IFwiK3RoaXMubmFtZStcIiBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZCB5ZXRcIik7dmFyIG89dGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtpbnN0YW5jZUlkZW50aWZpZXI6aSxvcHRpb25zOmV9KTt0cnl7Zm9yKHZhciBhPV8odGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpLHM9YS5uZXh0KCk7IXMuZG9uZTtzPWEubmV4dCgpKXt2YXIgdT15KHMudmFsdWUsMiksbD11WzBdLHU9dVsxXTtpPT09dGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIobCkmJnUucmVzb2x2ZShvKX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKG49YS5yZXR1cm4pJiZuLmNhbGwoYSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fXJldHVybiB0aGlzLmludm9rZU9uSW5pdENhbGxiYWNrcyhvLGkpLG99LEcucHJvdG90eXBlLm9uSW5pdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLm9uSW5pdENhbGxiYWNrcy5hZGQoZSksZnVuY3Rpb24oKXt0Lm9uSW5pdENhbGxiYWNrcy5kZWxldGUoZSl9fSxHLnByb3RvdHlwZS5pbnZva2VPbkluaXRDYWxsYmFja3M9ZnVuY3Rpb24oZSx0KXt2YXIgbixyO3RyeXtmb3IodmFyIGk9Xyh0aGlzLm9uSW5pdENhbGxiYWNrcyksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpe3ZhciBhPW8udmFsdWU7dHJ5e2EoZSx0KX1jYXRjaChlKXt9fX1jYXRjaChlKXtuPXtlcnJvcjplfX1maW5hbGx5e3RyeXtvJiYhby5kb25lJiYocj1pLnJldHVybikmJnIuY2FsbChpKX1maW5hbGx5e2lmKG4pdGhyb3cgbi5lcnJvcn19fSxHLnByb3RvdHlwZS5nZXRPckluaXRpYWxpemVTZXJ2aWNlPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5zdGFuY2VJZGVudGlmaWVyLG49ZS5vcHRpb25zLGU9dm9pZCAwPT09bj97fTpuLHI9dGhpcy5pbnN0YW5jZXMuZ2V0KHQpO2lmKCFyJiZ0aGlzLmNvbXBvbmVudCYmKHI9dGhpcy5jb21wb25lbnQuaW5zdGFuY2VGYWN0b3J5KHRoaXMuY29udGFpbmVyLHtpbnN0YW5jZUlkZW50aWZpZXI6KG49dCk9PT1ZP3ZvaWQgMDpuLG9wdGlvbnM6ZX0pLHRoaXMuaW5zdGFuY2VzLnNldCh0LHIpLHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKSl0cnl7dGhpcy5jb21wb25lbnQub25JbnN0YW5jZUNyZWF0ZWQodGhpcy5jb250YWluZXIsdCxyKX1jYXRjaChlKXt9cmV0dXJuIHJ8fG51bGx9LEcucHJvdG90eXBlLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcj1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5jb21wb25lbnR8fHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzP2U6WX0sRy5wcm90b3R5cGUuc2hvdWxkQXV0b0luaXRpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuY29tcG9uZW50JiZcIkVYUExJQ0lUXCIhPT10aGlzLmNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZX0sRyk7ZnVuY3Rpb24gRyhlLHQpe3RoaXMubmFtZT1lLHRoaXMuY29udGFpbmVyPXQsdGhpcy5jb21wb25lbnQ9bnVsbCx0aGlzLmluc3RhbmNlcz1uZXcgTWFwLHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQ9bmV3IE1hcCx0aGlzLm9uSW5pdENhbGxiYWNrcz1uZXcgU2V0fXZhciAkLEo9KFgucHJvdG90eXBlLmFkZENvbXBvbmVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFByb3ZpZGVyKGUubmFtZSk7aWYodC5pc0NvbXBvbmVudFNldCgpKXRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBcIitlLm5hbWUrXCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIHdpdGggXCIrdGhpcy5uYW1lKTt0LnNldENvbXBvbmVudChlKX0sWC5wcm90b3R5cGUuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQ9ZnVuY3Rpb24oZSl7dGhpcy5nZXRQcm92aWRlcihlLm5hbWUpLmlzQ29tcG9uZW50U2V0KCkmJnRoaXMucHJvdmlkZXJzLmRlbGV0ZShlLm5hbWUpLHRoaXMuYWRkQ29tcG9uZW50KGUpfSxYLnByb3RvdHlwZS5nZXRQcm92aWRlcj1mdW5jdGlvbihlKXtpZih0aGlzLnByb3ZpZGVycy5oYXMoZSkpcmV0dXJuIHRoaXMucHJvdmlkZXJzLmdldChlKTt2YXIgdD1uZXcgSyhlLHRoaXMpO3JldHVybiB0aGlzLnByb3ZpZGVycy5zZXQoZSx0KSx0fSxYLnByb3RvdHlwZS5nZXRQcm92aWRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy52YWx1ZXMoKSl9LFgpO2Z1bmN0aW9uIFgoZSl7dGhpcy5uYW1lPWUsdGhpcy5wcm92aWRlcnM9bmV3IE1hcH0oQ3Q9JD0kfHx7fSlbQ3QuREVCVUc9MF09XCJERUJVR1wiLEN0W0N0LlZFUkJPU0U9MV09XCJWRVJCT1NFXCIsQ3RbQ3QuSU5GTz0yXT1cIklORk9cIixDdFtDdC5XQVJOPTNdPVwiV0FSTlwiLEN0W0N0LkVSUk9SPTRdPVwiRVJST1JcIixDdFtDdC5TSUxFTlQ9NV09XCJTSUxFTlRcIjtmdW5jdGlvbiBaKGUsdCl7Zm9yKHZhciBuPVtdLHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0yXT1hcmd1bWVudHNbcl07aWYoISh0PGUubG9nTGV2ZWwpKXt2YXIgaT0obmV3IERhdGUpLnRvSVNPU3RyaW5nKCksbz1uZVt0XTtpZighbyl0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6IFwiK3QrXCIpXCIpO2NvbnNvbGVbb10uYXBwbHkoY29uc29sZSxhKFtcIltcIitpK1wiXSAgXCIrZS5uYW1lK1wiOlwiXSxuKSl9fXZhciBlZT17ZGVidWc6JC5ERUJVRyx2ZXJib3NlOiQuVkVSQk9TRSxpbmZvOiQuSU5GTyx3YXJuOiQuV0FSTixlcnJvcjokLkVSUk9SLHNpbGVudDokLlNJTEVOVH0sdGU9JC5JTkZPLG5lPSgoVHQ9e30pWyQuREVCVUddPVwibG9nXCIsVHRbJC5WRVJCT1NFXT1cImxvZ1wiLFR0WyQuSU5GT109XCJpbmZvXCIsVHRbJC5XQVJOXT1cIndhcm5cIixUdFskLkVSUk9SXT1cImVycm9yXCIsVHQpLHJlPShPYmplY3QuZGVmaW5lUHJvcGVydHkoaWUucHJvdG90eXBlLFwibG9nTGV2ZWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvZ0xldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoIShlIGluICQpKXRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdmFsdWUgXCInK2UrJ1wiIGFzc2lnbmVkIHRvIGBsb2dMZXZlbGAnKTt0aGlzLl9sb2dMZXZlbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGllLnByb3RvdHlwZS5zZXRMb2dMZXZlbD1mdW5jdGlvbihlKXt0aGlzLl9sb2dMZXZlbD1cInN0cmluZ1wiPT10eXBlb2YgZT9lZVtlXTplfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaWUucHJvdG90eXBlLFwibG9nSGFuZGxlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nSGFuZGxlcn0sc2V0OmZ1bmN0aW9uKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlZhbHVlIGFzc2lnbmVkIHRvIGBsb2dIYW5kbGVyYCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dGhpcy5fbG9nSGFuZGxlcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpZS5wcm90b3R5cGUsXCJ1c2VyTG9nSGFuZGxlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlckxvZ0hhbmRsZXJ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl91c2VyTG9nSGFuZGxlcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGllLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt0aGlzLl91c2VyTG9nSGFuZGxlciYmdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcyxhKFt0aGlzLCQuREVCVUddLGUpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsYShbdGhpcywkLkRFQlVHXSxlKSl9LGllLnByb3RvdHlwZS5sb2c9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsYShbdGhpcywkLlZFUkJPU0VdLGUpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsYShbdGhpcywkLlZFUkJPU0VdLGUpKX0saWUucHJvdG90eXBlLmluZm89ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsYShbdGhpcywkLklORk9dLGUpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsYShbdGhpcywkLklORk9dLGUpKX0saWUucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsYShbdGhpcywkLldBUk5dLGUpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsYShbdGhpcywkLldBUk5dLGUpKX0saWUucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLGEoW3RoaXMsJC5FUlJPUl0sZSkpLHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcyxhKFt0aGlzLCQuRVJST1JdLGUpKX0saWUpO2Z1bmN0aW9uIGllKGUpe3RoaXMubmFtZT1lLHRoaXMuX2xvZ0xldmVsPXRlLHRoaXMuX2xvZ0hhbmRsZXI9Wix0aGlzLl91c2VyTG9nSGFuZGxlcj1udWxsfXZhciBvZT1cIlwiO2Z1bmN0aW9uIGFlKGUpe29lPWV9dmFyIHNlPSh1ZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7bnVsbD09dD90aGlzLmRvbVN0b3JhZ2VfLnJlbW92ZUl0ZW0odGhpcy5wcmVmaXhlZE5hbWVfKGUpKTp0aGlzLmRvbVN0b3JhZ2VfLnNldEl0ZW0odGhpcy5wcmVmaXhlZE5hbWVfKGUpLHgodCkpfSx1ZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2U9dGhpcy5kb21TdG9yYWdlXy5nZXRJdGVtKHRoaXMucHJlZml4ZWROYW1lXyhlKSk7cmV0dXJuIG51bGw9PWU/bnVsbDpOKGUpfSx1ZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuZG9tU3RvcmFnZV8ucmVtb3ZlSXRlbSh0aGlzLnByZWZpeGVkTmFtZV8oZSkpfSx1ZS5wcm90b3R5cGUucHJlZml4ZWROYW1lXz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wcmVmaXhfK2V9LHVlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbVN0b3JhZ2VfLnRvU3RyaW5nKCl9LHVlKTtmdW5jdGlvbiB1ZShlKXt0aGlzLmRvbVN0b3JhZ2VfPWUsdGhpcy5wcmVmaXhfPVwiZmlyZWJhc2U6XCJ9dmFyIGxlPShoZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7bnVsbD09dD9kZWxldGUgdGhpcy5jYWNoZV9bZV06dGhpcy5jYWNoZV9bZV09dH0saGUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gRCh0aGlzLmNhY2hlXyxlKT90aGlzLmNhY2hlX1tlXTpudWxsfSxoZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe2RlbGV0ZSB0aGlzLmNhY2hlX1tlXX0saGUpO2Z1bmN0aW9uIGhlKCl7dGhpcy5jYWNoZV89e30sdGhpcy5pc0luTWVtb3J5U3RvcmFnZT0hMH1mdW5jdGlvbiBjZShlKXt2YXIgdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0wLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGksbz1lLmNoYXJDb2RlQXQocik7NTUyOTY8PW8mJm88PTU2MzE5JiYoaT1vLTU1Mjk2LGcoKytyPGUubGVuZ3RoLFwiU3Vycm9nYXRlIHBhaXIgbWlzc2luZyB0cmFpbCBzdXJyb2dhdGUuXCIpLG89NjU1MzYrKGk8PDEwKSsoZS5jaGFyQ29kZUF0KHIpLTU2MzIwKSksbzwxMjg/dFtuKytdPW86KG88MjA0OD90W24rK109bz4+NnwxOTI6KG88NjU1MzY/dFtuKytdPW8+PjEyfDIyNDoodFtuKytdPW8+PjE4fDI0MCx0W24rK109bz4+MTImNjN8MTI4KSx0W24rK109bz4+NiY2M3wxMjgpLHRbbisrXT02MyZvfDEyOCl9cmV0dXJuIHR9KGUpO3JldHVybihlPW5ldyBGKS51cGRhdGUodCksZT1lLmRpZ2VzdCgpLGguZW5jb2RlQnl0ZUFycmF5KGUpfWZ1bmN0aW9uIHBlKGUsdCl7ZyghdHx8ITA9PT1lfHwhMT09PWUsXCJDYW4ndCB0dXJuIG9uIGN1c3RvbSBsb2dnZXJzIHBlcnNpc3RlbnRseS5cIiksITA9PT1lPyhiZS5sb2dMZXZlbD0kLlZFUkJPU0UsSWU9YmUubG9nLmJpbmQoYmUpLHQmJkNlLnNldChcImxvZ2dpbmdfZW5hYmxlZFwiLCEwKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZT9JZT1lOihJZT1udWxsLENlLnJlbW92ZShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9ZnVuY3Rpb24gZGUoKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG49XCJGSVJFQkFTRSBJTlRFUk5BTCBFUlJPUjogXCIrRWUuYXBwbHkodm9pZCAwLGEoW10seShlKSkpO2JlLmVycm9yKG4pfWZ1bmN0aW9uIGZlKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiYoZSE9ZXx8ZT09PU51bWJlci5QT1NJVElWRV9JTkZJTklUWXx8ZT09PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSl9ZnVuY3Rpb24gX2UoZSx0KXtyZXR1cm4gZT09PXQ/MDplPHQ/LTE6MX1mdW5jdGlvbiB5ZShlLHQpe2lmKHQmJmUgaW4gdClyZXR1cm4gdFtlXTt0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGtleSAoXCIrZStcIikgaW4gb2JqZWN0OiBcIit4KHQpKX1mdW5jdGlvbiB2ZShlLHQpe3ZhciBuPWUubGVuZ3RoO2lmKG48PXQpcmV0dXJuW2VdO2Zvcih2YXIgcj1bXSxpPTA7aTxuO2krPXQpbjxpK3Q/ci5wdXNoKGUuc3Vic3RyaW5nKGksbikpOnIucHVzaChlLnN1YnN0cmluZyhpLGkrdCkpO3JldHVybiByfXZhciBnZSxtZT1mdW5jdGlvbihlKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93W2VdKXt2YXIgdD13aW5kb3dbZV07cmV0dXJuIHQuc2V0SXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIsXCJjYWNoZVwiKSx0LnJlbW92ZUl0ZW0oXCJmaXJlYmFzZTpzZW50aW5lbFwiKSxuZXcgc2UodCl9fWNhdGNoKGUpe31yZXR1cm4gbmV3IGxlfSx3ZT1tZShcImxvY2FsU3RvcmFnZVwiKSxDZT1tZShcInNlc3Npb25TdG9yYWdlXCIpLGJlPW5ldyByZShcIkBmaXJlYmFzZS9kYXRhYmFzZVwiKSxUZT0oZ2U9MSxmdW5jdGlvbigpe3JldHVybiBnZSsrfSksRWU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07Zm9yKHZhciBuPVwiXCIscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdO0FycmF5LmlzQXJyYXkoaSl8fGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpJiZcIm51bWJlclwiPT10eXBlb2YgaS5sZW5ndGg/bis9RWUuYXBwbHkobnVsbCxpKTpuKz1cIm9iamVjdFwiPT10eXBlb2YgaT94KGkpOmksbis9XCIgXCJ9cmV0dXJuIG59LEllPW51bGwsU2U9ITAsa2U9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuXTshMD09PVNlJiYoU2U9ITEsbnVsbD09PUllJiYhMD09PUNlLmdldChcImxvZ2dpbmdfZW5hYmxlZFwiKSYmcGUoITApKSxJZSYmKGU9RWUuYXBwbHkobnVsbCx0KSxJZShlKSl9LFBlPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTtrZS5hcHBseSh2b2lkIDAsYShbbl0seShlKSkpfX0sTmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG49XCJGSVJFQkFTRSBGQVRBTCBFUlJPUjogXCIrRWUuYXBwbHkodm9pZCAwLGEoW10seShlKSkpO3Rocm93IGJlLmVycm9yKG4pLG5ldyBFcnJvcihuKX0seGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG49XCJGSVJFQkFTRSBXQVJOSU5HOiBcIitFZS5hcHBseSh2b2lkIDAsYShbXSx5KGUpKSk7YmUud2FybihuKX0sUmU9XCJbTUlOX05BTUVdXCIsRGU9XCJbTUFYX05BTUVdXCIsT2U9ZnVuY3Rpb24oZSx0KXtpZihlPT09dClyZXR1cm4gMDtpZihlPT09UmV8fHQ9PT1EZSlyZXR1cm4tMTtpZih0PT09UmV8fGU9PT1EZSlyZXR1cm4gMTt2YXIgbj1VZShlKSxyPVVlKHQpO3JldHVybiBudWxsIT09bj9udWxsIT09cj9uLXI9PTA/ZS5sZW5ndGgtdC5sZW5ndGg6bi1yOi0xOm51bGw9PT1yJiZlPHQ/LTE6MX0sQWU9ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiB4KGUpO3ZhciB0LG49W107Zm9yKHQgaW4gZSluLnB1c2godCk7bi5zb3J0KCk7Zm9yKHZhciByPVwie1wiLGk9MDtpPG4ubGVuZ3RoO2krKykwIT09aSYmKHIrPVwiLFwiKSxyKz14KG5baV0pLHIrPVwiOlwiLHIrPUFlKGVbbltpXV0pO3JldHVybiByKz1cIn1cIn07ZnVuY3Rpb24gTGUoZSx0KXtmb3IodmFyIG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiZ0KG4sZVtuXSl9ZnVuY3Rpb24gTWUoZSl7dmFyIHQsbixyLGk7ZyghZmUoZSksXCJJbnZhbGlkIEpTT04gbnVtYmVyXCIpLDA9PT1lP3Q9MS9lPT0tMS8ocj1uPTApPzE6MDoodD1lPDAscj0oZT1NYXRoLmFicyhlKSk+PU1hdGgucG93KDIsLTEwMjIpPyhuPShpPU1hdGgubWluKE1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpLDEwMjMpKSsxMDIzLE1hdGgucm91bmQoZSpNYXRoLnBvdygyLDUyLWkpLU1hdGgucG93KDIsNTIpKSk6KG49MCxNYXRoLnJvdW5kKGUvTWF0aC5wb3coMiwtMTA3NCkpKSk7Zm9yKHZhciBvPVtdLGE9NTI7YTstLWEpby5wdXNoKHIlMj8xOjApLHI9TWF0aC5mbG9vcihyLzIpO2ZvcihhPTExO2E7LS1hKW8ucHVzaChuJTI/MTowKSxuPU1hdGguZmxvb3Iobi8yKTtvLnB1c2godD8xOjApLG8ucmV2ZXJzZSgpO3ZhciBzPW8uam9pbihcIlwiKSx1PVwiXCI7Zm9yKGE9MDthPDY0O2ErPTgpe3ZhciBsPXBhcnNlSW50KHMuc3Vic3RyKGEsOCksMikudG9TdHJpbmcoMTYpO3UrPWw9MT09PWwubGVuZ3RoP1wiMFwiK2w6bH1yZXR1cm4gdS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIEZlKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mKHQ9c2V0VGltZW91dChlLHQpKSYmdC51bnJlZiYmdC51bnJlZigpLHR9dmFyIHFlPW5ldyBSZWdFeHAoXCJeLT8oMCopXFxcXGR7MSwxMH0kXCIpLFdlPS0yMTQ3NDgzNjQ4LGplPTIxNDc0ODM2NDcsVWU9ZnVuY3Rpb24oZSl7aWYocWUudGVzdChlKSl7ZT1OdW1iZXIoZSk7aWYoV2U8PWUmJmU8PWplKXJldHVybiBlfXJldHVybiBudWxsfSxCZT1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT10LnN0YWNrfHxcIlwiO3Rocm93IHhlKFwiRXhjZXB0aW9uIHdhcyB0aHJvd24gYnkgdXNlciBjYWxsYmFjay5cIixlKSx0fSxNYXRoLmZsb29yKDApKX19LFZlPSh6ZS5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24obil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5hcHBDaGVjaz90aGlzLmFwcENoZWNrLmdldFRva2VuKG4pOm5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7c2V0VGltZW91dChmdW5jdGlvbigpe3IuYXBwQ2hlY2s/ci5nZXRUb2tlbihuKS50aGVuKGUsdCk6ZShudWxsKX0sMCl9KX0semUucHJvdG90eXBlLmFkZFRva2VuQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24odCl7dmFyIGU7bnVsbCE9PShlPXRoaXMuYXBwQ2hlY2tQcm92aWRlcikmJnZvaWQgMCE9PWUmJmUuZ2V0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZGRUb2tlbkxpc3RlbmVyKHQpfSl9LHplLnByb3RvdHlwZS5ub3RpZnlGb3JJbnZhbGlkVG9rZW49ZnVuY3Rpb24oKXt4ZSgnUHJvdmlkZWQgQXBwQ2hlY2sgY3JlZGVudGlhbHMgZm9yIHRoZSBhcHAgbmFtZWQgXCInK3RoaXMuYXBwTmFtZV8rJ1wiIGFyZSBpbnZhbGlkLiBUaGlzIHVzdWFsbHkgaW5kaWNhdGVzIHlvdXIgYXBwIHdhcyBub3QgaW5pdGlhbGl6ZWQgY29ycmVjdGx5LicpfSx6ZSk7ZnVuY3Rpb24gemUoZSx0KXt2YXIgbj10aGlzO3RoaXMuYXBwTmFtZV89ZSx0aGlzLmFwcENoZWNrUHJvdmlkZXI9dCx0aGlzLmFwcENoZWNrPW51bGw9PXQ/dm9pZCAwOnQuZ2V0SW1tZWRpYXRlKHtvcHRpb25hbDohMH0pLHRoaXMuYXBwQ2hlY2t8fG51bGwhPXQmJnQuZ2V0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi5hcHBDaGVjaz1lfSl9dmFyIEhlPShRZS5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24obil7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5hdXRoXz90aGlzLmF1dGhfLmdldFRva2VuKG4pLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImF1dGgvdG9rZW4tbm90LWluaXRpYWxpemVkXCI9PT1lLmNvZGU/KGtlKFwiR290IGF1dGgvdG9rZW4tbm90LWluaXRpYWxpemVkIGVycm9yLiAgVHJlYXRpbmcgYXMgbnVsbCB0b2tlbi5cIiksbnVsbCk6UHJvbWlzZS5yZWplY3QoZSl9KTpuZXcgUHJvbWlzZShmdW5jdGlvbihlLHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyLmF1dGhfP3IuZ2V0VG9rZW4obikudGhlbihlLHQpOmUobnVsbCl9LDApfSl9LFFlLnByb3RvdHlwZS5hZGRUb2tlbkNoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKHQpe3RoaXMuYXV0aF8/dGhpcy5hdXRoXy5hZGRBdXRoVG9rZW5MaXN0ZW5lcih0KTp0aGlzLmF1dGhQcm92aWRlcl8uZ2V0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZGRBdXRoVG9rZW5MaXN0ZW5lcih0KX0pfSxRZS5wcm90b3R5cGUucmVtb3ZlVG9rZW5DaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbih0KXt0aGlzLmF1dGhQcm92aWRlcl8uZ2V0KCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZS5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcih0KX0pfSxRZS5wcm90b3R5cGUubm90aWZ5Rm9ySW52YWxpZFRva2VuPWZ1bmN0aW9uKCl7dmFyIGU9J1Byb3ZpZGVkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIGZvciB0aGUgYXBwIG5hbWVkIFwiJyt0aGlzLmFwcE5hbWVfKydcIiBhcmUgaW52YWxpZC4gVGhpcyB1c3VhbGx5IGluZGljYXRlcyB5b3VyIGFwcCB3YXMgbm90IGluaXRpYWxpemVkIGNvcnJlY3RseS4gJztcImNyZWRlbnRpYWxcImluIHRoaXMuZmlyZWJhc2VPcHRpb25zXz9lKz0nTWFrZSBzdXJlIHRoZSBcImNyZWRlbnRpYWxcIiBwcm9wZXJ0eSBwcm92aWRlZCB0byBpbml0aWFsaXplQXBwKCkgaXMgYXV0aG9yaXplZCB0byBhY2Nlc3MgdGhlIHNwZWNpZmllZCBcImRhdGFiYXNlVVJMXCIgYW5kIGlzIGZyb20gdGhlIGNvcnJlY3QgcHJvamVjdC4nOlwic2VydmljZUFjY291bnRcImluIHRoaXMuZmlyZWJhc2VPcHRpb25zXz9lKz0nTWFrZSBzdXJlIHRoZSBcInNlcnZpY2VBY2NvdW50XCIgcHJvcGVydHkgcHJvdmlkZWQgdG8gaW5pdGlhbGl6ZUFwcCgpIGlzIGF1dGhvcml6ZWQgdG8gYWNjZXNzIHRoZSBzcGVjaWZpZWQgXCJkYXRhYmFzZVVSTFwiIGFuZCBpcyBmcm9tIHRoZSBjb3JyZWN0IHByb2plY3QuJzplKz0nTWFrZSBzdXJlIHRoZSBcImFwaUtleVwiIGFuZCBcImRhdGFiYXNlVVJMXCIgcHJvcGVydGllcyBwcm92aWRlZCB0byBpbml0aWFsaXplQXBwKCkgbWF0Y2ggdGhlIHZhbHVlcyBwcm92aWRlZCBmb3IgeW91ciBhcHAgYXQgaHR0cHM6Ly9jb25zb2xlLmZpcmViYXNlLmdvb2dsZS5jb20vLicseGUoZSl9LFFlKTtmdW5jdGlvbiBRZShlLHQsbil7dmFyIHI9dGhpczt0aGlzLmFwcE5hbWVfPWUsdGhpcy5maXJlYmFzZU9wdGlvbnNfPXQsdGhpcy5hdXRoUHJvdmlkZXJfPW4sdGhpcy5hdXRoXz1udWxsLHRoaXMuYXV0aF89bi5nZXRJbW1lZGlhdGUoe29wdGlvbmFsOiEwfSksdGhpcy5hdXRoX3x8bi5vbkluaXQoZnVuY3Rpb24oZSl7cmV0dXJuIHIuYXV0aF89ZX0pfXZhciBZZT0oS2UucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLnJlc29sdmUoe2FjY2Vzc1Rva2VuOnRoaXMuYWNjZXNzVG9rZW59KX0sS2UucHJvdG90eXBlLmFkZFRva2VuQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7ZSh0aGlzLmFjY2Vzc1Rva2VuKX0sS2UucHJvdG90eXBlLnJlbW92ZVRva2VuQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oZSl7fSxLZS5wcm90b3R5cGUubm90aWZ5Rm9ySW52YWxpZFRva2VuPWZ1bmN0aW9uKCl7fSxLZS5PV05FUj1cIm93bmVyXCIsS2UpO2Z1bmN0aW9uIEtlKGUpe3RoaXMuYWNjZXNzVG9rZW49ZX12YXIgR2U9Lyhjb25zb2xlXFwuZmlyZWJhc2V8ZmlyZWJhc2UtY29uc29sZS1cXHcrXFwuY29ycHxmaXJlYmFzZVxcLmNvcnApXFwuZ29vZ2xlXFwuY29tLywkZT1cIndlYnNvY2tldFwiLEplPVwibG9uZ19wb2xsaW5nXCIsWGU9KFplLnByb3RvdHlwZS5pc0NhY2hlYWJsZUhvc3Q9ZnVuY3Rpb24oKXtyZXR1cm5cInMtXCI9PT10aGlzLmludGVybmFsSG9zdC5zdWJzdHIoMCwyKX0sWmUucHJvdG90eXBlLmlzQ3VzdG9tSG9zdD1mdW5jdGlvbigpe3JldHVyblwiZmlyZWJhc2Vpby5jb21cIiE9PXRoaXMuX2RvbWFpbiYmXCJmaXJlYmFzZWlvLWRlbW8uY29tXCIhPT10aGlzLl9kb21haW59LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShaZS5wcm90b3R5cGUsXCJob3N0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ob3N0fSxzZXQ6ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuaW50ZXJuYWxIb3N0JiYodGhpcy5pbnRlcm5hbEhvc3Q9ZSx0aGlzLmlzQ2FjaGVhYmxlSG9zdCgpJiZ3ZS5zZXQoXCJob3N0OlwiK3RoaXMuX2hvc3QsdGhpcy5pbnRlcm5hbEhvc3QpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxaZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRvVVJMU3RyaW5nKCk7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2VLZXkmJihlKz1cIjxcIit0aGlzLnBlcnNpc3RlbmNlS2V5K1wiPlwiKSxlfSxaZS5wcm90b3R5cGUudG9VUkxTdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlY3VyZT9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIsdD10aGlzLmluY2x1ZGVOYW1lc3BhY2VJblF1ZXJ5UGFyYW1zP1wiP25zPVwiK3RoaXMubmFtZXNwYWNlOlwiXCI7cmV0dXJuIGUrdGhpcy5ob3N0K1wiL1wiK3R9LFplKTtmdW5jdGlvbiBaZShlLHQsbixyLGksbyxhKXt2b2lkIDA9PT1pJiYoaT0hMSksdm9pZCAwPT09byYmKG89XCJcIiksdm9pZCAwPT09YSYmKGE9ITEpLHRoaXMuc2VjdXJlPXQsdGhpcy5uYW1lc3BhY2U9bix0aGlzLndlYlNvY2tldE9ubHk9cix0aGlzLm5vZGVBZG1pbj1pLHRoaXMucGVyc2lzdGVuY2VLZXk9byx0aGlzLmluY2x1ZGVOYW1lc3BhY2VJblF1ZXJ5UGFyYW1zPWEsdGhpcy5faG9zdD1lLnRvTG93ZXJDYXNlKCksdGhpcy5fZG9tYWluPXRoaXMuX2hvc3Quc3Vic3RyKHRoaXMuX2hvc3QuaW5kZXhPZihcIi5cIikrMSksdGhpcy5pbnRlcm5hbEhvc3Q9d2UuZ2V0KFwiaG9zdDpcIitlKXx8dGhpcy5faG9zdH1mdW5jdGlvbiBldChlLHQsbil7dmFyIHI7aWYoZyhcInN0cmluZ1wiPT10eXBlb2YgdCxcInR5cGVvZiB0eXBlIG11c3QgPT0gc3RyaW5nXCIpLGcoXCJvYmplY3RcIj09dHlwZW9mIG4sXCJ0eXBlb2YgcGFyYW1zIG11c3QgPT0gb2JqZWN0XCIpLHQ9PT0kZSlyPShlLnNlY3VyZT9cIndzczovL1wiOlwid3M6Ly9cIikrZS5pbnRlcm5hbEhvc3QrXCIvLndzP1wiO2Vsc2V7aWYodCE9PUplKXRocm93IG5ldyBFcnJvcihcIlVua25vd24gY29ubmVjdGlvbiB0eXBlOiBcIit0KTtyPShlLnNlY3VyZT9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK2UuaW50ZXJuYWxIb3N0K1wiLy5scD9cIn0oKHQ9ZSkuaG9zdCE9PXQuaW50ZXJuYWxIb3N0fHx0LmlzQ3VzdG9tSG9zdCgpfHx0LmluY2x1ZGVOYW1lc3BhY2VJblF1ZXJ5UGFyYW1zKSYmKG4ubnM9ZS5uYW1lc3BhY2UpO3ZhciBpPVtdO3JldHVybiBMZShuLGZ1bmN0aW9uKGUsdCl7aS5wdXNoKGUrXCI9XCIrdCl9KSxyK2kuam9pbihcIiZcIil9dmFyIHR0PShudC5wcm90b3R5cGUuaW5jcmVtZW50Q291bnRlcj1mdW5jdGlvbihlLHQpe3ZvaWQgMD09PXQmJih0PTEpLEQodGhpcy5jb3VudGVyc18sZSl8fCh0aGlzLmNvdW50ZXJzX1tlXT0wKSx0aGlzLmNvdW50ZXJzX1tlXSs9dH0sbnQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3JldHVybiBjKHRoaXMuY291bnRlcnNfKX0sbnQpO2Z1bmN0aW9uIG50KCl7dGhpcy5jb3VudGVyc189e319dmFyIHJ0PXt9LGl0PXt9O2Z1bmN0aW9uIG90KGUpe2U9ZS50b1N0cmluZygpO3JldHVybiBydFtlXXx8KHJ0W2VdPW5ldyB0dCkscnRbZV19dmFyIGF0PShzdC5wcm90b3R5cGUuY2xvc2VBZnRlcj1mdW5jdGlvbihlLHQpe3RoaXMuY2xvc2VBZnRlclJlc3BvbnNlPWUsdGhpcy5vbkNsb3NlPXQsdGhpcy5jbG9zZUFmdGVyUmVzcG9uc2U8dGhpcy5jdXJyZW50UmVzcG9uc2VOdW0mJih0aGlzLm9uQ2xvc2UoKSx0aGlzLm9uQ2xvc2U9bnVsbCl9LHN0LnByb3RvdHlwZS5oYW5kbGVSZXNwb25zZT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7dGhpcy5wZW5kaW5nUmVzcG9uc2VzW2VdPXQ7Zm9yKHZhciByPXRoaXM7dGhpcy5wZW5kaW5nUmVzcG9uc2VzW3RoaXMuY3VycmVudFJlc3BvbnNlTnVtXTspaWYoXCJicmVha1wiPT09ZnVuY3Rpb24oKXt2YXIgdD1yLnBlbmRpbmdSZXNwb25zZXNbci5jdXJyZW50UmVzcG9uc2VOdW1dO2RlbGV0ZSByLnBlbmRpbmdSZXNwb25zZXNbci5jdXJyZW50UmVzcG9uc2VOdW1dO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7KytlKSFmdW5jdGlvbihlKXt0W2VdJiZCZShmdW5jdGlvbigpe24ub25NZXNzYWdlXyh0W2VdKX0pfShlKTtpZihyLmN1cnJlbnRSZXNwb25zZU51bT09PXIuY2xvc2VBZnRlclJlc3BvbnNlKXJldHVybiByLm9uQ2xvc2UmJihyLm9uQ2xvc2UoKSxyLm9uQ2xvc2U9bnVsbCksXCJicmVha1wiO3IuY3VycmVudFJlc3BvbnNlTnVtKyt9KCkpYnJlYWt9LHN0KTtmdW5jdGlvbiBzdChlKXt0aGlzLm9uTWVzc2FnZV89ZSx0aGlzLnBlbmRpbmdSZXNwb25zZXM9W10sdGhpcy5jdXJyZW50UmVzcG9uc2VOdW09MCx0aGlzLmNsb3NlQWZ0ZXJSZXNwb25zZT0tMSx0aGlzLm9uQ2xvc2U9bnVsbH12YXIgdXQ9XCJwTFBDb21tYW5kXCIsbHQ9XCJwUlRMUENCXCIsaHQ9KGN0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLGE9dGhpczt0aGlzLmN1clNlZ21lbnROdW09MCx0aGlzLm9uRGlzY29ubmVjdF89dCx0aGlzLm15UGFja2V0T3JkZXJlcj1uZXcgYXQoZSksdGhpcy5pc0Nsb3NlZF89ITEsdGhpcy5jb25uZWN0VGltZW91dFRpbWVyXz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5sb2dfKFwiVGltZWQgb3V0IHRyeWluZyB0byBjb25uZWN0LlwiKSxhLm9uQ2xvc2VkXygpLGEuY29ubmVjdFRpbWVvdXRUaW1lcl89bnVsbH0sTWF0aC5mbG9vcigzZTQpKSxuPWZ1bmN0aW9uKCl7dmFyIGU7YS5pc0Nsb3NlZF98fChhLnNjcmlwdFRhZ0hvbGRlcj1uZXcgcHQoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIG49eShlLDUpLHI9blswXSxpPW5bMV0sbz1uWzJdO25bM10sbls0XTtpZihhLmluY3JlbWVudEluY29taW5nQnl0ZXNfKGUpLGEuc2NyaXB0VGFnSG9sZGVyKWlmKGEuY29ubmVjdFRpbWVvdXRUaW1lcl8mJihjbGVhclRpbWVvdXQoYS5jb25uZWN0VGltZW91dFRpbWVyXyksYS5jb25uZWN0VGltZW91dFRpbWVyXz1udWxsKSxhLmV2ZXJDb25uZWN0ZWRfPSEwLFwic3RhcnRcIj09PXIpYS5pZD1pLGEucGFzc3dvcmQ9bztlbHNle2lmKFwiY2xvc2VcIiE9PXIpdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIGNvbW1hbmQgcmVjZWl2ZWQ6IFwiK3IpO2k/KGEuc2NyaXB0VGFnSG9sZGVyLnNlbmROZXdQb2xscz0hMSxhLm15UGFja2V0T3JkZXJlci5jbG9zZUFmdGVyKGksZnVuY3Rpb24oKXthLm9uQ2xvc2VkXygpfSkpOmEub25DbG9zZWRfKCl9fSxmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgbj15KGUsMikscj1uWzBdLG49blsxXTthLmluY3JlbWVudEluY29taW5nQnl0ZXNfKGUpLGEubXlQYWNrZXRPcmRlcmVyLmhhbmRsZVJlc3BvbnNlKHIsbil9LGZ1bmN0aW9uKCl7YS5vbkNsb3NlZF8oKX0sYS51cmxGbiksKGU9e3N0YXJ0OlwidFwifSkuc2VyPU1hdGguZmxvb3IoMWU4Kk1hdGgucmFuZG9tKCkpLGEuc2NyaXB0VGFnSG9sZGVyLnVuaXF1ZUNhbGxiYWNrSWRlbnRpZmllciYmKGUuY2I9YS5zY3JpcHRUYWdIb2xkZXIudW5pcXVlQ2FsbGJhY2tJZGVudGlmaWVyKSxlLnY9XCI1XCIsYS50cmFuc3BvcnRTZXNzaW9uSWQmJihlLnM9YS50cmFuc3BvcnRTZXNzaW9uSWQpLGEubGFzdFNlc3Npb25JZCYmKGUubHM9YS5sYXN0U2Vzc2lvbklkKSxhLmFwcGxpY2F0aW9uSWQmJihlLnA9YS5hcHBsaWNhdGlvbklkKSxhLmFwcENoZWNrVG9rZW4mJihlLmFjPWEuYXBwQ2hlY2tUb2tlbiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5ob3N0bmFtZSYmR2UudGVzdChsb2NhdGlvbi5ob3N0bmFtZSkmJihlLnI9XCJmXCIpLGU9YS51cmxGbihlKSxhLmxvZ18oXCJDb25uZWN0aW5nIHZpYSBsb25nLXBvbGwgdG8gXCIrZSksYS5zY3JpcHRUYWdIb2xkZXIuYWRkVGFnKGUsZnVuY3Rpb24oKXt9KSl9LFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGU/bigpOihyPSExLGk9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5P3J8fChyPSEwLG4oKSk6c2V0VGltZW91dChpLE1hdGguZmxvb3IoMTApKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixpLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixpLCExKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQmJihkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGZ1bmN0aW9uKCl7XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmaSgpfSksd2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsaSkpKX0sY3QucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zY3JpcHRUYWdIb2xkZXIuc3RhcnRMb25nUG9sbCh0aGlzLmlkLHRoaXMucGFzc3dvcmQpLHRoaXMuYWRkRGlzY29ubmVjdFBpbmdGcmFtZSh0aGlzLmlkLHRoaXMucGFzc3dvcmQpfSxjdC5mb3JjZUFsbG93PWZ1bmN0aW9uKCl7Y3QuZm9yY2VBbGxvd189ITB9LGN0LmZvcmNlRGlzYWxsb3c9ZnVuY3Rpb24oKXtjdC5mb3JjZURpc2FsbG93Xz0hMH0sY3QuaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4hIWN0LmZvcmNlQWxsb3dffHwhKGN0LmZvcmNlRGlzYWxsb3dffHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnR8fG51bGw9PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnR8fFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5jaHJvbWUmJndpbmRvdy5jaHJvbWUuZXh0ZW5zaW9uJiYhL15jaHJvbWUvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpfHxcIm9iamVjdFwiPT10eXBlb2YgV2luZG93cyYmXCJvYmplY3RcIj09dHlwZW9mIFdpbmRvd3MuVUkpfSxjdC5wcm90b3R5cGUubWFya0Nvbm5lY3Rpb25IZWFsdGh5PWZ1bmN0aW9uKCl7fSxjdC5wcm90b3R5cGUuc2h1dGRvd25fPWZ1bmN0aW9uKCl7dGhpcy5pc0Nsb3NlZF89ITAsdGhpcy5zY3JpcHRUYWdIb2xkZXImJih0aGlzLnNjcmlwdFRhZ0hvbGRlci5jbG9zZSgpLHRoaXMuc2NyaXB0VGFnSG9sZGVyPW51bGwpLHRoaXMubXlEaXNjb25uRnJhbWUmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMubXlEaXNjb25uRnJhbWUpLHRoaXMubXlEaXNjb25uRnJhbWU9bnVsbCksdGhpcy5jb25uZWN0VGltZW91dFRpbWVyXyYmKGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3RUaW1lb3V0VGltZXJfKSx0aGlzLmNvbm5lY3RUaW1lb3V0VGltZXJfPW51bGwpfSxjdC5wcm90b3R5cGUub25DbG9zZWRfPWZ1bmN0aW9uKCl7dGhpcy5pc0Nsb3NlZF98fCh0aGlzLmxvZ18oXCJMb25ncG9sbCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLnNodXRkb3duXygpLHRoaXMub25EaXNjb25uZWN0XyYmKHRoaXMub25EaXNjb25uZWN0Xyh0aGlzLmV2ZXJDb25uZWN0ZWRfKSx0aGlzLm9uRGlzY29ubmVjdF89bnVsbCkpfSxjdC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzQ2xvc2VkX3x8KHRoaXMubG9nXyhcIkxvbmdwb2xsIGlzIGJlaW5nIGNsb3NlZC5cIiksdGhpcy5zaHV0ZG93bl8oKSl9LGN0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2U9eChlKTt0aGlzLmJ5dGVzU2VudCs9ZS5sZW5ndGgsdGhpcy5zdGF0c18uaW5jcmVtZW50Q291bnRlcihcImJ5dGVzX3NlbnRcIixlLmxlbmd0aCk7Zm9yKHZhciBlPWZ1bmN0aW9uKGUpe2U9byhlKTtyZXR1cm4gaC5lbmNvZGVCeXRlQXJyYXkoZSwhMCl9KGUpLHQ9dmUoZSwxODQwKSxuPTA7bjx0Lmxlbmd0aDtuKyspdGhpcy5zY3JpcHRUYWdIb2xkZXIuZW5xdWV1ZVNlZ21lbnQodGhpcy5jdXJTZWdtZW50TnVtLHQubGVuZ3RoLHRbbl0pLHRoaXMuY3VyU2VnbWVudE51bSsrfSxjdC5wcm90b3R5cGUuYWRkRGlzY29ubmVjdFBpbmdGcmFtZT1mdW5jdGlvbihlLHQpe3RoaXMubXlEaXNjb25uRnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTt2YXIgbj17ZGZyYW1lOlwidFwifTtuLmlkPWUsbi5wdz10LHRoaXMubXlEaXNjb25uRnJhbWUuc3JjPXRoaXMudXJsRm4obiksdGhpcy5teURpc2Nvbm5GcmFtZS5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5teURpc2Nvbm5GcmFtZSl9LGN0LnByb3RvdHlwZS5pbmNyZW1lbnRJbmNvbWluZ0J5dGVzXz1mdW5jdGlvbihlKXtlPXgoZSkubGVuZ3RoO3RoaXMuYnl0ZXNSZWNlaXZlZCs9ZSx0aGlzLnN0YXRzXy5pbmNyZW1lbnRDb3VudGVyKFwiYnl0ZXNfcmVjZWl2ZWRcIixlKX0sY3QpO2Z1bmN0aW9uIGN0KGUsdCxuLHIsaSxvLGEpe3ZhciBzPXRoaXM7dGhpcy5jb25uSWQ9ZSx0aGlzLnJlcG9JbmZvPXQsdGhpcy5hcHBsaWNhdGlvbklkPW4sdGhpcy5hcHBDaGVja1Rva2VuPXIsdGhpcy5hdXRoVG9rZW49aSx0aGlzLnRyYW5zcG9ydFNlc3Npb25JZD1vLHRoaXMubGFzdFNlc3Npb25JZD1hLHRoaXMuYnl0ZXNTZW50PTAsdGhpcy5ieXRlc1JlY2VpdmVkPTAsdGhpcy5ldmVyQ29ubmVjdGVkXz0hMSx0aGlzLmxvZ189UGUoZSksdGhpcy5zdGF0c189b3QodCksdGhpcy51cmxGbj1mdW5jdGlvbihlKXtyZXR1cm4gcy5hcHBDaGVja1Rva2VuJiYoZS5hYz1zLmFwcENoZWNrVG9rZW4pLGV0KHQsSmUsZSl9fXZhciBwdD0oZHQuY3JlYXRlSUZyYW1lXz1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7aWYodC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLCFkb2N1bWVudC5ib2R5KXRocm93XCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTt0cnl7dC5jb250ZW50V2luZG93LmRvY3VtZW50fHxrZShcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKGUpe3ZhciBuPWRvY3VtZW50LmRvbWFpbjt0LnNyYz1cImphdmFzY3JpcHQ6dm9pZCgoZnVuY3Rpb24oKXtkb2N1bWVudC5vcGVuKCk7ZG9jdW1lbnQuZG9tYWluPSdcIituK1wiJztkb2N1bWVudC5jbG9zZSgpO30pKCkpXCJ9cmV0dXJuIHQuY29udGVudERvY3VtZW50P3QuZG9jPXQuY29udGVudERvY3VtZW50OnQuY29udGVudFdpbmRvdz90LmRvYz10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6dC5kb2N1bWVudCYmKHQuZG9jPXQuZG9jdW1lbnQpLHR9LGR0LnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5hbGl2ZT0hMSx0aGlzLm15SUZyYW1lJiYodGhpcy5teUlGcmFtZS5kb2MuYm9keS5pbm5lckhUTUw9XCJcIixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bnVsbCE9PWUubXlJRnJhbWUmJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGUubXlJRnJhbWUpLGUubXlJRnJhbWU9bnVsbCl9LE1hdGguZmxvb3IoMCkpKTt2YXIgdD10aGlzLm9uRGlzY29ubmVjdDt0JiYodGhpcy5vbkRpc2Nvbm5lY3Q9bnVsbCx0KCkpfSxkdC5wcm90b3R5cGUuc3RhcnRMb25nUG9sbD1mdW5jdGlvbihlLHQpe2Zvcih0aGlzLm15SUQ9ZSx0aGlzLm15UFc9dCx0aGlzLmFsaXZlPSEwO3RoaXMubmV3UmVxdWVzdF8oKTspO30sZHQucHJvdG90eXBlLm5ld1JlcXVlc3RfPWZ1bmN0aW9uKCl7aWYodGhpcy5hbGl2ZSYmdGhpcy5zZW5kTmV3UG9sbHMmJnRoaXMub3V0c3RhbmRpbmdSZXF1ZXN0cy5zaXplPCgwPHRoaXMucGVuZGluZ1NlZ3MubGVuZ3RoPzI6MSkpe3RoaXMuY3VycmVudFNlcmlhbCsrO3ZhciBlPXt9O2UuaWQ9dGhpcy5teUlELGUucHc9dGhpcy5teVBXLGUuc2VyPXRoaXMuY3VycmVudFNlcmlhbDtmb3IodmFyIGU9dGhpcy51cmxGbihlKSx0PVwiXCIsbj0wOzA8dGhpcy5wZW5kaW5nU2Vncy5sZW5ndGg7KXtpZighKHRoaXMucGVuZGluZ1NlZ3NbMF0uZC5sZW5ndGgrMzArdC5sZW5ndGg8PTE4NzApKWJyZWFrO3ZhciByPXRoaXMucGVuZGluZ1NlZ3Muc2hpZnQoKSx0PXQrXCImc2VnXCIrbitcIj1cIityLnNlZytcIiZ0c1wiK24rXCI9XCIrci50cytcIiZkXCIrbitcIj1cIityLmQ7bisrfXJldHVybiBlKz10LHRoaXMuYWRkTG9uZ1BvbGxUYWdfKGUsdGhpcy5jdXJyZW50U2VyaWFsKSwhMH1yZXR1cm4hMX0sZHQucHJvdG90eXBlLmVucXVldWVTZWdtZW50PWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnBlbmRpbmdTZWdzLnB1c2goe3NlZzplLHRzOnQsZDpufSksdGhpcy5hbGl2ZSYmdGhpcy5uZXdSZXF1ZXN0XygpfSxkdC5wcm90b3R5cGUuYWRkTG9uZ1BvbGxUYWdfPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0aGlzLm91dHN0YW5kaW5nUmVxdWVzdHMuYWRkKHQpO2Z1bmN0aW9uIHIoKXtuLm91dHN0YW5kaW5nUmVxdWVzdHMuZGVsZXRlKHQpLG4ubmV3UmVxdWVzdF8oKX12YXIgaT1zZXRUaW1lb3V0KHIsTWF0aC5mbG9vcigyNWUzKSk7dGhpcy5hZGRUYWcoZSxmdW5jdGlvbigpe2NsZWFyVGltZW91dChpKSxyKCl9KX0sZHQucHJvdG90eXBlLmFkZFRhZz1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe3RyeXtpZighci5zZW5kTmV3UG9sbHMpcmV0dXJuO3ZhciB0PXIubXlJRnJhbWUuZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7dC50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsdC5hc3luYz0hMCx0LnNyYz1lLHQub25sb2FkPXQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9dC5yZWFkeVN0YXRlO2UmJlwibG9hZGVkXCIhPT1lJiZcImNvbXBsZXRlXCIhPT1lfHwodC5vbmxvYWQ9dC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KSxuKCkpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtrZShcIkxvbmctcG9sbCBzY3JpcHQgZmFpbGVkIHRvIGxvYWQ6IFwiK2UpLHIuc2VuZE5ld1BvbGxzPSExLHIuY2xvc2UoKX0sci5teUlGcmFtZS5kb2MuYm9keS5hcHBlbmRDaGlsZCh0KX1jYXRjaChlKXt9fSxNYXRoLmZsb29yKDEpKX0sZHQpO2Z1bmN0aW9uIGR0KGUsdCxuLHIpe3RoaXMub25EaXNjb25uZWN0PW4sdGhpcy51cmxGbj1yLHRoaXMub3V0c3RhbmRpbmdSZXF1ZXN0cz1uZXcgU2V0LHRoaXMucGVuZGluZ1NlZ3M9W10sdGhpcy5jdXJyZW50U2VyaWFsPU1hdGguZmxvb3IoMWU4Kk1hdGgucmFuZG9tKCkpLHRoaXMuc2VuZE5ld1BvbGxzPSEwLHRoaXMudW5pcXVlQ2FsbGJhY2tJZGVudGlmaWVyPVRlKCksd2luZG93W3V0K3RoaXMudW5pcXVlQ2FsbGJhY2tJZGVudGlmaWVyXT1lLHdpbmRvd1tsdCt0aGlzLnVuaXF1ZUNhbGxiYWNrSWRlbnRpZmllcl09dCx0aGlzLm15SUZyYW1lPWR0LmNyZWF0ZUlGcmFtZV8oKTt2YXIgdD1cIlwiLGk9XCI8aHRtbD48Ym9keT5cIisodD10aGlzLm15SUZyYW1lLnNyYyYmXCJqYXZhc2NyaXB0OlwiPT09dGhpcy5teUlGcmFtZS5zcmMuc3Vic3RyKDAsXCJqYXZhc2NyaXB0OlwiLmxlbmd0aCk/JzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPVwiJytkb2N1bWVudC5kb21haW4rJ1wiOzxcXC9zY3JpcHQ+Jzp0KStcIjwvYm9keT48L2h0bWw+XCI7dHJ5e3RoaXMubXlJRnJhbWUuZG9jLm9wZW4oKSx0aGlzLm15SUZyYW1lLmRvYy53cml0ZShpKSx0aGlzLm15SUZyYW1lLmRvYy5jbG9zZSgpfWNhdGNoKGUpe2tlKFwiZnJhbWUgd3JpdGluZyBleGNlcHRpb25cIiksZS5zdGFjayYma2UoZS5zdGFjayksa2UoZSl9fXZhciBmdD1udWxsO1widW5kZWZpbmVkXCIhPXR5cGVvZiBNb3pXZWJTb2NrZXQ/ZnQ9TW96V2ViU29ja2V0OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBXZWJTb2NrZXQmJihmdD1XZWJTb2NrZXQpO3ZhciBfdD0oeXQuY29ubmVjdGlvblVSTF89ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9e3Y6XCI1XCJ9O3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaG9zdG5hbWUmJkdlLnRlc3QobG9jYXRpb24uaG9zdG5hbWUpJiYoaS5yPVwiZlwiKSx0JiYoaS5zPXQpLG4mJihpLmxzPW4pLHImJihpLmFjPXIpLGV0KGUsJGUsaSl9LHl0LnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzO3RoaXMub25EaXNjb25uZWN0PWUsdGhpcy5vbk1lc3NhZ2U9dCx0aGlzLmxvZ18oXCJXZWJzb2NrZXQgY29ubmVjdGluZyB0byBcIit0aGlzLmNvbm5VUkwpLHRoaXMuZXZlckNvbm5lY3RlZF89ITEsd2Uuc2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIiwhMCk7dHJ5e0MoKXx8KG49e2hlYWRlcnM6e1wiWC1GaXJlYmFzZS1HTVBJRFwiOnRoaXMuYXBwbGljYXRpb25JZHx8XCJcIixcIlgtRmlyZWJhc2UtQXBwQ2hlY2tcIjp0aGlzLmFwcENoZWNrVG9rZW58fFwiXCJ9fSx0aGlzLm15U29jaz1uZXcgZnQodGhpcy5jb25uVVJMLFtdLG4pKX1jYXRjaChlKXt0aGlzLmxvZ18oXCJFcnJvciBpbnN0YW50aWF0aW5nIFdlYlNvY2tldC5cIik7dD1lLm1lc3NhZ2V8fGUuZGF0YTtyZXR1cm4gdCYmdGhpcy5sb2dfKHQpLHZvaWQgdGhpcy5vbkNsb3NlZF8oKX10aGlzLm15U29jay5vbm9wZW49ZnVuY3Rpb24oKXtyLmxvZ18oXCJXZWJzb2NrZXQgY29ubmVjdGVkLlwiKSxyLmV2ZXJDb25uZWN0ZWRfPSEwfSx0aGlzLm15U29jay5vbmNsb3NlPWZ1bmN0aW9uKCl7ci5sb2dfKFwiV2Vic29ja2V0IGNvbm5lY3Rpb24gd2FzIGRpc2Nvbm5lY3RlZC5cIiksci5teVNvY2s9bnVsbCxyLm9uQ2xvc2VkXygpfSx0aGlzLm15U29jay5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7ci5oYW5kbGVJbmNvbWluZ0ZyYW1lKGUpfSx0aGlzLm15U29jay5vbmVycm9yPWZ1bmN0aW9uKGUpe3IubG9nXyhcIldlYlNvY2tldCBlcnJvci4gIENsb3NpbmcgY29ubmVjdGlvbi5cIik7ZT1lLm1lc3NhZ2V8fGUuZGF0YTtlJiZyLmxvZ18oZSksci5vbkNsb3NlZF8oKX19LHl0LnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe30seXQuZm9yY2VEaXNhbGxvdz1mdW5jdGlvbigpe3l0LmZvcmNlRGlzYWxsb3dfPSEwfSx5dC5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3ZhciBlLHQ9ITE7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmKChlPW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQgKFswLTldezAsfVxcLlswLTldezAsfSkvKSkmJjE8ZS5sZW5ndGgmJnBhcnNlRmxvYXQoZVsxXSk8NC40JiYodD0hMCkpLCF0JiZudWxsIT09ZnQmJiF5dC5mb3JjZURpc2FsbG93X30seXQucHJldmlvdXNseUZhaWxlZD1mdW5jdGlvbigpe3JldHVybiB3ZS5pc0luTWVtb3J5U3RvcmFnZXx8ITA9PT13ZS5nZXQoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKX0seXQucHJvdG90eXBlLm1hcmtDb25uZWN0aW9uSGVhbHRoeT1mdW5jdGlvbigpe3dlLnJlbW92ZShcInByZXZpb3VzX3dlYnNvY2tldF9mYWlsdXJlXCIpfSx5dC5wcm90b3R5cGUuYXBwZW5kRnJhbWVfPWZ1bmN0aW9uKGUpe3RoaXMuZnJhbWVzLnB1c2goZSksdGhpcy5mcmFtZXMubGVuZ3RoPT09dGhpcy50b3RhbEZyYW1lcyYmKGU9dGhpcy5mcmFtZXMuam9pbihcIlwiKSx0aGlzLmZyYW1lcz1udWxsLGU9TihlKSx0aGlzLm9uTWVzc2FnZShlKSl9LHl0LnByb3RvdHlwZS5oYW5kbGVOZXdGcmFtZUNvdW50Xz1mdW5jdGlvbihlKXt0aGlzLnRvdGFsRnJhbWVzPWUsdGhpcy5mcmFtZXM9W119LHl0LnByb3RvdHlwZS5leHRyYWN0RnJhbWVDb3VudF89ZnVuY3Rpb24oZSl7aWYoZyhudWxsPT09dGhpcy5mcmFtZXMsXCJXZSBhbHJlYWR5IGhhdmUgYSBmcmFtZSBidWZmZXJcIiksZS5sZW5ndGg8PTYpe3ZhciB0PU51bWJlcihlKTtpZighaXNOYU4odCkpcmV0dXJuIHRoaXMuaGFuZGxlTmV3RnJhbWVDb3VudF8odCksbnVsbH1yZXR1cm4gdGhpcy5oYW5kbGVOZXdGcmFtZUNvdW50XygxKSxlfSx5dC5wcm90b3R5cGUuaGFuZGxlSW5jb21pbmdGcmFtZT1mdW5jdGlvbihlKXtudWxsIT09dGhpcy5teVNvY2smJihlPWUuZGF0YSx0aGlzLmJ5dGVzUmVjZWl2ZWQrPWUubGVuZ3RoLHRoaXMuc3RhdHNfLmluY3JlbWVudENvdW50ZXIoXCJieXRlc19yZWNlaXZlZFwiLGUubGVuZ3RoKSx0aGlzLnJlc2V0S2VlcEFsaXZlKCksbnVsbCE9PXRoaXMuZnJhbWVzP3RoaXMuYXBwZW5kRnJhbWVfKGUpOm51bGwhPT0oZT10aGlzLmV4dHJhY3RGcmFtZUNvdW50XyhlKSkmJnRoaXMuYXBwZW5kRnJhbWVfKGUpKX0seXQucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7dGhpcy5yZXNldEtlZXBBbGl2ZSgpO2U9eChlKTt0aGlzLmJ5dGVzU2VudCs9ZS5sZW5ndGgsdGhpcy5zdGF0c18uaW5jcmVtZW50Q291bnRlcihcImJ5dGVzX3NlbnRcIixlLmxlbmd0aCk7dmFyIHQ9dmUoZSwxNjM4NCk7MTx0Lmxlbmd0aCYmdGhpcy5zZW5kU3RyaW5nXyhTdHJpbmcodC5sZW5ndGgpKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl0aGlzLnNlbmRTdHJpbmdfKHRbbl0pfSx5dC5wcm90b3R5cGUuc2h1dGRvd25fPWZ1bmN0aW9uKCl7dGhpcy5pc0Nsb3NlZF89ITAsdGhpcy5rZWVwYWxpdmVUaW1lciYmKGNsZWFySW50ZXJ2YWwodGhpcy5rZWVwYWxpdmVUaW1lciksdGhpcy5rZWVwYWxpdmVUaW1lcj1udWxsKSx0aGlzLm15U29jayYmKHRoaXMubXlTb2NrLmNsb3NlKCksdGhpcy5teVNvY2s9bnVsbCl9LHl0LnByb3RvdHlwZS5vbkNsb3NlZF89ZnVuY3Rpb24oKXt0aGlzLmlzQ2xvc2VkX3x8KHRoaXMubG9nXyhcIldlYlNvY2tldCBpcyBjbG9zaW5nIGl0c2VsZlwiKSx0aGlzLnNodXRkb3duXygpLHRoaXMub25EaXNjb25uZWN0JiYodGhpcy5vbkRpc2Nvbm5lY3QodGhpcy5ldmVyQ29ubmVjdGVkXyksdGhpcy5vbkRpc2Nvbm5lY3Q9bnVsbCkpfSx5dC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmlzQ2xvc2VkX3x8KHRoaXMubG9nXyhcIldlYlNvY2tldCBpcyBiZWluZyBjbG9zZWRcIiksdGhpcy5zaHV0ZG93bl8oKSl9LHl0LnByb3RvdHlwZS5yZXNldEtlZXBBbGl2ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7Y2xlYXJJbnRlcnZhbCh0aGlzLmtlZXBhbGl2ZVRpbWVyKSx0aGlzLmtlZXBhbGl2ZVRpbWVyPXNldEludGVydmFsKGZ1bmN0aW9uKCl7ZS5teVNvY2smJmUuc2VuZFN0cmluZ18oXCIwXCIpLGUucmVzZXRLZWVwQWxpdmUoKX0sTWF0aC5mbG9vcig0NWUzKSl9LHl0LnByb3RvdHlwZS5zZW5kU3RyaW5nXz1mdW5jdGlvbihlKXt0cnl7dGhpcy5teVNvY2suc2VuZChlKX1jYXRjaChlKXt0aGlzLmxvZ18oXCJFeGNlcHRpb24gdGhyb3duIGZyb20gV2ViU29ja2V0LnNlbmQoKTpcIixlLm1lc3NhZ2V8fGUuZGF0YSxcIkNsb3NpbmcgY29ubmVjdGlvbi5cIiksc2V0VGltZW91dCh0aGlzLm9uQ2xvc2VkXy5iaW5kKHRoaXMpLDApfX0seXQucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeT0yLHl0LmhlYWx0aHlUaW1lb3V0PTNlNCx5dCk7ZnVuY3Rpb24geXQoZSx0LG4scixpLG8sYSl7dGhpcy5jb25uSWQ9ZSx0aGlzLmFwcGxpY2F0aW9uSWQ9bix0aGlzLmFwcENoZWNrVG9rZW49cix0aGlzLmF1dGhUb2tlbj1pLHRoaXMua2VlcGFsaXZlVGltZXI9bnVsbCx0aGlzLmZyYW1lcz1udWxsLHRoaXMudG90YWxGcmFtZXM9MCx0aGlzLmJ5dGVzU2VudD0wLHRoaXMuYnl0ZXNSZWNlaXZlZD0wLHRoaXMubG9nXz1QZSh0aGlzLmNvbm5JZCksdGhpcy5zdGF0c189b3QodCksdGhpcy5jb25uVVJMPXl0LmNvbm5lY3Rpb25VUkxfKHQsbyxhLHIpLHRoaXMubm9kZUFkbWluPXQubm9kZUFkbWlufXZhciB2dD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KGd0LFwiQUxMX1RSQU5TUE9SVFNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuW2h0LF90XX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxndC5wcm90b3R5cGUuaW5pdFRyYW5zcG9ydHNfPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1fdCYmX3QuaXNBdmFpbGFibGUoKSxpPXImJiFfdC5wcmV2aW91c2x5RmFpbGVkKCk7aWYoZS53ZWJTb2NrZXRPbmx5JiYocnx8eGUoXCJ3c3M6Ly8gVVJMIHVzZWQsIGJ1dCBicm93c2VyIGlzbid0IGtub3duIHRvIHN1cHBvcnQgd2Vic29ja2V0cy4gIFRyeWluZyBhbnl3YXkuXCIpLGk9ITApLGkpdGhpcy50cmFuc3BvcnRzXz1bX3RdO2Vsc2V7dmFyIG89dGhpcy50cmFuc3BvcnRzXz1bXTt0cnl7Zm9yKHZhciBhPV8oZ3QuQUxMX1RSQU5TUE9SVFMpLHM9YS5uZXh0KCk7IXMuZG9uZTtzPWEubmV4dCgpKXt2YXIgdT1zLnZhbHVlO3UmJnUuaXNBdmFpbGFibGUoKSYmby5wdXNoKHUpfX1jYXRjaChlKXt0PXtlcnJvcjplfX1maW5hbGx5e3RyeXtzJiYhcy5kb25lJiYobj1hLnJldHVybikmJm4uY2FsbChhKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19fX0sZ3QucHJvdG90eXBlLmluaXRpYWxUcmFuc3BvcnQ9ZnVuY3Rpb24oKXtpZigwPHRoaXMudHJhbnNwb3J0c18ubGVuZ3RoKXJldHVybiB0aGlzLnRyYW5zcG9ydHNfWzBdO3Rocm93IG5ldyBFcnJvcihcIk5vIHRyYW5zcG9ydHMgYXZhaWxhYmxlXCIpfSxndC5wcm90b3R5cGUudXBncmFkZVRyYW5zcG9ydD1mdW5jdGlvbigpe3JldHVybiAxPHRoaXMudHJhbnNwb3J0c18ubGVuZ3RoP3RoaXMudHJhbnNwb3J0c19bMV06bnVsbH0sZ3QpO2Z1bmN0aW9uIGd0KGUpe3RoaXMuaW5pdFRyYW5zcG9ydHNfKGUpfXZhciBtdD0od3QucHJvdG90eXBlLnN0YXJ0Xz1mdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnRyYW5zcG9ydE1hbmFnZXJfLmluaXRpYWxUcmFuc3BvcnQoKTt0aGlzLmNvbm5fPW5ldyB0KHRoaXMubmV4dFRyYW5zcG9ydElkXygpLHRoaXMucmVwb0luZm9fLHRoaXMuYXBwbGljYXRpb25JZF8sdGhpcy5hcHBDaGVja1Rva2VuXyx0aGlzLmxhc3RTZXNzaW9uSWQpLHRoaXMucHJpbWFyeVJlc3BvbnNlc1JlcXVpcmVkXz10LnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIG49dGhpcy5jb25uUmVjZWl2ZXJfKHRoaXMuY29ubl8pLHI9dGhpcy5kaXNjb25uUmVjZWl2ZXJfKHRoaXMuY29ubl8pO3RoaXMudHhfPXRoaXMuY29ubl8sdGhpcy5yeF89dGhpcy5jb25uXyx0aGlzLnNlY29uZGFyeUNvbm5fPW51bGwsdGhpcy5pc0hlYWx0aHlfPSExLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmNvbm5fJiZlLmNvbm5fLm9wZW4obixyKX0sTWF0aC5mbG9vcigwKSk7dD10LmhlYWx0aHlUaW1lb3V0fHwwOzA8dCYmKHRoaXMuaGVhbHRoeVRpbWVvdXRfPUZlKGZ1bmN0aW9uKCl7ZS5oZWFsdGh5VGltZW91dF89bnVsbCxlLmlzSGVhbHRoeV98fChlLmNvbm5fJiYxMDI0MDA8ZS5jb25uXy5ieXRlc1JlY2VpdmVkPyhlLmxvZ18oXCJDb25uZWN0aW9uIGV4Y2VlZGVkIGhlYWx0aHkgdGltZW91dCBidXQgaGFzIHJlY2VpdmVkIFwiK2UuY29ubl8uYnl0ZXNSZWNlaXZlZCtcIiBieXRlcy4gIE1hcmtpbmcgY29ubmVjdGlvbiBoZWFsdGh5LlwiKSxlLmlzSGVhbHRoeV89ITAsZS5jb25uXy5tYXJrQ29ubmVjdGlvbkhlYWx0aHkoKSk6ZS5jb25uXyYmMTAyNDA8ZS5jb25uXy5ieXRlc1NlbnQ/ZS5sb2dfKFwiQ29ubmVjdGlvbiBleGNlZWRlZCBoZWFsdGh5IHRpbWVvdXQgYnV0IGhhcyBzZW50IFwiK2UuY29ubl8uYnl0ZXNTZW50K1wiIGJ5dGVzLiAgTGVhdmluZyBjb25uZWN0aW9uIGFsaXZlLlwiKTooZS5sb2dfKFwiQ2xvc2luZyB1bmhlYWx0aHkgY29ubmVjdGlvbiBhZnRlciB0aW1lb3V0LlwiKSxlLmNsb3NlKCkpKX0sTWF0aC5mbG9vcih0KSkpfSx3dC5wcm90b3R5cGUubmV4dFRyYW5zcG9ydElkXz1mdW5jdGlvbigpe3JldHVyblwiYzpcIit0aGlzLmlkK1wiOlwiK3RoaXMuY29ubmVjdGlvbkNvdW50Kyt9LHd0LnByb3RvdHlwZS5kaXNjb25uUmVjZWl2ZXJfPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUpe3Q9PT1uLmNvbm5fP24ub25Db25uZWN0aW9uTG9zdF8oZSk6dD09PW4uc2Vjb25kYXJ5Q29ubl8/KG4ubG9nXyhcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLG4ub25TZWNvbmRhcnlDb25uZWN0aW9uTG9zdF8oKSk6bi5sb2dfKFwiY2xvc2luZyBhbiBvbGQgY29ubmVjdGlvblwiKX19LHd0LnByb3RvdHlwZS5jb25uUmVjZWl2ZXJfPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGUpezIhPT1uLnN0YXRlXyYmKHQ9PT1uLnJ4Xz9uLm9uUHJpbWFyeU1lc3NhZ2VSZWNlaXZlZF8oZSk6dD09PW4uc2Vjb25kYXJ5Q29ubl8/bi5vblNlY29uZGFyeU1lc3NhZ2VSZWNlaXZlZF8oZSk6bi5sb2dfKFwibWVzc2FnZSBvbiBvbGQgY29ubmVjdGlvblwiKSl9fSx3dC5wcm90b3R5cGUuc2VuZFJlcXVlc3Q9ZnVuY3Rpb24oZSl7ZT17dDpcImRcIixkOmV9O3RoaXMuc2VuZERhdGFfKGUpfSx3dC5wcm90b3R5cGUudHJ5Q2xlYW51cENvbm5lY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnR4Xz09PXRoaXMuc2Vjb25kYXJ5Q29ubl8mJnRoaXMucnhfPT09dGhpcy5zZWNvbmRhcnlDb25uXyYmKHRoaXMubG9nXyhcImNsZWFuaW5nIHVwIGFuZCBwcm9tb3RpbmcgYSBjb25uZWN0aW9uOiBcIit0aGlzLnNlY29uZGFyeUNvbm5fLmNvbm5JZCksdGhpcy5jb25uXz10aGlzLnNlY29uZGFyeUNvbm5fLHRoaXMuc2Vjb25kYXJ5Q29ubl89bnVsbCl9LHd0LnByb3RvdHlwZS5vblNlY29uZGFyeUNvbnRyb2xfPWZ1bmN0aW9uKGUpe1widFwiaW4gZSYmKFwiYVwiPT09KGU9ZS50KT90aGlzLnVwZ3JhZGVJZlNlY29uZGFyeUhlYWx0aHlfKCk6XCJyXCI9PT1lPyh0aGlzLmxvZ18oXCJHb3QgYSByZXNldCBvbiBzZWNvbmRhcnksIGNsb3NpbmcgaXRcIiksdGhpcy5zZWNvbmRhcnlDb25uXy5jbG9zZSgpLHRoaXMudHhfIT09dGhpcy5zZWNvbmRhcnlDb25uXyYmdGhpcy5yeF8hPT10aGlzLnNlY29uZGFyeUNvbm5ffHx0aGlzLmNsb3NlKCkpOlwib1wiPT09ZSYmKHRoaXMubG9nXyhcImdvdCBwb25nIG9uIHNlY29uZGFyeS5cIiksdGhpcy5zZWNvbmRhcnlSZXNwb25zZXNSZXF1aXJlZF8tLSx0aGlzLnVwZ3JhZGVJZlNlY29uZGFyeUhlYWx0aHlfKCkpKX0sd3QucHJvdG90eXBlLm9uU2Vjb25kYXJ5TWVzc2FnZVJlY2VpdmVkXz1mdW5jdGlvbihlKXt2YXIgdD15ZShcInRcIixlKSxlPXllKFwiZFwiLGUpO2lmKFwiY1wiPT09dCl0aGlzLm9uU2Vjb25kYXJ5Q29udHJvbF8oZSk7ZWxzZXtpZihcImRcIiE9PXQpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwcm90b2NvbCBsYXllcjogXCIrdCk7dGhpcy5wZW5kaW5nRGF0YU1lc3NhZ2VzLnB1c2goZSl9fSx3dC5wcm90b3R5cGUudXBncmFkZUlmU2Vjb25kYXJ5SGVhbHRoeV89ZnVuY3Rpb24oKXt0aGlzLnNlY29uZGFyeVJlc3BvbnNlc1JlcXVpcmVkXzw9MD8odGhpcy5sb2dfKFwiU2Vjb25kYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksdGhpcy5pc0hlYWx0aHlfPSEwLHRoaXMuc2Vjb25kYXJ5Q29ubl8ubWFya0Nvbm5lY3Rpb25IZWFsdGh5KCksdGhpcy5wcm9jZWVkV2l0aFVwZ3JhZGVfKCkpOih0aGlzLmxvZ18oXCJzZW5kaW5nIHBpbmcgb24gc2Vjb25kYXJ5LlwiKSx0aGlzLnNlY29uZGFyeUNvbm5fLnNlbmQoe3Q6XCJjXCIsZDp7dDpcInBcIixkOnt9fX0pKX0sd3QucHJvdG90eXBlLnByb2NlZWRXaXRoVXBncmFkZV89ZnVuY3Rpb24oKXt0aGlzLnNlY29uZGFyeUNvbm5fLnN0YXJ0KCksdGhpcy5sb2dfKFwic2VuZGluZyBjbGllbnQgYWNrIG9uIHNlY29uZGFyeVwiKSx0aGlzLnNlY29uZGFyeUNvbm5fLnNlbmQoe3Q6XCJjXCIsZDp7dDpcImFcIixkOnt9fX0pLHRoaXMubG9nXyhcIkVuZGluZyB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSx0aGlzLmNvbm5fLnNlbmQoe3Q6XCJjXCIsZDp7dDpcIm5cIixkOnt9fX0pLHRoaXMudHhfPXRoaXMuc2Vjb25kYXJ5Q29ubl8sdGhpcy50cnlDbGVhbnVwQ29ubmVjdGlvbigpfSx3dC5wcm90b3R5cGUub25QcmltYXJ5TWVzc2FnZVJlY2VpdmVkXz1mdW5jdGlvbihlKXt2YXIgdD15ZShcInRcIixlKSxlPXllKFwiZFwiLGUpO1wiY1wiPT09dD90aGlzLm9uQ29udHJvbF8oZSk6XCJkXCI9PT10JiZ0aGlzLm9uRGF0YU1lc3NhZ2VfKGUpfSx3dC5wcm90b3R5cGUub25EYXRhTWVzc2FnZV89ZnVuY3Rpb24oZSl7dGhpcy5vblByaW1hcnlSZXNwb25zZV8oKSx0aGlzLm9uTWVzc2FnZV8oZSl9LHd0LnByb3RvdHlwZS5vblByaW1hcnlSZXNwb25zZV89ZnVuY3Rpb24oKXt0aGlzLmlzSGVhbHRoeV98fCh0aGlzLnByaW1hcnlSZXNwb25zZXNSZXF1aXJlZF8tLSx0aGlzLnByaW1hcnlSZXNwb25zZXNSZXF1aXJlZF88PTAmJih0aGlzLmxvZ18oXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksdGhpcy5pc0hlYWx0aHlfPSEwLHRoaXMuY29ubl8ubWFya0Nvbm5lY3Rpb25IZWFsdGh5KCkpKX0sd3QucHJvdG90eXBlLm9uQ29udHJvbF89ZnVuY3Rpb24oZSl7dmFyIHQ9eWUoXCJ0XCIsZSk7aWYoXCJkXCJpbiBlKXtlPWUuZDtpZihcImhcIj09PXQpdGhpcy5vbkhhbmRzaGFrZV8oZSk7ZWxzZSBpZihcIm5cIj09PXQpe3RoaXMubG9nXyhcInJlY3ZkIGVuZCB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSx0aGlzLnJ4Xz10aGlzLnNlY29uZGFyeUNvbm5fO2Zvcih2YXIgbj0wO248dGhpcy5wZW5kaW5nRGF0YU1lc3NhZ2VzLmxlbmd0aDsrK24pdGhpcy5vbkRhdGFNZXNzYWdlXyh0aGlzLnBlbmRpbmdEYXRhTWVzc2FnZXNbbl0pO3RoaXMucGVuZGluZ0RhdGFNZXNzYWdlcz1bXSx0aGlzLnRyeUNsZWFudXBDb25uZWN0aW9uKCl9ZWxzZVwic1wiPT09dD90aGlzLm9uQ29ubmVjdGlvblNodXRkb3duXyhlKTpcInJcIj09PXQ/dGhpcy5vblJlc2V0XyhlKTpcImVcIj09PXQ/ZGUoXCJTZXJ2ZXIgRXJyb3I6IFwiK2UpOlwib1wiPT09dD8odGhpcy5sb2dfKFwiZ290IHBvbmcgb24gcHJpbWFyeS5cIiksdGhpcy5vblByaW1hcnlSZXNwb25zZV8oKSx0aGlzLnNlbmRQaW5nT25QcmltYXJ5SWZOZWNlc3NhcnlfKCkpOmRlKFwiVW5rbm93biBjb250cm9sIHBhY2tldCBjb21tYW5kOiBcIit0KX19LHd0LnByb3RvdHlwZS5vbkhhbmRzaGFrZV89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50cyxuPWUudixyPWUuaDt0aGlzLnNlc3Npb25JZD1lLnMsdGhpcy5yZXBvSW5mb18uaG9zdD1yLDA9PT10aGlzLnN0YXRlXyYmKHRoaXMuY29ubl8uc3RhcnQoKSx0aGlzLm9uQ29ubmVjdGlvbkVzdGFibGlzaGVkXyh0aGlzLmNvbm5fLHQpLFwiNVwiIT09biYmeGUoXCJQcm90b2NvbCB2ZXJzaW9uIG1pc21hdGNoIGRldGVjdGVkXCIpLHRoaXMudHJ5U3RhcnRVcGdyYWRlXygpKX0sd3QucHJvdG90eXBlLnRyeVN0YXJ0VXBncmFkZV89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRyYW5zcG9ydE1hbmFnZXJfLnVwZ3JhZGVUcmFuc3BvcnQoKTtlJiZ0aGlzLnN0YXJ0VXBncmFkZV8oZSl9LHd0LnByb3RvdHlwZS5zdGFydFVwZ3JhZGVfPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5zZWNvbmRhcnlDb25uXz1uZXcgZSh0aGlzLm5leHRUcmFuc3BvcnRJZF8oKSx0aGlzLnJlcG9JbmZvXyx0aGlzLmFwcGxpY2F0aW9uSWRfLHRoaXMuYXBwQ2hlY2tUb2tlbl8sdGhpcy5hdXRoVG9rZW5fLHRoaXMuc2Vzc2lvbklkKSx0aGlzLnNlY29uZGFyeVJlc3BvbnNlc1JlcXVpcmVkXz1lLnJlc3BvbnNlc1JlcXVpcmVkVG9CZUhlYWx0aHl8fDA7dmFyIG49dGhpcy5jb25uUmVjZWl2ZXJfKHRoaXMuc2Vjb25kYXJ5Q29ubl8pLGU9dGhpcy5kaXNjb25uUmVjZWl2ZXJfKHRoaXMuc2Vjb25kYXJ5Q29ubl8pO3RoaXMuc2Vjb25kYXJ5Q29ubl8ub3BlbihuLGUpLEZlKGZ1bmN0aW9uKCl7dC5zZWNvbmRhcnlDb25uXyYmKHQubG9nXyhcIlRpbWVkIG91dCB0cnlpbmcgdG8gdXBncmFkZS5cIiksdC5zZWNvbmRhcnlDb25uXy5jbG9zZSgpKX0sTWF0aC5mbG9vcig2ZTQpKX0sd3QucHJvdG90eXBlLm9uUmVzZXRfPWZ1bmN0aW9uKGUpe3RoaXMubG9nXyhcIlJlc2V0IHBhY2tldCByZWNlaXZlZC4gIE5ldyBob3N0OiBcIitlKSx0aGlzLnJlcG9JbmZvXy5ob3N0PWUsMT09PXRoaXMuc3RhdGVfP3RoaXMuY2xvc2UoKToodGhpcy5jbG9zZUNvbm5lY3Rpb25zXygpLHRoaXMuc3RhcnRfKCkpfSx3dC5wcm90b3R5cGUub25Db25uZWN0aW9uRXN0YWJsaXNoZWRfPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpczt0aGlzLmxvZ18oXCJSZWFsdGltZSBjb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKSx0aGlzLmNvbm5fPWUsdGhpcy5zdGF0ZV89MSx0aGlzLm9uUmVhZHlfJiYodGhpcy5vblJlYWR5Xyh0LHRoaXMuc2Vzc2lvbklkKSx0aGlzLm9uUmVhZHlfPW51bGwpLDA9PT10aGlzLnByaW1hcnlSZXNwb25zZXNSZXF1aXJlZF8/KHRoaXMubG9nXyhcIlByaW1hcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSx0aGlzLmlzSGVhbHRoeV89ITApOkZlKGZ1bmN0aW9uKCl7bi5zZW5kUGluZ09uUHJpbWFyeUlmTmVjZXNzYXJ5XygpfSxNYXRoLmZsb29yKDVlMykpfSx3dC5wcm90b3R5cGUuc2VuZFBpbmdPblByaW1hcnlJZk5lY2Vzc2FyeV89ZnVuY3Rpb24oKXt0aGlzLmlzSGVhbHRoeV98fDEhPT10aGlzLnN0YXRlX3x8KHRoaXMubG9nXyhcInNlbmRpbmcgcGluZyBvbiBwcmltYXJ5LlwiKSx0aGlzLnNlbmREYXRhXyh7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfSx3dC5wcm90b3R5cGUub25TZWNvbmRhcnlDb25uZWN0aW9uTG9zdF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnNlY29uZGFyeUNvbm5fO3RoaXMuc2Vjb25kYXJ5Q29ubl89bnVsbCx0aGlzLnR4XyE9PWUmJnRoaXMucnhfIT09ZXx8dGhpcy5jbG9zZSgpfSx3dC5wcm90b3R5cGUub25Db25uZWN0aW9uTG9zdF89ZnVuY3Rpb24oZSl7dGhpcy5jb25uXz1udWxsLGV8fDAhPT10aGlzLnN0YXRlXz8xPT09dGhpcy5zdGF0ZV8mJnRoaXMubG9nXyhcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KHRoaXMubG9nXyhcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSx0aGlzLnJlcG9JbmZvXy5pc0NhY2hlYWJsZUhvc3QoKSYmKHdlLnJlbW92ZShcImhvc3Q6XCIrdGhpcy5yZXBvSW5mb18uaG9zdCksdGhpcy5yZXBvSW5mb18uaW50ZXJuYWxIb3N0PXRoaXMucmVwb0luZm9fLmhvc3QpKSx0aGlzLmNsb3NlKCl9LHd0LnByb3RvdHlwZS5vbkNvbm5lY3Rpb25TaHV0ZG93bl89ZnVuY3Rpb24oZSl7dGhpcy5sb2dfKFwiQ29ubmVjdGlvbiBzaHV0ZG93biBjb21tYW5kIHJlY2VpdmVkLiBTaHV0dGluZyBkb3duLi4uXCIpLHRoaXMub25LaWxsXyYmKHRoaXMub25LaWxsXyhlKSx0aGlzLm9uS2lsbF89bnVsbCksdGhpcy5vbkRpc2Nvbm5lY3RfPW51bGwsdGhpcy5jbG9zZSgpfSx3dC5wcm90b3R5cGUuc2VuZERhdGFfPWZ1bmN0aW9uKGUpe2lmKDEhPT10aGlzLnN0YXRlXyl0aHJvd1wiQ29ubmVjdGlvbiBpcyBub3QgY29ubmVjdGVkXCI7dGhpcy50eF8uc2VuZChlKX0sd3QucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7MiE9PXRoaXMuc3RhdGVfJiYodGhpcy5sb2dfKFwiQ2xvc2luZyByZWFsdGltZSBjb25uZWN0aW9uLlwiKSx0aGlzLnN0YXRlXz0yLHRoaXMuY2xvc2VDb25uZWN0aW9uc18oKSx0aGlzLm9uRGlzY29ubmVjdF8mJih0aGlzLm9uRGlzY29ubmVjdF8oKSx0aGlzLm9uRGlzY29ubmVjdF89bnVsbCkpfSx3dC5wcm90b3R5cGUuY2xvc2VDb25uZWN0aW9uc189ZnVuY3Rpb24oKXt0aGlzLmxvZ18oXCJTaHV0dGluZyBkb3duIGFsbCBjb25uZWN0aW9uc1wiKSx0aGlzLmNvbm5fJiYodGhpcy5jb25uXy5jbG9zZSgpLHRoaXMuY29ubl89bnVsbCksdGhpcy5zZWNvbmRhcnlDb25uXyYmKHRoaXMuc2Vjb25kYXJ5Q29ubl8uY2xvc2UoKSx0aGlzLnNlY29uZGFyeUNvbm5fPW51bGwpLHRoaXMuaGVhbHRoeVRpbWVvdXRfJiYoY2xlYXJUaW1lb3V0KHRoaXMuaGVhbHRoeVRpbWVvdXRfKSx0aGlzLmhlYWx0aHlUaW1lb3V0Xz1udWxsKX0sd3QpO2Z1bmN0aW9uIHd0KGUsdCxuLHIsaSxvLGEscyx1LGwpe3RoaXMuaWQ9ZSx0aGlzLnJlcG9JbmZvXz10LHRoaXMuYXBwbGljYXRpb25JZF89bix0aGlzLmFwcENoZWNrVG9rZW5fPXIsdGhpcy5hdXRoVG9rZW5fPWksdGhpcy5vbk1lc3NhZ2VfPW8sdGhpcy5vblJlYWR5Xz1hLHRoaXMub25EaXNjb25uZWN0Xz1zLHRoaXMub25LaWxsXz11LHRoaXMubGFzdFNlc3Npb25JZD1sLHRoaXMuY29ubmVjdGlvbkNvdW50PTAsdGhpcy5wZW5kaW5nRGF0YU1lc3NhZ2VzPVtdLHRoaXMuc3RhdGVfPTAsdGhpcy5sb2dfPVBlKFwiYzpcIit0aGlzLmlkK1wiOlwiKSx0aGlzLnRyYW5zcG9ydE1hbmFnZXJfPW5ldyB2dCh0KSx0aGlzLmxvZ18oXCJDb25uZWN0aW9uIGNyZWF0ZWRcIiksdGhpcy5zdGFydF8oKX12YXIgQ3Q9KGJ0LnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oZSx0LG4scil7fSxidC5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oZSx0LG4scil7fSxidC5wcm90b3R5cGUucmVmcmVzaEF1dGhUb2tlbj1mdW5jdGlvbihlKXt9LGJ0LnByb3RvdHlwZS5yZWZyZXNoQXBwQ2hlY2tUb2tlbj1mdW5jdGlvbihlKXt9LGJ0LnByb3RvdHlwZS5vbkRpc2Nvbm5lY3RQdXQ9ZnVuY3Rpb24oZSx0LG4pe30sYnQucHJvdG90eXBlLm9uRGlzY29ubmVjdE1lcmdlPWZ1bmN0aW9uKGUsdCxuKXt9LGJ0LnByb3RvdHlwZS5vbkRpc2Nvbm5lY3RDYW5jZWw9ZnVuY3Rpb24oZSx0KXt9LGJ0LnByb3RvdHlwZS5yZXBvcnRTdGF0cz1mdW5jdGlvbihlKXt9LGJ0KTtmdW5jdGlvbiBidCgpe312YXIgVHQ9KEV0LnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO2lmKEFycmF5LmlzQXJyYXkodGhpcy5saXN0ZW5lcnNfW2VdKSlmb3IodmFyIHI9YShbXSx5KHRoaXMubGlzdGVuZXJzX1tlXSkpLGk9MDtpPHIubGVuZ3RoO2krKylyW2ldLmNhbGxiYWNrLmFwcGx5KHJbaV0uY29udGV4dCx0KX0sRXQucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnZhbGlkYXRlRXZlbnRUeXBlXyhlKSx0aGlzLmxpc3RlbmVyc19bZV09dGhpcy5saXN0ZW5lcnNfW2VdfHxbXSx0aGlzLmxpc3RlbmVyc19bZV0ucHVzaCh7Y2FsbGJhY2s6dCxjb250ZXh0Om59KTtlPXRoaXMuZ2V0SW5pdGlhbEV2ZW50KGUpO2UmJnQuYXBwbHkobixlKX0sRXQucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQsbil7dGhpcy52YWxpZGF0ZUV2ZW50VHlwZV8oZSk7Zm9yKHZhciByPXRoaXMubGlzdGVuZXJzX1tlXXx8W10saT0wO2k8ci5sZW5ndGg7aSsrKWlmKHJbaV0uY2FsbGJhY2s9PT10JiYoIW58fG49PT1yW2ldLmNvbnRleHQpKXJldHVybiB2b2lkIHIuc3BsaWNlKGksMSl9LEV0LnByb3RvdHlwZS52YWxpZGF0ZUV2ZW50VHlwZV89ZnVuY3Rpb24odCl7Zyh0aGlzLmFsbG93ZWRFdmVudHNfLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSksXCJVbmtub3duIGV2ZW50OiBcIit0KX0sRXQpO2Z1bmN0aW9uIEV0KGUpe3RoaXMuYWxsb3dlZEV2ZW50c189ZSx0aGlzLmxpc3RlbmVyc189e30sZyhBcnJheS5pc0FycmF5KGUpJiYwPGUubGVuZ3RoLFwiUmVxdWlyZXMgYSBub24tZW1wdHkgYXJyYXlcIil9dmFyIEl0LFN0PShuKGt0LEl0PVR0KSxrdC5nZXRJbnN0YW5jZT1mdW5jdGlvbigpe3JldHVybiBuZXcga3R9LGt0LnByb3RvdHlwZS5nZXRJbml0aWFsRXZlbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGcoXCJvbmxpbmVcIj09PWUsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2UpLFt0aGlzLm9ubGluZV9dfSxrdC5wcm90b3R5cGUuY3VycmVudGx5T25saW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25saW5lX30sa3QpO2Z1bmN0aW9uIGt0KCl7dmFyIGU9SXQuY2FsbCh0aGlzLFtcIm9ubGluZVwiXSl8fHRoaXM7cmV0dXJuIGUub25saW5lXz0hMCxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHx2b2lkIDA9PT13aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcnx8dygpfHwod2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIixmdW5jdGlvbigpe2Uub25saW5lX3x8KGUub25saW5lXz0hMCxlLnRyaWdnZXIoXCJvbmxpbmVcIiwhMCkpfSwhMSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsZnVuY3Rpb24oKXtlLm9ubGluZV8mJihlLm9ubGluZV89ITEsZS50cmlnZ2VyKFwib25saW5lXCIsITEpKX0sITEpKSxlfXZhciBQdD0zMixOdD03NjgseHQ9KFJ0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiLHQ9dGhpcy5waWVjZU51bV87dDx0aGlzLnBpZWNlc18ubGVuZ3RoO3QrKylcIlwiIT09dGhpcy5waWVjZXNfW3RdJiYoZSs9XCIvXCIrdGhpcy5waWVjZXNfW3RdKTtyZXR1cm4gZXx8XCIvXCJ9LFJ0KTtmdW5jdGlvbiBSdChlLHQpe2lmKHZvaWQgMD09PXQpe3RoaXMucGllY2VzXz1lLnNwbGl0KFwiL1wiKTtmb3IodmFyIG49MCxyPTA7cjx0aGlzLnBpZWNlc18ubGVuZ3RoO3IrKykwPHRoaXMucGllY2VzX1tyXS5sZW5ndGgmJih0aGlzLnBpZWNlc19bbl09dGhpcy5waWVjZXNfW3JdLG4rKyk7dGhpcy5waWVjZXNfLmxlbmd0aD1uLHRoaXMucGllY2VOdW1fPTB9ZWxzZSB0aGlzLnBpZWNlc189ZSx0aGlzLnBpZWNlTnVtXz10fWZ1bmN0aW9uIER0KCl7cmV0dXJuIG5ldyB4dChcIlwiKX1mdW5jdGlvbiBPdChlKXtyZXR1cm4gZS5waWVjZU51bV8+PWUucGllY2VzXy5sZW5ndGg/bnVsbDplLnBpZWNlc19bZS5waWVjZU51bV9dfWZ1bmN0aW9uIEF0KGUpe3JldHVybiBlLnBpZWNlc18ubGVuZ3RoLWUucGllY2VOdW1ffWZ1bmN0aW9uIEx0KGUpe3ZhciB0PWUucGllY2VOdW1fO3JldHVybiB0PGUucGllY2VzXy5sZW5ndGgmJnQrKyxuZXcgeHQoZS5waWVjZXNfLHQpfWZ1bmN0aW9uIE10KGUpe3JldHVybiBlLnBpZWNlTnVtXzxlLnBpZWNlc18ubGVuZ3RoP2UucGllY2VzX1tlLnBpZWNlc18ubGVuZ3RoLTFdOm51bGx9ZnVuY3Rpb24gRnQoZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9MCksZS5waWVjZXNfLnNsaWNlKGUucGllY2VOdW1fK3QpfWZ1bmN0aW9uIHF0KGUpe2lmKGUucGllY2VOdW1fPj1lLnBpZWNlc18ubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgdD1bXSxuPWUucGllY2VOdW1fO248ZS5waWVjZXNfLmxlbmd0aC0xO24rKyl0LnB1c2goZS5waWVjZXNfW25dKTtyZXR1cm4gbmV3IHh0KHQsMCl9ZnVuY3Rpb24gV3QoZSx0KXtmb3IodmFyIG49W10scj1lLnBpZWNlTnVtXztyPGUucGllY2VzXy5sZW5ndGg7cisrKW4ucHVzaChlLnBpZWNlc19bcl0pO2lmKHQgaW5zdGFuY2VvZiB4dClmb3Iocj10LnBpZWNlTnVtXztyPHQucGllY2VzXy5sZW5ndGg7cisrKW4ucHVzaCh0LnBpZWNlc19bcl0pO2Vsc2UgZm9yKHZhciBpPXQuc3BsaXQoXCIvXCIpLHI9MDtyPGkubGVuZ3RoO3IrKykwPGlbcl0ubGVuZ3RoJiZuLnB1c2goaVtyXSk7cmV0dXJuIG5ldyB4dChuLDApfWZ1bmN0aW9uIGp0KGUpe3JldHVybiBlLnBpZWNlTnVtXz49ZS5waWVjZXNfLmxlbmd0aH1mdW5jdGlvbiBVdChlLHQpe3ZhciBuPU90KGUpLHI9T3QodCk7aWYobnVsbD09PW4pcmV0dXJuIHQ7aWYobj09PXIpcmV0dXJuIFV0KEx0KGUpLEx0KHQpKTt0aHJvdyBuZXcgRXJyb3IoXCJJTlRFUk5BTCBFUlJPUjogaW5uZXJQYXRoIChcIit0K1wiKSBpcyBub3Qgd2l0aGluIG91dGVyUGF0aCAoXCIrZStcIilcIil9ZnVuY3Rpb24gQnQoZSx0KXtmb3IodmFyIG49RnQoZSwwKSxyPUZ0KHQsMCksaT0wO2k8bi5sZW5ndGgmJmk8ci5sZW5ndGg7aSsrKXt2YXIgbz1PZShuW2ldLHJbaV0pO2lmKDAhPT1vKXJldHVybiBvfXJldHVybiBuLmxlbmd0aD09PXIubGVuZ3RoPzA6bi5sZW5ndGg8ci5sZW5ndGg/LTE6MX1mdW5jdGlvbiBWdChlLHQpe2lmKEF0KGUpIT09QXQodCkpcmV0dXJuITE7Zm9yKHZhciBuPWUucGllY2VOdW1fLHI9dC5waWVjZU51bV87bjw9ZS5waWVjZXNfLmxlbmd0aDtuKysscisrKWlmKGUucGllY2VzX1tuXSE9PXQucGllY2VzX1tyXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB6dChlLHQpe3ZhciBuPWUucGllY2VOdW1fLHI9dC5waWVjZU51bV87aWYoQXQoZSk+QXQodCkpcmV0dXJuITE7Zm9yKDtuPGUucGllY2VzXy5sZW5ndGg7KXtpZihlLnBpZWNlc19bbl0hPT10LnBpZWNlc19bcl0pcmV0dXJuITE7KytuLCsrcn1yZXR1cm4hMH12YXIgSHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmVycm9yUHJlZml4Xz10LHRoaXMucGFydHNfPUZ0KGUsMCksdGhpcy5ieXRlTGVuZ3RoXz1NYXRoLm1heCgxLHRoaXMucGFydHNfLmxlbmd0aCk7Zm9yKHZhciBuPTA7bjx0aGlzLnBhcnRzXy5sZW5ndGg7bisrKXRoaXMuYnl0ZUxlbmd0aF8rPVYodGhpcy5wYXJ0c19bbl0pO1F0KHRoaXMpfTtmdW5jdGlvbiBRdChlKXtpZihlLmJ5dGVMZW5ndGhfPk50KXRocm93IG5ldyBFcnJvcihlLmVycm9yUHJlZml4XytcImhhcyBhIGtleSBwYXRoIGxvbmdlciB0aGFuIFwiK050K1wiIGJ5dGVzIChcIitlLmJ5dGVMZW5ndGhfK1wiKS5cIik7aWYoZS5wYXJ0c18ubGVuZ3RoPlB0KXRocm93IG5ldyBFcnJvcihlLmVycm9yUHJlZml4XytcInBhdGggc3BlY2lmaWVkIGV4Y2VlZHMgdGhlIG1heGltdW0gZGVwdGggdGhhdCBjYW4gYmUgd3JpdHRlbiAoXCIrUHQrXCIpIG9yIG9iamVjdCBjb250YWlucyBhIGN5Y2xlIFwiK1l0KGUpKX1mdW5jdGlvbiBZdChlKXtyZXR1cm4gMD09PWUucGFydHNfLmxlbmd0aD9cIlwiOlwiaW4gcHJvcGVydHkgJ1wiK2UucGFydHNfLmpvaW4oXCIuXCIpK1wiJ1wifXZhciBLdCxHdD0obigkdCxLdD1UdCksJHQuZ2V0SW5zdGFuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3ICR0fSwkdC5wcm90b3R5cGUuZ2V0SW5pdGlhbEV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiBnKFwidmlzaWJsZVwiPT09ZSxcIlVua25vd24gZXZlbnQgdHlwZTogXCIrZSksW3RoaXMudmlzaWJsZV9dfSwkdCk7ZnVuY3Rpb24gJHQoKXt2YXIgdCxlLG49S3QuY2FsbCh0aGlzLFtcInZpc2libGVcIl0pfHx0aGlzO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCYmdm9pZCAwIT09ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmKHZvaWQgMCE9PWRvY3VtZW50LmhpZGRlbj8oZT1cInZpc2liaWxpdHljaGFuZ2VcIix0PVwiaGlkZGVuXCIpOnZvaWQgMCE9PWRvY3VtZW50Lm1vekhpZGRlbj8oZT1cIm1venZpc2liaWxpdHljaGFuZ2VcIix0PVwibW96SGlkZGVuXCIpOnZvaWQgMCE9PWRvY3VtZW50Lm1zSGlkZGVuPyhlPVwibXN2aXNpYmlsaXR5Y2hhbmdlXCIsdD1cIm1zSGlkZGVuXCIpOnZvaWQgMCE9PWRvY3VtZW50LndlYmtpdEhpZGRlbiYmKGU9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIsdD1cIndlYmtpdEhpZGRlblwiKSksbi52aXNpYmxlXz0hMCxlJiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGUsZnVuY3Rpb24oKXt2YXIgZT0hZG9jdW1lbnRbdF07ZSE9PW4udmlzaWJsZV8mJihuLnZpc2libGVfPWUsbi50cmlnZ2VyKFwidmlzaWJsZVwiLGUpKX0sITEpLG59dmFyIEp0LFh0PTFlMyxadD0zZTUsZW49KG4odG4sSnQ9Q3QpLHRuLnByb3RvdHlwZS5zZW5kUmVxdWVzdD1mdW5jdGlvbihlLHQsbil7dmFyIHI9Kyt0aGlzLnJlcXVlc3ROdW1iZXJfLHQ9e3I6cixhOmUsYjp0fTt0aGlzLmxvZ18oeCh0KSksZyh0aGlzLmNvbm5lY3RlZF8sXCJzZW5kUmVxdWVzdCBjYWxsIHdoZW4gd2UncmUgbm90IGNvbm5lY3RlZCBub3QgYWxsb3dlZC5cIiksdGhpcy5yZWFsdGltZV8uc2VuZFJlcXVlc3QodCksbiYmKHRoaXMucmVxdWVzdENCSGFzaF9bcl09bil9LHRuLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLmluaXRDb25uZWN0aW9uXygpO3ZhciByPW5ldyBmLGk9e3A6ZS5fcGF0aC50b1N0cmluZygpLHE6ZS5fcXVlcnlPYmplY3R9LHQ9e2FjdGlvbjpcImdcIixyZXF1ZXN0Omksb25Db21wbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD1lLmQ7XCJva1wiPT09ZS5zPyhuLm9uRGF0YVVwZGF0ZV8oaS5wLHQsITEsbnVsbCksci5yZXNvbHZlKHQpKTpyLnJlamVjdCh0KX19O3RoaXMub3V0c3RhbmRpbmdHZXRzXy5wdXNoKHQpLHRoaXMub3V0c3RhbmRpbmdHZXRDb3VudF8rKzt2YXIgbz10aGlzLm91dHN0YW5kaW5nR2V0c18ubGVuZ3RoLTE7cmV0dXJuIHRoaXMuY29ubmVjdGVkX3x8c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBlPW4ub3V0c3RhbmRpbmdHZXRzX1tvXTt2b2lkIDAhPT1lJiZ0PT09ZSYmKGRlbGV0ZSBuLm91dHN0YW5kaW5nR2V0c19bb10sbi5vdXRzdGFuZGluZ0dldENvdW50Xy0tLDA9PT1uLm91dHN0YW5kaW5nR2V0Q291bnRfJiYobi5vdXRzdGFuZGluZ0dldHNfPVtdKSxuLmxvZ18oXCJnZXQgXCIrbytcIiB0aW1lZCBvdXQgb24gY29ubmVjdGlvblwiKSxyLnJlamVjdChuZXcgRXJyb3IoXCJDbGllbnQgaXMgb2ZmbGluZS5cIikpKX0sM2UzKSx0aGlzLmNvbm5lY3RlZF8mJnRoaXMuc2VuZEdldF8obyksci5wcm9taXNlfSx0bi5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMuaW5pdENvbm5lY3Rpb25fKCk7dmFyIGk9ZS5fcXVlcnlJZGVudGlmaWVyLG89ZS5fcGF0aC50b1N0cmluZygpO3RoaXMubG9nXyhcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK28rXCIgXCIraSksdGhpcy5saXN0ZW5zLmhhcyhvKXx8dGhpcy5saXN0ZW5zLnNldChvLG5ldyBNYXApLGcoZS5fcXVlcnlQYXJhbXMuaXNEZWZhdWx0KCl8fCFlLl9xdWVyeVBhcmFtcy5sb2Fkc0FsbERhdGEoKSxcImxpc3RlbigpIGNhbGxlZCBmb3Igbm9uLWRlZmF1bHQgYnV0IGNvbXBsZXRlIHF1ZXJ5XCIpLGcoIXRoaXMubGlzdGVucy5nZXQobykuaGFzKGkpLFwibGlzdGVuKCkgY2FsbGVkIHR3aWNlIGZvciBzYW1lIHBhdGgvcXVlcnlJZC5cIik7bj17b25Db21wbGV0ZTpyLGhhc2hGbjp0LHF1ZXJ5OmUsdGFnOm59O3RoaXMubGlzdGVucy5nZXQobykuc2V0KGksbiksdGhpcy5jb25uZWN0ZWRfJiZ0aGlzLnNlbmRMaXN0ZW5fKG4pfSx0bi5wcm90b3R5cGUuc2VuZEdldF89ZnVuY3Rpb24odCl7dmFyIG49dGhpcyxyPXRoaXMub3V0c3RhbmRpbmdHZXRzX1t0XTt0aGlzLnNlbmRSZXF1ZXN0KFwiZ1wiLHIucmVxdWVzdCxmdW5jdGlvbihlKXtkZWxldGUgbi5vdXRzdGFuZGluZ0dldHNfW3RdLG4ub3V0c3RhbmRpbmdHZXRDb3VudF8tLSwwPT09bi5vdXRzdGFuZGluZ0dldENvdW50XyYmKG4ub3V0c3RhbmRpbmdHZXRzXz1bXSksci5vbkNvbXBsZXRlJiZyLm9uQ29tcGxldGUoZSl9KX0sdG4ucHJvdG90eXBlLnNlbmRMaXN0ZW5fPWZ1bmN0aW9uKHIpe3ZhciBpPXRoaXMsbz1yLnF1ZXJ5LGE9by5fcGF0aC50b1N0cmluZygpLHM9by5fcXVlcnlJZGVudGlmaWVyO3RoaXMubG9nXyhcIkxpc3RlbiBvbiBcIithK1wiIGZvciBcIitzKTt2YXIgZT17cDphfTtyLnRhZyYmKGUucT1vLl9xdWVyeU9iamVjdCxlLnQ9ci50YWcpLGUuaD1yLmhhc2hGbigpLHRoaXMuc2VuZFJlcXVlc3QoXCJxXCIsZSxmdW5jdGlvbihlKXt2YXIgdD1lLmQsbj1lLnM7dG4ud2Fybk9uTGlzdGVuV2FybmluZ3NfKHQsbyksKGkubGlzdGVucy5nZXQoYSkmJmkubGlzdGVucy5nZXQoYSkuZ2V0KHMpKT09PXImJihpLmxvZ18oXCJsaXN0ZW4gcmVzcG9uc2VcIixlKSxcIm9rXCIhPT1uJiZpLnJlbW92ZUxpc3Rlbl8oYSxzKSxyLm9uQ29tcGxldGUmJnIub25Db21wbGV0ZShuLHQpKX0pfSx0bi53YXJuT25MaXN0ZW5XYXJuaW5nc189ZnVuY3Rpb24oZSx0KXtlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmRChlLFwid1wiKSYmKGU9TyhlLFwid1wiKSxBcnJheS5pc0FycmF5KGUpJiZ+ZS5pbmRleE9mKFwibm9faW5kZXhcIikmJihlPSdcIi5pbmRleE9uXCI6IFwiJyt0Ll9xdWVyeVBhcmFtcy5nZXRJbmRleCgpLnRvU3RyaW5nKCkrJ1wiJyx0PXQuX3BhdGgudG9TdHJpbmcoKSx4ZShcIlVzaW5nIGFuIHVuc3BlY2lmaWVkIGluZGV4LiBZb3VyIGRhdGEgd2lsbCBiZSBkb3dubG9hZGVkIGFuZCBmaWx0ZXJlZCBvbiB0aGUgY2xpZW50LiBDb25zaWRlciBhZGRpbmcgXCIrZStcIiBhdCBcIit0K1wiIHRvIHlvdXIgc2VjdXJpdHkgcnVsZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cIikpKX0sdG4ucHJvdG90eXBlLnJlZnJlc2hBdXRoVG9rZW49ZnVuY3Rpb24oZSl7dGhpcy5hdXRoVG9rZW5fPWUsdGhpcy5sb2dfKFwiQXV0aCB0b2tlbiByZWZyZXNoZWRcIiksdGhpcy5hdXRoVG9rZW5fP3RoaXMudHJ5QXV0aCgpOnRoaXMuY29ubmVjdGVkXyYmdGhpcy5zZW5kUmVxdWVzdChcInVuYXV0aFwiLHt9LGZ1bmN0aW9uKCl7fSksdGhpcy5yZWR1Y2VSZWNvbm5lY3REZWxheUlmQWRtaW5DcmVkZW50aWFsXyhlKX0sdG4ucHJvdG90eXBlLnJlZHVjZVJlY29ubmVjdERlbGF5SWZBZG1pbkNyZWRlbnRpYWxfPWZ1bmN0aW9uKGUpeyhlJiY0MD09PWUubGVuZ3RofHxmdW5jdGlvbihlKXtlPVIoZSkuY2xhaW1zO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiYhMD09PWUuYWRtaW59KGUpKSYmKHRoaXMubG9nXyhcIkFkbWluIGF1dGggY3JlZGVudGlhbCBkZXRlY3RlZC4gIFJlZHVjaW5nIG1heCByZWNvbm5lY3QgdGltZS5cIiksdGhpcy5tYXhSZWNvbm5lY3REZWxheV89M2U0KX0sdG4ucHJvdG90eXBlLnJlZnJlc2hBcHBDaGVja1Rva2VuPWZ1bmN0aW9uKGUpe3RoaXMuYXBwQ2hlY2tUb2tlbl89ZSx0aGlzLmxvZ18oXCJBcHAgY2hlY2sgdG9rZW4gcmVmcmVzaGVkXCIpLHRoaXMuYXBwQ2hlY2tUb2tlbl8/dGhpcy50cnlBcHBDaGVjaygpOnRoaXMuY29ubmVjdGVkXyYmdGhpcy5zZW5kUmVxdWVzdChcInVuYXBwZWNrXCIse30sZnVuY3Rpb24oKXt9KX0sdG4ucHJvdG90eXBlLnRyeUF1dGg9ZnVuY3Rpb24oKXt2YXIgbixlLHQscj10aGlzO3RoaXMuY29ubmVjdGVkXyYmdGhpcy5hdXRoVG9rZW5fJiYoZT1mdW5jdGlvbihlKXtlPVIoZSkuY2xhaW1zO3JldHVybiEhZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuaGFzT3duUHJvcGVydHkoXCJpYXRcIil9KG49dGhpcy5hdXRoVG9rZW5fKT9cImF1dGhcIjpcImdhdXRoXCIsdD17Y3JlZDpufSxudWxsPT09dGhpcy5hdXRoT3ZlcnJpZGVfP3Qubm9hdXRoPSEwOlwib2JqZWN0XCI9PXR5cGVvZiB0aGlzLmF1dGhPdmVycmlkZV8mJih0LmF1dGh2YXI9dGhpcy5hdXRoT3ZlcnJpZGVfKSx0aGlzLnNlbmRSZXF1ZXN0KGUsdCxmdW5jdGlvbihlKXt2YXIgdD1lLnMsZT1lLmR8fFwiZXJyb3JcIjtyLmF1dGhUb2tlbl89PT1uJiYoXCJva1wiPT09dD9yLmludmFsaWRBdXRoVG9rZW5Db3VudF89MDpyLm9uQXV0aFJldm9rZWRfKHQsZSkpfSkpfSx0bi5wcm90b3R5cGUudHJ5QXBwQ2hlY2s9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuY29ubmVjdGVkXyYmdGhpcy5hcHBDaGVja1Rva2VuXyYmdGhpcy5zZW5kUmVxdWVzdChcImFwcGNoZWNrXCIse3Rva2VuOnRoaXMuYXBwQ2hlY2tUb2tlbl99LGZ1bmN0aW9uKGUpe3ZhciB0PWUucyxlPWUuZHx8XCJlcnJvclwiO1wib2tcIj09PXQ/bi5pbnZhbGlkQXBwQ2hlY2tUb2tlbkNvdW50Xz0wOm4ub25BcHBDaGVja1Jldm9rZWRfKHQsZSl9KX0sdG4ucHJvdG90eXBlLnVubGlzdGVuPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5fcGF0aC50b1N0cmluZygpLHI9ZS5fcXVlcnlJZGVudGlmaWVyO3RoaXMubG9nXyhcIlVubGlzdGVuIGNhbGxlZCBmb3IgXCIrbitcIiBcIityKSxnKGUuX3F1ZXJ5UGFyYW1zLmlzRGVmYXVsdCgpfHwhZS5fcXVlcnlQYXJhbXMubG9hZHNBbGxEYXRhKCksXCJ1bmxpc3RlbigpIGNhbGxlZCBmb3Igbm9uLWRlZmF1bHQgYnV0IGNvbXBsZXRlIHF1ZXJ5XCIpLHRoaXMucmVtb3ZlTGlzdGVuXyhuLHIpJiZ0aGlzLmNvbm5lY3RlZF8mJnRoaXMuc2VuZFVubGlzdGVuXyhuLHIsZS5fcXVlcnlPYmplY3QsdCl9LHRuLnByb3RvdHlwZS5zZW5kVW5saXN0ZW5fPWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMubG9nXyhcIlVubGlzdGVuIG9uIFwiK2UrXCIgZm9yIFwiK3QpO2U9e3A6ZX07ciYmKGUucT1uLGUudD1yKSx0aGlzLnNlbmRSZXF1ZXN0KFwiblwiLGUpfSx0bi5wcm90b3R5cGUub25EaXNjb25uZWN0UHV0PWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmluaXRDb25uZWN0aW9uXygpLHRoaXMuY29ubmVjdGVkXz90aGlzLnNlbmRPbkRpc2Nvbm5lY3RfKFwib1wiLGUsdCxuKTp0aGlzLm9uRGlzY29ubmVjdFJlcXVlc3RRdWV1ZV8ucHVzaCh7cGF0aFN0cmluZzplLGFjdGlvbjpcIm9cIixkYXRhOnQsb25Db21wbGV0ZTpufSl9LHRuLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3RNZXJnZT1mdW5jdGlvbihlLHQsbil7dGhpcy5pbml0Q29ubmVjdGlvbl8oKSx0aGlzLmNvbm5lY3RlZF8/dGhpcy5zZW5kT25EaXNjb25uZWN0XyhcIm9tXCIsZSx0LG4pOnRoaXMub25EaXNjb25uZWN0UmVxdWVzdFF1ZXVlXy5wdXNoKHtwYXRoU3RyaW5nOmUsYWN0aW9uOlwib21cIixkYXRhOnQsb25Db21wbGV0ZTpufSl9LHRuLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3RDYW5jZWw9ZnVuY3Rpb24oZSx0KXt0aGlzLmluaXRDb25uZWN0aW9uXygpLHRoaXMuY29ubmVjdGVkXz90aGlzLnNlbmRPbkRpc2Nvbm5lY3RfKFwib2NcIixlLG51bGwsdCk6dGhpcy5vbkRpc2Nvbm5lY3RSZXF1ZXN0UXVldWVfLnB1c2goe3BhdGhTdHJpbmc6ZSxhY3Rpb246XCJvY1wiLGRhdGE6bnVsbCxvbkNvbXBsZXRlOnR9KX0sdG4ucHJvdG90eXBlLnNlbmRPbkRpc2Nvbm5lY3RfPWZ1bmN0aW9uKGUsdCxuLHIpe249e3A6dCxkOm59O3RoaXMubG9nXyhcIm9uRGlzY29ubmVjdCBcIitlLG4pLHRoaXMuc2VuZFJlcXVlc3QoZSxuLGZ1bmN0aW9uKGUpe3ImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKGUucyxlLmQpfSxNYXRoLmZsb29yKDApKX0pfSx0bi5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCxuLHIpe3RoaXMucHV0SW50ZXJuYWwoXCJwXCIsZSx0LG4scil9LHRuLnByb3RvdHlwZS5tZXJnZT1mdW5jdGlvbihlLHQsbixyKXt0aGlzLnB1dEludGVybmFsKFwibVwiLGUsdCxuLHIpfSx0bi5wcm90b3R5cGUucHV0SW50ZXJuYWw9ZnVuY3Rpb24oZSx0LG4scixpKXt0aGlzLmluaXRDb25uZWN0aW9uXygpO249e3A6dCxkOm59O3ZvaWQgMCE9PWkmJihuLmg9aSksdGhpcy5vdXRzdGFuZGluZ1B1dHNfLnB1c2goe2FjdGlvbjplLHJlcXVlc3Q6bixvbkNvbXBsZXRlOnJ9KSx0aGlzLm91dHN0YW5kaW5nUHV0Q291bnRfKys7cj10aGlzLm91dHN0YW5kaW5nUHV0c18ubGVuZ3RoLTE7dGhpcy5jb25uZWN0ZWRfP3RoaXMuc2VuZFB1dF8ocik6dGhpcy5sb2dfKFwiQnVmZmVyaW5nIHB1dDogXCIrdCl9LHRuLnByb3RvdHlwZS5zZW5kUHV0Xz1mdW5jdGlvbih0KXt2YXIgbj10aGlzLHI9dGhpcy5vdXRzdGFuZGluZ1B1dHNfW3RdLmFjdGlvbixlPXRoaXMub3V0c3RhbmRpbmdQdXRzX1t0XS5yZXF1ZXN0LGk9dGhpcy5vdXRzdGFuZGluZ1B1dHNfW3RdLm9uQ29tcGxldGU7dGhpcy5vdXRzdGFuZGluZ1B1dHNfW3RdLnF1ZXVlZD10aGlzLmNvbm5lY3RlZF8sdGhpcy5zZW5kUmVxdWVzdChyLGUsZnVuY3Rpb24oZSl7bi5sb2dfKHIrXCIgcmVzcG9uc2VcIixlKSxkZWxldGUgbi5vdXRzdGFuZGluZ1B1dHNfW3RdLG4ub3V0c3RhbmRpbmdQdXRDb3VudF8tLSwwPT09bi5vdXRzdGFuZGluZ1B1dENvdW50XyYmKG4ub3V0c3RhbmRpbmdQdXRzXz1bXSksaSYmaShlLnMsZS5kKX0pfSx0bi5wcm90b3R5cGUucmVwb3J0U3RhdHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNvbm5lY3RlZF8mJihlPXtjOmV9LHRoaXMubG9nXyhcInJlcG9ydFN0YXRzXCIsZSksdGhpcy5zZW5kUmVxdWVzdChcInNcIixlLGZ1bmN0aW9uKGUpe1wib2tcIiE9PWUucyYmKGU9ZS5kLHQubG9nXyhcInJlcG9ydFN0YXRzXCIsXCJFcnJvciBzZW5kaW5nIHN0YXRzOiBcIitlKSl9KSl9LHRuLnByb3RvdHlwZS5vbkRhdGFNZXNzYWdlXz1mdW5jdGlvbihlKXtpZihcInJcImluIGUpe3RoaXMubG9nXyhcImZyb20gc2VydmVyOiBcIit4KGUpKTt2YXIgdD1lLnIsbj10aGlzLnJlcXVlc3RDQkhhc2hfW3RdO24mJihkZWxldGUgdGhpcy5yZXF1ZXN0Q0JIYXNoX1t0XSxuKGUuYikpfWVsc2V7aWYoXCJlcnJvclwiaW4gZSl0aHJvd1wiQSBzZXJ2ZXItc2lkZSBlcnJvciBoYXMgb2NjdXJyZWQ6IFwiK2UuZXJyb3I7XCJhXCJpbiBlJiZ0aGlzLm9uRGF0YVB1c2hfKGUuYSxlLmIpfX0sdG4ucHJvdG90eXBlLm9uRGF0YVB1c2hfPWZ1bmN0aW9uKGUsdCl7dGhpcy5sb2dfKFwiaGFuZGxlU2VydmVyTWVzc2FnZVwiLGUsdCksXCJkXCI9PT1lP3RoaXMub25EYXRhVXBkYXRlXyh0LnAsdC5kLCExLHQudCk6XCJtXCI9PT1lP3RoaXMub25EYXRhVXBkYXRlXyh0LnAsdC5kLCEwLHQudCk6XCJjXCI9PT1lP3RoaXMub25MaXN0ZW5SZXZva2VkXyh0LnAsdC5xKTpcImFjXCI9PT1lP3RoaXMub25BdXRoUmV2b2tlZF8odC5zLHQuZCk6XCJhcGNcIj09PWU/dGhpcy5vbkFwcENoZWNrUmV2b2tlZF8odC5zLHQuZCk6XCJzZFwiPT09ZT90aGlzLm9uU2VjdXJpdHlEZWJ1Z1BhY2tldF8odCk6ZGUoXCJVbnJlY29nbml6ZWQgYWN0aW9uIHJlY2VpdmVkIGZyb20gc2VydmVyOiBcIit4KGUpK1wiXFxuQXJlIHlvdSB1c2luZyB0aGUgbGF0ZXN0IGNsaWVudD9cIil9LHRuLnByb3RvdHlwZS5vblJlYWR5Xz1mdW5jdGlvbihlLHQpe3RoaXMubG9nXyhcImNvbm5lY3Rpb24gcmVhZHlcIiksdGhpcy5jb25uZWN0ZWRfPSEwLHRoaXMubGFzdENvbm5lY3Rpb25Fc3RhYmxpc2hlZFRpbWVfPShuZXcgRGF0ZSkuZ2V0VGltZSgpLHRoaXMuaGFuZGxlVGltZXN0YW1wXyhlKSx0aGlzLmxhc3RTZXNzaW9uSWQ9dCx0aGlzLmZpcnN0Q29ubmVjdGlvbl8mJnRoaXMuc2VuZENvbm5lY3RTdGF0c18oKSx0aGlzLnJlc3RvcmVTdGF0ZV8oKSx0aGlzLmZpcnN0Q29ubmVjdGlvbl89ITEsdGhpcy5vbkNvbm5lY3RTdGF0dXNfKCEwKX0sdG4ucHJvdG90eXBlLnNjaGVkdWxlQ29ubmVjdF89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztnKCF0aGlzLnJlYWx0aW1lXyxcIlNjaGVkdWxpbmcgYSBjb25uZWN0IHdoZW4gd2UncmUgYWxyZWFkeSBjb25uZWN0ZWQvaW5nP1wiKSx0aGlzLmVzdGFibGlzaENvbm5lY3Rpb25UaW1lcl8mJmNsZWFyVGltZW91dCh0aGlzLmVzdGFibGlzaENvbm5lY3Rpb25UaW1lcl8pLHRoaXMuZXN0YWJsaXNoQ29ubmVjdGlvblRpbWVyXz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5lc3RhYmxpc2hDb25uZWN0aW9uVGltZXJfPW51bGwsdC5lc3RhYmxpc2hDb25uZWN0aW9uXygpfSxNYXRoLmZsb29yKGUpKX0sdG4ucHJvdG90eXBlLmluaXRDb25uZWN0aW9uXz1mdW5jdGlvbigpeyF0aGlzLnJlYWx0aW1lXyYmdGhpcy5maXJzdENvbm5lY3Rpb25fJiZ0aGlzLnNjaGVkdWxlQ29ubmVjdF8oMCl9LHRuLnByb3RvdHlwZS5vblZpc2libGVfPWZ1bmN0aW9uKGUpe2UmJiF0aGlzLnZpc2libGVfJiZ0aGlzLnJlY29ubmVjdERlbGF5Xz09PXRoaXMubWF4UmVjb25uZWN0RGVsYXlfJiYodGhpcy5sb2dfKFwiV2luZG93IGJlY2FtZSB2aXNpYmxlLiAgUmVkdWNpbmcgZGVsYXkuXCIpLHRoaXMucmVjb25uZWN0RGVsYXlfPVh0LHRoaXMucmVhbHRpbWVffHx0aGlzLnNjaGVkdWxlQ29ubmVjdF8oMCkpLHRoaXMudmlzaWJsZV89ZX0sdG4ucHJvdG90eXBlLm9uT25saW5lXz1mdW5jdGlvbihlKXtlPyh0aGlzLmxvZ18oXCJCcm93c2VyIHdlbnQgb25saW5lLlwiKSx0aGlzLnJlY29ubmVjdERlbGF5Xz1YdCx0aGlzLnJlYWx0aW1lX3x8dGhpcy5zY2hlZHVsZUNvbm5lY3RfKDApKToodGhpcy5sb2dfKFwiQnJvd3NlciB3ZW50IG9mZmxpbmUuICBLaWxsaW5nIGNvbm5lY3Rpb24uXCIpLHRoaXMucmVhbHRpbWVfJiZ0aGlzLnJlYWx0aW1lXy5jbG9zZSgpKX0sdG4ucHJvdG90eXBlLm9uUmVhbHRpbWVEaXNjb25uZWN0Xz1mdW5jdGlvbigpe3ZhciBlO3RoaXMubG9nXyhcImRhdGEgY2xpZW50IGRpc2Nvbm5lY3RlZFwiKSx0aGlzLmNvbm5lY3RlZF89ITEsdGhpcy5yZWFsdGltZV89bnVsbCx0aGlzLmNhbmNlbFNlbnRUcmFuc2FjdGlvbnNfKCksdGhpcy5yZXF1ZXN0Q0JIYXNoXz17fSx0aGlzLnNob3VsZFJlY29ubmVjdF8oKSYmKHRoaXMudmlzaWJsZV8/dGhpcy5sYXN0Q29ubmVjdGlvbkVzdGFibGlzaGVkVGltZV8mJigzZTQ8KG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5sYXN0Q29ubmVjdGlvbkVzdGFibGlzaGVkVGltZV8mJih0aGlzLnJlY29ubmVjdERlbGF5Xz1YdCksdGhpcy5sYXN0Q29ubmVjdGlvbkVzdGFibGlzaGVkVGltZV89bnVsbCk6KHRoaXMubG9nXyhcIldpbmRvdyBpc24ndCB2aXNpYmxlLiAgRGVsYXlpbmcgcmVjb25uZWN0LlwiKSx0aGlzLnJlY29ubmVjdERlbGF5Xz10aGlzLm1heFJlY29ubmVjdERlbGF5Xyx0aGlzLmxhc3RDb25uZWN0aW9uQXR0ZW1wdFRpbWVfPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSxlPShuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMubGFzdENvbm5lY3Rpb25BdHRlbXB0VGltZV8sZT1NYXRoLm1heCgwLHRoaXMucmVjb25uZWN0RGVsYXlfLWUpLGU9TWF0aC5yYW5kb20oKSplLHRoaXMubG9nXyhcIlRyeWluZyB0byByZWNvbm5lY3QgaW4gXCIrZStcIm1zXCIpLHRoaXMuc2NoZWR1bGVDb25uZWN0XyhlKSx0aGlzLnJlY29ubmVjdERlbGF5Xz1NYXRoLm1pbih0aGlzLm1heFJlY29ubmVjdERlbGF5XywxLjMqdGhpcy5yZWNvbm5lY3REZWxheV8pKSx0aGlzLm9uQ29ubmVjdFN0YXR1c18oITEpfSx0bi5wcm90b3R5cGUuZXN0YWJsaXNoQ29ubmVjdGlvbl89ZnVuY3Rpb24oKXtyZXR1cm4gaSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdCxuLHIsaSxvLGEscyx1LGwsaCxjPXRoaXM7cmV0dXJuIHAodGhpcyxmdW5jdGlvbihlKXtzd2l0Y2goZS5sYWJlbCl7Y2FzZSAwOmlmKCF0aGlzLnNob3VsZFJlY29ubmVjdF8oKSlyZXR1cm5bMyw0XTt0aGlzLmxvZ18oXCJNYWtpbmcgYSBjb25uZWN0aW9uIGF0dGVtcHRcIiksdGhpcy5sYXN0Q29ubmVjdGlvbkF0dGVtcHRUaW1lXz0obmV3IERhdGUpLmdldFRpbWUoKSx0aGlzLmxhc3RDb25uZWN0aW9uRXN0YWJsaXNoZWRUaW1lXz1udWxsLHQ9dGhpcy5vbkRhdGFNZXNzYWdlXy5iaW5kKHRoaXMpLG49dGhpcy5vblJlYWR5Xy5iaW5kKHRoaXMpLHI9dGhpcy5vblJlYWx0aW1lRGlzY29ubmVjdF8uYmluZCh0aGlzKSxpPXRoaXMuaWQrXCI6XCIrdG4ubmV4dENvbm5lY3Rpb25JZF8rKyxoPXRoaXMubGFzdFNlc3Npb25JZCxvPSExLGE9bnVsbCxzPWZ1bmN0aW9uKCl7YT9hLmNsb3NlKCk6KG89ITAscigpKX0sbD1mdW5jdGlvbihlKXtnKGEsXCJzZW5kUmVxdWVzdCBjYWxsIHdoZW4gd2UncmUgbm90IGNvbm5lY3RlZCBub3QgYWxsb3dlZC5cIiksYS5zZW5kUmVxdWVzdChlKX0sdGhpcy5yZWFsdGltZV89e2Nsb3NlOnMsc2VuZFJlcXVlc3Q6bH0sdT10aGlzLmZvcmNlVG9rZW5SZWZyZXNoXyx0aGlzLmZvcmNlVG9rZW5SZWZyZXNoXz0hMSxlLmxhYmVsPTE7Y2FzZSAxOnJldHVybiBlLnRyeXMucHVzaChbMSwzLCw0XSksWzQsUHJvbWlzZS5hbGwoW3RoaXMuYXV0aFRva2VuUHJvdmlkZXJfLmdldFRva2VuKHUpLHRoaXMuYXBwQ2hlY2tUb2tlblByb3ZpZGVyXy5nZXRUb2tlbih1KV0pXTtjYXNlIDI6cmV0dXJuIGw9eS5hcHBseSh2b2lkIDAsW2Uuc2VudCgpLDJdKSx1PWxbMF0sbD1sWzFdLG8/a2UoXCJnZXRUb2tlbigpIGNvbXBsZXRlZCBidXQgd2FzIGNhbmNlbGVkXCIpOihrZShcImdldFRva2VuKCkgY29tcGxldGVkLiBDcmVhdGluZyBjb25uZWN0aW9uLlwiKSx0aGlzLmF1dGhUb2tlbl89dSYmdS5hY2Nlc3NUb2tlbix0aGlzLmFwcENoZWNrVG9rZW5fPWwmJmwudG9rZW4sYT1uZXcgbXQoaSx0aGlzLnJlcG9JbmZvXyx0aGlzLmFwcGxpY2F0aW9uSWRfLHRoaXMuYXBwQ2hlY2tUb2tlbl8sdGhpcy5hdXRoVG9rZW5fLHQsbixyLGZ1bmN0aW9uKGUpe3hlKGUrXCIgKFwiK2MucmVwb0luZm9fLnRvU3RyaW5nKCkrXCIpXCIpLGMuaW50ZXJydXB0KFwic2VydmVyX2tpbGxcIil9LGgpKSxbMyw0XTtjYXNlIDM6cmV0dXJuIGg9ZS5zZW50KCksdGhpcy5sb2dfKFwiRmFpbGVkIHRvIGdldCB0b2tlbjogXCIraCksb3x8KHRoaXMucmVwb0luZm9fLm5vZGVBZG1pbiYmeGUoaCkscygpKSxbMyw0XTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9LHRuLnByb3RvdHlwZS5pbnRlcnJ1cHQ9ZnVuY3Rpb24oZSl7a2UoXCJJbnRlcnJ1cHRpbmcgY29ubmVjdGlvbiBmb3IgcmVhc29uOiBcIitlKSx0aGlzLmludGVycnVwdFJlYXNvbnNfW2VdPSEwLHRoaXMucmVhbHRpbWVfP3RoaXMucmVhbHRpbWVfLmNsb3NlKCk6KHRoaXMuZXN0YWJsaXNoQ29ubmVjdGlvblRpbWVyXyYmKGNsZWFyVGltZW91dCh0aGlzLmVzdGFibGlzaENvbm5lY3Rpb25UaW1lcl8pLHRoaXMuZXN0YWJsaXNoQ29ubmVjdGlvblRpbWVyXz1udWxsKSx0aGlzLmNvbm5lY3RlZF8mJnRoaXMub25SZWFsdGltZURpc2Nvbm5lY3RfKCkpfSx0bi5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKGUpe2tlKFwiUmVzdW1pbmcgY29ubmVjdGlvbiBmb3IgcmVhc29uOiBcIitlKSxkZWxldGUgdGhpcy5pbnRlcnJ1cHRSZWFzb25zX1tlXSxBKHRoaXMuaW50ZXJydXB0UmVhc29uc18pJiYodGhpcy5yZWNvbm5lY3REZWxheV89WHQsdGhpcy5yZWFsdGltZV98fHRoaXMuc2NoZWR1bGVDb25uZWN0XygwKSl9LHRuLnByb3RvdHlwZS5oYW5kbGVUaW1lc3RhbXBfPWZ1bmN0aW9uKGUpe2UtPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMub25TZXJ2ZXJJbmZvVXBkYXRlXyh7c2VydmVyVGltZU9mZnNldDplfSl9LHRuLnByb3RvdHlwZS5jYW5jZWxTZW50VHJhbnNhY3Rpb25zXz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5vdXRzdGFuZGluZ1B1dHNfLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMub3V0c3RhbmRpbmdQdXRzX1tlXTt0JiZcImhcImluIHQucmVxdWVzdCYmdC5xdWV1ZWQmJih0Lm9uQ29tcGxldGUmJnQub25Db21wbGV0ZShcImRpc2Nvbm5lY3RcIiksZGVsZXRlIHRoaXMub3V0c3RhbmRpbmdQdXRzX1tlXSx0aGlzLm91dHN0YW5kaW5nUHV0Q291bnRfLS0pfTA9PT10aGlzLm91dHN0YW5kaW5nUHV0Q291bnRfJiYodGhpcy5vdXRzdGFuZGluZ1B1dHNfPVtdKX0sdG4ucHJvdG90eXBlLm9uTGlzdGVuUmV2b2tlZF89ZnVuY3Rpb24oZSx0KXt0PXQ/dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEFlKGUpfSkuam9pbihcIiRcIik6XCJkZWZhdWx0XCIsdD10aGlzLnJlbW92ZUxpc3Rlbl8oZSx0KTt0JiZ0Lm9uQ29tcGxldGUmJnQub25Db21wbGV0ZShcInBlcm1pc3Npb25fZGVuaWVkXCIpfSx0bi5wcm90b3R5cGUucmVtb3ZlTGlzdGVuXz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9bmV3IHh0KGUpLnRvU3RyaW5nKCk7cmV0dXJuIHRoaXMubGlzdGVucy5oYXMocik/KG49KGU9dGhpcy5saXN0ZW5zLmdldChyKSkuZ2V0KHQpLGUuZGVsZXRlKHQpLDA9PT1lLnNpemUmJnRoaXMubGlzdGVucy5kZWxldGUocikpOm49dm9pZCAwLG59LHRuLnByb3RvdHlwZS5vbkF1dGhSZXZva2VkXz1mdW5jdGlvbihlLHQpe2tlKFwiQXV0aCB0b2tlbiByZXZva2VkOiBcIitlK1wiL1wiK3QpLHRoaXMuYXV0aFRva2VuXz1udWxsLHRoaXMuZm9yY2VUb2tlblJlZnJlc2hfPSEwLHRoaXMucmVhbHRpbWVfLmNsb3NlKCksXCJpbnZhbGlkX3Rva2VuXCIhPT1lJiZcInBlcm1pc3Npb25fZGVuaWVkXCIhPT1lfHwodGhpcy5pbnZhbGlkQXV0aFRva2VuQ291bnRfKyssMzw9dGhpcy5pbnZhbGlkQXV0aFRva2VuQ291bnRfJiYodGhpcy5yZWNvbm5lY3REZWxheV89M2U0LHRoaXMuYXV0aFRva2VuUHJvdmlkZXJfLm5vdGlmeUZvckludmFsaWRUb2tlbigpKSl9LHRuLnByb3RvdHlwZS5vbkFwcENoZWNrUmV2b2tlZF89ZnVuY3Rpb24oZSx0KXtrZShcIkFwcCBjaGVjayB0b2tlbiByZXZva2VkOiBcIitlK1wiL1wiK3QpLHRoaXMuYXBwQ2hlY2tUb2tlbl89bnVsbCx0aGlzLmZvcmNlVG9rZW5SZWZyZXNoXz0hMCxcImludmFsaWRfdG9rZW5cIiE9PWUmJlwicGVybWlzc2lvbl9kZW5pZWRcIiE9PWV8fCh0aGlzLmludmFsaWRBcHBDaGVja1Rva2VuQ291bnRfKyssMzw9dGhpcy5pbnZhbGlkQXBwQ2hlY2tUb2tlbkNvdW50XyYmdGhpcy5hcHBDaGVja1Rva2VuUHJvdmlkZXJfLm5vdGlmeUZvckludmFsaWRUb2tlbigpKX0sdG4ucHJvdG90eXBlLm9uU2VjdXJpdHlEZWJ1Z1BhY2tldF89ZnVuY3Rpb24oZSl7dGhpcy5zZWN1cml0eURlYnVnQ2FsbGJhY2tfP3RoaXMuc2VjdXJpdHlEZWJ1Z0NhbGxiYWNrXyhlKTpcIm1zZ1wiaW4gZSYmY29uc29sZS5sb2coXCJGSVJFQkFTRTogXCIrZS5tc2cucmVwbGFjZShcIlxcblwiLFwiXFxuRklSRUJBU0U6IFwiKSl9LHRuLnByb3RvdHlwZS5yZXN0b3JlU3RhdGVfPWZ1bmN0aW9uKCl7dmFyIHQsZSxuLHI7dGhpcy50cnlBdXRoKCksdGhpcy50cnlBcHBDaGVjaygpO3RyeXtmb3IodmFyIGk9Xyh0aGlzLmxpc3RlbnMudmFsdWVzKCkpLG89aS5uZXh0KCk7IW8uZG9uZTtvPWkubmV4dCgpKXt2YXIgYT1vLnZhbHVlO3RyeXtmb3IodmFyIHM9KG49dm9pZCAwLF8oYS52YWx1ZXMoKSkpLHU9cy5uZXh0KCk7IXUuZG9uZTt1PXMubmV4dCgpKXt2YXIgbD11LnZhbHVlO3RoaXMuc2VuZExpc3Rlbl8obCl9fWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e3UmJiF1LmRvbmUmJihyPXMucmV0dXJuKSYmci5jYWxsKHMpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX19fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihlPWkucmV0dXJuKSYmZS5jYWxsKGkpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1mb3IodmFyIGg9MDtoPHRoaXMub3V0c3RhbmRpbmdQdXRzXy5sZW5ndGg7aCsrKXRoaXMub3V0c3RhbmRpbmdQdXRzX1toXSYmdGhpcy5zZW5kUHV0XyhoKTtmb3IoO3RoaXMub25EaXNjb25uZWN0UmVxdWVzdFF1ZXVlXy5sZW5ndGg7KXt2YXIgYz10aGlzLm9uRGlzY29ubmVjdFJlcXVlc3RRdWV1ZV8uc2hpZnQoKTt0aGlzLnNlbmRPbkRpc2Nvbm5lY3RfKGMuYWN0aW9uLGMucGF0aFN0cmluZyxjLmRhdGEsYy5vbkNvbXBsZXRlKX1mb3IoaD0wO2g8dGhpcy5vdXRzdGFuZGluZ0dldHNfLmxlbmd0aDtoKyspdGhpcy5vdXRzdGFuZGluZ0dldHNfW2hdJiZ0aGlzLnNlbmRHZXRfKGgpfSx0bi5wcm90b3R5cGUuc2VuZENvbm5lY3RTdGF0c189ZnVuY3Rpb24oKXt2YXIgZT17fTtlW1wic2RrLmpzLlwiK29lLnJlcGxhY2UoL1xcLi9nLFwiLVwiKV09MSx3KCk/ZVtcImZyYW1ld29yay5jb3Jkb3ZhXCJdPTE6XCJvYmplY3RcIj09dHlwZW9mIG5hdmlnYXRvciYmXCJSZWFjdE5hdGl2ZVwiPT09bmF2aWdhdG9yLnByb2R1Y3QmJihlW1wiZnJhbWV3b3JrLnJlYWN0bmF0aXZlXCJdPTEpLHRoaXMucmVwb3J0U3RhdHMoZSl9LHRuLnByb3RvdHlwZS5zaG91bGRSZWNvbm5lY3RfPWZ1bmN0aW9uKCl7dmFyIGU9U3QuZ2V0SW5zdGFuY2UoKS5jdXJyZW50bHlPbmxpbmUoKTtyZXR1cm4gQSh0aGlzLmludGVycnVwdFJlYXNvbnNfKSYmZX0sdG4ubmV4dFBlcnNpc3RlbnRDb25uZWN0aW9uSWRfPTAsdG4ubmV4dENvbm5lY3Rpb25JZF89MCx0bik7ZnVuY3Rpb24gdG4oZSx0LG4scixpLG8sYSxzKXt2YXIgdT1KdC5jYWxsKHRoaXMpfHx0aGlzO2lmKHUucmVwb0luZm9fPWUsdS5hcHBsaWNhdGlvbklkXz10LHUub25EYXRhVXBkYXRlXz1uLHUub25Db25uZWN0U3RhdHVzXz1yLHUub25TZXJ2ZXJJbmZvVXBkYXRlXz1pLHUuYXV0aFRva2VuUHJvdmlkZXJfPW8sdS5hcHBDaGVja1Rva2VuUHJvdmlkZXJfPWEsdS5hdXRoT3ZlcnJpZGVfPXMsdS5pZD10bi5uZXh0UGVyc2lzdGVudENvbm5lY3Rpb25JZF8rKyx1LmxvZ189UGUoXCJwOlwiK3UuaWQrXCI6XCIpLHUuaW50ZXJydXB0UmVhc29uc189e30sdS5saXN0ZW5zPW5ldyBNYXAsdS5vdXRzdGFuZGluZ1B1dHNfPVtdLHUub3V0c3RhbmRpbmdHZXRzXz1bXSx1Lm91dHN0YW5kaW5nUHV0Q291bnRfPTAsdS5vdXRzdGFuZGluZ0dldENvdW50Xz0wLHUub25EaXNjb25uZWN0UmVxdWVzdFF1ZXVlXz1bXSx1LmNvbm5lY3RlZF89ITEsdS5yZWNvbm5lY3REZWxheV89WHQsdS5tYXhSZWNvbm5lY3REZWxheV89WnQsdS5zZWN1cml0eURlYnVnQ2FsbGJhY2tfPW51bGwsdS5sYXN0U2Vzc2lvbklkPW51bGwsdS5lc3RhYmxpc2hDb25uZWN0aW9uVGltZXJfPW51bGwsdS52aXNpYmxlXz0hMSx1LnJlcXVlc3RDQkhhc2hfPXt9LHUucmVxdWVzdE51bWJlcl89MCx1LnJlYWx0aW1lXz1udWxsLHUuYXV0aFRva2VuXz1udWxsLHUuYXBwQ2hlY2tUb2tlbl89bnVsbCx1LmZvcmNlVG9rZW5SZWZyZXNoXz0hMSx1LmludmFsaWRBdXRoVG9rZW5Db3VudF89MCx1LmludmFsaWRBcHBDaGVja1Rva2VuQ291bnRfPTAsdS5maXJzdENvbm5lY3Rpb25fPSEwLHUubGFzdENvbm5lY3Rpb25BdHRlbXB0VGltZV89bnVsbCx1Lmxhc3RDb25uZWN0aW9uRXN0YWJsaXNoZWRUaW1lXz1udWxsLHMmJiFDKCkpdGhyb3cgbmV3IEVycm9yKFwiQXV0aCBvdmVycmlkZSBzcGVjaWZpZWQgaW4gb3B0aW9ucywgYnV0IG5vdCBzdXBwb3J0ZWQgb24gbm9uIE5vZGUuanMgcGxhdGZvcm1zXCIpO3JldHVybiBHdC5nZXRJbnN0YW5jZSgpLm9uKFwidmlzaWJsZVwiLHUub25WaXNpYmxlXyx1KSwtMT09PWUuaG9zdC5pbmRleE9mKFwiZmJsb2NhbFwiKSYmU3QuZ2V0SW5zdGFuY2UoKS5vbihcIm9ubGluZVwiLHUub25PbmxpbmVfLHUpLHV9dmFyIG5uPShybi5XcmFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBybihlLHQpfSxybik7ZnVuY3Rpb24gcm4oZSx0KXt0aGlzLm5hbWU9ZSx0aGlzLm5vZGU9dH12YXIgb24sbWU9KGFuLnByb3RvdHlwZS5nZXRDb21wYXJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcGFyZS5iaW5kKHRoaXMpfSxhbi5wcm90b3R5cGUuaW5kZXhlZFZhbHVlQ2hhbmdlZD1mdW5jdGlvbihlLHQpe2U9bmV3IG5uKFJlLGUpLHQ9bmV3IG5uKFJlLHQpO3JldHVybiAwIT09dGhpcy5jb21wYXJlKGUsdCl9LGFuLnByb3RvdHlwZS5taW5Qb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIG5uLk1JTn0sYW4pO2Z1bmN0aW9uIGFuKCl7fXZhciBzbixyZT0obih1bixzbj1tZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHVuLFwiX19FTVBUWV9OT0RFXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBvbn0sc2V0OmZ1bmN0aW9uKGUpe29uPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdW4ucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2UoZS5uYW1lLHQubmFtZSl9LHVuLnByb3RvdHlwZS5pc0RlZmluZWRPbj1mdW5jdGlvbihlKXt0aHJvdyBtKFwiS2V5SW5kZXguaXNEZWZpbmVkT24gbm90IGV4cGVjdGVkIHRvIGJlIGNhbGxlZC5cIil9LHVuLnByb3RvdHlwZS5pbmRleGVkVmFsdWVDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuITF9LHVuLnByb3RvdHlwZS5taW5Qb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIG5uLk1JTn0sdW4ucHJvdG90eXBlLm1heFBvc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG5uKERlLG9uKX0sdW4ucHJvdG90eXBlLm1ha2VQb3N0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcoXCJzdHJpbmdcIj09dHlwZW9mIGUsXCJLZXlJbmRleCBpbmRleFZhbHVlIG11c3QgYWx3YXlzIGJlIGEgc3RyaW5nLlwiKSxuZXcgbm4oZSxvbil9LHVuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLmtleVwifSx1bik7ZnVuY3Rpb24gdW4oKXtyZXR1cm4gbnVsbCE9PXNuJiZzbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9dmFyIGxuPW5ldyByZSxobj0oY24ucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy5ub2RlU3RhY2tfLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZT10aGlzLm5vZGVTdGFja18ucG9wKCksdD10aGlzLnJlc3VsdEdlbmVyYXRvcl8/dGhpcy5yZXN1bHRHZW5lcmF0b3JfKGUua2V5LGUudmFsdWUpOntrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX07aWYodGhpcy5pc1JldmVyc2VfKWZvcihlPWUubGVmdDshZS5pc0VtcHR5KCk7KXRoaXMubm9kZVN0YWNrXy5wdXNoKGUpLGU9ZS5yaWdodDtlbHNlIGZvcihlPWUucmlnaHQ7IWUuaXNFbXB0eSgpOyl0aGlzLm5vZGVTdGFja18ucHVzaChlKSxlPWUubGVmdDtyZXR1cm4gdH0sY24ucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLm5vZGVTdGFja18ubGVuZ3RofSxjbi5wcm90b3R5cGUucGVlaz1mdW5jdGlvbigpe2lmKDA9PT10aGlzLm5vZGVTdGFja18ubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlPXRoaXMubm9kZVN0YWNrX1t0aGlzLm5vZGVTdGFja18ubGVuZ3RoLTFdO3JldHVybiB0aGlzLnJlc3VsdEdlbmVyYXRvcl8/dGhpcy5yZXN1bHRHZW5lcmF0b3JfKGUua2V5LGUudmFsdWUpOntrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZX19LGNuKTtmdW5jdGlvbiBjbihlLHQsbixyLGkpe3ZvaWQgMD09PWkmJihpPW51bGwpLHRoaXMuaXNSZXZlcnNlXz1yLHRoaXMucmVzdWx0R2VuZXJhdG9yXz1pLHRoaXMubm9kZVN0YWNrXz1bXTtmb3IodmFyIG89MTshZS5pc0VtcHR5KCk7KWlmKG89dD9uKGUua2V5LHQpOjEsciYmKG8qPS0xKSxvPDApZT10aGlzLmlzUmV2ZXJzZV8/ZS5sZWZ0OmUucmlnaHQ7ZWxzZXtpZigwPT09byl7dGhpcy5ub2RlU3RhY2tfLnB1c2goZSk7YnJlYWt9dGhpcy5ub2RlU3RhY2tfLnB1c2goZSksZT10aGlzLmlzUmV2ZXJzZV8/ZS5yaWdodDplLmxlZnR9fXZhciBwbj0oZG4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gbmV3IGRuKG51bGwhPWU/ZTp0aGlzLmtleSxudWxsIT10P3Q6dGhpcy52YWx1ZSxudWxsIT1uP246dGhpcy5jb2xvcixudWxsIT1yP3I6dGhpcy5sZWZ0LG51bGwhPWk/aTp0aGlzLnJpZ2h0KX0sZG4ucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVmdC5jb3VudCgpKzErdGhpcy5yaWdodC5jb3VudCgpfSxkbi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiExfSxkbi5wcm90b3R5cGUuaW5vcmRlclRyYXZlcnNhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sZWZ0Lmlub3JkZXJUcmF2ZXJzYWwoZSl8fCEhZSh0aGlzLmtleSx0aGlzLnZhbHVlKXx8dGhpcy5yaWdodC5pbm9yZGVyVHJhdmVyc2FsKGUpfSxkbi5wcm90b3R5cGUucmV2ZXJzZVRyYXZlcnNhbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yaWdodC5yZXZlcnNlVHJhdmVyc2FsKGUpfHxlKHRoaXMua2V5LHRoaXMudmFsdWUpfHx0aGlzLmxlZnQucmV2ZXJzZVRyYXZlcnNhbChlKX0sZG4ucHJvdG90eXBlLm1pbl89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmlzRW1wdHkoKT90aGlzOnRoaXMubGVmdC5taW5fKCl9LGRuLnByb3RvdHlwZS5taW5LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW5fKCkua2V5fSxkbi5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmlnaHQuaXNFbXB0eSgpP3RoaXMua2V5OnRoaXMucmlnaHQubWF4S2V5KCl9LGRuLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXMsaT1uKGUsci5rZXkpO3JldHVybihyPWk8MD9yLmNvcHkobnVsbCxudWxsLG51bGwsci5sZWZ0Lmluc2VydChlLHQsbiksbnVsbCk6MD09PWk/ci5jb3B5KG51bGwsdCxudWxsLG51bGwsbnVsbCk6ci5jb3B5KG51bGwsbnVsbCxudWxsLG51bGwsci5yaWdodC5pbnNlcnQoZSx0LG4pKSkuZml4VXBfKCl9LGRuLnByb3RvdHlwZS5yZW1vdmVNaW5fPWZ1bmN0aW9uKCl7aWYodGhpcy5sZWZ0LmlzRW1wdHkoKSlyZXR1cm4geW4uRU1QVFlfTk9ERTt2YXIgZT10aGlzO3JldHVybihlPShlPSFlLmxlZnQuaXNSZWRfKCkmJiFlLmxlZnQubGVmdC5pc1JlZF8oKT9lLm1vdmVSZWRMZWZ0XygpOmUpLmNvcHkobnVsbCxudWxsLG51bGwsZS5sZWZ0LnJlbW92ZU1pbl8oKSxudWxsKSkuZml4VXBfKCl9LGRuLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPXRoaXM7aWYodChlLHIua2V5KTwwKXI9KHI9IShyLmxlZnQuaXNFbXB0eSgpfHxyLmxlZnQuaXNSZWRfKCl8fHIubGVmdC5sZWZ0LmlzUmVkXygpKT9yLm1vdmVSZWRMZWZ0XygpOnIpLmNvcHkobnVsbCxudWxsLG51bGwsci5sZWZ0LnJlbW92ZShlLHQpLG51bGwpO2Vsc2V7aWYoMD09PXQoZSwocj0hKChyPXIubGVmdC5pc1JlZF8oKT9yLnJvdGF0ZVJpZ2h0XygpOnIpLnJpZ2h0LmlzRW1wdHkoKXx8ci5yaWdodC5pc1JlZF8oKXx8ci5yaWdodC5sZWZ0LmlzUmVkXygpKT9yLm1vdmVSZWRSaWdodF8oKTpyKS5rZXkpKXtpZihyLnJpZ2h0LmlzRW1wdHkoKSlyZXR1cm4geW4uRU1QVFlfTk9ERTtuPXIucmlnaHQubWluXygpLHI9ci5jb3B5KG4ua2V5LG4udmFsdWUsbnVsbCxudWxsLHIucmlnaHQucmVtb3ZlTWluXygpKX1yPXIuY29weShudWxsLG51bGwsbnVsbCxudWxsLHIucmlnaHQucmVtb3ZlKGUsdCkpfXJldHVybiByLmZpeFVwXygpfSxkbi5wcm90b3R5cGUuaXNSZWRfPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3J9LGRuLnByb3RvdHlwZS5maXhVcF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBlPShlPShlPWUucmlnaHQuaXNSZWRfKCkmJiFlLmxlZnQuaXNSZWRfKCk/ZS5yb3RhdGVMZWZ0XygpOmUpLmxlZnQuaXNSZWRfKCkmJmUubGVmdC5sZWZ0LmlzUmVkXygpP2Uucm90YXRlUmlnaHRfKCk6ZSkubGVmdC5pc1JlZF8oKSYmZS5yaWdodC5pc1JlZF8oKT9lLmNvbG9yRmxpcF8oKTplfSxkbi5wcm90b3R5cGUubW92ZVJlZExlZnRfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2xvckZsaXBfKCk7cmV0dXJuIGU9ZS5yaWdodC5sZWZ0LmlzUmVkXygpPyhlPShlPWUuY29weShudWxsLG51bGwsbnVsbCxudWxsLGUucmlnaHQucm90YXRlUmlnaHRfKCkpKS5yb3RhdGVMZWZ0XygpKS5jb2xvckZsaXBfKCk6ZX0sZG4ucHJvdG90eXBlLm1vdmVSZWRSaWdodF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmNvbG9yRmxpcF8oKTtyZXR1cm4gZT1lLmxlZnQubGVmdC5pc1JlZF8oKT8oZT1lLnJvdGF0ZVJpZ2h0XygpKS5jb2xvckZsaXBfKCk6ZX0sZG4ucHJvdG90eXBlLnJvdGF0ZUxlZnRfPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb3B5KG51bGwsbnVsbCxkbi5SRUQsbnVsbCx0aGlzLnJpZ2h0LmxlZnQpO3JldHVybiB0aGlzLnJpZ2h0LmNvcHkobnVsbCxudWxsLHRoaXMuY29sb3IsZSxudWxsKX0sZG4ucHJvdG90eXBlLnJvdGF0ZVJpZ2h0Xz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29weShudWxsLG51bGwsZG4uUkVELHRoaXMubGVmdC5yaWdodCxudWxsKTtyZXR1cm4gdGhpcy5sZWZ0LmNvcHkobnVsbCxudWxsLHRoaXMuY29sb3IsbnVsbCxlKX0sZG4ucHJvdG90eXBlLmNvbG9yRmxpcF89ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlZnQuY29weShudWxsLG51bGwsIXRoaXMubGVmdC5jb2xvcixudWxsLG51bGwpLHQ9dGhpcy5yaWdodC5jb3B5KG51bGwsbnVsbCwhdGhpcy5yaWdodC5jb2xvcixudWxsLG51bGwpO3JldHVybiB0aGlzLmNvcHkobnVsbCxudWxsLCF0aGlzLmNvbG9yLGUsdCl9LGRuLnByb3RvdHlwZS5jaGVja01heERlcHRoXz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY2hlY2tfKCk7cmV0dXJuIE1hdGgucG93KDIsZSk8PXRoaXMuY291bnQoKSsxfSxkbi5wcm90b3R5cGUuY2hlY2tfPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1JlZF8oKSYmdGhpcy5sZWZ0LmlzUmVkXygpKXRocm93IG5ldyBFcnJvcihcIlJlZCBub2RlIGhhcyByZWQgY2hpbGQoXCIrdGhpcy5rZXkrXCIsXCIrdGhpcy52YWx1ZStcIilcIik7aWYodGhpcy5yaWdodC5pc1JlZF8oKSl0aHJvdyBuZXcgRXJyb3IoXCJSaWdodCBjaGlsZCBvZiAoXCIrdGhpcy5rZXkrXCIsXCIrdGhpcy52YWx1ZStcIikgaXMgcmVkXCIpO3ZhciBlPXRoaXMubGVmdC5jaGVja18oKTtpZihlIT09dGhpcy5yaWdodC5jaGVja18oKSl0aHJvdyBuZXcgRXJyb3IoXCJCbGFjayBkZXB0aHMgZGlmZmVyXCIpO3JldHVybiBlKyh0aGlzLmlzUmVkXygpPzA6MSl9LGRuLlJFRD0hMCxkbi5CTEFDSz0hMSxkbik7ZnVuY3Rpb24gZG4oZSx0LG4scixpKXt0aGlzLmtleT1lLHRoaXMudmFsdWU9dCx0aGlzLmNvbG9yPW51bGwhPW4/bjpkbi5SRUQsdGhpcy5sZWZ0PW51bGwhPXI/cjp5bi5FTVBUWV9OT0RFLHRoaXMucmlnaHQ9bnVsbCE9aT9pOnluLkVNUFRZX05PREV9Zm4ucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oZSx0LG4scixpKXtyZXR1cm4gdGhpc30sZm4ucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG5ldyBwbihlLHQsbnVsbCl9LGZuLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpc30sZm4ucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGZuLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuITB9LGZuLnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiExfSxmbi5wcm90b3R5cGUucmV2ZXJzZVRyYXZlcnNhbD1mdW5jdGlvbihlKXtyZXR1cm4hMX0sZm4ucHJvdG90eXBlLm1pbktleT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxmbi5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGZuLnByb3RvdHlwZS5jaGVja189ZnVuY3Rpb24oKXtyZXR1cm4gMH0sZm4ucHJvdG90eXBlLmlzUmVkXz1mdW5jdGlvbigpe3JldHVybiExfSxUdD1mbjtmdW5jdGlvbiBmbigpe312YXIgX24seW49KHZuLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHZuKHRoaXMuY29tcGFyYXRvcl8sdGhpcy5yb290Xy5pbnNlcnQoZSx0LHRoaXMuY29tcGFyYXRvcl8pLmNvcHkobnVsbCxudWxsLHBuLkJMQUNLLG51bGwsbnVsbCkpfSx2bi5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdm4odGhpcy5jb21wYXJhdG9yXyx0aGlzLnJvb3RfLnJlbW92ZShlLHRoaXMuY29tcGFyYXRvcl8pLmNvcHkobnVsbCxudWxsLHBuLkJMQUNLLG51bGwsbnVsbCkpfSx2bi5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuPXRoaXMucm9vdF87IW4uaXNFbXB0eSgpOyl7aWYoMD09PSh0PXRoaXMuY29tcGFyYXRvcl8oZSxuLmtleSkpKXJldHVybiBuLnZhbHVlO3Q8MD9uPW4ubGVmdDowPHQmJihuPW4ucmlnaHQpfXJldHVybiBudWxsfSx2bi5wcm90b3R5cGUuZ2V0UHJlZGVjZXNzb3JLZXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49dGhpcy5yb290XyxyPW51bGw7IW4uaXNFbXB0eSgpOyl7aWYoMD09PSh0PXRoaXMuY29tcGFyYXRvcl8oZSxuLmtleSkpKXtpZihuLmxlZnQuaXNFbXB0eSgpKXJldHVybiByP3Iua2V5Om51bGw7Zm9yKG49bi5sZWZ0OyFuLnJpZ2h0LmlzRW1wdHkoKTspbj1uLnJpZ2h0O3JldHVybiBuLmtleX10PDA/bj1uLmxlZnQ6MDx0JiYobj0ocj1uKS5yaWdodCl9dGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZpbmQgcHJlZGVjZXNzb3Iga2V5IGZvciBhIG5vbmV4aXN0ZW50IGtleS4gIFdoYXQgZ2l2ZXM/XCIpfSx2bi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3RfLmlzRW1wdHkoKX0sdm4ucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdF8uY291bnQoKX0sdm4ucHJvdG90eXBlLm1pbktleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJvb3RfLm1pbktleSgpfSx2bi5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdF8ubWF4S2V5KCl9LHZuLnByb3RvdHlwZS5pbm9yZGVyVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvb3RfLmlub3JkZXJUcmF2ZXJzYWwoZSl9LHZuLnByb3RvdHlwZS5yZXZlcnNlVHJhdmVyc2FsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJvb3RfLnJldmVyc2VUcmF2ZXJzYWwoZSl9LHZuLnByb3RvdHlwZS5nZXRJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGhuKHRoaXMucm9vdF8sbnVsbCx0aGlzLmNvbXBhcmF0b3JfLCExLGUpfSx2bi5wcm90b3R5cGUuZ2V0SXRlcmF0b3JGcm9tPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBobih0aGlzLnJvb3RfLGUsdGhpcy5jb21wYXJhdG9yXywhMSx0KX0sdm4ucHJvdG90eXBlLmdldFJldmVyc2VJdGVyYXRvckZyb209ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGhuKHRoaXMucm9vdF8sZSx0aGlzLmNvbXBhcmF0b3JfLCEwLHQpfSx2bi5wcm90b3R5cGUuZ2V0UmV2ZXJzZUl0ZXJhdG9yPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaG4odGhpcy5yb290XyxudWxsLHRoaXMuY29tcGFyYXRvcl8sITAsZSl9LHZuLkVNUFRZX05PREU9bmV3IFR0LHZuKTtmdW5jdGlvbiB2bihlLHQpe3ZvaWQgMD09PXQmJih0PXZuLkVNUFRZX05PREUpLHRoaXMuY29tcGFyYXRvcl89ZSx0aGlzLnJvb3RfPXR9ZnVuY3Rpb24gZ24oZSx0KXtyZXR1cm4gT2UoZS5uYW1lLHQubmFtZSl9ZnVuY3Rpb24gbW4oZSx0KXtyZXR1cm4gT2UoZSx0KX1mdW5jdGlvbiB3bihlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZT9cIm51bWJlcjpcIitNZShlKTpcInN0cmluZzpcIitlfXZhciBDbixibixUbixFbixJbj1mdW5jdGlvbihlKXt2YXIgdDtlLmlzTGVhZk5vZGUoKT8odD1lLnZhbCgpLGcoXCJzdHJpbmdcIj09dHlwZW9mIHR8fFwibnVtYmVyXCI9PXR5cGVvZiB0fHxcIm9iamVjdFwiPT10eXBlb2YgdCYmRCh0LFwiLnN2XCIpLFwiUHJpb3JpdHkgbXVzdCBiZSBhIHN0cmluZyBvciBudW1iZXIuXCIpKTpnKGU9PT1fbnx8ZS5pc0VtcHR5KCksXCJwcmlvcml0eSBvZiB1bmV4cGVjdGVkIHR5cGUuXCIpLGcoZT09PV9ufHxlLmdldFByaW9yaXR5KCkuaXNFbXB0eSgpLFwiUHJpb3JpdHkgbm9kZXMgY2FuJ3QgaGF2ZSBhIHByaW9yaXR5IG9mIHRoZWlyIG93bi5cIil9LFNuPShPYmplY3QuZGVmaW5lUHJvcGVydHkoa24sXCJfX2NoaWxkcmVuTm9kZUNvbnN0cnVjdG9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBDbn0sc2V0OmZ1bmN0aW9uKGUpe0NuPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksa24ucHJvdG90eXBlLmlzTGVhZk5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sa24ucHJvdG90eXBlLmdldFByaW9yaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJpb3JpdHlOb2RlX30sa24ucHJvdG90eXBlLnVwZGF0ZVByaW9yaXR5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcga24odGhpcy52YWx1ZV8sZSl9LGtuLnByb3RvdHlwZS5nZXRJbW1lZGlhdGVDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm5cIi5wcmlvcml0eVwiPT09ZT90aGlzLnByaW9yaXR5Tm9kZV86a24uX19jaGlsZHJlbk5vZGVDb25zdHJ1Y3Rvci5FTVBUWV9OT0RFfSxrbi5wcm90b3R5cGUuZ2V0Q2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGp0KGUpP3RoaXM6XCIucHJpb3JpdHlcIj09PU90KGUpP3RoaXMucHJpb3JpdHlOb2RlXzprbi5fX2NoaWxkcmVuTm9kZUNvbnN0cnVjdG9yLkVNUFRZX05PREV9LGtuLnByb3RvdHlwZS5oYXNDaGlsZD1mdW5jdGlvbigpe3JldHVybiExfSxrbi5wcm90b3R5cGUuZ2V0UHJlZGVjZXNzb3JDaGlsZE5hbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbH0sa24ucHJvdG90eXBlLnVwZGF0ZUltbWVkaWF0ZUNoaWxkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCIucHJpb3JpdHlcIj09PWU/dGhpcy51cGRhdGVQcmlvcml0eSh0KTp0LmlzRW1wdHkoKSYmXCIucHJpb3JpdHlcIiE9PWU/dGhpczprbi5fX2NoaWxkcmVuTm9kZUNvbnN0cnVjdG9yLkVNUFRZX05PREUudXBkYXRlSW1tZWRpYXRlQ2hpbGQoZSx0KS51cGRhdGVQcmlvcml0eSh0aGlzLnByaW9yaXR5Tm9kZV8pfSxrbi5wcm90b3R5cGUudXBkYXRlQ2hpbGQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PdChlKTtyZXR1cm4gbnVsbD09PW4/dDp0LmlzRW1wdHkoKSYmXCIucHJpb3JpdHlcIiE9PW4/dGhpczooZyhcIi5wcmlvcml0eVwiIT09bnx8MT09PUF0KGUpLFwiLnByaW9yaXR5IG11c3QgYmUgdGhlIGxhc3QgdG9rZW4gaW4gYSBwYXRoXCIpLHRoaXMudXBkYXRlSW1tZWRpYXRlQ2hpbGQobixrbi5fX2NoaWxkcmVuTm9kZUNvbnN0cnVjdG9yLkVNUFRZX05PREUudXBkYXRlQ2hpbGQoTHQoZSksdCkpKX0sa24ucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sa24ucHJvdG90eXBlLm51bUNoaWxkcmVuPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGtuLnByb3RvdHlwZS5mb3JFYWNoQ2hpbGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hMX0sa24ucHJvdG90eXBlLnZhbD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmIXRoaXMuZ2V0UHJpb3JpdHkoKS5pc0VtcHR5KCk/e1wiLnZhbHVlXCI6dGhpcy5nZXRWYWx1ZSgpLFwiLnByaW9yaXR5XCI6dGhpcy5nZXRQcmlvcml0eSgpLnZhbCgpfTp0aGlzLmdldFZhbHVlKCl9LGtuLnByb3RvdHlwZS5oYXNoPWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09PXRoaXMubGF6eUhhc2hfJiYoZT1cIlwiLHRoaXMucHJpb3JpdHlOb2RlXy5pc0VtcHR5KCl8fChlKz1cInByaW9yaXR5OlwiK3duKHRoaXMucHJpb3JpdHlOb2RlXy52YWwoKSkrXCI6XCIpLGUrPSh0PXR5cGVvZiB0aGlzLnZhbHVlXykrXCI6XCIsZSs9XCJudW1iZXJcIj09dD9NZSh0aGlzLnZhbHVlXyk6dGhpcy52YWx1ZV8sdGhpcy5sYXp5SGFzaF89Y2UoZSkpLHRoaXMubGF6eUhhc2hffSxrbi5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV99LGtuLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1rbi5fX2NoaWxkcmVuTm9kZUNvbnN0cnVjdG9yLkVNUFRZX05PREU/MTplIGluc3RhbmNlb2Yga24uX19jaGlsZHJlbk5vZGVDb25zdHJ1Y3Rvcj8tMTooZyhlLmlzTGVhZk5vZGUoKSxcIlVua25vd24gbm9kZSB0eXBlXCIpLHRoaXMuY29tcGFyZVRvTGVhZk5vZGVfKGUpKX0sa24ucHJvdG90eXBlLmNvbXBhcmVUb0xlYWZOb2RlXz1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZS52YWx1ZV8sbj10eXBlb2YgdGhpcy52YWx1ZV8scj1rbi5WQUxVRV9UWVBFX09SREVSLmluZGV4T2YodCksaT1rbi5WQUxVRV9UWVBFX09SREVSLmluZGV4T2Yobik7cmV0dXJuIGcoMDw9cixcIlVua25vd24gbGVhZiB0eXBlOiBcIit0KSxnKDA8PWksXCJVbmtub3duIGxlYWYgdHlwZTogXCIrbikscj09PWk/XCJvYmplY3RcIj09bj8wOnRoaXMudmFsdWVfPGUudmFsdWVfPy0xOnRoaXMudmFsdWVfPT09ZS52YWx1ZV8/MDoxOmktcn0sa24ucHJvdG90eXBlLndpdGhJbmRleD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxrbi5wcm90b3R5cGUuaXNJbmRleGVkPWZ1bmN0aW9uKCl7cmV0dXJuITB9LGtuLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzfHwhIWUuaXNMZWFmTm9kZSgpJiYodGhpcy52YWx1ZV89PT1lLnZhbHVlXyYmdGhpcy5wcmlvcml0eU5vZGVfLmVxdWFscyhlLnByaW9yaXR5Tm9kZV8pKX0sa24uVkFMVUVfVFlQRV9PUkRFUj1bXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwic3RyaW5nXCJdLGtuKTtmdW5jdGlvbiBrbihlLHQpe3ZvaWQgMD09PXQmJih0PWtuLl9fY2hpbGRyZW5Ob2RlQ29uc3RydWN0b3IuRU1QVFlfTk9ERSksdGhpcy52YWx1ZV89ZSx0aGlzLnByaW9yaXR5Tm9kZV89dCx0aGlzLmxhenlIYXNoXz1udWxsLGcodm9pZCAwIT09dGhpcy52YWx1ZV8mJm51bGwhPT10aGlzLnZhbHVlXyxcIkxlYWZOb2RlIHNob3VsZG4ndCBiZSBjcmVhdGVkIHdpdGggbnVsbC91bmRlZmluZWQgdmFsdWUuXCIpLEluKHRoaXMucHJpb3JpdHlOb2RlXyl9ZnVuY3Rpb24gUG4oKXtyZXR1cm4gbnVsbCE9PUVuJiZFbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9dmFyIE5uPW5ldyhuKFBuLEVuPW1lKSxQbi5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbihlLHQpe3ZhciBuPWUubm9kZS5nZXRQcmlvcml0eSgpLHI9dC5ub2RlLmdldFByaW9yaXR5KCkscj1uLmNvbXBhcmVUbyhyKTtyZXR1cm4gMD09PXI/T2UoZS5uYW1lLHQubmFtZSk6cn0sUG4ucHJvdG90eXBlLmlzRGVmaW5lZE9uPWZ1bmN0aW9uKGUpe3JldHVybiFlLmdldFByaW9yaXR5KCkuaXNFbXB0eSgpfSxQbi5wcm90b3R5cGUuaW5kZXhlZFZhbHVlQ2hhbmdlZD1mdW5jdGlvbihlLHQpe3JldHVybiFlLmdldFByaW9yaXR5KCkuZXF1YWxzKHQuZ2V0UHJpb3JpdHkoKSl9LFBuLnByb3RvdHlwZS5taW5Qb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIG5uLk1JTn0sUG4ucHJvdG90eXBlLm1heFBvc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG5uKERlLG5ldyBTbihcIltQUklPUklUWS1QT1NUXVwiLFRuKSl9LFBuLnByb3RvdHlwZS5tYWtlUG9zdD1mdW5jdGlvbihlLHQpe2U9Ym4oZSk7cmV0dXJuIG5ldyBubih0LG5ldyBTbihcIltQUklPUklUWS1QT1NUXVwiLGUpKX0sUG4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCIucHJpb3JpdHlcIn0sUG4pLHhuPU1hdGgubG9nKDIpLFJuPShEbi5wcm90b3R5cGUubmV4dEJpdElzT25lPWZ1bmN0aW9uKCl7dmFyIGU9ISh0aGlzLmJpdHNfJjE8PHRoaXMuY3VycmVudF8pO3JldHVybiB0aGlzLmN1cnJlbnRfLS0sZX0sRG4pO2Z1bmN0aW9uIERuKGUpe3ZhciB0O3RoaXMuY291bnQ9KHQ9ZSsxLHBhcnNlSW50KE1hdGgubG9nKHQpL3huLDEwKSksdGhpcy5jdXJyZW50Xz10aGlzLmNvdW50LTE7dmFyIG4scj0obj10aGlzLmNvdW50LHBhcnNlSW50KEFycmF5KG4rMSkuam9pbihcIjFcIiksMikpO3RoaXMuYml0c189ZSsxJnJ9dmFyIE9uLEFuLExuPWZ1bmN0aW9uKGwsZSxoLHQpe2wuc29ydChlKTt2YXIgYz1mdW5jdGlvbihlLHQpe3ZhciBuPXQtZTtpZigwPT1uKXJldHVybiBudWxsO2lmKDE9PW4pcmV0dXJuIHI9bFtlXSxpPWg/aChyKTpyLG5ldyBwbihpLHIubm9kZSxwbi5CTEFDSyxudWxsLG51bGwpO3ZhciBuPXBhcnNlSW50KG4vMiwxMCkrZSxlPWMoZSxuKSx0PWMobisxLHQpLHI9bFtuXSxpPWg/aChyKTpyO3JldHVybiBuZXcgcG4oaSxyLm5vZGUscG4uQkxBQ0ssZSx0KX0sbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bnVsbCxuPW51bGwsaT1sLmxlbmd0aCxyPWZ1bmN0aW9uKGUsdCl7dmFyIG49aS1lLHI9aTtpLT1lO2U9YygxK24scikscj1sW25dLG49aD9oKHIpOnI7byhuZXcgcG4obixyLm5vZGUsdCxudWxsLGUpKX0sbz1mdW5jdGlvbihlKXt0PXQ/dC5sZWZ0PWU6bj1lfSxhPTA7YTxlLmNvdW50OysrYSl7dmFyIHM9ZS5uZXh0Qml0SXNPbmUoKSx1PU1hdGgucG93KDIsZS5jb3VudC0oYSsxKSk7cz9yKHUscG4uQkxBQ0spOihyKHUscG4uQkxBQ0spLHIodSxwbi5SRUQpKX1yZXR1cm4gbn0obmV3IFJuKGwubGVuZ3RoKSk7cmV0dXJuIG5ldyB5bih0fHxlLG4pfSxNbj17fSxGbj0oT2JqZWN0LmRlZmluZVByb3BlcnR5KHFuLFwiRGVmYXVsdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZyhObixcIkNoaWxkcmVuTm9kZS50cyBoYXMgbm90IGJlZW4gbG9hZGVkXCIpLE9uPU9ufHxuZXcgcW4oe1wiLnByaW9yaXR5XCI6TW59LHtcIi5wcmlvcml0eVwiOk5ufSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkscW4ucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgdD1PKHRoaXMuaW5kZXhlc18sZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiTm8gaW5kZXggZGVmaW5lZCBmb3IgXCIrZSk7cmV0dXJuIHQgaW5zdGFuY2VvZiB5bj90Om51bGx9LHFuLnByb3RvdHlwZS5oYXNJbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gRCh0aGlzLmluZGV4U2V0XyxlLnRvU3RyaW5nKCkpfSxxbi5wcm90b3R5cGUuYWRkSW5kZXg9ZnVuY3Rpb24oZSx0KXtnKGUhPT1sbixcIktleUluZGV4IGFsd2F5cyBleGlzdHMgYW5kIGlzbid0IG1lYW50IHRvIGJlIGFkZGVkIHRvIHRoZSBJbmRleE1hcC5cIik7Zm9yKHZhciBuPVtdLHI9ITEsaT10LmdldEl0ZXJhdG9yKG5uLldyYXApLG89aS5nZXROZXh0KCk7bzspcj1yfHxlLmlzRGVmaW5lZE9uKG8ubm9kZSksbi5wdXNoKG8pLG89aS5nZXROZXh0KCk7dmFyIGE9cj9MbihuLGUuZ2V0Q29tcGFyZSgpKTpNbixzPWUudG9TdHJpbmcoKSx1PWwoe30sdGhpcy5pbmRleFNldF8pO3Vbc109ZTt0PWwoe30sdGhpcy5pbmRleGVzXyk7cmV0dXJuIHRbc109YSxuZXcgcW4odCx1KX0scW4ucHJvdG90eXBlLmFkZFRvSW5kZXhlcz1mdW5jdGlvbihhLHMpe3ZhciB1PXRoaXM7cmV0dXJuIG5ldyBxbihMKHRoaXMuaW5kZXhlc18sZnVuY3Rpb24oZSx0KXt2YXIgbj1PKHUuaW5kZXhTZXRfLHQpO2lmKGcobixcIk1pc3NpbmcgaW5kZXggaW1wbGVtZW50YXRpb24gZm9yIFwiK3QpLGU9PT1Nbil7aWYobi5pc0RlZmluZWRPbihhLm5vZGUpKXtmb3IodmFyIHI9W10saT1zLmdldEl0ZXJhdG9yKG5uLldyYXApLG89aS5nZXROZXh0KCk7bzspby5uYW1lIT09YS5uYW1lJiZyLnB1c2gobyksbz1pLmdldE5leHQoKTtyZXR1cm4gci5wdXNoKGEpLExuKHIsbi5nZXRDb21wYXJlKCkpfXJldHVybiBNbn1uPXMuZ2V0KGEubmFtZSk7cmV0dXJuKGU9bj9lLnJlbW92ZShuZXcgbm4oYS5uYW1lLG4pKTplKS5pbnNlcnQoYSxhLm5vZGUpfSksdGhpcy5pbmRleFNldF8pfSxxbi5wcm90b3R5cGUucmVtb3ZlRnJvbUluZGV4ZXM9ZnVuY3Rpb24obixyKXtyZXR1cm4gbmV3IHFuKEwodGhpcy5pbmRleGVzXyxmdW5jdGlvbihlKXtpZihlPT09TW4pcmV0dXJuIGU7dmFyIHQ9ci5nZXQobi5uYW1lKTtyZXR1cm4gdD9lLnJlbW92ZShuZXcgbm4obi5uYW1lLHQpKTplfSksdGhpcy5pbmRleFNldF8pfSxxbik7ZnVuY3Rpb24gcW4oZSx0KXt0aGlzLmluZGV4ZXNfPWUsdGhpcy5pbmRleFNldF89dH12YXIgV24sam49KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbixcIkVNUFRZX05PREVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEFuPUFufHxuZXcgVW4obmV3IHluKG1uKSxudWxsLEZuLkRlZmF1bHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFVuLnByb3RvdHlwZS5pc0xlYWZOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LFVuLnByb3RvdHlwZS5nZXRQcmlvcml0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByaW9yaXR5Tm9kZV98fEFufSxVbi5wcm90b3R5cGUudXBkYXRlUHJpb3JpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2hpbGRyZW5fLmlzRW1wdHkoKT90aGlzOm5ldyBVbih0aGlzLmNoaWxkcmVuXyxlLHRoaXMuaW5kZXhNYXBfKX0sVW4ucHJvdG90eXBlLmdldEltbWVkaWF0ZUNoaWxkPWZ1bmN0aW9uKGUpe2lmKFwiLnByaW9yaXR5XCI9PT1lKXJldHVybiB0aGlzLmdldFByaW9yaXR5KCk7ZT10aGlzLmNoaWxkcmVuXy5nZXQoZSk7cmV0dXJuIG51bGw9PT1lP0FuOmV9LFVuLnByb3RvdHlwZS5nZXRDaGlsZD1mdW5jdGlvbihlKXt2YXIgdD1PdChlKTtyZXR1cm4gbnVsbD09PXQ/dGhpczp0aGlzLmdldEltbWVkaWF0ZUNoaWxkKHQpLmdldENoaWxkKEx0KGUpKX0sVW4ucHJvdG90eXBlLmhhc0NoaWxkPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09dGhpcy5jaGlsZHJlbl8uZ2V0KGUpfSxVbi5wcm90b3R5cGUudXBkYXRlSW1tZWRpYXRlQ2hpbGQ9ZnVuY3Rpb24oZSx0KXtpZihnKHQsXCJXZSBzaG91bGQgYWx3YXlzIGJlIHBhc3Npbmcgc25hcHNob3Qgbm9kZXNcIiksXCIucHJpb3JpdHlcIj09PWUpcmV0dXJuIHRoaXMudXBkYXRlUHJpb3JpdHkodCk7dmFyIG49bmV3IG5uKGUsdCkscj12b2lkIDAsaT12b2lkIDAsaT10LmlzRW1wdHkoKT8ocj10aGlzLmNoaWxkcmVuXy5yZW1vdmUoZSksdGhpcy5pbmRleE1hcF8ucmVtb3ZlRnJvbUluZGV4ZXMobix0aGlzLmNoaWxkcmVuXykpOihyPXRoaXMuY2hpbGRyZW5fLmluc2VydChlLHQpLHRoaXMuaW5kZXhNYXBfLmFkZFRvSW5kZXhlcyhuLHRoaXMuY2hpbGRyZW5fKSksbj1yLmlzRW1wdHkoKT9Bbjp0aGlzLnByaW9yaXR5Tm9kZV87cmV0dXJuIG5ldyBVbihyLG4saSl9LFVuLnByb3RvdHlwZS51cGRhdGVDaGlsZD1mdW5jdGlvbihlLHQpe3ZhciBuPU90KGUpO2lmKG51bGw9PT1uKXJldHVybiB0O2coXCIucHJpb3JpdHlcIiE9PU90KGUpfHwxPT09QXQoZSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7dD10aGlzLmdldEltbWVkaWF0ZUNoaWxkKG4pLnVwZGF0ZUNoaWxkKEx0KGUpLHQpO3JldHVybiB0aGlzLnVwZGF0ZUltbWVkaWF0ZUNoaWxkKG4sdCl9LFVuLnByb3RvdHlwZS5pc0VtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW5fLmlzRW1wdHkoKX0sVW4ucHJvdG90eXBlLm51bUNoaWxkcmVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW5fLmNvdW50KCl9LFVuLnByb3RvdHlwZS52YWw9ZnVuY3Rpb24obil7aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuIG51bGw7dmFyIHI9e30saT0wLG89MCxhPSEwO2lmKHRoaXMuZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7cltlXT10LnZhbChuKSxpKyssYSYmVW4uSU5URUdFUl9SRUdFWFBfLnRlc3QoZSk/bz1NYXRoLm1heChvLE51bWJlcihlKSk6YT0hMX0pLCFuJiZhJiZvPDIqaSl7dmFyIGUsdD1bXTtmb3IoZSBpbiByKXRbZV09cltlXTtyZXR1cm4gdH1yZXR1cm4gbiYmIXRoaXMuZ2V0UHJpb3JpdHkoKS5pc0VtcHR5KCkmJihyW1wiLnByaW9yaXR5XCJdPXRoaXMuZ2V0UHJpb3JpdHkoKS52YWwoKSkscn0sVW4ucHJvdG90eXBlLmhhc2g9ZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gbnVsbD09PXRoaXMubGF6eUhhc2hfJiYobj1cIlwiLHRoaXMuZ2V0UHJpb3JpdHkoKS5pc0VtcHR5KCl8fChuKz1cInByaW9yaXR5OlwiK3duKHRoaXMuZ2V0UHJpb3JpdHkoKS52YWwoKSkrXCI6XCIpLHRoaXMuZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7dD10Lmhhc2goKTtcIlwiIT09dCYmKG4rPVwiOlwiK2UrXCI6XCIrdCl9KSx0aGlzLmxhenlIYXNoXz1cIlwiPT09bj9cIlwiOmNlKG4pKSx0aGlzLmxhenlIYXNoX30sVW4ucHJvdG90eXBlLmdldFByZWRlY2Vzc29yQ2hpbGROYW1lPWZ1bmN0aW9uKGUsdCxuKXtuPXRoaXMucmVzb2x2ZUluZGV4XyhuKTtpZihuKXt0PW4uZ2V0UHJlZGVjZXNzb3JLZXkobmV3IG5uKGUsdCkpO3JldHVybiB0P3QubmFtZTpudWxsfXJldHVybiB0aGlzLmNoaWxkcmVuXy5nZXRQcmVkZWNlc3NvcktleShlKX0sVW4ucHJvdG90eXBlLmdldEZpcnN0Q2hpbGROYW1lPWZ1bmN0aW9uKGUpe2U9dGhpcy5yZXNvbHZlSW5kZXhfKGUpO2lmKGUpe2U9ZS5taW5LZXkoKTtyZXR1cm4gZSYmZS5uYW1lfXJldHVybiB0aGlzLmNoaWxkcmVuXy5taW5LZXkoKX0sVW4ucHJvdG90eXBlLmdldEZpcnN0Q2hpbGQ9ZnVuY3Rpb24oZSl7ZT10aGlzLmdldEZpcnN0Q2hpbGROYW1lKGUpO3JldHVybiBlP25ldyBubihlLHRoaXMuY2hpbGRyZW5fLmdldChlKSk6bnVsbH0sVW4ucHJvdG90eXBlLmdldExhc3RDaGlsZE5hbWU9ZnVuY3Rpb24oZSl7ZT10aGlzLnJlc29sdmVJbmRleF8oZSk7aWYoZSl7ZT1lLm1heEtleSgpO3JldHVybiBlJiZlLm5hbWV9cmV0dXJuIHRoaXMuY2hpbGRyZW5fLm1heEtleSgpfSxVbi5wcm90b3R5cGUuZ2V0TGFzdENoaWxkPWZ1bmN0aW9uKGUpe2U9dGhpcy5nZXRMYXN0Q2hpbGROYW1lKGUpO3JldHVybiBlP25ldyBubihlLHRoaXMuY2hpbGRyZW5fLmdldChlKSk6bnVsbH0sVW4ucHJvdG90eXBlLmZvckVhY2hDaGlsZD1mdW5jdGlvbihlLHQpe2U9dGhpcy5yZXNvbHZlSW5kZXhfKGUpO3JldHVybiBlP2UuaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbihlKXtyZXR1cm4gdChlLm5hbWUsZS5ub2RlKX0pOnRoaXMuY2hpbGRyZW5fLmlub3JkZXJUcmF2ZXJzYWwodCl9LFVuLnByb3RvdHlwZS5nZXRJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRJdGVyYXRvckZyb20oZS5taW5Qb3N0KCksZSl9LFVuLnByb3RvdHlwZS5nZXRJdGVyYXRvckZyb209ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLnJlc29sdmVJbmRleF8odCk7aWYobilyZXR1cm4gbi5nZXRJdGVyYXRvckZyb20oZSxmdW5jdGlvbihlKXtyZXR1cm4gZX0pO2Zvcih2YXIgcj10aGlzLmNoaWxkcmVuXy5nZXRJdGVyYXRvckZyb20oZS5uYW1lLG5uLldyYXApLGk9ci5wZWVrKCk7bnVsbCE9aSYmdC5jb21wYXJlKGksZSk8MDspci5nZXROZXh0KCksaT1yLnBlZWsoKTtyZXR1cm4gcn0sVW4ucHJvdG90eXBlLmdldFJldmVyc2VJdGVyYXRvcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRSZXZlcnNlSXRlcmF0b3JGcm9tKGUubWF4UG9zdCgpLGUpfSxVbi5wcm90b3R5cGUuZ2V0UmV2ZXJzZUl0ZXJhdG9yRnJvbT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMucmVzb2x2ZUluZGV4Xyh0KTtpZihuKXJldHVybiBuLmdldFJldmVyc2VJdGVyYXRvckZyb20oZSxmdW5jdGlvbihlKXtyZXR1cm4gZX0pO2Zvcih2YXIgcj10aGlzLmNoaWxkcmVuXy5nZXRSZXZlcnNlSXRlcmF0b3JGcm9tKGUubmFtZSxubi5XcmFwKSxpPXIucGVlaygpO251bGwhPWkmJjA8dC5jb21wYXJlKGksZSk7KXIuZ2V0TmV4dCgpLGk9ci5wZWVrKCk7cmV0dXJuIHJ9LFVuLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNFbXB0eSgpP2UuaXNFbXB0eSgpPzA6LTE6ZS5pc0xlYWZOb2RlKCl8fGUuaXNFbXB0eSgpPzE6ZT09PVZuPy0xOjB9LFVuLnByb3RvdHlwZS53aXRoSW5kZXg9ZnVuY3Rpb24oZSl7aWYoZT09PWxufHx0aGlzLmluZGV4TWFwXy5oYXNJbmRleChlKSlyZXR1cm4gdGhpcztlPXRoaXMuaW5kZXhNYXBfLmFkZEluZGV4KGUsdGhpcy5jaGlsZHJlbl8pO3JldHVybiBuZXcgVW4odGhpcy5jaGlsZHJlbl8sdGhpcy5wcmlvcml0eU5vZGVfLGUpfSxVbi5wcm90b3R5cGUuaXNJbmRleGVkPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09bG58fHRoaXMuaW5kZXhNYXBfLmhhc0luZGV4KGUpfSxVbi5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKGU9PT10aGlzKXJldHVybiEwO2lmKGUuaXNMZWFmTm9kZSgpKXJldHVybiExO2lmKHRoaXMuZ2V0UHJpb3JpdHkoKS5lcXVhbHMoZS5nZXRQcmlvcml0eSgpKSl7aWYodGhpcy5jaGlsZHJlbl8uY291bnQoKSE9PWUuY2hpbGRyZW5fLmNvdW50KCkpcmV0dXJuITE7Zm9yKHZhciB0PXRoaXMuZ2V0SXRlcmF0b3IoTm4pLG49ZS5nZXRJdGVyYXRvcihObikscj10LmdldE5leHQoKSxpPW4uZ2V0TmV4dCgpO3ImJmk7KXtpZihyLm5hbWUhPT1pLm5hbWV8fCFyLm5vZGUuZXF1YWxzKGkubm9kZSkpcmV0dXJuITE7cj10LmdldE5leHQoKSxpPW4uZ2V0TmV4dCgpfXJldHVybiBudWxsPT09ciYmbnVsbD09PWl9cmV0dXJuITF9LFVuLnByb3RvdHlwZS5yZXNvbHZlSW5kZXhfPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09bG4/bnVsbDp0aGlzLmluZGV4TWFwXy5nZXQoZS50b1N0cmluZygpKX0sVW4uSU5URUdFUl9SRUdFWFBfPS9eKDB8WzEtOV1cXGQqKSQvLFVuKTtmdW5jdGlvbiBVbihlLHQsbil7dGhpcy5jaGlsZHJlbl89ZSx0aGlzLnByaW9yaXR5Tm9kZV89dCx0aGlzLmluZGV4TWFwXz1uLHRoaXMubGF6eUhhc2hfPW51bGwsdGhpcy5wcmlvcml0eU5vZGVfJiZJbih0aGlzLnByaW9yaXR5Tm9kZV8pLHRoaXMuY2hpbGRyZW5fLmlzRW1wdHkoKSYmZyghdGhpcy5wcmlvcml0eU5vZGVffHx0aGlzLnByaW9yaXR5Tm9kZV8uaXNFbXB0eSgpLFwiQW4gZW1wdHkgbm9kZSBjYW5ub3QgaGF2ZSBhIHByaW9yaXR5XCIpfWZ1bmN0aW9uIEJuKCl7cmV0dXJuIFduLmNhbGwodGhpcyxuZXcgeW4obW4pLGpuLkVNUFRZX05PREUsRm4uRGVmYXVsdCl8fHRoaXN9dmFyIFZuPW5ldyhuKEJuLFduPWpuKSxCbi5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcz8wOjF9LEJuLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10aGlzfSxCbi5wcm90b3R5cGUuZ2V0UHJpb3JpdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sQm4ucHJvdG90eXBlLmdldEltbWVkaWF0ZUNoaWxkPWZ1bmN0aW9uKGUpe3JldHVybiBqbi5FTVBUWV9OT0RFfSxCbi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiExfSxCbik7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMobm4se01JTjp7dmFsdWU6bmV3IG5uKFJlLGpuLkVNUFRZX05PREUpfSxNQVg6e3ZhbHVlOm5ldyBubihEZSxWbil9fSkscmUuX19FTVBUWV9OT0RFPWpuLkVNUFRZX05PREUsU24uX19jaGlsZHJlbk5vZGVDb25zdHJ1Y3Rvcj1qbixfbj1WbixUbj1Wbjt2YXIgem49ITA7ZnVuY3Rpb24gSG4obixlKXtpZih2b2lkIDA9PT1lJiYoZT1udWxsKSxudWxsPT09bilyZXR1cm4gam4uRU1QVFlfTk9ERTtpZihcIm9iamVjdFwiPT10eXBlb2YgbiYmXCIucHJpb3JpdHlcImluIG4mJihlPW5bXCIucHJpb3JpdHlcIl0pLGcobnVsbD09PWV8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJvYmplY3RcIj09dHlwZW9mIGUmJlwiLnN2XCJpbiBlLFwiSW52YWxpZCBwcmlvcml0eSB0eXBlIGZvdW5kOiBcIit0eXBlb2YgZSksXCJvYmplY3RcIj09dHlwZW9mIG4mJlwiLnZhbHVlXCJpbiBuJiZudWxsIT09bltcIi52YWx1ZVwiXSYmKG49bltcIi52YWx1ZVwiXSksXCJvYmplY3RcIiE9dHlwZW9mIG58fFwiLnN2XCJpbiBuKXJldHVybiBuZXcgU24obixIbihlKSk7aWYobiBpbnN0YW5jZW9mIEFycmF5fHwhem4pe3ZhciByPWpuLkVNUFRZX05PREU7cmV0dXJuIExlKG4sZnVuY3Rpb24oZSx0KXtEKG4sZSkmJlwiLlwiIT09ZS5zdWJzdHJpbmcoMCwxKSYmKCEodD1Ibih0KSkuaXNMZWFmTm9kZSgpJiZ0LmlzRW1wdHkoKXx8KHI9ci51cGRhdGVJbW1lZGlhdGVDaGlsZChlLHQpKSl9KSxyLnVwZGF0ZVByaW9yaXR5KEhuKGUpKX12YXIgaT1bXSxvPSExO2lmKExlKG4sZnVuY3Rpb24oZSx0KXtcIi5cIiE9PWUuc3Vic3RyaW5nKDAsMSkmJigodD1Ibih0KSkuaXNFbXB0eSgpfHwobz1vfHwhdC5nZXRQcmlvcml0eSgpLmlzRW1wdHkoKSxpLnB1c2gobmV3IG5uKGUsdCkpKSl9KSwwPT09aS5sZW5ndGgpcmV0dXJuIGpuLkVNUFRZX05PREU7dmFyIHQ9TG4oaSxnbixmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lfSxtbik7aWYobyl7dmFyIGE9TG4oaSxObi5nZXRDb21wYXJlKCkpO3JldHVybiBuZXcgam4odCxIbihlKSxuZXcgRm4oe1wiLnByaW9yaXR5XCI6YX0se1wiLnByaW9yaXR5XCI6Tm59KSl9cmV0dXJuIG5ldyBqbih0LEhuKGUpLEZuLkRlZmF1bHQpfWJuPUhuO3ZhciBRbixZbixLbj0obihHbixRbj1tZSksR24ucHJvdG90eXBlLmV4dHJhY3RDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRDaGlsZCh0aGlzLmluZGV4UGF0aF8pfSxHbi5wcm90b3R5cGUuaXNEZWZpbmVkT249ZnVuY3Rpb24oZSl7cmV0dXJuIWUuZ2V0Q2hpbGQodGhpcy5pbmRleFBhdGhfKS5pc0VtcHR5KCl9LEduLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5leHRyYWN0Q2hpbGQoZS5ub2RlKSxyPXRoaXMuZXh0cmFjdENoaWxkKHQubm9kZSkscj1uLmNvbXBhcmVUbyhyKTtyZXR1cm4gMD09PXI/T2UoZS5uYW1lLHQubmFtZSk6cn0sR24ucHJvdG90eXBlLm1ha2VQb3N0PWZ1bmN0aW9uKGUsdCl7ZT1IbihlKSxlPWpuLkVNUFRZX05PREUudXBkYXRlQ2hpbGQodGhpcy5pbmRleFBhdGhfLGUpO3JldHVybiBuZXcgbm4odCxlKX0sR24ucHJvdG90eXBlLm1heFBvc3Q9ZnVuY3Rpb24oKXt2YXIgZT1qbi5FTVBUWV9OT0RFLnVwZGF0ZUNoaWxkKHRoaXMuaW5kZXhQYXRoXyxWbik7cmV0dXJuIG5ldyBubihEZSxlKX0sR24ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEZ0KHRoaXMuaW5kZXhQYXRoXywwKS5qb2luKFwiL1wiKX0sR24pO2Z1bmN0aW9uIEduKGUpe3ZhciB0PVFuLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQuaW5kZXhQYXRoXz1lLGcoIWp0KGUpJiZcIi5wcmlvcml0eVwiIT09T3QoZSksXCJDYW4ndCBjcmVhdGUgUGF0aEluZGV4IHdpdGggZW1wdHkgcGF0aCBvciAucHJpb3JpdHkga2V5XCIpLHR9ZnVuY3Rpb24gJG4oKXtyZXR1cm4gbnVsbCE9PVluJiZZbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZnVuY3Rpb24gSm4oZSl7aWYoZT09PVwiXCIramUpcmV0dXJuXCItXCI7dmFyIHQ9VWUoZSk7aWYobnVsbCE9dClyZXR1cm5cIlwiKyh0KzEpO2Zvcih2YXIgbj1uZXcgQXJyYXkoZS5sZW5ndGgpLHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdPWUuY2hhckF0KHIpO2lmKG4ubGVuZ3RoPDc4NilyZXR1cm4gbi5wdXNoKFwiLVwiKSxuLmpvaW4oXCJcIik7Zm9yKHZhciBpPW4ubGVuZ3RoLTE7MDw9aSYmXCJ6XCI9PT1uW2ldOylpLS07cmV0dXJuLTE9PT1pP0RlOih0PW5baV0sdD1uci5jaGFyQXQobnIuaW5kZXhPZih0KSsxKSxuW2ldPXQsbi5zbGljZSgwLGkrMSkuam9pbihcIlwiKSl9ZnVuY3Rpb24gWG4oZSl7aWYoZT09PVwiXCIrV2UpcmV0dXJuIFJlO3ZhciB0PVVlKGUpO2lmKG51bGwhPXQpcmV0dXJuXCJcIisodC0xKTtmb3IodmFyIG49bmV3IEFycmF5KGUubGVuZ3RoKSxyPTA7cjxuLmxlbmd0aDtyKyspbltyXT1lLmNoYXJBdChyKTtyZXR1cm5cIi1cIj09PW5bbi5sZW5ndGgtMV0/MT09PW4ubGVuZ3RoP1wiXCIramU6KGRlbGV0ZSBuW24ubGVuZ3RoLTFdLG4uam9pbihcIlwiKSk6KG5bbi5sZW5ndGgtMV09bnIuY2hhckF0KG5yLmluZGV4T2YobltuLmxlbmd0aC0xXSktMSksbi5qb2luKFwiXCIpK1wielwiLnJlcGVhdCg3ODYtbi5sZW5ndGgpKX12YXIgWm4sZXIsdHI9bmV3KG4oJG4sWW49bWUpLCRuLnByb3RvdHlwZS5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5ub2RlLmNvbXBhcmVUbyh0Lm5vZGUpO3JldHVybiAwPT09bj9PZShlLm5hbWUsdC5uYW1lKTpufSwkbi5wcm90b3R5cGUuaXNEZWZpbmVkT249ZnVuY3Rpb24oZSl7cmV0dXJuITB9LCRuLnByb3RvdHlwZS5pbmRleGVkVmFsdWVDaGFuZ2VkPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWUuZXF1YWxzKHQpfSwkbi5wcm90b3R5cGUubWluUG9zdD1mdW5jdGlvbigpe3JldHVybiBubi5NSU59LCRuLnByb3RvdHlwZS5tYXhQb3N0PWZ1bmN0aW9uKCl7cmV0dXJuIG5uLk1BWH0sJG4ucHJvdG90eXBlLm1ha2VQb3N0PWZ1bmN0aW9uKGUsdCl7ZT1IbihlKTtyZXR1cm4gbmV3IG5uKHQsZSl9LCRuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLnZhbHVlXCJ9LCRuKSxucj1cIi0wMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpfYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixycj0oWm49MCxlcj1bXSxmdW5jdGlvbihlKXt2YXIgdD1lPT09Wm47Wm49ZTtmb3IodmFyIG49bmV3IEFycmF5KDgpLHI9NzswPD1yO3ItLSluW3JdPW5yLmNoYXJBdChlJTY0KSxlPU1hdGguZmxvb3IoZS82NCk7ZygwPT09ZSxcIkNhbm5vdCBwdXNoIGF0IHRpbWUgPT0gMFwiKTt2YXIgaT1uLmpvaW4oXCJcIik7aWYodCl7Zm9yKHI9MTE7MDw9ciYmNjM9PT1lcltyXTtyLS0pZXJbcl09MDtlcltyXSsrfWVsc2UgZm9yKHI9MDtyPDEyO3IrKyllcltyXT1NYXRoLmZsb29yKDY0Kk1hdGgucmFuZG9tKCkpO2ZvcihyPTA7cjwxMjtyKyspaSs9bnIuY2hhckF0KGVyW3JdKTtyZXR1cm4gZygyMD09PWkubGVuZ3RoLFwibmV4dFB1c2hJZDogTGVuZ3RoIHNob3VsZCBiZSAyMC5cIiksaX0pO2Z1bmN0aW9uIGlyKGUpe3JldHVybnt0eXBlOlwidmFsdWVcIixzbmFwc2hvdE5vZGU6ZX19ZnVuY3Rpb24gb3IoZSx0KXtyZXR1cm57dHlwZTpcImNoaWxkX2FkZGVkXCIsc25hcHNob3ROb2RlOnQsY2hpbGROYW1lOmV9fWZ1bmN0aW9uIGFyKGUsdCl7cmV0dXJue3R5cGU6XCJjaGlsZF9yZW1vdmVkXCIsc25hcHNob3ROb2RlOnQsY2hpbGROYW1lOmV9fWZ1bmN0aW9uIHNyKGUsdCxuKXtyZXR1cm57dHlwZTpcImNoaWxkX2NoYW5nZWRcIixzbmFwc2hvdE5vZGU6dCxjaGlsZE5hbWU6ZSxvbGRTbmFwOm59fXZhciB1cj0obHIucHJvdG90eXBlLnVwZGF0ZUNoaWxkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvKXtnKGUuaXNJbmRleGVkKHRoaXMuaW5kZXhfKSxcIkEgbm9kZSBtdXN0IGJlIGluZGV4ZWQgaWYgb25seSBhIGNoaWxkIGlzIHVwZGF0ZWRcIik7dmFyIGE9ZS5nZXRJbW1lZGlhdGVDaGlsZCh0KTtyZXR1cm4gYS5nZXRDaGlsZChyKS5lcXVhbHMobi5nZXRDaGlsZChyKSkmJmEuaXNFbXB0eSgpPT09bi5pc0VtcHR5KCk/ZToobnVsbCE9byYmKG4uaXNFbXB0eSgpP2UuaGFzQ2hpbGQodCk/by50cmFja0NoaWxkQ2hhbmdlKGFyKHQsYSkpOmcoZS5pc0xlYWZOb2RlKCksXCJBIGNoaWxkIHJlbW92ZSB3aXRob3V0IGFuIG9sZCBjaGlsZCBvbmx5IG1ha2VzIHNlbnNlIG9uIGEgbGVhZiBub2RlXCIpOmEuaXNFbXB0eSgpP28udHJhY2tDaGlsZENoYW5nZShvcih0LG4pKTpvLnRyYWNrQ2hpbGRDaGFuZ2Uoc3IodCxuLGEpKSksZS5pc0xlYWZOb2RlKCkmJm4uaXNFbXB0eSgpP2U6ZS51cGRhdGVJbW1lZGlhdGVDaGlsZCh0LG4pLndpdGhJbmRleCh0aGlzLmluZGV4XykpfSxsci5wcm90b3R5cGUudXBkYXRlRnVsbE5vZGU9ZnVuY3Rpb24ocixuLGkpe3JldHVybiBudWxsIT1pJiYoci5pc0xlYWZOb2RlKCl8fHIuZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7bi5oYXNDaGlsZChlKXx8aS50cmFja0NoaWxkQ2hhbmdlKGFyKGUsdCkpfSksbi5pc0xlYWZOb2RlKCl8fG4uZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7dmFyIG47ci5oYXNDaGlsZChlKT8obj1yLmdldEltbWVkaWF0ZUNoaWxkKGUpKS5lcXVhbHModCl8fGkudHJhY2tDaGlsZENoYW5nZShzcihlLHQsbikpOmkudHJhY2tDaGlsZENoYW5nZShvcihlLHQpKX0pKSxuLndpdGhJbmRleCh0aGlzLmluZGV4Xyl9LGxyLnByb3RvdHlwZS51cGRhdGVQcmlvcml0eT1mdW5jdGlvbihlLHQpe3JldHVybiBlLmlzRW1wdHkoKT9qbi5FTVBUWV9OT0RFOmUudXBkYXRlUHJpb3JpdHkodCl9LGxyLnByb3RvdHlwZS5maWx0ZXJzTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sbHIucHJvdG90eXBlLmdldEluZGV4ZWRGaWx0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sbHIucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXhffSxscik7ZnVuY3Rpb24gbHIoZSl7dGhpcy5pbmRleF89ZX12YXIgaHI9KGNyLnByb3RvdHlwZS5nZXRTdGFydFBvc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydFBvc3RffSxjci5wcm90b3R5cGUuZ2V0RW5kUG9zdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZFBvc3RffSxjci5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbmRleF8uY29tcGFyZSh0aGlzLmdldFN0YXJ0UG9zdCgpLGUpPD0wJiZ0aGlzLmluZGV4Xy5jb21wYXJlKGUsdGhpcy5nZXRFbmRQb3N0KCkpPD0wfSxjci5wcm90b3R5cGUudXBkYXRlQ2hpbGQ9ZnVuY3Rpb24oZSx0LG4scixpLG8pe3JldHVybiB0aGlzLm1hdGNoZXMobmV3IG5uKHQsbikpfHwobj1qbi5FTVBUWV9OT0RFKSx0aGlzLmluZGV4ZWRGaWx0ZXJfLnVwZGF0ZUNoaWxkKGUsdCxuLHIsaSxvKX0sY3IucHJvdG90eXBlLnVwZGF0ZUZ1bGxOb2RlPWZ1bmN0aW9uKGUsdCxuKXt0LmlzTGVhZk5vZGUoKSYmKHQ9am4uRU1QVFlfTk9ERSk7dmFyIHI9KHI9dC53aXRoSW5kZXgodGhpcy5pbmRleF8pKS51cGRhdGVQcmlvcml0eShqbi5FTVBUWV9OT0RFKSxpPXRoaXM7cmV0dXJuIHQuZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7aS5tYXRjaGVzKG5ldyBubihlLHQpKXx8KHI9ci51cGRhdGVJbW1lZGlhdGVDaGlsZChlLGpuLkVNUFRZX05PREUpKX0pLHRoaXMuaW5kZXhlZEZpbHRlcl8udXBkYXRlRnVsbE5vZGUoZSxyLG4pfSxjci5wcm90b3R5cGUudXBkYXRlUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZX0sY3IucHJvdG90eXBlLmZpbHRlcnNOb2Rlcz1mdW5jdGlvbigpe3JldHVybiEwfSxjci5wcm90b3R5cGUuZ2V0SW5kZXhlZEZpbHRlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluZGV4ZWRGaWx0ZXJffSxjci5wcm90b3R5cGUuZ2V0SW5kZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleF99LGNyLmdldFN0YXJ0UG9zdF89ZnVuY3Rpb24oZSl7aWYoZS5oYXNTdGFydCgpKXt2YXIgdD1lLmdldEluZGV4U3RhcnROYW1lKCk7cmV0dXJuIGUuZ2V0SW5kZXgoKS5tYWtlUG9zdChlLmdldEluZGV4U3RhcnRWYWx1ZSgpLHQpfXJldHVybiBlLmdldEluZGV4KCkubWluUG9zdCgpfSxjci5nZXRFbmRQb3N0Xz1mdW5jdGlvbihlKXtpZihlLmhhc0VuZCgpKXt2YXIgdD1lLmdldEluZGV4RW5kTmFtZSgpO3JldHVybiBlLmdldEluZGV4KCkubWFrZVBvc3QoZS5nZXRJbmRleEVuZFZhbHVlKCksdCl9cmV0dXJuIGUuZ2V0SW5kZXgoKS5tYXhQb3N0KCl9LGNyKTtmdW5jdGlvbiBjcihlKXt0aGlzLmluZGV4ZWRGaWx0ZXJfPW5ldyB1cihlLmdldEluZGV4KCkpLHRoaXMuaW5kZXhfPWUuZ2V0SW5kZXgoKSx0aGlzLnN0YXJ0UG9zdF89Y3IuZ2V0U3RhcnRQb3N0XyhlKSx0aGlzLmVuZFBvc3RfPWNyLmdldEVuZFBvc3RfKGUpfXZhciBwcj0oZHIucHJvdG90eXBlLnVwZGF0ZUNoaWxkPWZ1bmN0aW9uKGUsdCxuLHIsaSxvKXtyZXR1cm4gdGhpcy5yYW5nZWRGaWx0ZXJfLm1hdGNoZXMobmV3IG5uKHQsbikpfHwobj1qbi5FTVBUWV9OT0RFKSxlLmdldEltbWVkaWF0ZUNoaWxkKHQpLmVxdWFscyhuKT9lOmUubnVtQ2hpbGRyZW4oKTx0aGlzLmxpbWl0Xz90aGlzLnJhbmdlZEZpbHRlcl8uZ2V0SW5kZXhlZEZpbHRlcigpLnVwZGF0ZUNoaWxkKGUsdCxuLHIsaSxvKTp0aGlzLmZ1bGxMaW1pdFVwZGF0ZUNoaWxkXyhlLHQsbixpLG8pfSxkci5wcm90b3R5cGUudXBkYXRlRnVsbE5vZGU9ZnVuY3Rpb24oZSx0LG4pe2lmKHQuaXNMZWFmTm9kZSgpfHx0LmlzRW1wdHkoKSlyPWpuLkVNUFRZX05PREUud2l0aEluZGV4KHRoaXMuaW5kZXhfKTtlbHNlIGlmKDIqdGhpcy5saW1pdF88dC5udW1DaGlsZHJlbigpJiZ0LmlzSW5kZXhlZCh0aGlzLmluZGV4Xykpe3ZhciByPWpuLkVNUFRZX05PREUud2l0aEluZGV4KHRoaXMuaW5kZXhfKSxpPXZvaWQgMDtpPXRoaXMucmV2ZXJzZV8/dC5nZXRSZXZlcnNlSXRlcmF0b3JGcm9tKHRoaXMucmFuZ2VkRmlsdGVyXy5nZXRFbmRQb3N0KCksdGhpcy5pbmRleF8pOnQuZ2V0SXRlcmF0b3JGcm9tKHRoaXMucmFuZ2VkRmlsdGVyXy5nZXRTdGFydFBvc3QoKSx0aGlzLmluZGV4Xyk7Zm9yKHZhciBvPTA7aS5oYXNOZXh0KCkmJm88dGhpcy5saW1pdF87KXt2YXIgYT1pLmdldE5leHQoKTtpZighKHRoaXMucmV2ZXJzZV8/dGhpcy5pbmRleF8uY29tcGFyZSh0aGlzLnJhbmdlZEZpbHRlcl8uZ2V0U3RhcnRQb3N0KCksYSk8PTA6dGhpcy5pbmRleF8uY29tcGFyZShhLHRoaXMucmFuZ2VkRmlsdGVyXy5nZXRFbmRQb3N0KCkpPD0wKSlicmVhaztyPXIudXBkYXRlSW1tZWRpYXRlQ2hpbGQoYS5uYW1lLGEubm9kZSksbysrfX1lbHNle3I9KHI9dC53aXRoSW5kZXgodGhpcy5pbmRleF8pKS51cGRhdGVQcmlvcml0eShqbi5FTVBUWV9OT0RFKTt2YXIgcyx1PXZvaWQgMCxsPXZvaWQgMCxoPXZvaWQgMCxpPXZvaWQgMDtoPXRoaXMucmV2ZXJzZV8/KGk9ci5nZXRSZXZlcnNlSXRlcmF0b3IodGhpcy5pbmRleF8pLHU9dGhpcy5yYW5nZWRGaWx0ZXJfLmdldEVuZFBvc3QoKSxsPXRoaXMucmFuZ2VkRmlsdGVyXy5nZXRTdGFydFBvc3QoKSxzPXRoaXMuaW5kZXhfLmdldENvbXBhcmUoKSxmdW5jdGlvbihlLHQpe3JldHVybiBzKHQsZSl9KTooaT1yLmdldEl0ZXJhdG9yKHRoaXMuaW5kZXhfKSx1PXRoaXMucmFuZ2VkRmlsdGVyXy5nZXRTdGFydFBvc3QoKSxsPXRoaXMucmFuZ2VkRmlsdGVyXy5nZXRFbmRQb3N0KCksdGhpcy5pbmRleF8uZ2V0Q29tcGFyZSgpKTtmb3IodmFyIG89MCxjPSExO2kuaGFzTmV4dCgpOyl7YT1pLmdldE5leHQoKTsoYz0hYyYmaCh1LGEpPD0wPyEwOmMpJiZvPHRoaXMubGltaXRfJiZoKGEsbCk8PTA/bysrOnI9ci51cGRhdGVJbW1lZGlhdGVDaGlsZChhLm5hbWUsam4uRU1QVFlfTk9ERSl9fXJldHVybiB0aGlzLnJhbmdlZEZpbHRlcl8uZ2V0SW5kZXhlZEZpbHRlcigpLnVwZGF0ZUZ1bGxOb2RlKGUscixuKX0sZHIucHJvdG90eXBlLnVwZGF0ZVByaW9yaXR5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGV9LGRyLnByb3RvdHlwZS5maWx0ZXJzTm9kZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZHIucHJvdG90eXBlLmdldEluZGV4ZWRGaWx0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yYW5nZWRGaWx0ZXJfLmdldEluZGV4ZWRGaWx0ZXIoKX0sZHIucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXhffSxkci5wcm90b3R5cGUuZnVsbExpbWl0VXBkYXRlQ2hpbGRfPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYTthPXRoaXMucmV2ZXJzZV8/KG89dGhpcy5pbmRleF8uZ2V0Q29tcGFyZSgpLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8odCxlKX0pOnRoaXMuaW5kZXhfLmdldENvbXBhcmUoKTt2YXIgcz1lO2cocy5udW1DaGlsZHJlbigpPT09dGhpcy5saW1pdF8sXCJcIik7dmFyIHU9bmV3IG5uKHQsbiksbD10aGlzLnJldmVyc2VfP3MuZ2V0Rmlyc3RDaGlsZCh0aGlzLmluZGV4Xyk6cy5nZXRMYXN0Q2hpbGQodGhpcy5pbmRleF8pLGg9dGhpcy5yYW5nZWRGaWx0ZXJfLm1hdGNoZXModSk7aWYocy5oYXNDaGlsZCh0KSl7Zm9yKHZhciBjPXMuZ2V0SW1tZWRpYXRlQ2hpbGQodCkscD1yLmdldENoaWxkQWZ0ZXJDaGlsZCh0aGlzLmluZGV4XyxsLHRoaXMucmV2ZXJzZV8pO251bGwhPXAmJihwLm5hbWU9PT10fHxzLmhhc0NoaWxkKHAubmFtZSkpOylwPXIuZ2V0Q2hpbGRBZnRlckNoaWxkKHRoaXMuaW5kZXhfLHAsdGhpcy5yZXZlcnNlXyk7dmFyIGQ9bnVsbD09cD8xOmEocCx1KTtpZihoJiYhbi5pc0VtcHR5KCkmJjA8PWQpcmV0dXJuIG51bGwhPWkmJmkudHJhY2tDaGlsZENoYW5nZShzcih0LG4sYykpLHMudXBkYXRlSW1tZWRpYXRlQ2hpbGQodCxuKTtudWxsIT1pJiZpLnRyYWNrQ2hpbGRDaGFuZ2UoYXIodCxjKSk7Yz1zLnVwZGF0ZUltbWVkaWF0ZUNoaWxkKHQsam4uRU1QVFlfTk9ERSk7cmV0dXJuIG51bGwhPXAmJnRoaXMucmFuZ2VkRmlsdGVyXy5tYXRjaGVzKHApPyhudWxsIT1pJiZpLnRyYWNrQ2hpbGRDaGFuZ2Uob3IocC5uYW1lLHAubm9kZSkpLGMudXBkYXRlSW1tZWRpYXRlQ2hpbGQocC5uYW1lLHAubm9kZSkpOmN9cmV0dXJuIW4uaXNFbXB0eSgpJiZoJiYwPD1hKGwsdSk/KG51bGwhPWkmJihpLnRyYWNrQ2hpbGRDaGFuZ2UoYXIobC5uYW1lLGwubm9kZSkpLGkudHJhY2tDaGlsZENoYW5nZShvcih0LG4pKSkscy51cGRhdGVJbW1lZGlhdGVDaGlsZCh0LG4pLnVwZGF0ZUltbWVkaWF0ZUNoaWxkKGwubmFtZSxqbi5FTVBUWV9OT0RFKSk6ZX0sZHIpO2Z1bmN0aW9uIGRyKGUpe3RoaXMucmFuZ2VkRmlsdGVyXz1uZXcgaHIoZSksdGhpcy5pbmRleF89ZS5nZXRJbmRleCgpLHRoaXMubGltaXRfPWUuZ2V0TGltaXQoKSx0aGlzLnJldmVyc2VfPSFlLmlzVmlld0Zyb21MZWZ0KCl9dmFyIGZyPShfci5wcm90b3R5cGUuaGFzU3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydFNldF99LF9yLnByb3RvdHlwZS5oYXNTdGFydEFmdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRBZnRlclNldF99LF9yLnByb3RvdHlwZS5oYXNFbmRCZWZvcmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmRCZWZvcmVTZXRffSxfci5wcm90b3R5cGUuaXNWaWV3RnJvbUxlZnQ9ZnVuY3Rpb24oKXtyZXR1cm5cIlwiPT09dGhpcy52aWV3RnJvbV8/dGhpcy5zdGFydFNldF86XCJsXCI9PT10aGlzLnZpZXdGcm9tX30sX3IucHJvdG90eXBlLmdldEluZGV4U3RhcnRWYWx1ZT1mdW5jdGlvbigpe3JldHVybiBnKHRoaXMuc3RhcnRTZXRfLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIiksdGhpcy5pbmRleFN0YXJ0VmFsdWVffSxfci5wcm90b3R5cGUuZ2V0SW5kZXhTdGFydE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLnN0YXJ0U2V0XyxcIk9ubHkgdmFsaWQgaWYgc3RhcnQgaGFzIGJlZW4gc2V0XCIpLHRoaXMuc3RhcnROYW1lU2V0Xz90aGlzLmluZGV4U3RhcnROYW1lXzpSZX0sX3IucHJvdG90eXBlLmhhc0VuZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuZFNldF99LF9yLnByb3RvdHlwZS5nZXRJbmRleEVuZFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcy5lbmRTZXRfLFwiT25seSB2YWxpZCBpZiBlbmQgaGFzIGJlZW4gc2V0XCIpLHRoaXMuaW5kZXhFbmRWYWx1ZV99LF9yLnByb3RvdHlwZS5nZXRJbmRleEVuZE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLmVuZFNldF8sXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIiksdGhpcy5lbmROYW1lU2V0Xz90aGlzLmluZGV4RW5kTmFtZV86RGV9LF9yLnByb3RvdHlwZS5oYXNMaW1pdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpbWl0U2V0X30sX3IucHJvdG90eXBlLmhhc0FuY2hvcmVkTGltaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saW1pdFNldF8mJlwiXCIhPT10aGlzLnZpZXdGcm9tX30sX3IucHJvdG90eXBlLmdldExpbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcy5saW1pdFNldF8sXCJPbmx5IHZhbGlkIGlmIGxpbWl0IGhhcyBiZWVuIHNldFwiKSx0aGlzLmxpbWl0X30sX3IucHJvdG90eXBlLmdldEluZGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5kZXhffSxfci5wcm90b3R5cGUubG9hZHNBbGxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuISh0aGlzLnN0YXJ0U2V0X3x8dGhpcy5lbmRTZXRffHx0aGlzLmxpbWl0U2V0Xyl9LF9yLnByb3RvdHlwZS5pc0RlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2Fkc0FsbERhdGEoKSYmdGhpcy5pbmRleF89PT1Obn0sX3IucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgX3I7cmV0dXJuIGUubGltaXRTZXRfPXRoaXMubGltaXRTZXRfLGUubGltaXRfPXRoaXMubGltaXRfLGUuc3RhcnRTZXRfPXRoaXMuc3RhcnRTZXRfLGUuaW5kZXhTdGFydFZhbHVlXz10aGlzLmluZGV4U3RhcnRWYWx1ZV8sZS5zdGFydE5hbWVTZXRfPXRoaXMuc3RhcnROYW1lU2V0XyxlLmluZGV4U3RhcnROYW1lXz10aGlzLmluZGV4U3RhcnROYW1lXyxlLmVuZFNldF89dGhpcy5lbmRTZXRfLGUuaW5kZXhFbmRWYWx1ZV89dGhpcy5pbmRleEVuZFZhbHVlXyxlLmVuZE5hbWVTZXRfPXRoaXMuZW5kTmFtZVNldF8sZS5pbmRleEVuZE5hbWVfPXRoaXMuaW5kZXhFbmROYW1lXyxlLmluZGV4Xz10aGlzLmluZGV4XyxlLnZpZXdGcm9tXz10aGlzLnZpZXdGcm9tXyxlfSxfcik7ZnVuY3Rpb24gX3IoKXt0aGlzLmxpbWl0U2V0Xz0hMSx0aGlzLnN0YXJ0U2V0Xz0hMSx0aGlzLnN0YXJ0TmFtZVNldF89ITEsdGhpcy5zdGFydEFmdGVyU2V0Xz0hMSx0aGlzLmVuZFNldF89ITEsdGhpcy5lbmROYW1lU2V0Xz0hMSx0aGlzLmVuZEJlZm9yZVNldF89ITEsdGhpcy5saW1pdF89MCx0aGlzLnZpZXdGcm9tXz1cIlwiLHRoaXMuaW5kZXhTdGFydFZhbHVlXz1udWxsLHRoaXMuaW5kZXhTdGFydE5hbWVfPVwiXCIsdGhpcy5pbmRleEVuZFZhbHVlXz1udWxsLHRoaXMuaW5kZXhFbmROYW1lXz1cIlwiLHRoaXMuaW5kZXhfPU5ufWZ1bmN0aW9uIHlyKGUsdCxuKXtlPWUuY29weSgpO3JldHVybiBlLnN0YXJ0U2V0Xz0hMCx2b2lkIDA9PT10JiYodD1udWxsKSxlLmluZGV4U3RhcnRWYWx1ZV89dCxudWxsIT1uPyhlLnN0YXJ0TmFtZVNldF89ITAsZS5pbmRleFN0YXJ0TmFtZV89bik6KGUuc3RhcnROYW1lU2V0Xz0hMSxlLmluZGV4U3RhcnROYW1lXz1cIlwiKSxlfWZ1bmN0aW9uIHZyKGUsdCxuKXtlPWUuY29weSgpO3JldHVybiBlLmVuZFNldF89ITAsdm9pZCAwPT09dCYmKHQ9bnVsbCksZS5pbmRleEVuZFZhbHVlXz10LHZvaWQgMCE9PW4/KGUuZW5kTmFtZVNldF89ITAsZS5pbmRleEVuZE5hbWVfPW4pOihlLmVuZE5hbWVTZXRfPSExLGUuaW5kZXhFbmROYW1lXz1cIlwiKSxlfWZ1bmN0aW9uIGdyKGUsdCl7ZT1lLmNvcHkoKTtyZXR1cm4gZS5pbmRleF89dCxlfWZ1bmN0aW9uIG1yKGUpe3ZhciB0LG49e307cmV0dXJuIGUuaXNEZWZhdWx0KCl8fCh0PWUuaW5kZXhfPT09Tm4/XCIkcHJpb3JpdHlcIjplLmluZGV4Xz09PXRyP1wiJHZhbHVlXCI6ZS5pbmRleF89PT1sbj9cIiRrZXlcIjooZyhlLmluZGV4XyBpbnN0YW5jZW9mIEtuLFwiVW5yZWNvZ25pemVkIGluZGV4IHR5cGUhXCIpLGUuaW5kZXhfLnRvU3RyaW5nKCkpLG4ub3JkZXJCeT14KHQpLGUuc3RhcnRTZXRfJiYobi5zdGFydEF0PXgoZS5pbmRleFN0YXJ0VmFsdWVfKSxlLnN0YXJ0TmFtZVNldF8mJihuLnN0YXJ0QXQrPVwiLFwiK3goZS5pbmRleFN0YXJ0TmFtZV8pKSksZS5lbmRTZXRfJiYobi5lbmRBdD14KGUuaW5kZXhFbmRWYWx1ZV8pLGUuZW5kTmFtZVNldF8mJihuLmVuZEF0Kz1cIixcIit4KGUuaW5kZXhFbmROYW1lXykpKSxlLmxpbWl0U2V0XyYmKGUuaXNWaWV3RnJvbUxlZnQoKT9uLmxpbWl0VG9GaXJzdD1lLmxpbWl0XzpuLmxpbWl0VG9MYXN0PWUubGltaXRfKSksbn1mdW5jdGlvbiB3cihlKXt2YXIgdCxuPXt9O3JldHVybiBlLnN0YXJ0U2V0XyYmKG4uc3A9ZS5pbmRleFN0YXJ0VmFsdWVfLGUuc3RhcnROYW1lU2V0XyYmKG4uc249ZS5pbmRleFN0YXJ0TmFtZV8pKSxlLmVuZFNldF8mJihuLmVwPWUuaW5kZXhFbmRWYWx1ZV8sZS5lbmROYW1lU2V0XyYmKG4uZW49ZS5pbmRleEVuZE5hbWVfKSksZS5saW1pdFNldF8mJihuLmw9ZS5saW1pdF8sXCJcIj09PSh0PWUudmlld0Zyb21fKSYmKHQ9ZS5pc1ZpZXdGcm9tTGVmdCgpP1wibFwiOlwiclwiKSxuLnZmPXQpLGUuaW5kZXhfIT09Tm4mJihuLmk9ZS5pbmRleF8udG9TdHJpbmcoKSksbn12YXIgQ3IsYnI9KG4oVHIsQ3I9Q3QpLFRyLnByb3RvdHlwZS5yZXBvcnRTdGF0cz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKX0sVHIuZ2V0TGlzdGVuSWRfPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXQ/XCJ0YWckXCIrdDooZyhlLl9xdWVyeVBhcmFtcy5pc0RlZmF1bHQoKSxcInNob3VsZCBoYXZlIGEgdGFnIGlmIGl0J3Mgbm90IGEgZGVmYXVsdCBxdWVyeS5cIiksZS5fcGF0aC50b1N0cmluZygpKX0sVHIucHJvdG90eXBlLmxpc3Rlbj1mdW5jdGlvbihlLHQsbixyKXt2YXIgaT10aGlzLG89ZS5fcGF0aC50b1N0cmluZygpO3RoaXMubG9nXyhcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK28rXCIgXCIrZS5fcXVlcnlJZGVudGlmaWVyKTt2YXIgYT1Uci5nZXRMaXN0ZW5JZF8oZSxuKSxzPXt9O3RoaXMubGlzdGVuc19bYV09cztlPW1yKGUuX3F1ZXJ5UGFyYW1zKTt0aGlzLnJlc3RSZXF1ZXN0XyhvK1wiLmpzb25cIixlLGZ1bmN0aW9uKGUsdCl7bnVsbD09PShlPTQwND09PWU/dD1udWxsOmUpJiZpLm9uRGF0YVVwZGF0ZV8obyx0LCExLG4pLE8oaS5saXN0ZW5zXyxhKT09PXMmJnIoZT80MDE9PT1lP1wicGVybWlzc2lvbl9kZW5pZWRcIjpcInJlc3RfZXJyb3I6XCIrZTpcIm9rXCIsbnVsbCl9KX0sVHIucHJvdG90eXBlLnVubGlzdGVuPWZ1bmN0aW9uKGUsdCl7dD1Uci5nZXRMaXN0ZW5JZF8oZSx0KTtkZWxldGUgdGhpcy5saXN0ZW5zX1t0XX0sVHIucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgbj10aGlzLHQ9bXIoZS5fcXVlcnlQYXJhbXMpLHI9ZS5fcGF0aC50b1N0cmluZygpLGk9bmV3IGY7cmV0dXJuIHRoaXMucmVzdFJlcXVlc3RfKHIrXCIuanNvblwiLHQsZnVuY3Rpb24oZSx0KXtudWxsPT09KGU9NDA0PT09ZT90PW51bGw6ZSk/KG4ub25EYXRhVXBkYXRlXyhyLHQsITEsbnVsbCksaS5yZXNvbHZlKHQpKTppLnJlamVjdChuZXcgRXJyb3IodCkpfSksaS5wcm9taXNlfSxUci5wcm90b3R5cGUucmVmcmVzaEF1dGhUb2tlbj1mdW5jdGlvbihlKXt9LFRyLnByb3RvdHlwZS5yZXN0UmVxdWVzdF89ZnVuY3Rpb24oaSxvLGEpe3ZhciBzPXRoaXM7cmV0dXJuKG89dm9pZCAwPT09bz97fTpvKS5mb3JtYXQ9XCJleHBvcnRcIixQcm9taXNlLmFsbChbdGhpcy5hdXRoVG9rZW5Qcm92aWRlcl8uZ2V0VG9rZW4oITEpLHRoaXMuYXBwQ2hlY2tUb2tlblByb3ZpZGVyXy5nZXRUb2tlbighMSldKS50aGVuKGZ1bmN0aW9uKGUpe3ZhciB0PXkoZSwyKSxlPXRbMF0sdD10WzFdO2UmJmUuYWNjZXNzVG9rZW4mJihvLmF1dGg9ZS5hY2Nlc3NUb2tlbiksdCYmdC50b2tlbiYmKG8uYWM9dC50b2tlbik7dmFyIG49KHMucmVwb0luZm9fLnNlY3VyZT9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3MucmVwb0luZm9fLmhvc3QraStcIj9ucz1cIitzLnJlcG9JbmZvXy5uYW1lc3BhY2UrTShvKTtzLmxvZ18oXCJTZW5kaW5nIFJFU1QgcmVxdWVzdCBmb3IgXCIrbik7dmFyIHI9bmV3IFhNTEh0dHBSZXF1ZXN0O3Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoYSYmND09PXIucmVhZHlTdGF0ZSl7cy5sb2dfKFwiUkVTVCBSZXNwb25zZSBmb3IgXCIrbitcIiByZWNlaXZlZC4gc3RhdHVzOlwiLHIuc3RhdHVzLFwicmVzcG9uc2U6XCIsci5yZXNwb25zZVRleHQpO3ZhciBlPW51bGw7aWYoMjAwPD1yLnN0YXR1cyYmci5zdGF0dXM8MzAwKXt0cnl7ZT1OKHIucmVzcG9uc2VUZXh0KX1jYXRjaChlKXt4ZShcIkZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlIGZvciBcIituK1wiOiBcIityLnJlc3BvbnNlVGV4dCl9YShudWxsLGUpfWVsc2UgNDAxIT09ci5zdGF0dXMmJjQwNCE9PXIuc3RhdHVzJiZ4ZShcIkdvdCB1bnN1Y2Nlc3NmdWwgUkVTVCByZXNwb25zZSBmb3IgXCIrbitcIiBTdGF0dXM6IFwiK3Iuc3RhdHVzKSxhKHIuc3RhdHVzKTthPW51bGx9fSxyLm9wZW4oXCJHRVRcIixuLCEwKSxyLnNlbmQoKX0pfSxUcik7ZnVuY3Rpb24gVHIoZSx0LG4scil7dmFyIGk9Q3IuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5yZXBvSW5mb189ZSxpLm9uRGF0YVVwZGF0ZV89dCxpLmF1dGhUb2tlblByb3ZpZGVyXz1uLGkuYXBwQ2hlY2tUb2tlblByb3ZpZGVyXz1yLGkubG9nXz1QZShcInA6cmVzdDpcIiksaS5saXN0ZW5zXz17fSxpfXZhciBFcj0oSXIucHJvdG90eXBlLmdldE5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucm9vdE5vZGVfLmdldENoaWxkKGUpfSxJci5wcm90b3R5cGUudXBkYXRlU25hcHNob3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLnJvb3ROb2RlXz10aGlzLnJvb3ROb2RlXy51cGRhdGVDaGlsZChlLHQpfSxJcik7ZnVuY3Rpb24gSXIoKXt0aGlzLnJvb3ROb2RlXz1qbi5FTVBUWV9OT0RFfWZ1bmN0aW9uIFNyKCl7cmV0dXJue3ZhbHVlOm51bGwsY2hpbGRyZW46bmV3IE1hcH19ZnVuY3Rpb24ga3IoZSx0LG4pe3ZhciByO2p0KHQpPyhlLnZhbHVlPW4sZS5jaGlsZHJlbi5jbGVhcigpKTpudWxsIT09ZS52YWx1ZT9lLnZhbHVlPWUudmFsdWUudXBkYXRlQ2hpbGQodCxuKToocj1PdCh0KSxlLmNoaWxkcmVuLmhhcyhyKXx8ZS5jaGlsZHJlbi5zZXQocixTcigpKSxrcihlLmNoaWxkcmVuLmdldChyKSx0PUx0KHQpLG4pKX1mdW5jdGlvbiBQcihlLG4scil7dmFyIGk7bnVsbCE9PWUudmFsdWU/cihuLGUudmFsdWUpOihpPWZ1bmN0aW9uKGUsdCl7UHIodCxuZXcgeHQobi50b1N0cmluZygpK1wiL1wiK2UpLHIpfSxlLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oZSx0KXtpKHQsZSl9KSl9dmFyIE5yPSh4ci5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5jb2xsZWN0aW9uXy5nZXQoKSxuPWwoe30sZSk7cmV0dXJuIHRoaXMubGFzdF8mJkxlKHRoaXMubGFzdF8sZnVuY3Rpb24oZSx0KXtuW2VdPW5bZV0tdH0pLHRoaXMubGFzdF89ZSxufSx4cik7ZnVuY3Rpb24geHIoZSl7dGhpcy5jb2xsZWN0aW9uXz1lLHRoaXMubGFzdF89bnVsbH12YXIgUnIsRHI9KE9yLnByb3RvdHlwZS5yZXBvcnRTdGF0c189ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGU9dGhpcy5zdGF0c0xpc3RlbmVyXy5nZXQoKSxyPXt9LGk9ITE7TGUoZSxmdW5jdGlvbihlLHQpezA8dCYmRChuLnN0YXRzVG9SZXBvcnRfLGUpJiYocltlXT10LGk9ITApfSksaSYmdGhpcy5zZXJ2ZXJfLnJlcG9ydFN0YXRzKHIpLEZlKHRoaXMucmVwb3J0U3RhdHNfLmJpbmQodGhpcyksTWF0aC5mbG9vcigyKk1hdGgucmFuZG9tKCkqM2U1KSl9LE9yKTtmdW5jdGlvbiBPcihlLHQpe3RoaXMuc2VydmVyXz10LHRoaXMuc3RhdHNUb1JlcG9ydF89e30sdGhpcy5zdGF0c0xpc3RlbmVyXz1uZXcgTnIoZSk7ZT0xZTQrMmU0Kk1hdGgucmFuZG9tKCk7RmUodGhpcy5yZXBvcnRTdGF0c18uYmluZCh0aGlzKSxNYXRoLmZsb29yKGUpKX1mdW5jdGlvbiBBcigpe3JldHVybntmcm9tVXNlcjohMCxmcm9tU2VydmVyOiExLHF1ZXJ5SWQ6bnVsbCx0YWdnZWQ6ITF9fWZ1bmN0aW9uIExyKCl7cmV0dXJue2Zyb21Vc2VyOiExLGZyb21TZXJ2ZXI6ITAscXVlcnlJZDpudWxsLHRhZ2dlZDohMX19ZnVuY3Rpb24gTXIoZSl7cmV0dXJue2Zyb21Vc2VyOiExLGZyb21TZXJ2ZXI6ITAscXVlcnlJZDplLHRhZ2dlZDohMH19KEN0PVJyPVJyfHx7fSlbQ3QuT1ZFUldSSVRFPTBdPVwiT1ZFUldSSVRFXCIsQ3RbQ3QuTUVSR0U9MV09XCJNRVJHRVwiLEN0W0N0LkFDS19VU0VSX1dSSVRFPTJdPVwiQUNLX1VTRVJfV1JJVEVcIixDdFtDdC5MSVNURU5fQ09NUExFVEU9M109XCJMSVNURU5fQ09NUExFVEVcIjt2YXIgRnI9KHFyLnByb3RvdHlwZS5vcGVyYXRpb25Gb3JDaGlsZD1mdW5jdGlvbihlKXtpZihqdCh0aGlzLnBhdGgpKXtpZihudWxsIT10aGlzLmFmZmVjdGVkVHJlZS52YWx1ZSlyZXR1cm4gZyh0aGlzLmFmZmVjdGVkVHJlZS5jaGlsZHJlbi5pc0VtcHR5KCksXCJhZmZlY3RlZFRyZWUgc2hvdWxkIG5vdCBoYXZlIG92ZXJsYXBwaW5nIGFmZmVjdGVkIHBhdGhzLlwiKSx0aGlzO3ZhciB0PXRoaXMuYWZmZWN0ZWRUcmVlLnN1YnRyZWUobmV3IHh0KGUpKTtyZXR1cm4gbmV3IHFyKER0KCksdCx0aGlzLnJldmVydCl9cmV0dXJuIGcoT3QodGhpcy5wYXRoKT09PWUsXCJvcGVyYXRpb25Gb3JDaGlsZCBjYWxsZWQgZm9yIHVucmVsYXRlZCBjaGlsZC5cIiksbmV3IHFyKEx0KHRoaXMucGF0aCksdGhpcy5hZmZlY3RlZFRyZWUsdGhpcy5yZXZlcnQpfSxxcik7ZnVuY3Rpb24gcXIoZSx0LG4pe3RoaXMucGF0aD1lLHRoaXMuYWZmZWN0ZWRUcmVlPXQsdGhpcy5yZXZlcnQ9bix0aGlzLnR5cGU9UnIuQUNLX1VTRVJfV1JJVEUsdGhpcy5zb3VyY2U9QXIoKX12YXIgV3I9KGpyLnByb3RvdHlwZS5vcGVyYXRpb25Gb3JDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm4ganQodGhpcy5wYXRoKT9uZXcganIodGhpcy5zb3VyY2UsRHQoKSk6bmV3IGpyKHRoaXMuc291cmNlLEx0KHRoaXMucGF0aCkpfSxqcik7ZnVuY3Rpb24ganIoZSx0KXt0aGlzLnNvdXJjZT1lLHRoaXMucGF0aD10LHRoaXMudHlwZT1Sci5MSVNURU5fQ09NUExFVEV9dmFyIFVyPShCci5wcm90b3R5cGUub3BlcmF0aW9uRm9yQ2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGp0KHRoaXMucGF0aCk/bmV3IEJyKHRoaXMuc291cmNlLER0KCksdGhpcy5zbmFwLmdldEltbWVkaWF0ZUNoaWxkKGUpKTpuZXcgQnIodGhpcy5zb3VyY2UsTHQodGhpcy5wYXRoKSx0aGlzLnNuYXApfSxCcik7ZnVuY3Rpb24gQnIoZSx0LG4pe3RoaXMuc291cmNlPWUsdGhpcy5wYXRoPXQsdGhpcy5zbmFwPW4sdGhpcy50eXBlPVJyLk9WRVJXUklURX12YXIgVnI9KHpyLnByb3RvdHlwZS5vcGVyYXRpb25Gb3JDaGlsZD1mdW5jdGlvbihlKXtpZihqdCh0aGlzLnBhdGgpKXt2YXIgdD10aGlzLmNoaWxkcmVuLnN1YnRyZWUobmV3IHh0KGUpKTtyZXR1cm4gdC5pc0VtcHR5KCk/bnVsbDp0LnZhbHVlP25ldyBVcih0aGlzLnNvdXJjZSxEdCgpLHQudmFsdWUpOm5ldyB6cih0aGlzLnNvdXJjZSxEdCgpLHQpfXJldHVybiBnKE90KHRoaXMucGF0aCk9PT1lLFwiQ2FuJ3QgZ2V0IGEgbWVyZ2UgZm9yIGEgY2hpbGQgbm90IG9uIHRoZSBwYXRoIG9mIHRoZSBvcGVyYXRpb25cIiksbmV3IHpyKHRoaXMuc291cmNlLEx0KHRoaXMucGF0aCksdGhpcy5jaGlsZHJlbil9LHpyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBtZXJnZTogXCIrdGhpcy5jaGlsZHJlbi50b1N0cmluZygpK1wiKVwifSx6cik7ZnVuY3Rpb24genIoZSx0LG4pe3RoaXMuc291cmNlPWUsdGhpcy5wYXRoPXQsdGhpcy5jaGlsZHJlbj1uLHRoaXMudHlwZT1Sci5NRVJHRX12YXIgSHI9KFFyLnByb3RvdHlwZS5pc0Z1bGx5SW5pdGlhbGl6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mdWxseUluaXRpYWxpemVkX30sUXIucHJvdG90eXBlLmlzRmlsdGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXJlZF99LFFyLnByb3RvdHlwZS5pc0NvbXBsZXRlRm9yUGF0aD1mdW5jdGlvbihlKXtpZihqdChlKSlyZXR1cm4gdGhpcy5pc0Z1bGx5SW5pdGlhbGl6ZWQoKSYmIXRoaXMuZmlsdGVyZWRfO2U9T3QoZSk7cmV0dXJuIHRoaXMuaXNDb21wbGV0ZUZvckNoaWxkKGUpfSxRci5wcm90b3R5cGUuaXNDb21wbGV0ZUZvckNoaWxkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmlzRnVsbHlJbml0aWFsaXplZCgpJiYhdGhpcy5maWx0ZXJlZF98fHRoaXMubm9kZV8uaGFzQ2hpbGQoZSl9LFFyLnByb3RvdHlwZS5nZXROb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubm9kZV99LFFyKTtmdW5jdGlvbiBRcihlLHQsbil7dGhpcy5ub2RlXz1lLHRoaXMuZnVsbHlJbml0aWFsaXplZF89dCx0aGlzLmZpbHRlcmVkXz1ufXZhciBZcixLcj1mdW5jdGlvbihlKXt0aGlzLnF1ZXJ5Xz1lLHRoaXMuaW5kZXhfPXRoaXMucXVlcnlfLl9xdWVyeVBhcmFtcy5nZXRJbmRleCgpfTtmdW5jdGlvbiBHcihuLGUsdCxyKXt2YXIgaT1bXSxvPVtdO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7XCJjaGlsZF9jaGFuZ2VkXCI9PT1lLnR5cGUmJm4uaW5kZXhfLmluZGV4ZWRWYWx1ZUNoYW5nZWQoZS5vbGRTbmFwLGUuc25hcHNob3ROb2RlKSYmby5wdXNoKCh0PWUuY2hpbGROYW1lLHt0eXBlOlwiY2hpbGRfbW92ZWRcIixzbmFwc2hvdE5vZGU6ZS5zbmFwc2hvdE5vZGUsY2hpbGROYW1lOnR9KSl9KSwkcihuLGksXCJjaGlsZF9yZW1vdmVkXCIsZSxyLHQpLCRyKG4saSxcImNoaWxkX2FkZGVkXCIsZSxyLHQpLCRyKG4saSxcImNoaWxkX21vdmVkXCIsbyxyLHQpLCRyKG4saSxcImNoaWxkX2NoYW5nZWRcIixlLHIsdCksJHIobixpLFwidmFsdWVcIixlLHIsdCksaX1mdW5jdGlvbiAkcihvLGEsdCxlLHMsdSl7ZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dH0pO2Uuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihlLHQsbil7aWYobnVsbD09dC5jaGlsZE5hbWV8fG51bGw9PW4uY2hpbGROYW1lKXRocm93IG0oXCJTaG91bGQgb25seSBjb21wYXJlIGNoaWxkXyBldmVudHMuXCIpO3Q9bmV3IG5uKHQuY2hpbGROYW1lLHQuc25hcHNob3ROb2RlKSxuPW5ldyBubihuLmNoaWxkTmFtZSxuLnNuYXBzaG90Tm9kZSk7cmV0dXJuIGUuaW5kZXhfLmNvbXBhcmUodCxuKX0obyxlLHQpfSksZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlLG4scixpPShlPW8scj11LFwidmFsdWVcIj09PShuPXQpLnR5cGV8fFwiY2hpbGRfcmVtb3ZlZFwiPT09bi50eXBlfHwobi5wcmV2TmFtZT1yLmdldFByZWRlY2Vzc29yQ2hpbGROYW1lKG4uY2hpbGROYW1lLG4uc25hcHNob3ROb2RlLGUuaW5kZXhfKSksbik7cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVzcG9uZHNUbyh0LnR5cGUpJiZhLnB1c2goZS5jcmVhdGVFdmVudChpLG8ucXVlcnlfKSl9KX0pfWZ1bmN0aW9uIEpyKGUsdCl7cmV0dXJue2V2ZW50Q2FjaGU6ZSxzZXJ2ZXJDYWNoZTp0fX1mdW5jdGlvbiBYcihlLHQsbixyKXtyZXR1cm4gSnIobmV3IEhyKHQsbixyKSxlLnNlcnZlckNhY2hlKX1mdW5jdGlvbiBacihlLHQsbixyKXtyZXR1cm4gSnIoZS5ldmVudENhY2hlLG5ldyBIcih0LG4scikpfWZ1bmN0aW9uIGVpKGUpe3JldHVybiBlLmV2ZW50Q2FjaGUuaXNGdWxseUluaXRpYWxpemVkKCk/ZS5ldmVudENhY2hlLmdldE5vZGUoKTpudWxsfWZ1bmN0aW9uIHRpKGUpe3JldHVybiBlLnNlcnZlckNhY2hlLmlzRnVsbHlJbml0aWFsaXplZCgpP2Uuc2VydmVyQ2FjaGUuZ2V0Tm9kZSgpOm51bGx9dmFyIG5pPShyaS5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3ZhciBuPW5ldyByaShudWxsKTtyZXR1cm4gTGUoZSxmdW5jdGlvbihlLHQpe249bi5zZXQobmV3IHh0KGUpLHQpfSksbn0scmkucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMudmFsdWUmJnRoaXMuY2hpbGRyZW4uaXNFbXB0eSgpfSxyaS5wcm90b3R5cGUuZmluZFJvb3RNb3N0TWF0Y2hpbmdQYXRoQW5kVmFsdWU9ZnVuY3Rpb24oZSx0KXtpZihudWxsIT10aGlzLnZhbHVlJiZ0KHRoaXMudmFsdWUpKXJldHVybntwYXRoOkR0KCksdmFsdWU6dGhpcy52YWx1ZX07aWYoanQoZSkpcmV0dXJuIG51bGw7dmFyIG49T3QoZSkscj10aGlzLmNoaWxkcmVuLmdldChuKTtpZihudWxsPT09cilyZXR1cm4gbnVsbDt0PXIuZmluZFJvb3RNb3N0TWF0Y2hpbmdQYXRoQW5kVmFsdWUoTHQoZSksdCk7cmV0dXJuIG51bGw9PXQ/bnVsbDp7cGF0aDpXdChuZXcgeHQobiksdC5wYXRoKSx2YWx1ZTp0LnZhbHVlfX0scmkucHJvdG90eXBlLmZpbmRSb290TW9zdFZhbHVlQW5kUGF0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5maW5kUm9vdE1vc3RNYXRjaGluZ1BhdGhBbmRWYWx1ZShlLGZ1bmN0aW9uKCl7cmV0dXJuITB9KX0scmkucHJvdG90eXBlLnN1YnRyZWU9ZnVuY3Rpb24oZSl7aWYoanQoZSkpcmV0dXJuIHRoaXM7dmFyIHQ9T3QoZSksdD10aGlzLmNoaWxkcmVuLmdldCh0KTtyZXR1cm4gbnVsbCE9PXQ/dC5zdWJ0cmVlKEx0KGUpKTpuZXcgcmkobnVsbCl9LHJpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtpZihqdChlKSlyZXR1cm4gbmV3IHJpKHQsdGhpcy5jaGlsZHJlbik7dmFyIG49T3QoZSksdD0odGhpcy5jaGlsZHJlbi5nZXQobil8fG5ldyByaShudWxsKSkuc2V0KEx0KGUpLHQpLHQ9dGhpcy5jaGlsZHJlbi5pbnNlcnQobix0KTtyZXR1cm4gbmV3IHJpKHRoaXMudmFsdWUsdCl9LHJpLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoanQoZSkpcmV0dXJuIHRoaXMuY2hpbGRyZW4uaXNFbXB0eSgpP25ldyByaShudWxsKTpuZXcgcmkobnVsbCx0aGlzLmNoaWxkcmVuKTt2YXIgdD1PdChlKSxuPXRoaXMuY2hpbGRyZW4uZ2V0KHQpO2lmKG4pe249bi5yZW1vdmUoTHQoZSkpLGU9dm9pZCAwLGU9bi5pc0VtcHR5KCk/dGhpcy5jaGlsZHJlbi5yZW1vdmUodCk6dGhpcy5jaGlsZHJlbi5pbnNlcnQodCxuKTtyZXR1cm4gbnVsbD09PXRoaXMudmFsdWUmJmUuaXNFbXB0eSgpP25ldyByaShudWxsKTpuZXcgcmkodGhpcy52YWx1ZSxlKX1yZXR1cm4gdGhpc30scmkucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtpZihqdChlKSlyZXR1cm4gdGhpcy52YWx1ZTt2YXIgdD1PdChlKSx0PXRoaXMuY2hpbGRyZW4uZ2V0KHQpO3JldHVybiB0P3QuZ2V0KEx0KGUpKTpudWxsfSxyaS5wcm90b3R5cGUuc2V0VHJlZT1mdW5jdGlvbihlLHQpe2lmKGp0KGUpKXJldHVybiB0O3ZhciBuPU90KGUpLGU9KHRoaXMuY2hpbGRyZW4uZ2V0KG4pfHxuZXcgcmkobnVsbCkpLnNldFRyZWUoTHQoZSksdCksdD12b2lkIDAsdD1lLmlzRW1wdHkoKT90aGlzLmNoaWxkcmVuLnJlbW92ZShuKTp0aGlzLmNoaWxkcmVuLmluc2VydChuLGUpO3JldHVybiBuZXcgcmkodGhpcy52YWx1ZSx0KX0scmkucHJvdG90eXBlLmZvbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZm9sZF8oRHQoKSxlKX0scmkucHJvdG90eXBlLmZvbGRfPWZ1bmN0aW9uKG4scil7dmFyIGk9e307cmV0dXJuIHRoaXMuY2hpbGRyZW4uaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbihlLHQpe2lbZV09dC5mb2xkXyhXdChuLGUpLHIpfSkscihuLHRoaXMudmFsdWUsaSl9LHJpLnByb3RvdHlwZS5maW5kT25QYXRoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZmluZE9uUGF0aF8oZSxEdCgpLHQpfSxyaS5wcm90b3R5cGUuZmluZE9uUGF0aF89ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSEhdGhpcy52YWx1ZSYmbih0LHRoaXMudmFsdWUpO2lmKHIpcmV0dXJuIHI7aWYoanQoZSkpcmV0dXJuIG51bGw7dmFyIGk9T3QoZSkscj10aGlzLmNoaWxkcmVuLmdldChpKTtyZXR1cm4gcj9yLmZpbmRPblBhdGhfKEx0KGUpLFd0KHQsaSksbik6bnVsbH0scmkucHJvdG90eXBlLmZvcmVhY2hPblBhdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5mb3JlYWNoT25QYXRoXyhlLER0KCksdCl9LHJpLnByb3RvdHlwZS5mb3JlYWNoT25QYXRoXz1mdW5jdGlvbihlLHQsbil7aWYoanQoZSkpcmV0dXJuIHRoaXM7dGhpcy52YWx1ZSYmbih0LHRoaXMudmFsdWUpO3ZhciByPU90KGUpLGk9dGhpcy5jaGlsZHJlbi5nZXQocik7cmV0dXJuIGk/aS5mb3JlYWNoT25QYXRoXyhMdChlKSxXdCh0LHIpLG4pOm5ldyByaShudWxsKX0scmkucHJvdG90eXBlLmZvcmVhY2g9ZnVuY3Rpb24oZSl7dGhpcy5mb3JlYWNoXyhEdCgpLGUpfSxyaS5wcm90b3R5cGUuZm9yZWFjaF89ZnVuY3Rpb24obixyKXt0aGlzLmNoaWxkcmVuLmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24oZSx0KXt0LmZvcmVhY2hfKFd0KG4sZSkscil9KSx0aGlzLnZhbHVlJiZyKG4sdGhpcy52YWx1ZSl9LHJpLnByb3RvdHlwZS5mb3JlYWNoQ2hpbGQ9ZnVuY3Rpb24obil7dGhpcy5jaGlsZHJlbi5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKGUsdCl7dC52YWx1ZSYmbihlLHQudmFsdWUpfSl9LHJpKTtmdW5jdGlvbiByaShlLHQpe3ZvaWQgMD09PXQmJih0PVlyPVlyfHxuZXcgeW4oX2UpKSx0aGlzLnZhbHVlPWUsdGhpcy5jaGlsZHJlbj10fXZhciBpaT0ob2kuZW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG9pKG5ldyBuaShudWxsKSl9LG9pKTtmdW5jdGlvbiBvaShlKXt0aGlzLndyaXRlVHJlZV89ZX1mdW5jdGlvbiBhaShlLHQsbil7aWYoanQodCkpcmV0dXJuIG5ldyBpaShuZXcgbmkobikpO3ZhciByPWUud3JpdGVUcmVlXy5maW5kUm9vdE1vc3RWYWx1ZUFuZFBhdGgodCk7aWYobnVsbCE9cil7dmFyIGk9ci5wYXRoLG89ci52YWx1ZSxyPVV0KGksdCksbz1vLnVwZGF0ZUNoaWxkKHIsbik7cmV0dXJuIG5ldyBpaShlLndyaXRlVHJlZV8uc2V0KGksbykpfW49bmV3IG5pKG4pLG49ZS53cml0ZVRyZWVfLnNldFRyZWUodCxuKTtyZXR1cm4gbmV3IGlpKG4pfWZ1bmN0aW9uIHNpKGUsbix0KXt2YXIgcj1lO3JldHVybiBMZSh0LGZ1bmN0aW9uKGUsdCl7cj1haShyLFd0KG4sZSksdCl9KSxyfWZ1bmN0aW9uIHVpKGUsdCl7aWYoanQodCkpcmV0dXJuIGlpLmVtcHR5KCk7dD1lLndyaXRlVHJlZV8uc2V0VHJlZSh0LG5ldyBuaShudWxsKSk7cmV0dXJuIG5ldyBpaSh0KX1mdW5jdGlvbiBsaShlLHQpe3JldHVybiBudWxsIT1oaShlLHQpfWZ1bmN0aW9uIGhpKGUsdCl7dmFyIG49ZS53cml0ZVRyZWVfLmZpbmRSb290TW9zdFZhbHVlQW5kUGF0aCh0KTtyZXR1cm4gbnVsbCE9bj9lLndyaXRlVHJlZV8uZ2V0KG4ucGF0aCkuZ2V0Q2hpbGQoVXQobi5wYXRoLHQpKTpudWxsfWZ1bmN0aW9uIGNpKGUpe3ZhciBuPVtdLHQ9ZS53cml0ZVRyZWVfLnZhbHVlO3JldHVybiBudWxsIT10P3QuaXNMZWFmTm9kZSgpfHx0LmZvckVhY2hDaGlsZChObixmdW5jdGlvbihlLHQpe24ucHVzaChuZXcgbm4oZSx0KSl9KTplLndyaXRlVHJlZV8uY2hpbGRyZW4uaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbihlLHQpe251bGwhPXQudmFsdWUmJm4ucHVzaChuZXcgbm4oZSx0LnZhbHVlKSl9KSxufWZ1bmN0aW9uIHBpKGUsdCl7aWYoanQodCkpcmV0dXJuIGU7dmFyIG49aGkoZSx0KTtyZXR1cm4gbmV3IGlpKG51bGwhPW4/bmV3IG5pKG4pOmUud3JpdGVUcmVlXy5zdWJ0cmVlKHQpKX1mdW5jdGlvbiBkaShlKXtyZXR1cm4gZS53cml0ZVRyZWVfLmlzRW1wdHkoKX1mdW5jdGlvbiBmaShlLHQpe3JldHVybiBmdW5jdGlvbiBuKHIsZSxpKXt7aWYobnVsbCE9ZS52YWx1ZSlyZXR1cm4gaS51cGRhdGVDaGlsZChyLGUudmFsdWUpO3ZhciBvPW51bGw7cmV0dXJuIGUuY2hpbGRyZW4uaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbihlLHQpe1wiLnByaW9yaXR5XCI9PT1lPyhnKG51bGwhPT10LnZhbHVlLFwiUHJpb3JpdHkgd3JpdGVzIG11c3QgYWx3YXlzIGJlIGxlYWYgbm9kZXNcIiksbz10LnZhbHVlKTppPW4oV3QocixlKSx0LGkpfSksaT0haS5nZXRDaGlsZChyKS5pc0VtcHR5KCkmJm51bGwhPT1vP2kudXBkYXRlQ2hpbGQoV3QocixcIi5wcmlvcml0eVwiKSxvKTppfX0oRHQoKSxlLndyaXRlVHJlZV8sdCl9ZnVuY3Rpb24gX2koZSx0KXtyZXR1cm4ga2kodCxlKX1mdW5jdGlvbiB5aSh0LG4pe3ZhciBlPXQuYWxsV3JpdGVzLmZpbmRJbmRleChmdW5jdGlvbihlKXtyZXR1cm4gZS53cml0ZUlkPT09bn0pO2coMDw9ZSxcInJlbW92ZVdyaXRlIGNhbGxlZCB3aXRoIG5vbmV4aXN0ZW50IHdyaXRlSWQuXCIpO3ZhciByPXQuYWxsV3JpdGVzW2VdO3QuYWxsV3JpdGVzLnNwbGljZShlLDEpO2Zvcih2YXIgaSxvPXIudmlzaWJsZSxhPSExLHM9dC5hbGxXcml0ZXMubGVuZ3RoLTE7byYmMDw9czspe3ZhciB1PXQuYWxsV3JpdGVzW3NdO3UudmlzaWJsZSYmKGU8PXMmJmZ1bmN0aW9uKGUsdCl7e2lmKGUuc25hcClyZXR1cm4genQoZS5wYXRoLHQpO2Zvcih2YXIgbiBpbiBlLmNoaWxkcmVuKWlmKGUuY2hpbGRyZW4uaGFzT3duUHJvcGVydHkobikmJnp0KFd0KGUucGF0aCxuKSx0KSlyZXR1cm4hMDtyZXR1cm4hMX19KHUsci5wYXRoKT9vPSExOnp0KHIucGF0aCx1LnBhdGgpJiYoYT0hMCkpLHMtLX1yZXR1cm4hIW8mJihhPygoaT10KS52aXNpYmxlV3JpdGVzPWdpKGkuYWxsV3JpdGVzLHZpLER0KCkpLDA8aS5hbGxXcml0ZXMubGVuZ3RoP2kubGFzdFdyaXRlSWQ9aS5hbGxXcml0ZXNbaS5hbGxXcml0ZXMubGVuZ3RoLTFdLndyaXRlSWQ6aS5sYXN0V3JpdGVJZD0tMSk6ci5zbmFwP3QudmlzaWJsZVdyaXRlcz11aSh0LnZpc2libGVXcml0ZXMsci5wYXRoKTpMZShyLmNoaWxkcmVuLGZ1bmN0aW9uKGUpe3QudmlzaWJsZVdyaXRlcz11aSh0LnZpc2libGVXcml0ZXMsV3Qoci5wYXRoLGUpKX0pLCEwKX1mdW5jdGlvbiB2aShlKXtyZXR1cm4gZS52aXNpYmxlfWZ1bmN0aW9uIGdpKGUsdCxuKXtmb3IodmFyIHI9aWkuZW1wdHkoKSxpPTA7aTxlLmxlbmd0aDsrK2kpe3ZhciBvPWVbaV07aWYodChvKSl7dmFyIGE9by5wYXRoLHM9dm9pZCAwO2lmKG8uc25hcCl6dChuLGEpP3I9YWkocixzPVV0KG4sYSksby5zbmFwKTp6dChhLG4pJiYocz1VdChhLG4pLHI9YWkocixEdCgpLG8uc25hcC5nZXRDaGlsZChzKSkpO2Vsc2V7aWYoIW8uY2hpbGRyZW4pdGhyb3cgbShcIldyaXRlUmVjb3JkIHNob3VsZCBoYXZlIC5zbmFwIG9yIC5jaGlsZHJlblwiKTt6dChuLGEpP3I9c2kocixzPVV0KG4sYSksby5jaGlsZHJlbik6enQoYSxuKSYmKGp0KHM9VXQoYSxuKSk/cj1zaShyLER0KCksby5jaGlsZHJlbik6KG89TyhvLmNoaWxkcmVuLE90KHMpKSkmJihzPW8uZ2V0Q2hpbGQoTHQocykpLHI9YWkocixEdCgpLHMpKSl9fX1yZXR1cm4gcn1mdW5jdGlvbiBtaShlLHQsbixyLGkpe2lmKHJ8fGkpe3ZhciBvPXBpKGUudmlzaWJsZVdyaXRlcyx0KTtpZighaSYmZGkobykpcmV0dXJuIG47aWYoaXx8bnVsbCE9bnx8bGkobyxEdCgpKSlyZXR1cm4gZmkoZ2koZS5hbGxXcml0ZXMsZnVuY3Rpb24oZSl7cmV0dXJuKGUudmlzaWJsZXx8aSkmJighcnx8IX5yLmluZGV4T2YoZS53cml0ZUlkKSkmJih6dChlLnBhdGgsdCl8fHp0KHQsZS5wYXRoKSl9LHQpLG58fGpuLkVNUFRZX05PREUpO3JldHVybiBudWxsfW89aGkoZS52aXNpYmxlV3JpdGVzLHQpO2lmKG51bGwhPW8pcmV0dXJuIG87ZT1waShlLnZpc2libGVXcml0ZXMsdCk7cmV0dXJuIGRpKGUpP246bnVsbCE9bnx8bGkoZSxEdCgpKT9maShlLG58fGpuLkVNUFRZX05PREUpOm51bGx9ZnVuY3Rpb24gd2koZSx0LG4scil7cmV0dXJuIG1pKGUud3JpdGVUcmVlLGUudHJlZVBhdGgsdCxuLHIpfWZ1bmN0aW9uIENpKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1qbi5FTVBUWV9OT0RFLGk9aGkoZS52aXNpYmxlV3JpdGVzLHQpO2lmKGkpcmV0dXJuIGkuaXNMZWFmTm9kZSgpfHxpLmZvckVhY2hDaGlsZChObixmdW5jdGlvbihlLHQpe3I9ci51cGRhdGVJbW1lZGlhdGVDaGlsZChlLHQpfSkscjtpZihuKXt2YXIgbz1waShlLnZpc2libGVXcml0ZXMsdCk7cmV0dXJuIG4uZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7dD1maShwaShvLG5ldyB4dChlKSksdCk7cj1yLnVwZGF0ZUltbWVkaWF0ZUNoaWxkKGUsdCl9KSxjaShvKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3I9ci51cGRhdGVJbW1lZGlhdGVDaGlsZChlLm5hbWUsZS5ub2RlKX0pLHJ9cmV0dXJuIGNpKHBpKGUudmlzaWJsZVdyaXRlcyx0KSkuZm9yRWFjaChmdW5jdGlvbihlKXtyPXIudXBkYXRlSW1tZWRpYXRlQ2hpbGQoZS5uYW1lLGUubm9kZSl9KSxyfShlLndyaXRlVHJlZSxlLnRyZWVQYXRoLHQpfWZ1bmN0aW9uIGJpKGUsdCxuLHIpe3JldHVybiBpPWUud3JpdGVUcmVlLGU9ZS50cmVlUGF0aCx0PXQscj1yLGcobnx8cixcIkVpdGhlciBleGlzdGluZ0V2ZW50U25hcCBvciBleGlzdGluZ1NlcnZlclNuYXAgbXVzdCBleGlzdFwiKSxlPVd0KGUsdCksbGkoaS52aXNpYmxlV3JpdGVzLGUpP251bGw6ZGkoZT1waShpLnZpc2libGVXcml0ZXMsZSkpP3IuZ2V0Q2hpbGQodCk6ZmkoZSxyLmdldENoaWxkKHQpKTt2YXIgaX1mdW5jdGlvbiBUaShlLHQpe3JldHVybiBuPWUud3JpdGVUcmVlLHQ9V3QoZS50cmVlUGF0aCx0KSxoaShuLnZpc2libGVXcml0ZXMsdCk7dmFyIG59ZnVuY3Rpb24gRWkoZSx0LG4scixpLG8pe3JldHVybiBmdW5jdGlvbihlLHQsbixyLGksbyxhKXt2YXIgcyxlPXBpKGUudmlzaWJsZVdyaXRlcyx0KTtpZihudWxsIT0odD1oaShlLER0KCkpKSlzPXQ7ZWxzZXtpZihudWxsPT1uKXJldHVybltdO3M9ZmkoZSxuKX1pZigocz1zLndpdGhJbmRleChhKSkuaXNFbXB0eSgpfHxzLmlzTGVhZk5vZGUoKSlyZXR1cm5bXTtmb3IodmFyIHU9W10sbD1hLmdldENvbXBhcmUoKSxoPW8/cy5nZXRSZXZlcnNlSXRlcmF0b3JGcm9tKHIsYSk6cy5nZXRJdGVyYXRvckZyb20ocixhKSxjPWguZ2V0TmV4dCgpO2MmJnUubGVuZ3RoPGk7KTAhPT1sKGMscikmJnUucHVzaChjKSxjPWguZ2V0TmV4dCgpO3JldHVybiB1fShlLndyaXRlVHJlZSxlLnRyZWVQYXRoLHQsbixyLGksbyl9ZnVuY3Rpb24gSWkoZSx0LG4pe3JldHVybiByPWUud3JpdGVUcmVlLGk9ZS50cmVlUGF0aCxlPW4sdD1XdChpLG49dCksbnVsbCE9KGk9aGkoci52aXNpYmxlV3JpdGVzLHQpKT9pOmUuaXNDb21wbGV0ZUZvckNoaWxkKG4pP2ZpKHBpKHIudmlzaWJsZVdyaXRlcyx0KSxlLmdldE5vZGUoKS5nZXRJbW1lZGlhdGVDaGlsZChuKSk6bnVsbDt2YXIgcixpfWZ1bmN0aW9uIFNpKGUsdCl7cmV0dXJuIGtpKFd0KGUudHJlZVBhdGgsdCksZS53cml0ZVRyZWUpfWZ1bmN0aW9uIGtpKGUsdCl7cmV0dXJue3RyZWVQYXRoOmUsd3JpdGVUcmVlOnR9fXZhciBQaT0oTmkucHJvdG90eXBlLnRyYWNrQ2hpbGRDaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlLG49ZS5jaGlsZE5hbWU7ZyhcImNoaWxkX2FkZGVkXCI9PT10fHxcImNoaWxkX2NoYW5nZWRcIj09PXR8fFwiY2hpbGRfcmVtb3ZlZFwiPT09dCxcIk9ubHkgY2hpbGQgY2hhbmdlcyBzdXBwb3J0ZWQgZm9yIHRyYWNraW5nXCIpLGcoXCIucHJpb3JpdHlcIiE9PW4sXCJPbmx5IG5vbi1wcmlvcml0eSBjaGlsZCBjaGFuZ2VzIGNhbiBiZSB0cmFja2VkLlwiKTt2YXIgcj10aGlzLmNoYW5nZU1hcC5nZXQobik7aWYocil7dmFyIGk9ci50eXBlO2lmKFwiY2hpbGRfYWRkZWRcIj09PXQmJlwiY2hpbGRfcmVtb3ZlZFwiPT09aSl0aGlzLmNoYW5nZU1hcC5zZXQobixzcihuLGUuc25hcHNob3ROb2RlLHIuc25hcHNob3ROb2RlKSk7ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09PXQmJlwiY2hpbGRfYWRkZWRcIj09PWkpdGhpcy5jaGFuZ2VNYXAuZGVsZXRlKG4pO2Vsc2UgaWYoXCJjaGlsZF9yZW1vdmVkXCI9PT10JiZcImNoaWxkX2NoYW5nZWRcIj09PWkpdGhpcy5jaGFuZ2VNYXAuc2V0KG4sYXIobixyLm9sZFNuYXApKTtlbHNlIGlmKFwiY2hpbGRfY2hhbmdlZFwiPT09dCYmXCJjaGlsZF9hZGRlZFwiPT09aSl0aGlzLmNoYW5nZU1hcC5zZXQobixvcihuLGUuc25hcHNob3ROb2RlKSk7ZWxzZXtpZihcImNoaWxkX2NoYW5nZWRcIiE9PXR8fFwiY2hpbGRfY2hhbmdlZFwiIT09aSl0aHJvdyBtKFwiSWxsZWdhbCBjb21iaW5hdGlvbiBvZiBjaGFuZ2VzOiBcIitlK1wiIG9jY3VycmVkIGFmdGVyIFwiK3IpO3RoaXMuY2hhbmdlTWFwLnNldChuLHNyKG4sZS5zbmFwc2hvdE5vZGUsci5vbGRTbmFwKSl9fWVsc2UgdGhpcy5jaGFuZ2VNYXAuc2V0KG4sZSl9LE5pLnByb3RvdHlwZS5nZXRDaGFuZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5jaGFuZ2VNYXAudmFsdWVzKCkpfSxOaSk7ZnVuY3Rpb24gTmkoKXt0aGlzLmNoYW5nZU1hcD1uZXcgTWFwfWZ1bmN0aW9uIHhpKCl7fXZhciBSaT1uZXcoeGkucHJvdG90eXBlLmdldENvbXBsZXRlQ2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LHhpLnByb3RvdHlwZS5nZXRDaGlsZEFmdGVyQ2hpbGQ9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsfSx4aSksRGk9KE9pLnByb3RvdHlwZS5nZXRDb21wbGV0ZUNoaWxkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMudmlld0NhY2hlXy5ldmVudENhY2hlO2lmKHQuaXNDb21wbGV0ZUZvckNoaWxkKGUpKXJldHVybiB0LmdldE5vZGUoKS5nZXRJbW1lZGlhdGVDaGlsZChlKTt0PW51bGwhPXRoaXMub3B0Q29tcGxldGVTZXJ2ZXJDYWNoZV8/bmV3IEhyKHRoaXMub3B0Q29tcGxldGVTZXJ2ZXJDYWNoZV8sITAsITEpOnRoaXMudmlld0NhY2hlXy5zZXJ2ZXJDYWNoZTtyZXR1cm4gSWkodGhpcy53cml0ZXNfLGUsdCl9LE9pLnByb3RvdHlwZS5nZXRDaGlsZEFmdGVyQ2hpbGQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW51bGwhPXRoaXMub3B0Q29tcGxldGVTZXJ2ZXJDYWNoZV8/dGhpcy5vcHRDb21wbGV0ZVNlcnZlckNhY2hlXzp0aSh0aGlzLnZpZXdDYWNoZV8pLGU9RWkodGhpcy53cml0ZXNfLHIsdCwxLG4sZSk7cmV0dXJuIDA9PT1lLmxlbmd0aD9udWxsOmVbMF19LE9pKTtmdW5jdGlvbiBPaShlLHQsbil7dm9pZCAwPT09biYmKG49bnVsbCksdGhpcy53cml0ZXNfPWUsdGhpcy52aWV3Q2FjaGVfPXQsdGhpcy5vcHRDb21wbGV0ZVNlcnZlckNhY2hlXz1ufWZ1bmN0aW9uIEFpKGUsdCxuLHIsaSl7dmFyIG8sYSxzLHUsbCxoLGMscCxkPW5ldyBQaTtpZihuLnR5cGU9PT1Sci5PVkVSV1JJVEUpdmFyIGY9bixfPWYuc291cmNlLmZyb21Vc2VyP0ZpKGUsdCxmLnBhdGgsZi5zbmFwLHIsaSxkKTooZyhmLnNvdXJjZS5mcm9tU2VydmVyLFwiVW5rbm93biBzb3VyY2UuXCIpLG89Zi5zb3VyY2UudGFnZ2VkfHx0LnNlcnZlckNhY2hlLmlzRmlsdGVyZWQoKSYmIWp0KGYucGF0aCksTWkoZSx0LGYucGF0aCxmLnNuYXAscixpLG8sZCkpO2Vsc2UgaWYobi50eXBlPT09UnIuTUVSR0Upe3ZhciB5PW47Xz15LnNvdXJjZS5mcm9tVXNlcj8oYT1lLHM9dCx1PXkucGF0aCxmPXkuY2hpbGRyZW4sbD1yLGg9aSxjPWQscD1zLGYuZm9yZWFjaChmdW5jdGlvbihlLHQpe2U9V3QodSxlKTtxaShzLE90KGUpKSYmKHA9RmkoYSxwLGUsdCxsLGgsYykpfSksZi5mb3JlYWNoKGZ1bmN0aW9uKGUsdCl7ZT1XdCh1LGUpO3FpKHMsT3QoZSkpfHwocD1GaShhLHAsZSx0LGwsaCxjKSl9KSxwKTooZyh5LnNvdXJjZS5mcm9tU2VydmVyLFwiVW5rbm93biBzb3VyY2UuXCIpLG89eS5zb3VyY2UudGFnZ2VkfHx0LnNlcnZlckNhY2hlLmlzRmlsdGVyZWQoKSxqaShlLHQseS5wYXRoLHkuY2hpbGRyZW4scixpLG8sZCkpfWVsc2UgaWYobi50eXBlPT09UnIuQUNLX1VTRVJfV1JJVEUpe3ZhciB2PW47Xz12LnJldmVydD9mdW5jdGlvbihlLHQsbixyLGksbyl7dmFyIGE7e2lmKG51bGwhPVRpKHIsbikpcmV0dXJuIHQ7dmFyIHMsdSxsPW5ldyBEaShyLHQsaSksaD10LmV2ZW50Q2FjaGUuZ2V0Tm9kZSgpLGk9dm9pZCAwO3JldHVybiBqdChuKXx8XCIucHJpb3JpdHlcIj09PU90KG4pPyh1PXZvaWQgMCx1PXQuc2VydmVyQ2FjaGUuaXNGdWxseUluaXRpYWxpemVkKCk/d2kocix0aSh0KSk6KHM9dC5zZXJ2ZXJDYWNoZS5nZXROb2RlKCksZyhzIGluc3RhbmNlb2Ygam4sXCJzZXJ2ZXJDaGlsZHJlbiB3b3VsZCBiZSBjb21wbGV0ZSBpZiBsZWFmIG5vZGVcIiksQ2kocixzKSksaT1lLmZpbHRlci51cGRhdGVGdWxsTm9kZShoLHUsbykpOihzPU90KG4pLG51bGw9PSh1PUlpKHIscyx0LnNlcnZlckNhY2hlKSkmJnQuc2VydmVyQ2FjaGUuaXNDb21wbGV0ZUZvckNoaWxkKHMpJiYodT1oLmdldEltbWVkaWF0ZUNoaWxkKHMpKSwoaT1udWxsIT11P2UuZmlsdGVyLnVwZGF0ZUNoaWxkKGgscyx1LEx0KG4pLGwsbyk6dC5ldmVudENhY2hlLmdldE5vZGUoKS5oYXNDaGlsZChzKT9lLmZpbHRlci51cGRhdGVDaGlsZChoLHMsam4uRU1QVFlfTk9ERSxMdChuKSxsLG8pOmgpLmlzRW1wdHkoKSYmdC5zZXJ2ZXJDYWNoZS5pc0Z1bGx5SW5pdGlhbGl6ZWQoKSYmKGE9d2kocix0aSh0KSkpLmlzTGVhZk5vZGUoKSYmKGk9ZS5maWx0ZXIudXBkYXRlRnVsbE5vZGUoaSxhLG8pKSksYT10LnNlcnZlckNhY2hlLmlzRnVsbHlJbml0aWFsaXplZCgpfHxudWxsIT1UaShyLER0KCkpLFhyKHQsaSxhLGUuZmlsdGVyLmZpbHRlcnNOb2RlcygpKX19KGUsdCx2LnBhdGgscixpLGQpOmZ1bmN0aW9uKGUsdCxyLG4saSxvLGEpe2lmKG51bGwhPVRpKGkscikpcmV0dXJuIHQ7dmFyIHM9dC5zZXJ2ZXJDYWNoZS5pc0ZpbHRlcmVkKCksdT10LnNlcnZlckNhY2hlO3tpZihudWxsIT1uLnZhbHVlKXtpZihqdChyKSYmdS5pc0Z1bGx5SW5pdGlhbGl6ZWQoKXx8dS5pc0NvbXBsZXRlRm9yUGF0aChyKSlyZXR1cm4gTWkoZSx0LHIsdS5nZXROb2RlKCkuZ2V0Q2hpbGQociksaSxvLHMsYSk7aWYoanQocikpe3ZhciBsPW5ldyBuaShudWxsKTtyZXR1cm4gdS5nZXROb2RlKCkuZm9yRWFjaENoaWxkKGxuLGZ1bmN0aW9uKGUsdCl7bD1sLnNldChuZXcgeHQoZSksdCl9KSxqaShlLHQscixsLGksbyxzLGEpfXJldHVybiB0fXZhciBoPW5ldyBuaShudWxsKTtyZXR1cm4gbi5mb3JlYWNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49V3QocixlKTt1LmlzQ29tcGxldGVGb3JQYXRoKG4pJiYoaD1oLnNldChlLHUuZ2V0Tm9kZSgpLmdldENoaWxkKG4pKSl9KSxqaShlLHQscixoLGksbyxzLGEpfX0oZSx0LHYucGF0aCx2LmFmZmVjdGVkVHJlZSxyLGksZCl9ZWxzZXtpZihuLnR5cGUhPT1Sci5MSVNURU5fQ09NUExFVEUpdGhyb3cgbShcIlVua25vd24gb3BlcmF0aW9uIHR5cGU6IFwiK24udHlwZSk7bz1lLHY9dCxpPW4ucGF0aCxlPXIsbj1kLHI9di5zZXJ2ZXJDYWNoZSxyPVpyKHYsci5nZXROb2RlKCksci5pc0Z1bGx5SW5pdGlhbGl6ZWQoKXx8anQoaSksci5pc0ZpbHRlcmVkKCkpLF89TGkobyxyLGksZSxSaSxuKX1kPWQuZ2V0Q2hhbmdlcygpO3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIHI9dC5ldmVudENhY2hlO3t2YXIgaSxvO3IuaXNGdWxseUluaXRpYWxpemVkKCkmJihpPXIuZ2V0Tm9kZSgpLmlzTGVhZk5vZGUoKXx8ci5nZXROb2RlKCkuaXNFbXB0eSgpLG89ZWkoZSksKDA8bi5sZW5ndGh8fCFlLmV2ZW50Q2FjaGUuaXNGdWxseUluaXRpYWxpemVkKCl8fGkmJiFyLmdldE5vZGUoKS5lcXVhbHMobyl8fCFyLmdldE5vZGUoKS5nZXRQcmlvcml0eSgpLmVxdWFscyhvLmdldFByaW9yaXR5KCkpKSYmbi5wdXNoKGlyKGVpKHQpKSkpfX0odCxfLGQpLHt2aWV3Q2FjaGU6XyxjaGFuZ2VzOmR9fWZ1bmN0aW9uIExpKGUsdCxuLHIsaSxvKXt2YXIgYT10LmV2ZW50Q2FjaGU7aWYobnVsbCE9VGkocixuKSlyZXR1cm4gdDt2YXIgcyx1LGwsaCxjPXZvaWQgMCxwPXZvaWQgMDtyZXR1cm4gYz1qdChuKT8oZyh0LnNlcnZlckNhY2hlLmlzRnVsbHlJbml0aWFsaXplZCgpLFwiSWYgY2hhbmdlIHBhdGggaXMgZW1wdHksIHdlIG11c3QgaGF2ZSBjb21wbGV0ZSBzZXJ2ZXIgZGF0YVwiKSx0LnNlcnZlckNhY2hlLmlzRmlsdGVyZWQoKT8ocz1DaShyLChzPXRpKHQpKWluc3RhbmNlb2Ygam4/czpqbi5FTVBUWV9OT0RFKSxlLmZpbHRlci51cGRhdGVGdWxsTm9kZSh0LmV2ZW50Q2FjaGUuZ2V0Tm9kZSgpLHMsbykpOih1PXdpKHIsdGkodCkpLGUuZmlsdGVyLnVwZGF0ZUZ1bGxOb2RlKHQuZXZlbnRDYWNoZS5nZXROb2RlKCksdSxvKSkpOlwiLnByaW9yaXR5XCI9PT0odT1PdChuKSk/KGcoMT09PUF0KG4pLFwiQ2FuJ3QgaGF2ZSBhIHByaW9yaXR5IHdpdGggYWRkaXRpb25hbCBwYXRoIGNvbXBvbmVudHNcIiksbnVsbCE9KGg9YmkocixuLGw9YS5nZXROb2RlKCkscD10LnNlcnZlckNhY2hlLmdldE5vZGUoKSkpP2UuZmlsdGVyLnVwZGF0ZVByaW9yaXR5KGwsaCk6YS5nZXROb2RlKCkpOihsPUx0KG4pLGg9dm9pZCAwLG51bGwhPShoPWEuaXNDb21wbGV0ZUZvckNoaWxkKHUpPyhwPXQuc2VydmVyQ2FjaGUuZ2V0Tm9kZSgpLG51bGwhPShwPWJpKHIsbixhLmdldE5vZGUoKSxwKSk/YS5nZXROb2RlKCkuZ2V0SW1tZWRpYXRlQ2hpbGQodSkudXBkYXRlQ2hpbGQobCxwKTphLmdldE5vZGUoKS5nZXRJbW1lZGlhdGVDaGlsZCh1KSk6SWkocix1LHQuc2VydmVyQ2FjaGUpKT9lLmZpbHRlci51cGRhdGVDaGlsZChhLmdldE5vZGUoKSx1LGgsbCxpLG8pOmEuZ2V0Tm9kZSgpKSxYcih0LGMsYS5pc0Z1bGx5SW5pdGlhbGl6ZWQoKXx8anQobiksZS5maWx0ZXIuZmlsdGVyc05vZGVzKCkpfWZ1bmN0aW9uIE1pKGUsdCxuLHIsaSxvLGEscyl7dmFyIHU9dC5zZXJ2ZXJDYWNoZSxsPWE/ZS5maWx0ZXI6ZS5maWx0ZXIuZ2V0SW5kZXhlZEZpbHRlcigpO2lmKGp0KG4pKWM9bC51cGRhdGVGdWxsTm9kZSh1LmdldE5vZGUoKSxyLG51bGwpO2Vsc2UgaWYobC5maWx0ZXJzTm9kZXMoKSYmIXUuaXNGaWx0ZXJlZCgpKXZhciBoPXUuZ2V0Tm9kZSgpLnVwZGF0ZUNoaWxkKG4sciksYz1sLnVwZGF0ZUZ1bGxOb2RlKHUuZ2V0Tm9kZSgpLGgsbnVsbCk7ZWxzZXthPU90KG4pO2lmKCF1LmlzQ29tcGxldGVGb3JQYXRoKG4pJiYxPEF0KG4pKXJldHVybiB0O2g9THQobikscj11LmdldE5vZGUoKS5nZXRJbW1lZGlhdGVDaGlsZChhKS51cGRhdGVDaGlsZChoLHIpO2M9XCIucHJpb3JpdHlcIj09PWE/bC51cGRhdGVQcmlvcml0eSh1LmdldE5vZGUoKSxyKTpsLnVwZGF0ZUNoaWxkKHUuZ2V0Tm9kZSgpLGEscixoLFJpLG51bGwpfWw9WnIodCxjLHUuaXNGdWxseUluaXRpYWxpemVkKCl8fGp0KG4pLGwuZmlsdGVyc05vZGVzKCkpO3JldHVybiBMaShlLGwsbixpLG5ldyBEaShpLGwsbykscyl9ZnVuY3Rpb24gRmkoZSx0LG4scixpLG8sYSl7dmFyIHMsdSxsPXQuZXZlbnRDYWNoZSxoPW5ldyBEaShpLHQsbyk7cmV0dXJuIGp0KG4pPyh1PWUuZmlsdGVyLnVwZGF0ZUZ1bGxOb2RlKHQuZXZlbnRDYWNoZS5nZXROb2RlKCkscixhKSxYcih0LHUsITAsZS5maWx0ZXIuZmlsdGVyc05vZGVzKCkpKTpcIi5wcmlvcml0eVwiPT09KHM9T3QobikpPyh1PWUuZmlsdGVyLnVwZGF0ZVByaW9yaXR5KHQuZXZlbnRDYWNoZS5nZXROb2RlKCksciksWHIodCx1LGwuaXNGdWxseUluaXRpYWxpemVkKCksbC5pc0ZpbHRlcmVkKCkpKTooaT1MdChuKSxvPWwuZ2V0Tm9kZSgpLmdldEltbWVkaWF0ZUNoaWxkKHMpLHU9dm9pZCAwLHU9anQoaSk/cjpudWxsIT0obj1oLmdldENvbXBsZXRlQ2hpbGQocykpP1wiLnByaW9yaXR5XCI9PT1NdChpKSYmbi5nZXRDaGlsZChxdChpKSkuaXNFbXB0eSgpP246bi51cGRhdGVDaGlsZChpLHIpOmpuLkVNUFRZX05PREUsby5lcXVhbHModSk/dDpYcih0LGUuZmlsdGVyLnVwZGF0ZUNoaWxkKGwuZ2V0Tm9kZSgpLHMsdSxpLGgsYSksbC5pc0Z1bGx5SW5pdGlhbGl6ZWQoKSxlLmZpbHRlci5maWx0ZXJzTm9kZXMoKSkpfWZ1bmN0aW9uIHFpKGUsdCl7cmV0dXJuIGUuZXZlbnRDYWNoZS5pc0NvbXBsZXRlRm9yQ2hpbGQodCl9ZnVuY3Rpb24gV2koZSxuLHQpe3JldHVybiB0LmZvcmVhY2goZnVuY3Rpb24oZSx0KXtuPW4udXBkYXRlQ2hpbGQoZSx0KX0pLG59ZnVuY3Rpb24gamkocixpLGUsdCxvLGEscyx1KXtpZihpLnNlcnZlckNhY2hlLmdldE5vZGUoKS5pc0VtcHR5KCkmJiFpLnNlcnZlckNhY2hlLmlzRnVsbHlJbml0aWFsaXplZCgpKXJldHVybiBpO3ZhciBsPWksdD1qdChlKT90Om5ldyBuaShudWxsKS5zZXRUcmVlKGUsdCksaD1pLnNlcnZlckNhY2hlLmdldE5vZGUoKTtyZXR1cm4gdC5jaGlsZHJlbi5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKGUsdCl7aC5oYXNDaGlsZChlKSYmKHQ9V2koMCxpLnNlcnZlckNhY2hlLmdldE5vZGUoKS5nZXRJbW1lZGlhdGVDaGlsZChlKSx0KSxsPU1pKHIsbCxuZXcgeHQoZSksdCxvLGEscyx1KSl9KSx0LmNoaWxkcmVuLmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24oZSx0KXt2YXIgbj0haS5zZXJ2ZXJDYWNoZS5pc0NvbXBsZXRlRm9yQ2hpbGQoZSkmJnZvaWQgMD09PXQudmFsdWU7aC5oYXNDaGlsZChlKXx8bnx8KHQ9V2koMCxpLnNlcnZlckNhY2hlLmdldE5vZGUoKS5nZXRJbW1lZGlhdGVDaGlsZChlKSx0KSxsPU1pKHIsbCxuZXcgeHQoZSksdCxvLGEscyx1KSl9KSxsfXZhciBVaSxCaT0oT2JqZWN0LmRlZmluZVByb3BlcnR5KFZpLnByb3RvdHlwZSxcInF1ZXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5X30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxWaSk7ZnVuY3Rpb24gVmkoZSx0KXt0aGlzLnF1ZXJ5Xz1lLHRoaXMuZXZlbnRSZWdpc3RyYXRpb25zXz1bXTt2YXIgbj10aGlzLnF1ZXJ5Xy5fcXVlcnlQYXJhbXMscj1uZXcgdXIobi5nZXRJbmRleCgpKSxpPShvPW4pLmxvYWRzQWxsRGF0YSgpP25ldyB1cihvLmdldEluZGV4KCkpOm5ldyhvLmhhc0xpbWl0KCk/cHI6aHIpKG8pO3RoaXMucHJvY2Vzc29yXz17ZmlsdGVyOml9O3ZhciBlPXQuc2VydmVyQ2FjaGUsbj10LmV2ZW50Q2FjaGUsbz1yLnVwZGF0ZUZ1bGxOb2RlKGpuLkVNUFRZX05PREUsZS5nZXROb2RlKCksbnVsbCksdD1pLnVwZGF0ZUZ1bGxOb2RlKGpuLkVNUFRZX05PREUsbi5nZXROb2RlKCksbnVsbCkscj1uZXcgSHIobyxlLmlzRnVsbHlJbml0aWFsaXplZCgpLHIuZmlsdGVyc05vZGVzKCkpLGk9bmV3IEhyKHQsbi5pc0Z1bGx5SW5pdGlhbGl6ZWQoKSxpLmZpbHRlcnNOb2RlcygpKTt0aGlzLnZpZXdDYWNoZV89SnIoaSxyKSx0aGlzLmV2ZW50R2VuZXJhdG9yXz1uZXcgS3IodGhpcy5xdWVyeV8pfWZ1bmN0aW9uIHppKGUpe3JldHVybiAwPT09ZS5ldmVudFJlZ2lzdHJhdGlvbnNfLmxlbmd0aH1mdW5jdGlvbiBIaShlLHQsbil7dmFyIHIsaT1bXTtpZihuJiYoZyhudWxsPT10LFwiQSBjYW5jZWwgc2hvdWxkIGNhbmNlbCBhbGwgZXZlbnQgcmVnaXN0cmF0aW9ucy5cIikscj1lLnF1ZXJ5Ll9wYXRoLGUuZXZlbnRSZWdpc3RyYXRpb25zXy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2U9ZS5jcmVhdGVDYW5jZWxFdmVudChuLHIpO2UmJmkucHVzaChlKX0pKSx0KXtmb3IodmFyIG89W10sYT0wO2E8ZS5ldmVudFJlZ2lzdHJhdGlvbnNfLmxlbmd0aDsrK2Epe3ZhciBzPWUuZXZlbnRSZWdpc3RyYXRpb25zX1thXTtpZihzLm1hdGNoZXModCkpe2lmKHQuaGFzQW55Q2FsbGJhY2soKSl7bz1vLmNvbmNhdChlLmV2ZW50UmVnaXN0cmF0aW9uc18uc2xpY2UoYSsxKSk7YnJlYWt9fWVsc2Ugby5wdXNoKHMpfWUuZXZlbnRSZWdpc3RyYXRpb25zXz1vfWVsc2UgZS5ldmVudFJlZ2lzdHJhdGlvbnNfPVtdO3JldHVybiBpfWZ1bmN0aW9uIFFpKGUsdCxuLHIpe3QudHlwZT09PVJyLk1FUkdFJiZudWxsIT09dC5zb3VyY2UucXVlcnlJZCYmKGcodGkoZS52aWV3Q2FjaGVfKSxcIldlIHNob3VsZCBhbHdheXMgaGF2ZSBhIGZ1bGwgY2FjaGUgYmVmb3JlIGhhbmRsaW5nIG1lcmdlc1wiKSxnKGVpKGUudmlld0NhY2hlXyksXCJNaXNzaW5nIGV2ZW50IGNhY2hlLCBldmVuIHRob3VnaCB3ZSBoYXZlIGEgc2VydmVyIGNhY2hlXCIpKTt2YXIgaT1lLnZpZXdDYWNoZV8sdD1BaShlLnByb2Nlc3Nvcl8saSx0LG4scik7cmV0dXJuIG49ZS5wcm9jZXNzb3JfLHI9dC52aWV3Q2FjaGUsZyhyLmV2ZW50Q2FjaGUuZ2V0Tm9kZSgpLmlzSW5kZXhlZChuLmZpbHRlci5nZXRJbmRleCgpKSxcIkV2ZW50IHNuYXAgbm90IGluZGV4ZWRcIiksZyhyLnNlcnZlckNhY2hlLmdldE5vZGUoKS5pc0luZGV4ZWQobi5maWx0ZXIuZ2V0SW5kZXgoKSksXCJTZXJ2ZXIgc25hcCBub3QgaW5kZXhlZFwiKSxnKHQudmlld0NhY2hlLnNlcnZlckNhY2hlLmlzRnVsbHlJbml0aWFsaXplZCgpfHwhaS5zZXJ2ZXJDYWNoZS5pc0Z1bGx5SW5pdGlhbGl6ZWQoKSxcIk9uY2UgYSBzZXJ2ZXIgc25hcCBpcyBjb21wbGV0ZSwgaXQgc2hvdWxkIG5ldmVyIGdvIGJhY2tcIiksZS52aWV3Q2FjaGVfPXQudmlld0NhY2hlLFlpKGUsdC5jaGFuZ2VzLHQudmlld0NhY2hlLmV2ZW50Q2FjaGUuZ2V0Tm9kZSgpLG51bGwpfWZ1bmN0aW9uIFlpKGUsdCxuLHIpe3I9cj9bcl06ZS5ldmVudFJlZ2lzdHJhdGlvbnNfO3JldHVybiBHcihlLmV2ZW50R2VuZXJhdG9yXyx0LG4scil9dmFyIEtpLEdpPWZ1bmN0aW9uKCl7dGhpcy52aWV3cz1uZXcgTWFwfTtmdW5jdGlvbiAkaShlLHQsbixyKXt2YXIgaSxvLGE9dC5zb3VyY2UucXVlcnlJZDtpZihudWxsIT09YSl7dmFyIHM9ZS52aWV3cy5nZXQoYSk7cmV0dXJuIGcobnVsbCE9cyxcIlN5bmNUcmVlIGdhdmUgdXMgYW4gb3AgZm9yIGFuIGludmFsaWQgcXVlcnkuXCIpLFFpKHMsdCxuLHIpfXZhciB1PVtdO3RyeXtmb3IodmFyIGw9XyhlLnZpZXdzLnZhbHVlcygpKSxoPWwubmV4dCgpOyFoLmRvbmU7aD1sLm5leHQoKSlzPWgudmFsdWUsdT11LmNvbmNhdChRaShzLHQsbixyKSl9Y2F0Y2goZSl7aT17ZXJyb3I6ZX19ZmluYWxseXt0cnl7aCYmIWguZG9uZSYmKG89bC5yZXR1cm4pJiZvLmNhbGwobCl9ZmluYWxseXtpZihpKXRocm93IGkuZXJyb3J9fXJldHVybiB1fWZ1bmN0aW9uIEppKGUsdCxuLHIsaSl7dmFyIG89dC5fcXVlcnlJZGVudGlmaWVyLGU9ZS52aWV3cy5nZXQobyk7aWYoZSlyZXR1cm4gZTtvPXdpKG4saT9yOm51bGwpLGU9ITEsZT0hIW98fChvPXIgaW5zdGFuY2VvZiBqbj9DaShuLHIpOmpuLkVNUFRZX05PREUsITEpLGk9SnIobmV3IEhyKG8sZSwhMSksbmV3IEhyKHIsaSwhMSkpO3JldHVybiBuZXcgQmkodCxpKX1mdW5jdGlvbiBYaShlLHQsbixyLGksbyl7dmFyIGEsbz1KaShlLHQscixpLG8pO3JldHVybiBlLnZpZXdzLmhhcyh0Ll9xdWVyeUlkZW50aWZpZXIpfHxlLnZpZXdzLnNldCh0Ll9xdWVyeUlkZW50aWZpZXIsbyksdD1uLG8uZXZlbnRSZWdpc3RyYXRpb25zXy5wdXNoKHQpLHQ9bixvPShuPW8pLnZpZXdDYWNoZV8uZXZlbnRDYWNoZSxhPVtdLG8uZ2V0Tm9kZSgpLmlzTGVhZk5vZGUoKXx8by5nZXROb2RlKCkuZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7YS5wdXNoKG9yKGUsdCkpfSksby5pc0Z1bGx5SW5pdGlhbGl6ZWQoKSYmYS5wdXNoKGlyKG8uZ2V0Tm9kZSgpKSksWWkobixhLG8uZ2V0Tm9kZSgpLHQpfWZ1bmN0aW9uIFppKGUsdCxuLHIpe3ZhciBpLG8sYT10Ll9xdWVyeUlkZW50aWZpZXIscz1bXSx1PVtdLGw9aW8oZSk7aWYoXCJkZWZhdWx0XCI9PT1hKXRyeXtmb3IodmFyIGg9XyhlLnZpZXdzLmVudHJpZXMoKSksYz1oLm5leHQoKTshYy5kb25lO2M9aC5uZXh0KCkpe3ZhciBwPXkoYy52YWx1ZSwyKSxkPXBbMF0sZj1wWzFdLHU9dS5jb25jYXQoSGkoZixuLHIpKTt6aShmKSYmKGUudmlld3MuZGVsZXRlKGQpLGYucXVlcnkuX3F1ZXJ5UGFyYW1zLmxvYWRzQWxsRGF0YSgpfHxzLnB1c2goZi5xdWVyeSkpfX1jYXRjaChlKXtpPXtlcnJvcjplfX1maW5hbGx5e3RyeXtjJiYhYy5kb25lJiYobz1oLnJldHVybikmJm8uY2FsbChoKX1maW5hbGx5e2lmKGkpdGhyb3cgaS5lcnJvcn19ZWxzZShmPWUudmlld3MuZ2V0KGEpKSYmKHU9dS5jb25jYXQoSGkoZixuLHIpKSx6aShmKSYmKGUudmlld3MuZGVsZXRlKGEpLGYucXVlcnkuX3F1ZXJ5UGFyYW1zLmxvYWRzQWxsRGF0YSgpfHxzLnB1c2goZi5xdWVyeSkpKTtyZXR1cm4gbCYmIWlvKGUpJiZzLnB1c2goKGcoVWksXCJSZWZlcmVuY2UudHMgaGFzIG5vdCBiZWVuIGxvYWRlZFwiKSxuZXcgVWkodC5fcmVwbyx0Ll9wYXRoKSkpLHtyZW1vdmVkOnMsZXZlbnRzOnV9fWZ1bmN0aW9uIGVvKGUpe3ZhciB0LG4scj1bXTt0cnl7Zm9yKHZhciBpPV8oZS52aWV3cy52YWx1ZXMoKSksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpe3ZhciBhPW8udmFsdWU7YS5xdWVyeS5fcXVlcnlQYXJhbXMubG9hZHNBbGxEYXRhKCl8fHIucHVzaChhKX19Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fXJldHVybiByfWZ1bmN0aW9uIHRvKGUsdCl7dmFyIG4scixpLG8sYT1udWxsO3RyeXtmb3IodmFyIHM9XyhlLnZpZXdzLnZhbHVlcygpKSx1PXMubmV4dCgpOyF1LmRvbmU7dT1zLm5leHQoKSl2YXIgbD11LnZhbHVlLGE9YXx8KGk9dCxvPXZvaWQgMCwobz10aSgobD1sKS52aWV3Q2FjaGVfKSkmJihsLnF1ZXJ5Ll9xdWVyeVBhcmFtcy5sb2Fkc0FsbERhdGEoKXx8IWp0KGkpJiYhby5nZXRJbW1lZGlhdGVDaGlsZChPdChpKSkuaXNFbXB0eSgpKT9vLmdldENoaWxkKGkpOm51bGwpfWNhdGNoKGUpe249e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e3UmJiF1LmRvbmUmJihyPXMucmV0dXJuKSYmci5jYWxsKHMpfWZpbmFsbHl7aWYobil0aHJvdyBuLmVycm9yfX1yZXR1cm4gYX1mdW5jdGlvbiBubyhlLHQpe2lmKHQuX3F1ZXJ5UGFyYW1zLmxvYWRzQWxsRGF0YSgpKXJldHVybiBvbyhlKTt0PXQuX3F1ZXJ5SWRlbnRpZmllcjtyZXR1cm4gZS52aWV3cy5nZXQodCl9ZnVuY3Rpb24gcm8oZSx0KXtyZXR1cm4gbnVsbCE9bm8oZSx0KX1mdW5jdGlvbiBpbyhlKXtyZXR1cm4gbnVsbCE9b28oZSl9ZnVuY3Rpb24gb28oZSl7dmFyIHQsbjt0cnl7Zm9yKHZhciByPV8oZS52aWV3cy52YWx1ZXMoKSksaT1yLm5leHQoKTshaS5kb25lO2k9ci5uZXh0KCkpe3ZhciBvPWkudmFsdWU7aWYoby5xdWVyeS5fcXVlcnlQYXJhbXMubG9hZHNBbGxEYXRhKCkpcmV0dXJuIG99fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e2kmJiFpLmRvbmUmJihuPXIucmV0dXJuKSYmbi5jYWxsKHIpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4gbnVsbH12YXIgYW89MSxzbz1mdW5jdGlvbihlKXt0aGlzLmxpc3RlblByb3ZpZGVyXz1lLHRoaXMuc3luY1BvaW50VHJlZV89bmV3IG5pKG51bGwpLHRoaXMucGVuZGluZ1dyaXRlVHJlZV89e3Zpc2libGVXcml0ZXM6aWkuZW1wdHkoKSxhbGxXcml0ZXM6W10sbGFzdFdyaXRlSWQ6LTF9LHRoaXMudGFnVG9RdWVyeU1hcD1uZXcgTWFwLHRoaXMucXVlcnlUb1RhZ01hcD1uZXcgTWFwfTtmdW5jdGlvbiB1byhlLHQsbixyLGkpe3ZhciBvLGEscyx1O3JldHVybiBvPWUucGVuZGluZ1dyaXRlVHJlZV8sYT10LHM9bix1PWksZygocj1yKT5vLmxhc3RXcml0ZUlkLFwiU3RhY2tpbmcgYW4gb2xkZXIgd3JpdGUgb24gdG9wIG9mIG5ld2VyIG9uZXNcIiksdm9pZCAwPT09dSYmKHU9ITApLG8uYWxsV3JpdGVzLnB1c2goe3BhdGg6YSxzbmFwOnMsd3JpdGVJZDpyLHZpc2libGU6dX0pLHUmJihvLnZpc2libGVXcml0ZXM9YWkoby52aXNpYmxlV3JpdGVzLGEscykpLG8ubGFzdFdyaXRlSWQ9cixpP3ZvKGUsbmV3IFVyKEFyKCksdCxuKSk6W119ZnVuY3Rpb24gbG8oZSx0LG4scil7dmFyIGksbyxhO2k9ZS5wZW5kaW5nV3JpdGVUcmVlXyxvPXQsYT1uLGcoKHI9cik+aS5sYXN0V3JpdGVJZCxcIlN0YWNraW5nIGFuIG9sZGVyIG1lcmdlIG9uIHRvcCBvZiBuZXdlciBvbmVzXCIpLGkuYWxsV3JpdGVzLnB1c2goe3BhdGg6byxjaGlsZHJlbjphLHdyaXRlSWQ6cix2aXNpYmxlOiEwfSksaS52aXNpYmxlV3JpdGVzPXNpKGkudmlzaWJsZVdyaXRlcyxvLGEpLGkubGFzdFdyaXRlSWQ9cjtuPW5pLmZyb21PYmplY3Qobik7cmV0dXJuIHZvKGUsbmV3IFZyKEFyKCksdCxuKSl9ZnVuY3Rpb24gaG8oZSx0LG4pe3ZvaWQgMD09PW4mJihuPSExKTt2YXIgcj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248ZS5hbGxXcml0ZXMubGVuZ3RoO24rKyl7dmFyIHI9ZS5hbGxXcml0ZXNbbl07aWYoci53cml0ZUlkPT09dClyZXR1cm4gcn1yZXR1cm4gbnVsbH0oZS5wZW5kaW5nV3JpdGVUcmVlXyx0KTtpZih5aShlLnBlbmRpbmdXcml0ZVRyZWVfLHQpKXt2YXIgaT1uZXcgbmkobnVsbCk7cmV0dXJuIG51bGwhPXIuc25hcD9pPWkuc2V0KER0KCksITApOkxlKHIuY2hpbGRyZW4sZnVuY3Rpb24oZSl7aT1pLnNldChuZXcgeHQoZSksITApfSksdm8oZSxuZXcgRnIoci5wYXRoLGksbikpfXJldHVybltdfWZ1bmN0aW9uIGNvKGUsdCxuKXtyZXR1cm4gdm8oZSxuZXcgVXIoTHIoKSx0LG4pKX1mdW5jdGlvbiBwbyhuLGUsdCxyKXt2YXIgaT1lLl9wYXRoLG89bi5zeW5jUG9pbnRUcmVlXy5nZXQoaSksYT1bXTtpZihvJiYoXCJkZWZhdWx0XCI9PT1lLl9xdWVyeUlkZW50aWZpZXJ8fHJvKG8sZSkpKXt2YXIgcz1aaShvLGUsdCxyKTswPT09by52aWV3cy5zaXplJiYobi5zeW5jUG9pbnRUcmVlXz1uLnN5bmNQb2ludFRyZWVfLnJlbW92ZShpKSk7dD1zLnJlbW92ZWQsYT1zLmV2ZW50cyxvPS0xIT09dC5maW5kSW5kZXgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuX3F1ZXJ5UGFyYW1zLmxvYWRzQWxsRGF0YSgpfSkscz1uLnN5bmNQb2ludFRyZWVfLmZpbmRPblBhdGgoaSxmdW5jdGlvbihlLHQpe3JldHVybiBpbyh0KX0pO2lmKG8mJiFzKXtpPW4uc3luY1BvaW50VHJlZV8uc3VidHJlZShpKTtpZighaS5pc0VtcHR5KCkpZm9yKHZhciB1PWkuZm9sZChmdW5jdGlvbihlLHQsbil7aWYodCYmaW8odCkpcmV0dXJuW29vKHQpXTt2YXIgcj1bXTtyZXR1cm4gdCYmKHI9ZW8odCkpLExlKG4sZnVuY3Rpb24oZSx0KXtyPXIuY29uY2F0KHQpfSkscn0pLGw9MDtsPHUubGVuZ3RoOysrbCl7dmFyIGg9dVtsXSxjPWgucXVlcnksaD1tbyhuLGgpO24ubGlzdGVuUHJvdmlkZXJfLnN0YXJ0TGlzdGVuaW5nKElvKGMpLHdvKG4sYyksaC5oYXNoRm4saC5vbkNvbXBsZXRlKX19IXMmJjA8dC5sZW5ndGgmJiFyJiYobz9uLmxpc3RlblByb3ZpZGVyXy5zdG9wTGlzdGVuaW5nKElvKGUpLG51bGwpOnQuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1uLnF1ZXJ5VG9UYWdNYXAuZ2V0KENvKGUpKTtuLmxpc3RlblByb3ZpZGVyXy5zdG9wTGlzdGVuaW5nKElvKGUpLHQpfSkpLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDsrK24pe3ZhciByLGk9dFtuXTtpLl9xdWVyeVBhcmFtcy5sb2Fkc0FsbERhdGEoKXx8KHI9Q28oaSksaT1lLnF1ZXJ5VG9UYWdNYXAuZ2V0KHIpLGUucXVlcnlUb1RhZ01hcC5kZWxldGUociksZS50YWdUb1F1ZXJ5TWFwLmRlbGV0ZShpKSl9fShuLHQpfXJldHVybiBhfWZ1bmN0aW9uIGZvKGUsdCxuKXt2YXIgcj10Ll9wYXRoLGk9bnVsbCxvPSExO2Uuc3luY1BvaW50VHJlZV8uZm9yZWFjaE9uUGF0aChyLGZ1bmN0aW9uKGUsdCl7ZT1VdChlLHIpO2k9aXx8dG8odCxlKSxvPW98fGlvKHQpfSk7dmFyIGE9ZS5zeW5jUG9pbnRUcmVlXy5nZXQocik7YT8obz1vfHxpbyhhKSxpPWl8fHRvKGEsRHQoKSkpOihhPW5ldyBHaSxlLnN5bmNQb2ludFRyZWVfPWUuc3luY1BvaW50VHJlZV8uc2V0KHIsYSkpLG51bGwhPWk/aD0hMDooaD0hMSxpPWpuLkVNUFRZX05PREUsZS5zeW5jUG9pbnRUcmVlXy5zdWJ0cmVlKHIpLmZvcmVhY2hDaGlsZChmdW5jdGlvbihlLHQpe3Q9dG8odCxEdCgpKTt0JiYoaT1pLnVwZGF0ZUltbWVkaWF0ZUNoaWxkKGUsdCkpfSkpO3ZhciBzLHUsbD1ybyhhLHQpO2x8fHQuX3F1ZXJ5UGFyYW1zLmxvYWRzQWxsRGF0YSgpfHwocz1Dbyh0KSxnKCFlLnF1ZXJ5VG9UYWdNYXAuaGFzKHMpLFwiVmlldyBkb2VzIG5vdCBleGlzdCwgYnV0IHdlIGhhdmUgYSB0YWdcIiksdT1hbysrLGUucXVlcnlUb1RhZ01hcC5zZXQocyx1KSxlLnRhZ1RvUXVlcnlNYXAuc2V0KHUscykpO3ZhciBoPVhpKGEsdCxuLF9pKGUucGVuZGluZ1dyaXRlVHJlZV8sciksaSxoKTtyZXR1cm4gbHx8b3x8KGE9bm8oYSx0KSxoPWguY29uY2F0KGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10Ll9wYXRoLGk9d28oZSx0KSxuPW1vKGUsbiksbj1lLmxpc3RlblByb3ZpZGVyXy5zdGFydExpc3RlbmluZyhJbyh0KSxpLG4uaGFzaEZuLG4ub25Db21wbGV0ZSkscj1lLnN5bmNQb2ludFRyZWVfLnN1YnRyZWUocik7aWYoaSlnKCFpbyhyLnZhbHVlKSxcIklmIHdlJ3JlIGFkZGluZyBhIHF1ZXJ5LCBpdCBzaG91bGRuJ3QgYmUgc2hhZG93ZWRcIik7ZWxzZSBmb3IodmFyIG89ci5mb2xkKGZ1bmN0aW9uKGUsdCxuKXtpZighanQoZSkmJnQmJmlvKHQpKXJldHVybltvbyh0KS5xdWVyeV07dmFyIHI9W107cmV0dXJuIHQmJihyPXIuY29uY2F0KGVvKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5xdWVyeX0pKSksTGUobixmdW5jdGlvbihlLHQpe3I9ci5jb25jYXQodCl9KSxyfSksYT0wO2E8by5sZW5ndGg7KythKXt2YXIgcz1vW2FdO2UubGlzdGVuUHJvdmlkZXJfLnN0b3BMaXN0ZW5pbmcoSW8ocyksd28oZSxzKSl9cmV0dXJuIG59KGUsdCxhKSkpLGh9ZnVuY3Rpb24gX28oZSxuLHQpe3ZhciByPWUucGVuZGluZ1dyaXRlVHJlZV8sZT1lLnN5bmNQb2ludFRyZWVfLmZpbmRPblBhdGgobixmdW5jdGlvbihlLHQpe2U9dG8odCxVdChlLG4pKTtpZihlKXJldHVybiBlfSk7cmV0dXJuIG1pKHIsbixlLHQsITApfWZ1bmN0aW9uIHlvKGUsdCl7dmFyIG49dC5fcGF0aCxyPW51bGw7ZS5zeW5jUG9pbnRUcmVlXy5mb3JlYWNoT25QYXRoKG4sZnVuY3Rpb24oZSx0KXtlPVV0KGUsbik7cj1yfHx0byh0LGUpfSk7dmFyIGk9ZS5zeW5jUG9pbnRUcmVlXy5nZXQobik7aT9yPXJ8fHRvKGksRHQoKSk6KGk9bmV3IEdpLGUuc3luY1BvaW50VHJlZV89ZS5zeW5jUG9pbnRUcmVlXy5zZXQobixpKSk7dmFyIG89bnVsbCE9cixhPW8/bmV3IEhyKHIsITAsITEpOm51bGwsbz1KaShpLHQsX2koZS5wZW5kaW5nV3JpdGVUcmVlXyx0Ll9wYXRoKSxvP2EuZ2V0Tm9kZSgpOmpuLkVNUFRZX05PREUsbyk7cmV0dXJuIGVpKG8udmlld0NhY2hlXyl9ZnVuY3Rpb24gdm8oZSx0KXtyZXR1cm4gZnVuY3Rpb24gZSh0LG4scixpKXt7aWYoanQodC5wYXRoKSlyZXR1cm4gZ28odCxuLHIsaSk7dmFyIG89bi5nZXQoRHQoKSk7bnVsbD09ciYmbnVsbCE9byYmKHI9dG8obyxEdCgpKSk7dmFyIGE9W10scz1PdCh0LnBhdGgpLHU9dC5vcGVyYXRpb25Gb3JDaGlsZChzKSxsPW4uY2hpbGRyZW4uZ2V0KHMpO3JldHVybiBsJiZ1JiYobj1yP3IuZ2V0SW1tZWRpYXRlQ2hpbGQocyk6bnVsbCxzPVNpKGkscyksYT1hLmNvbmNhdChlKHUsbCxuLHMpKSksYT1vP2EuY29uY2F0KCRpKG8sdCxpLHIpKTphfX0odCxlLnN5bmNQb2ludFRyZWVfLG51bGwsX2koZS5wZW5kaW5nV3JpdGVUcmVlXyxEdCgpKSl9ZnVuY3Rpb24gZ28oaSxlLG8sYSl7dmFyIHQ9ZS5nZXQoRHQoKSk7bnVsbD09byYmbnVsbCE9dCYmKG89dG8odCxEdCgpKSk7dmFyIHM9W107cmV0dXJuIGUuY2hpbGRyZW4uaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbihlLHQpe3ZhciBuPW8/by5nZXRJbW1lZGlhdGVDaGlsZChlKTpudWxsLHI9U2koYSxlKSxlPWkub3BlcmF0aW9uRm9yQ2hpbGQoZSk7ZSYmKHM9cy5jb25jYXQoZ28oZSx0LG4scikpKX0pLHM9dD9zLmNvbmNhdCgkaSh0LGksYSxvKSk6c31mdW5jdGlvbiBtbyhyLGUpe3ZhciBpPWUucXVlcnksbz13byhyLGkpO3JldHVybntoYXNoRm46ZnVuY3Rpb24oKXtyZXR1cm4oZS52aWV3Q2FjaGVfLnNlcnZlckNhY2hlLmdldE5vZGUoKXx8am4uRU1QVFlfTk9ERSkuaGFzaCgpfSxvbkNvbXBsZXRlOmZ1bmN0aW9uKGUpe2lmKFwib2tcIj09PWUpcmV0dXJuIG8/ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWJvKGUsbik7aWYocil7bj1UbyhyKSxyPW4ucGF0aCxuPW4ucXVlcnlJZCx0PVV0KHIsdCk7cmV0dXJuIEVvKGUscixuZXcgV3IoTXIobiksdCkpfXJldHVybltdfShyLGkuX3BhdGgsbyk6KHQ9cixuPWkuX3BhdGgsdm8odCxuZXcgV3IoTHIoKSxuKSkpO3ZhciB0LG4sbj0obj1cIlVua25vd24gRXJyb3JcIixcInRvb19iaWdcIj09PShlPWUpP249XCJUaGUgZGF0YSByZXF1ZXN0ZWQgZXhjZWVkcyB0aGUgbWF4aW11bSBzaXplIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIHdpdGggYSBzaW5nbGUgcmVxdWVzdC5cIjpcInBlcm1pc3Npb25fZGVuaWVkXCI9PT1lP249XCJDbGllbnQgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoZSBkZXNpcmVkIGRhdGEuXCI6XCJ1bmF2YWlsYWJsZVwiPT09ZSYmKG49XCJUaGUgc2VydmljZSBpcyB1bmF2YWlsYWJsZVwiKSwobj1uZXcgRXJyb3IoZStcIiBhdCBcIitpLl9wYXRoLnRvU3RyaW5nKCkrXCI6IFwiK24pKS5jb2RlPWUudG9VcHBlckNhc2UoKSxuKTtyZXR1cm4gcG8ocixpLG51bGwsbil9fX1mdW5jdGlvbiB3byhlLHQpe3Q9Q28odCk7cmV0dXJuIGUucXVlcnlUb1RhZ01hcC5nZXQodCl9ZnVuY3Rpb24gQ28oZSl7cmV0dXJuIGUuX3BhdGgudG9TdHJpbmcoKStcIiRcIitlLl9xdWVyeUlkZW50aWZpZXJ9ZnVuY3Rpb24gYm8oZSx0KXtyZXR1cm4gZS50YWdUb1F1ZXJ5TWFwLmdldCh0KX1mdW5jdGlvbiBUbyhlKXt2YXIgdD1lLmluZGV4T2YoXCIkXCIpO3JldHVybiBnKC0xIT09dCYmdDxlLmxlbmd0aC0xLFwiQmFkIHF1ZXJ5S2V5LlwiKSx7cXVlcnlJZDplLnN1YnN0cih0KzEpLHBhdGg6bmV3IHh0KGUuc3Vic3RyKDAsdCkpfX1mdW5jdGlvbiBFbyhlLHQsbil7dmFyIHI9ZS5zeW5jUG9pbnRUcmVlXy5nZXQodCk7cmV0dXJuIGcocixcIk1pc3Npbmcgc3luYyBwb2ludCBmb3IgcXVlcnkgdGFnIHRoYXQgd2UncmUgdHJhY2tpbmdcIiksJGkocixuLF9pKGUucGVuZGluZ1dyaXRlVHJlZV8sdCksbnVsbCl9ZnVuY3Rpb24gSW8oZSl7cmV0dXJuIGUuX3F1ZXJ5UGFyYW1zLmxvYWRzQWxsRGF0YSgpJiYhZS5fcXVlcnlQYXJhbXMuaXNEZWZhdWx0KCk/KGcoS2ksXCJSZWZlcmVuY2UudHMgaGFzIG5vdCBiZWVuIGxvYWRlZFwiKSxuZXcgS2koZS5fcmVwbyxlLl9wYXRoKSk6ZX12YXIgU289KGtvLnByb3RvdHlwZS5nZXRJbW1lZGlhdGVDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGtvKHRoaXMubm9kZV8uZ2V0SW1tZWRpYXRlQ2hpbGQoZSkpfSxrby5wcm90b3R5cGUubm9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5vZGVffSxrbyk7ZnVuY3Rpb24ga28oZSl7dGhpcy5ub2RlXz1lfXZhciBQbz0oTm8ucHJvdG90eXBlLmdldEltbWVkaWF0ZUNoaWxkPWZ1bmN0aW9uKGUpe2U9V3QodGhpcy5wYXRoXyxlKTtyZXR1cm4gbmV3IE5vKHRoaXMuc3luY1RyZWVfLGUpfSxOby5wcm90b3R5cGUubm9kZT1mdW5jdGlvbigpe3JldHVybiBfbyh0aGlzLnN5bmNUcmVlXyx0aGlzLnBhdGhfKX0sTm8pO2Z1bmN0aW9uIE5vKGUsdCl7dGhpcy5zeW5jVHJlZV89ZSx0aGlzLnBhdGhfPXR9dmFyIHhvPWZ1bmN0aW9uKGUpe3JldHVybihlPWV8fHt9KS50aW1lc3RhbXA9ZS50aW1lc3RhbXB8fChuZXcgRGF0ZSkuZ2V0VGltZSgpLGV9LFJvPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGU/KGcoXCIuc3ZcImluIGUsXCJVbmV4cGVjdGVkIGxlYWYgbm9kZSBvciBwcmlvcml0eSBjb250ZW50c1wiKSxcInN0cmluZ1wiPT10eXBlb2YgZVtcIi5zdlwiXT9EbyhlW1wiLnN2XCJdLHQsbik6XCJvYmplY3RcIj09dHlwZW9mIGVbXCIuc3ZcIl0/T28oZVtcIi5zdlwiXSx0KTp2b2lkIGcoITEsXCJVbmV4cGVjdGVkIHNlcnZlciB2YWx1ZTogXCIrSlNPTi5zdHJpbmdpZnkoZSxudWxsLDIpKSk6ZX0sRG89ZnVuY3Rpb24oZSx0LG4pe2lmKFwidGltZXN0YW1wXCI9PT1lKXJldHVybiBuLnRpbWVzdGFtcDtnKCExLFwiVW5leHBlY3RlZCBzZXJ2ZXIgdmFsdWU6IFwiK2UpfSxPbz1mdW5jdGlvbihlLHQsbil7ZS5oYXNPd25Qcm9wZXJ0eShcImluY3JlbWVudFwiKXx8ZyghMSxcIlVuZXhwZWN0ZWQgc2VydmVyIHZhbHVlOiBcIitKU09OLnN0cmluZ2lmeShlLG51bGwsMikpO2U9ZS5pbmNyZW1lbnQ7XCJudW1iZXJcIiE9dHlwZW9mIGUmJmcoITEsXCJVbmV4cGVjdGVkIGluY3JlbWVudCB2YWx1ZTogXCIrZSk7dD10Lm5vZGUoKTtpZihnKG51bGwhPXQsXCJFeHBlY3RlZCBDaGlsZHJlbk5vZGUuRU1QVFlfTk9ERSBmb3IgbnVsbHNcIiksIXQuaXNMZWFmTm9kZSgpKXJldHVybiBlO3Q9dC5nZXRWYWx1ZSgpO3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0P2U6dCtlfSxBbz1mdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gTW8odCxuZXcgUG8obixlKSxyKX0sTG89ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBNbyhlLG5ldyBTbyh0KSxuKX07ZnVuY3Rpb24gTW8oZSxyLGkpe3ZhciB0PWUuZ2V0UHJpb3JpdHkoKS52YWwoKSxuPVJvKHQsci5nZXRJbW1lZGlhdGVDaGlsZChcIi5wcmlvcml0eVwiKSxpKTtpZihlLmlzTGVhZk5vZGUoKSl7dmFyIG89ZSx0PVJvKG8uZ2V0VmFsdWUoKSxyLGkpO3JldHVybiB0IT09by5nZXRWYWx1ZSgpfHxuIT09by5nZXRQcmlvcml0eSgpLnZhbCgpP25ldyBTbih0LEhuKG4pKTplfXZhciBlPWUsYT1lO3JldHVybiBuIT09ZS5nZXRQcmlvcml0eSgpLnZhbCgpJiYoYT1hLnVwZGF0ZVByaW9yaXR5KG5ldyBTbihuKSkpLGUuZm9yRWFjaENoaWxkKE5uLGZ1bmN0aW9uKGUsdCl7dmFyIG49TW8odCxyLmdldEltbWVkaWF0ZUNoaWxkKGUpLGkpO24hPT10JiYoYT1hLnVwZGF0ZUltbWVkaWF0ZUNoaWxkKGUsbikpfSksYX12YXIgRm89ZnVuY3Rpb24oZSx0LG4pe3ZvaWQgMD09PWUmJihlPVwiXCIpLHZvaWQgMD09PXQmJih0PW51bGwpLHZvaWQgMD09PW4mJihuPXtjaGlsZHJlbjp7fSxjaGlsZENvdW50OjB9KSx0aGlzLm5hbWU9ZSx0aGlzLnBhcmVudD10LHRoaXMubm9kZT1ufTtmdW5jdGlvbiBxbyhlLHQpe2Zvcih2YXIgbj10IGluc3RhbmNlb2YgeHQ/dDpuZXcgeHQodCkscj1lLGk9T3Qobik7bnVsbCE9PWk7KXZhciBvPU8oci5ub2RlLmNoaWxkcmVuLGkpfHx7Y2hpbGRyZW46e30sY2hpbGRDb3VudDowfSxyPW5ldyBGbyhpLHIsbyksaT1PdChuPUx0KG4pKTtyZXR1cm4gcn1mdW5jdGlvbiBXbyhlKXtyZXR1cm4gZS5ub2RlLnZhbHVlfWZ1bmN0aW9uIGpvKGUsdCl7ZS5ub2RlLnZhbHVlPXQsem8oZSl9ZnVuY3Rpb24gVW8oZSl7cmV0dXJuIDA8ZS5ub2RlLmNoaWxkQ291bnR9ZnVuY3Rpb24gQm8obixyKXtMZShuLm5vZGUuY2hpbGRyZW4sZnVuY3Rpb24oZSx0KXtyKG5ldyBGbyhlLG4sdCkpfSl9ZnVuY3Rpb24gVm8oZSl7cmV0dXJuIG5ldyB4dChudWxsPT09ZS5wYXJlbnQ/ZS5uYW1lOlZvKGUucGFyZW50KStcIi9cIitlLm5hbWUpfWZ1bmN0aW9uIHpvKGUpe3ZhciB0LG4scixpO251bGwhPT1lLnBhcmVudCYmKHQ9ZS5wYXJlbnQsbj1lLm5hbWUsaT1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09V28oZSkmJiFVbyhlKX0ocj1lKSxlPUQodC5ub2RlLmNoaWxkcmVuLG4pLGkmJmU/KGRlbGV0ZSB0Lm5vZGUuY2hpbGRyZW5bbl0sdC5ub2RlLmNoaWxkQ291bnQtLSx6byh0KSk6aXx8ZXx8KHQubm9kZS5jaGlsZHJlbltuXT1yLm5vZGUsdC5ub2RlLmNoaWxkQ291bnQrKyx6byh0KSkpfWZ1bmN0aW9uIEhvKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYwIT09ZS5sZW5ndGgmJiEkby50ZXN0KGUpfWZ1bmN0aW9uIFFvKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiYwIT09ZS5sZW5ndGgmJiFKby50ZXN0KGUpfWZ1bmN0aW9uIFlvKGUsdCxuLHIpe2lmKCFyfHx2b2lkIDAhPT10KXt2YXIgaT1qKGUsXCJ2YWx1ZXNcIik7aWYoIXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxBcnJheS5pc0FycmF5KHQpKXRocm93IG5ldyBFcnJvcihpK1wiIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO3ZhciBvPVtdO0xlKHQsZnVuY3Rpb24oZSx0KXtlPW5ldyB4dChlKTtpZih0YShpLHQsV3QobixlKSksXCIucHJpb3JpdHlcIj09PU10KGUpJiYhWm8odCkpdGhyb3cgbmV3IEVycm9yKGkrXCJjb250YWlucyBhbiBpbnZhbGlkIHZhbHVlIGZvciAnXCIrZS50b1N0cmluZygpK1wiJywgd2hpY2ggbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7by5wdXNoKGUpfSksZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylmb3IodmFyIHIsaT1GdChyPXRbbl0pLG89MDtvPGkubGVuZ3RoO28rKylpZigoXCIucHJpb3JpdHlcIiE9PWlbb118fG8hPT1pLmxlbmd0aC0xKSYmIUhvKGlbb10pKXRocm93IG5ldyBFcnJvcihlK1wiY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2lbb10rXCIpIGluIHBhdGggXCIrci50b1N0cmluZygpKycuIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTt0LnNvcnQoQnQpO3ZhciBhPW51bGw7Zm9yKG49MDtuPHQubGVuZ3RoO24rKyl7aWYocj10W25dLG51bGwhPT1hJiZ6dChhLHIpKXRocm93IG5ldyBFcnJvcihlK1wiY29udGFpbnMgYSBwYXRoIFwiK2EudG9TdHJpbmcoKStcIiB0aGF0IGlzIGFuY2VzdG9yIG9mIGFub3RoZXIgcGF0aCBcIityLnRvU3RyaW5nKCkpO2E9cn19KGksbyl9fWZ1bmN0aW9uIEtvKGUsdCxuKXtpZighbnx8dm9pZCAwIT09dCl7aWYoZmUodCkpdGhyb3cgbmV3IEVycm9yKGooZSxcInByaW9yaXR5XCIpK1wiaXMgXCIrdC50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIVpvKHQpKXRocm93IG5ldyBFcnJvcihqKGUsXCJwcmlvcml0eVwiKStcIm11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpfX1mdW5jdGlvbiBHbyhlLHQsbixyKXtpZighKHImJnZvaWQgMD09PW58fEhvKG4pKSl0aHJvdyBuZXcgRXJyb3IoaihlLHQpKyd3YXMgYW4gaW52YWxpZCBrZXkgPSBcIicrbisnXCIuICBGaXJlYmFzZSBrZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiKS4nKX12YXIgJG89L1tcXFtcXF0uIyRcXC9cXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS8sSm89L1tcXFtcXF0uIyRcXHUwMDAwLVxcdTAwMUZcXHUwMDdGXS8sWG89MTA0ODU3NjAsWm89ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGUmJiFmZShlKXx8ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJkQoZSxcIi5zdlwiKX0sZWE9ZnVuY3Rpb24oZSx0LG4scil7ciYmdm9pZCAwPT09dHx8dGEoaihlLFwidmFsdWVcIiksdCxuKX0sdGE9ZnVuY3Rpb24ocixlLHQpe3ZhciBpPXQgaW5zdGFuY2VvZiB4dD9uZXcgSHQodCxyKTp0O2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKHIrXCJjb250YWlucyB1bmRlZmluZWQgXCIrWXQoaSkpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKHIrXCJjb250YWlucyBhIGZ1bmN0aW9uIFwiK1l0KGkpK1wiIHdpdGggY29udGVudHMgPSBcIitlLnRvU3RyaW5nKCkpO2lmKGZlKGUpKXRocm93IG5ldyBFcnJvcihyK1wiY29udGFpbnMgXCIrZS50b1N0cmluZygpK1wiIFwiK1l0KGkpKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg+WG8vMyYmVihlKT5Ybyl0aHJvdyBuZXcgRXJyb3IocitcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiBcIitYbytcIiB1dGY4IGJ5dGVzIFwiK1l0KGkpK1wiICgnXCIrZS5zdWJzdHJpbmcoMCw1MCkrXCIuLi4nKVwiKTtpZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZSl7dmFyIG89ITEsYT0hMTtpZihMZShlLGZ1bmN0aW9uKGUsdCl7aWYoXCIudmFsdWVcIj09PWUpbz0hMDtlbHNlIGlmKFwiLnByaW9yaXR5XCIhPT1lJiZcIi5zdlwiIT09ZSYmKGE9ITAsIUhvKGUpKSl0aHJvdyBuZXcgRXJyb3IocitcIiBjb250YWlucyBhbiBpbnZhbGlkIGtleSAoXCIrZStcIikgXCIrWXQoaSkrJy4gIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTt2YXIgbjtuPWUsMDwoZT1pKS5wYXJ0c18ubGVuZ3RoJiYoZS5ieXRlTGVuZ3RoXys9MSksZS5wYXJ0c18ucHVzaChuKSxlLmJ5dGVMZW5ndGhfKz1WKG4pLFF0KGUpLHRhKHIsdCxpKSx0PShlPWkpLnBhcnRzXy5wb3AoKSxlLmJ5dGVMZW5ndGhfLT1WKHQpLDA8ZS5wYXJ0c18ubGVuZ3RoJiYtLWUuYnl0ZUxlbmd0aF99KSxvJiZhKXRocm93IG5ldyBFcnJvcihyKycgY29udGFpbnMgXCIudmFsdWVcIiBjaGlsZCAnK1l0KGkpK1wiIGluIGFkZGl0aW9uIHRvIGFjdHVhbCBjaGlsZHJlbi5cIil9fSxuYT1mdW5jdGlvbihlLHQsbixyKXtpZighKHImJnZvaWQgMD09PW58fFFvKG4pKSl0aHJvdyBuZXcgRXJyb3IoaihlLHQpKyd3YXMgYW4gaW52YWxpZCBwYXRoID0gXCInK24rJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJyl9LHJhPWZ1bmN0aW9uKGUsdCxuLHIpe249biYmbi5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIiksbmEoZSx0LG4scil9LGlhPWZ1bmN0aW9uKGUsdCl7aWYoXCIuaW5mb1wiPT09T3QodCkpdGhyb3cgbmV3IEVycm9yKGUrXCIgZmFpbGVkID0gQ2FuJ3QgbW9kaWZ5IGRhdGEgdW5kZXIgLy5pbmZvL1wiKX0sb2E9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LnBhdGgudG9TdHJpbmcoKTtpZihcInN0cmluZ1wiIT10eXBlb2YgdC5yZXBvSW5mby5ob3N0fHwwPT09dC5yZXBvSW5mby5ob3N0Lmxlbmd0aHx8IUhvKHQucmVwb0luZm8ubmFtZXNwYWNlKSYmXCJsb2NhbGhvc3RcIiE9PXQucmVwb0luZm8uaG9zdC5zcGxpdChcIjpcIilbMF18fDAhPT1uLmxlbmd0aCYmKG49KG49bikmJm4ucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpLCFRbyhuKSkpdGhyb3cgbmV3IEVycm9yKGooZSxcInVybFwiKSsnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIFVSTCBhbmQgdGhlIHBhdGggY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiW1wiLCBvciBcIl1cIi4nKX0sYWE9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50TGlzdHNfPVtdLHRoaXMucmVjdXJzaW9uRGVwdGhfPTB9O2Z1bmN0aW9uIHNhKGUsdCl7Zm9yKHZhciBuPW51bGwscj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLG89aS5nZXRQYXRoKCk7bnVsbD09PW58fFZ0KG8sbi5wYXRoKXx8KGUuZXZlbnRMaXN0c18ucHVzaChuKSxuPW51bGwpLChuPW51bGw9PT1uP3tldmVudHM6W10scGF0aDpvfTpuKS5ldmVudHMucHVzaChpKX1uJiZlLmV2ZW50TGlzdHNfLnB1c2gobil9ZnVuY3Rpb24gdWEoZSx0LG4pe3NhKGUsbiksaGEoZSxmdW5jdGlvbihlKXtyZXR1cm4gVnQoZSx0KX0pfWZ1bmN0aW9uIGxhKGUsdCxuKXtzYShlLG4pLGhhKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHp0KGUsdCl8fHp0KHQsZSl9KX1mdW5jdGlvbiBoYShlLHQpe2UucmVjdXJzaW9uRGVwdGhfKys7Zm9yKHZhciBuPSEwLHI9MDtyPGUuZXZlbnRMaXN0c18ubGVuZ3RoO3IrKyl7dmFyIGk9ZS5ldmVudExpc3RzX1tyXTtpJiYodChpLnBhdGgpPyhmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUuZXZlbnRzLmxlbmd0aDt0Kyspe3ZhciBuLHI9ZS5ldmVudHNbdF07bnVsbCE9PXImJihlLmV2ZW50c1t0XT1udWxsLG49ci5nZXRFdmVudFJ1bm5lcigpLEllJiZrZShcImV2ZW50OiBcIityLnRvU3RyaW5nKCkpLEJlKG4pKX19KGUuZXZlbnRMaXN0c19bcl0pLGUuZXZlbnRMaXN0c19bcl09bnVsbCk6bj0hMSl9biYmKGUuZXZlbnRMaXN0c189W10pLGUucmVjdXJzaW9uRGVwdGhfLS19dmFyIGNhPVwicmVwb19pbnRlcnJ1cHRcIixwYT0yNSxkYT0oZmEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMucmVwb0luZm9fLnNlY3VyZT9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMucmVwb0luZm9fLmhvc3R9LGZhKTtmdW5jdGlvbiBmYShlLHQsbixyKXt0aGlzLnJlcG9JbmZvXz1lLHRoaXMuZm9yY2VSZXN0Q2xpZW50Xz10LHRoaXMuYXV0aFRva2VuUHJvdmlkZXJfPW4sdGhpcy5hcHBDaGVja1Byb3ZpZGVyXz1yLHRoaXMuZGF0YVVwZGF0ZUNvdW50PTAsdGhpcy5zdGF0c0xpc3RlbmVyXz1udWxsLHRoaXMuZXZlbnRRdWV1ZV89bmV3IGFhLHRoaXMubmV4dFdyaXRlSWRfPTEsdGhpcy5pbnRlcmNlcHRTZXJ2ZXJEYXRhQ2FsbGJhY2tfPW51bGwsdGhpcy5vbkRpc2Nvbm5lY3RfPVNyKCksdGhpcy50cmFuc2FjdGlvblF1ZXVlVHJlZV89bmV3IEZvLHRoaXMucGVyc2lzdGVudENvbm5lY3Rpb25fPW51bGwsdGhpcy5rZXk9dGhpcy5yZXBvSW5mb18udG9VUkxTdHJpbmcoKX1mdW5jdGlvbiBfYShhLGUsdCl7aWYoYS5zdGF0c189b3QoYS5yZXBvSW5mb18pLGEuZm9yY2VSZXN0Q2xpZW50X3x8MDw9KFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiKS5zZWFyY2goL2dvb2dsZWJvdHxnb29nbGUgd2VibWFzdGVyIHRvb2xzfGJpbmdib3R8eWFob28hIHNsdXJwfGJhaWR1c3BpZGVyfHlhbmRleGJvdHxkdWNrZHVja2JvdC9pKSlhLnNlcnZlcl89bmV3IGJyKGEucmVwb0luZm9fLGZ1bmN0aW9uKGUsdCxuLHIpe2dhKGEsZSx0LG4scil9LGEuYXV0aFRva2VuUHJvdmlkZXJfLGEuYXBwQ2hlY2tQcm92aWRlcl8pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gbWEoYSwhMCl9LDApO2Vsc2V7aWYobnVsbCE9dCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKFwiT25seSBvYmplY3RzIGFyZSBzdXBwb3J0ZWQgZm9yIG9wdGlvbiBkYXRhYmFzZUF1dGhWYXJpYWJsZU92ZXJyaWRlXCIpO3RyeXt4KHQpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXV0aE92ZXJyaWRlIHByb3ZpZGVkOiBcIitlKX19YS5wZXJzaXN0ZW50Q29ubmVjdGlvbl89bmV3IGVuKGEucmVwb0luZm9fLGUsZnVuY3Rpb24oZSx0LG4scil7Z2EoYSxlLHQsbixyKX0sZnVuY3Rpb24oZSl7bWEoYSxlKX0sZnVuY3Rpb24oZSl7dmFyIG47bj1hLExlKGUsZnVuY3Rpb24oZSx0KXt3YShuLGUsdCl9KX0sYS5hdXRoVG9rZW5Qcm92aWRlcl8sYS5hcHBDaGVja1Byb3ZpZGVyXyx0KSxhLnNlcnZlcl89YS5wZXJzaXN0ZW50Q29ubmVjdGlvbl99dmFyIG47YS5hdXRoVG9rZW5Qcm92aWRlcl8uYWRkVG9rZW5DaGFuZ2VMaXN0ZW5lcihmdW5jdGlvbihlKXthLnNlcnZlcl8ucmVmcmVzaEF1dGhUb2tlbihlKX0pLGEuYXBwQ2hlY2tQcm92aWRlcl8uYWRkVG9rZW5DaGFuZ2VMaXN0ZW5lcihmdW5jdGlvbihlKXthLnNlcnZlcl8ucmVmcmVzaEFwcENoZWNrVG9rZW4oZS50b2tlbil9KSxhLnN0YXRzUmVwb3J0ZXJfPShuPWEucmVwb0luZm9fLGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERyKGEuc3RhdHNfLGEuc2VydmVyXyl9LG49bi50b1N0cmluZygpLGl0W25dfHwoaXRbbl09ZSgpKSxpdFtuXSksYS5pbmZvRGF0YV89bmV3IEVyLGEuaW5mb1N5bmNUcmVlXz1uZXcgc28oe3N0YXJ0TGlzdGVuaW5nOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPVtdLG89YS5pbmZvRGF0YV8uZ2V0Tm9kZShlLl9wYXRoKTtyZXR1cm4gby5pc0VtcHR5KCl8fChpPWNvKGEuaW5mb1N5bmNUcmVlXyxlLl9wYXRoLG8pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyKFwib2tcIil9LDApKSxpfSxzdG9wTGlzdGVuaW5nOmZ1bmN0aW9uKCl7fX0pLHdhKGEsXCJjb25uZWN0ZWRcIiwhMSksYS5zZXJ2ZXJTeW5jVHJlZV89bmV3IHNvKHtzdGFydExpc3RlbmluZzpmdW5jdGlvbihuLGUsdCxyKXtyZXR1cm4gYS5zZXJ2ZXJfLmxpc3RlbihuLHQsZSxmdW5jdGlvbihlLHQpe3Q9cihlLHQpO2xhKGEuZXZlbnRRdWV1ZV8sbi5fcGF0aCx0KX0pLFtdfSxzdG9wTGlzdGVuaW5nOmZ1bmN0aW9uKGUsdCl7YS5zZXJ2ZXJfLnVubGlzdGVuKGUsdCl9fSl9ZnVuY3Rpb24geWEoZSl7ZT1lLmluZm9EYXRhXy5nZXROb2RlKG5ldyB4dChcIi5pbmZvL3NlcnZlclRpbWVPZmZzZXRcIikpLnZhbCgpfHwwO3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpK2V9ZnVuY3Rpb24gdmEoZSl7cmV0dXJuIHhvKHt0aW1lc3RhbXA6eWEoZSl9KX1mdW5jdGlvbiBnYShlLHQsbixyLGkpe2UuZGF0YVVwZGF0ZUNvdW50Kys7dmFyIG89bmV3IHh0KHQpO249ZS5pbnRlcmNlcHRTZXJ2ZXJEYXRhQ2FsbGJhY2tfP2UuaW50ZXJjZXB0U2VydmVyRGF0YUNhbGxiYWNrXyh0LG4pOm47dmFyIGEscyx1LGw9W10saD1vOzA8KGw9aT9yPyhhPUwobixmdW5jdGlvbihlKXtyZXR1cm4gSG4oZSl9KSxmdW5jdGlvbihlLHQsbixyKXt2YXIgaT1ibyhlLHIpO2lmKGkpe3I9VG8oaSksaT1yLnBhdGgscj1yLnF1ZXJ5SWQsdD1VdChpLHQpLG49bmkuZnJvbU9iamVjdChuKTtyZXR1cm4gRW8oZSxpLG5ldyBWcihNcihyKSx0LG4pKX1yZXR1cm5bXX0oZS5zZXJ2ZXJTeW5jVHJlZV8sbyxhLGkpKToodD1IbihuKSxhPWUuc2VydmVyU3luY1RyZWVfLHM9byx1PXQsbnVsbD09KGk9Ym8oYSx0PWkpKT9bXToodD1UbyhpKSxpPXQucGF0aCx0PXQucXVlcnlJZCxzPVV0KGkscyksRW8oYSxpLG5ldyBVcihNcih0KSxzLHUpKSkpOnI/KHM9TChuLGZ1bmN0aW9uKGUpe3JldHVybiBIbihlKX0pLHU9ZS5zZXJ2ZXJTeW5jVHJlZV8scj1vLHM9cyxzPW5pLmZyb21PYmplY3Qocyksdm8odSxuZXcgVnIoTHIoKSxyLHMpKSk6KG49SG4obiksY28oZS5zZXJ2ZXJTeW5jVHJlZV8sbyxuKSkpLmxlbmd0aCYmKGg9UmEoZSxvKSksbGEoZS5ldmVudFF1ZXVlXyxoLGwpfWZ1bmN0aW9uIG1hKGUsdCl7d2EoZSxcImNvbm5lY3RlZFwiLHQpLCExPT09dCYmZnVuY3Rpb24obil7a2EobixcIm9uRGlzY29ubmVjdEV2ZW50c1wiKTt2YXIgcj12YShuKSxpPVNyKCk7UHIobi5vbkRpc2Nvbm5lY3RfLER0KCksZnVuY3Rpb24oZSx0KXt0PUFvKGUsdCxuLnNlcnZlclN5bmNUcmVlXyxyKTtrcihpLGUsdCl9KTt2YXIgbz1bXTtQcihpLER0KCksZnVuY3Rpb24oZSx0KXtvPW8uY29uY2F0KGNvKG4uc2VydmVyU3luY1RyZWVfLGUsdCkpO2U9TGEobixlKTtSYShuLGUpfSksbi5vbkRpc2Nvbm5lY3RfPVNyKCksbGEobi5ldmVudFF1ZXVlXyxEdCgpLG8pfShlKX1mdW5jdGlvbiB3YShlLHQsbil7dD1uZXcgeHQoXCIvLmluZm8vXCIrdCksbj1IbihuKTtlLmluZm9EYXRhXy51cGRhdGVTbmFwc2hvdCh0LG4pO249Y28oZS5pbmZvU3luY1RyZWVfLHQsbik7bGEoZS5ldmVudFF1ZXVlXyx0LG4pfWZ1bmN0aW9uIENhKGUpe3JldHVybiBlLm5leHRXcml0ZUlkXysrfWZ1bmN0aW9uIGJhKHIsaSxlLHQsbyl7a2EocixcInNldFwiLHtwYXRoOmkudG9TdHJpbmcoKSx2YWx1ZTplLHByaW9yaXR5OnR9KTt2YXIgbj12YShyKSxlPUhuKGUsdCksdD1fbyhyLnNlcnZlclN5bmNUcmVlXyxpKSxuPUxvKGUsdCxuKSxhPUNhKHIpLG49dW8oci5zZXJ2ZXJTeW5jVHJlZV8saSxuLGEsITApO3NhKHIuZXZlbnRRdWV1ZV8sbiksci5zZXJ2ZXJfLnB1dChpLnRvU3RyaW5nKCksZS52YWwoITApLGZ1bmN0aW9uKGUsdCl7dmFyIG49XCJva1wiPT09ZTtufHx4ZShcInNldCBhdCBcIitpK1wiIGZhaWxlZDogXCIrZSk7bj1obyhyLnNlcnZlclN5bmNUcmVlXyxhLCFuKTtsYShyLmV2ZW50UXVldWVfLGksbiksUGEoMCxvLGUsdCl9KTtlPUxhKHIsaSk7UmEocixlKSxsYShyLmV2ZW50UXVldWVfLGUsW10pfWZ1bmN0aW9uIFRhKG4scixpKXtuLnNlcnZlcl8ub25EaXNjb25uZWN0Q2FuY2VsKHIudG9TdHJpbmcoKSxmdW5jdGlvbihlLHQpe1wib2tcIj09PWUmJiFmdW5jdGlvbiBlKG4sdCl7aWYoanQodCkpcmV0dXJuIG4udmFsdWU9bnVsbCxuLmNoaWxkcmVuLmNsZWFyKCksITA7aWYobnVsbCE9PW4udmFsdWUpe2lmKG4udmFsdWUuaXNMZWFmTm9kZSgpKXJldHVybiExO3ZhciByPW4udmFsdWU7cmV0dXJuIG4udmFsdWU9bnVsbCxyLmZvckVhY2hDaGlsZChObixmdW5jdGlvbihlLHQpe2tyKG4sbmV3IHh0KGUpLHQpfSksZShuLHQpfWlmKDA8bi5jaGlsZHJlbi5zaXplKXJldHVybiByPU90KHQpLHQ9THQodCksbi5jaGlsZHJlbi5oYXMocikmJmUobi5jaGlsZHJlbi5nZXQociksdCkmJm4uY2hpbGRyZW4uZGVsZXRlKHIpLDA9PT1uLmNoaWxkcmVuLnNpemU7cmV0dXJuITB9KG4ub25EaXNjb25uZWN0XyxyKSxQYSgwLGksZSx0KX0pfWZ1bmN0aW9uIEVhKG4scixlLGkpe3ZhciBvPUhuKGUpO24uc2VydmVyXy5vbkRpc2Nvbm5lY3RQdXQoci50b1N0cmluZygpLG8udmFsKCEwKSxmdW5jdGlvbihlLHQpe1wib2tcIj09PWUmJmtyKG4ub25EaXNjb25uZWN0XyxyLG8pLFBhKDAsaSxlLHQpfSl9ZnVuY3Rpb24gSWEoZSx0LG4pe249XCIuaW5mb1wiPT09T3QodC5fcGF0aCk/cG8oZS5pbmZvU3luY1RyZWVfLHQsbik6cG8oZS5zZXJ2ZXJTeW5jVHJlZV8sdCxuKTt1YShlLmV2ZW50UXVldWVfLHQuX3BhdGgsbil9ZnVuY3Rpb24gU2EoZSl7ZS5wZXJzaXN0ZW50Q29ubmVjdGlvbl8mJmUucGVyc2lzdGVudENvbm5lY3Rpb25fLmludGVycnVwdChjYSl9ZnVuY3Rpb24ga2EoZSl7Zm9yKHZhciB0PVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07dmFyIHI9XCJcIjtlLnBlcnNpc3RlbnRDb25uZWN0aW9uXyYmKHI9ZS5wZXJzaXN0ZW50Q29ubmVjdGlvbl8uaWQrXCI6XCIpLGtlLmFwcGx5KHZvaWQgMCxhKFtyXSx5KHQpKSl9ZnVuY3Rpb24gUGEoZSxuLHIsaSl7biYmQmUoZnVuY3Rpb24oKXt2YXIgZSx0O1wib2tcIj09PXI/bihudWxsKToodD1lPShyfHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksaSYmKHQrPVwiOiBcIitpKSwodD1uZXcgRXJyb3IodCkpLmNvZGU9ZSxuKHQpKX0pfWZ1bmN0aW9uIE5hKGUsdCxuKXtyZXR1cm4gX28oZS5zZXJ2ZXJTeW5jVHJlZV8sdCxuKXx8am4uRU1QVFlfTk9ERX1mdW5jdGlvbiB4YSh0LGUpe3ZhciBuOyhlPXZvaWQgMD09PWU/dC50cmFuc2FjdGlvblF1ZXVlVHJlZV86ZSl8fEFhKHQsZSksV28oZSk/KG49T2EodCxlKSxnKDA8bi5sZW5ndGgsXCJTZW5kaW5nIHplcm8gbGVuZ3RoIHRyYW5zYWN0aW9uIHF1ZXVlXCIpLG4uZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLnN0YXR1c30pJiZmdW5jdGlvbihpLG8sYSl7Zm9yKHZhciBlPWEubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmN1cnJlbnRXcml0ZUlkfSksdD1OYShpLG8sZSksbj10LGU9dC5oYXNoKCkscj0wO3I8YS5sZW5ndGg7cisrKXt2YXIgcz1hW3JdO2coMD09PXMuc3RhdHVzLFwidHJ5VG9TZW5kVHJhbnNhY3Rpb25RdWV1ZV86IGl0ZW1zIGluIHF1ZXVlIHNob3VsZCBhbGwgYmUgcnVuLlwiKSxzLnN0YXR1cz0xLHMucmV0cnlDb3VudCsrO3ZhciB1PVV0KG8scy5wYXRoKTtuPW4udXBkYXRlQ2hpbGQodSxzLmN1cnJlbnRPdXRwdXRTbmFwc2hvdFJhdyl9dmFyIHQ9bi52YWwoITApLGw9bztpLnNlcnZlcl8ucHV0KGwudG9TdHJpbmcoKSx0LGZ1bmN0aW9uKGUpe2thKGksXCJ0cmFuc2FjdGlvbiBwdXQgcmVzcG9uc2VcIix7cGF0aDpsLnRvU3RyaW5nKCksc3RhdHVzOmV9KTt2YXIgdD1bXTtpZihcIm9rXCI9PT1lKXtmb3IodmFyIG49W10scj0wO3I8YS5sZW5ndGg7cisrKSFmdW5jdGlvbihlKXthW2VdLnN0YXR1cz0yLHQ9dC5jb25jYXQoaG8oaS5zZXJ2ZXJTeW5jVHJlZV8sYVtlXS5jdXJyZW50V3JpdGVJZCkpLGFbZV0ub25Db21wbGV0ZSYmbi5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIGFbZV0ub25Db21wbGV0ZShudWxsLCEwLGFbZV0uY3VycmVudE91dHB1dFNuYXBzaG90UmVzb2x2ZWQpfSksYVtlXS51bndhdGNoZXIoKX0ocik7QWEoaSxxbyhpLnRyYW5zYWN0aW9uUXVldWVUcmVlXyxvKSkseGEoaSxpLnRyYW5zYWN0aW9uUXVldWVUcmVlXyksbGEoaS5ldmVudFF1ZXVlXyxvLHQpO2ZvcihyPTA7cjxuLmxlbmd0aDtyKyspQmUobltyXSl9ZWxzZXtpZihcImRhdGFzdGFsZVwiPT09ZSlmb3Iocj0wO3I8YS5sZW5ndGg7cisrKTM9PT1hW3JdLnN0YXR1cz9hW3JdLnN0YXR1cz00OmFbcl0uc3RhdHVzPTA7ZWxzZXt4ZShcInRyYW5zYWN0aW9uIGF0IFwiK2wudG9TdHJpbmcoKStcIiBmYWlsZWQ6IFwiK2UpO2ZvcihyPTA7cjxhLmxlbmd0aDtyKyspYVtyXS5zdGF0dXM9NCxhW3JdLmFib3J0UmVhc29uPWV9UmEoaSxvKX19LGUpfSh0LFZvKGUpLG4pKTpVbyhlKSYmQm8oZSxmdW5jdGlvbihlKXt4YSh0LGUpfSl9ZnVuY3Rpb24gUmEoZSx0KXt2YXIgbj1EYShlLHQpLHQ9Vm8obik7cmV0dXJuIGZ1bmN0aW9uKHUsbCxoKXtpZigwPT09bC5sZW5ndGgpcmV0dXJuO2Zvcih2YXIgYz1bXSxwPVtdLGQ9bC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1lLnN0YXR1c30pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5jdXJyZW50V3JpdGVJZH0pLGU9MDtlPGwubGVuZ3RoO2UrKykhZnVuY3Rpb24oZSl7dmFyIHQsbixyLGksbz1sW2VdLGE9VXQoaCxvLnBhdGgpLHM9ITE7ZyhudWxsIT09YSxcInJlcnVuVHJhbnNhY3Rpb25zVW5kZXJOb2RlXzogcmVsYXRpdmVQYXRoIHNob3VsZCBub3QgYmUgbnVsbC5cIiksND09PW8uc3RhdHVzPyhzPSEwLHQ9by5hYm9ydFJlYXNvbixwPXAuY29uY2F0KGhvKHUuc2VydmVyU3luY1RyZWVfLG8uY3VycmVudFdyaXRlSWQsITApKSk6MD09PW8uc3RhdHVzJiYocD1vLnJldHJ5Q291bnQ+PXBhPyhzPSEwLHQ9XCJtYXhyZXRyeVwiLHAuY29uY2F0KGhvKHUuc2VydmVyU3luY1RyZWVfLG8uY3VycmVudFdyaXRlSWQsITApKSk6KG49TmEodSxvLnBhdGgsZCksby5jdXJyZW50SW5wdXRTbmFwc2hvdD1uLHZvaWQgMCE9PShpPWxbZV0udXBkYXRlKG4udmFsKCkpKT8odGEoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIsaSxvLnBhdGgpLHI9SG4oaSksXCJvYmplY3RcIj09dHlwZW9mIGkmJm51bGwhPWkmJkQoaSxcIi5wcmlvcml0eVwiKXx8KHI9ci51cGRhdGVQcmlvcml0eShuLmdldFByaW9yaXR5KCkpKSxhPW8uY3VycmVudFdyaXRlSWQsaT12YSh1KSxpPUxvKHIsbixpKSxvLmN1cnJlbnRPdXRwdXRTbmFwc2hvdFJhdz1yLG8uY3VycmVudE91dHB1dFNuYXBzaG90UmVzb2x2ZWQ9aSxvLmN1cnJlbnRXcml0ZUlkPUNhKHUpLGQuc3BsaWNlKGQuaW5kZXhPZihhKSwxKSwocD1wLmNvbmNhdCh1byh1LnNlcnZlclN5bmNUcmVlXyxvLnBhdGgsaSxvLmN1cnJlbnRXcml0ZUlkLG8uYXBwbHlMb2NhbGx5KSkpLmNvbmNhdChobyh1LnNlcnZlclN5bmNUcmVlXyxhLCEwKSkpOihzPSEwLHQ9XCJub2RhdGFcIixwLmNvbmNhdChobyh1LnNlcnZlclN5bmNUcmVlXyxvLmN1cnJlbnRXcml0ZUlkLCEwKSkpKSksbGEodS5ldmVudFF1ZXVlXyxoLHApLHA9W10scyYmKGxbZV0uc3RhdHVzPTIscz1sW2VdLnVud2F0Y2hlcixzZXRUaW1lb3V0KHMsTWF0aC5mbG9vcigwKSksbFtlXS5vbkNvbXBsZXRlJiYoXCJub2RhdGFcIj09PXQ/Yy5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIGxbZV0ub25Db21wbGV0ZShudWxsLCExLGxbZV0uY3VycmVudElucHV0U25hcHNob3QpfSk6Yy5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIGxbZV0ub25Db21wbGV0ZShuZXcgRXJyb3IodCksITEsbnVsbCl9KSkpfShlKTtBYSh1LHUudHJhbnNhY3Rpb25RdWV1ZVRyZWVfKTtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKUJlKGNbZV0pO3hhKHUsdS50cmFuc2FjdGlvblF1ZXVlVHJlZV8pfShlLE9hKGUsbiksdCksdH1mdW5jdGlvbiBEYShlLHQpe2Zvcih2YXIgbj1lLnRyYW5zYWN0aW9uUXVldWVUcmVlXyxyPU90KHQpO251bGwhPT1yJiZ2b2lkIDA9PT1XbyhuKTspbj1xbyhuLHIpLHI9T3QodD1MdCh0KSk7cmV0dXJuIG59ZnVuY3Rpb24gT2EoZSx0KXt2YXIgbj1bXTtyZXR1cm4gZnVuY3Rpb24gdChuLGUscil7dmFyIGk9V28oZSk7aWYoaSlmb3IodmFyIG89MDtvPGkubGVuZ3RoO28rKylyLnB1c2goaVtvXSk7Qm8oZSxmdW5jdGlvbihlKXt0KG4sZSxyKX0pfShlLHQsbiksbi5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUub3JkZXItdC5vcmRlcn0pLG59ZnVuY3Rpb24gQWEodCxlKXt2YXIgbj1XbyhlKTtpZihuKXtmb3IodmFyIHI9MCxpPTA7aTxuLmxlbmd0aDtpKyspMiE9PW5baV0uc3RhdHVzJiYobltyXT1uW2ldLHIrKyk7bi5sZW5ndGg9cixqbyhlLDA8bi5sZW5ndGg/bjp2b2lkIDApfUJvKGUsZnVuY3Rpb24oZSl7QWEodCxlKX0pfWZ1bmN0aW9uIExhKHQsZSl7dmFyIG49Vm8oRGEodCxlKSksZT1xbyh0LnRyYW5zYWN0aW9uUXVldWVUcmVlXyxlKTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uP2U6ZS5wYXJlbnQ7bnVsbCE9PXI7KXtpZih0KHIpKXJldHVybjtyPXIucGFyZW50fX0oZSxmdW5jdGlvbihlKXtNYSh0LGUpfSksTWEodCxlKSxmdW5jdGlvbiB0KGUsbixyLGkpe3ImJiFpJiZuKGUpLEJvKGUsZnVuY3Rpb24oZSl7dChlLG4sITAsaSl9KSxyJiZpJiZuKGUpfShlLGZ1bmN0aW9uKGUpe01hKHQsZSl9KSxufWZ1bmN0aW9uIE1hKGUsdCl7dmFyIG49V28odCk7aWYobil7Zm9yKHZhciByPVtdLGk9W10sbz0tMSxhPTA7YTxuLmxlbmd0aDthKyspMz09PW5bYV0uc3RhdHVzfHwoMT09PW5bYV0uc3RhdHVzPyhnKG89PT1hLTEsXCJBbGwgU0VOVCBpdGVtcyBzaG91bGQgYmUgYXQgYmVnaW5uaW5nIG9mIHF1ZXVlLlwiKSxuW289YV0uc3RhdHVzPTMsblthXS5hYm9ydFJlYXNvbj1cInNldFwiKTooZygwPT09blthXS5zdGF0dXMsXCJVbmV4cGVjdGVkIHRyYW5zYWN0aW9uIHN0YXR1cyBpbiBhYm9ydFwiKSxuW2FdLnVud2F0Y2hlcigpLGk9aS5jb25jYXQoaG8oZS5zZXJ2ZXJTeW5jVHJlZV8sblthXS5jdXJyZW50V3JpdGVJZCwhMCkpLG5bYV0ub25Db21wbGV0ZSYmci5wdXNoKG5bYV0ub25Db21wbGV0ZS5iaW5kKG51bGwsbmV3IEVycm9yKFwic2V0XCIpLCExLG51bGwpKSkpOy0xPT09bz9qbyh0LHZvaWQgMCk6bi5sZW5ndGg9bysxLGxhKGUuZXZlbnRRdWV1ZV8sVm8odCksaSk7Zm9yKGE9MDthPHIubGVuZ3RoO2ErKylCZShyW2FdKX19dmFyIEZhPWZ1bmN0aW9uKGUsdCl7dmFyIG49cWEoZSkscj1uLm5hbWVzcGFjZTtcImZpcmViYXNlLmNvbVwiPT09bi5kb21haW4mJk5lKG4uaG9zdCtcIiBpcyBubyBsb25nZXIgc3VwcG9ydGVkLiBQbGVhc2UgdXNlIDxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbSBpbnN0ZWFkXCIpLHImJlwidW5kZWZpbmVkXCIhPT1yfHxcImxvY2FsaG9zdFwiPT09bi5kb21haW58fE5lKFwiQ2Fubm90IHBhcnNlIEZpcmViYXNlIHVybC4gUGxlYXNlIHVzZSBodHRwczovLzxZT1VSIEZJUkVCQVNFPi5maXJlYmFzZWlvLmNvbVwiKSxuLnNlY3VyZXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uJiZ3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wmJi0xIT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoXCJodHRwczpcIikmJnhlKFwiSW5zZWN1cmUgRmlyZWJhc2UgYWNjZXNzIGZyb20gYSBzZWN1cmUgcGFnZS4gUGxlYXNlIHVzZSBodHRwcyBpbiBjYWxscyB0byBuZXcgRmlyZWJhc2UoKS5cIik7ZT1cIndzXCI9PT1uLnNjaGVtZXx8XCJ3c3NcIj09PW4uc2NoZW1lO3JldHVybntyZXBvSW5mbzpuZXcgWGUobi5ob3N0LG4uc2VjdXJlLHIsdCxlLFwiXCIsciE9PW4uc3ViZG9tYWluKSxwYXRoOm5ldyB4dChuLnBhdGhTdHJpbmcpfX0scWE9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9XCJcIixvPVwiXCIsYT1cIlwiLHM9XCJcIix1PVwiXCIsbD0hMCxoPVwiaHR0cHNcIixjPTQ0MztyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmKDA8PShyPWUuaW5kZXhPZihcIi8vXCIpKSYmKGg9ZS5zdWJzdHJpbmcoMCxyLTEpLGU9ZS5zdWJzdHJpbmcocisyKSksLTE9PT0odD1lLmluZGV4T2YoXCIvXCIpKSYmKHQ9ZS5sZW5ndGgpLC0xPT09KG49ZS5pbmRleE9mKFwiP1wiKSkmJihuPWUubGVuZ3RoKSxpPWUuc3Vic3RyaW5nKDAsTWF0aC5taW4odCxuKSksdDxuJiYocz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9XCJcIixuPWUuc3BsaXQoXCIvXCIpLHI9MDtyPG4ubGVuZ3RoO3IrKylpZigwPG5bcl0ubGVuZ3RoKXt2YXIgaT1uW3JdO3RyeXtpPWRlY29kZVVSSUNvbXBvbmVudChpLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSl9Y2F0Y2goZSl7fXQrPVwiL1wiK2l9cmV0dXJuIHR9KGUuc3Vic3RyaW5nKHQsbikpKSxuPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj17fTtcIj9cIj09PWUuY2hhckF0KDApJiYoZT1lLnN1YnN0cmluZygxKSk7dHJ5e2Zvcih2YXIgaT1fKGUuc3BsaXQoXCImXCIpKSxvPWkubmV4dCgpOyFvLmRvbmU7bz1pLm5leHQoKSl7dmFyIGEscz1vLnZhbHVlOzAhPT1zLmxlbmd0aCYmKDI9PT0oYT1zLnNwbGl0KFwiPVwiKSkubGVuZ3RoP3JbZGVjb2RlVVJJQ29tcG9uZW50KGFbMF0pXT1kZWNvZGVVUklDb21wb25lbnQoYVsxXSk6eGUoXCJJbnZhbGlkIHF1ZXJ5IHNlZ21lbnQgJ1wiK3MrXCInIGluIHF1ZXJ5ICdcIitlK1wiJ1wiKSl9fWNhdGNoKGUpe3Q9e2Vycm9yOmV9fWZpbmFsbHl7dHJ5e28mJiFvLmRvbmUmJihuPWkucmV0dXJuKSYmbi5jYWxsKGkpfWZpbmFsbHl7aWYodCl0aHJvdyB0LmVycm9yfX1yZXR1cm4gcn0oZS5zdWJzdHJpbmcoTWF0aC5taW4oZS5sZW5ndGgsbikpKSwwPD0ocj1pLmluZGV4T2YoXCI6XCIpKT8obD1cImh0dHBzXCI9PT1ofHxcIndzc1wiPT09aCxjPXBhcnNlSW50KGkuc3Vic3RyaW5nKHIrMSksMTApKTpyPWkubGVuZ3RoLFwibG9jYWxob3N0XCI9PT0ocj1pLnNsaWNlKDAscikpLnRvTG93ZXJDYXNlKCk/bz1cImxvY2FsaG9zdFwiOnIuc3BsaXQoXCIuXCIpLmxlbmd0aDw9Mj9vPXI6KHI9aS5pbmRleE9mKFwiLlwiKSxhPWkuc3Vic3RyaW5nKDAscikudG9Mb3dlckNhc2UoKSxvPWkuc3Vic3RyaW5nKHIrMSksdT1hKSxcIm5zXCJpbiBuJiYodT1uLm5zKSkse2hvc3Q6aSxwb3J0OmMsZG9tYWluOm8sc3ViZG9tYWluOmEsc2VjdXJlOmwsc2NoZW1lOmgscGF0aFN0cmluZzpzLG5hbWVzcGFjZTp1fX0sV2E9KGphLnByb3RvdHlwZS5nZXRQYXRoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zbmFwc2hvdC5yZWY7cmV0dXJuKFwidmFsdWVcIj09PXRoaXMuZXZlbnRUeXBlP2U6ZS5wYXJlbnQpLl9wYXRofSxqYS5wcm90b3R5cGUuZ2V0RXZlbnRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXZlbnRUeXBlfSxqYS5wcm90b3R5cGUuZ2V0RXZlbnRSdW5uZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudFJlZ2lzdHJhdGlvbi5nZXRFdmVudFJ1bm5lcih0aGlzKX0samEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGF0aCgpLnRvU3RyaW5nKCkrXCI6XCIrdGhpcy5ldmVudFR5cGUrXCI6XCIreCh0aGlzLnNuYXBzaG90LmV4cG9ydFZhbCgpKX0samEpO2Z1bmN0aW9uIGphKGUsdCxuLHIpe3RoaXMuZXZlbnRUeXBlPWUsdGhpcy5ldmVudFJlZ2lzdHJhdGlvbj10LHRoaXMuc25hcHNob3Q9bix0aGlzLnByZXZOYW1lPXJ9dmFyIFVhPShCYS5wcm90b3R5cGUuZ2V0UGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGh9LEJhLnByb3RvdHlwZS5nZXRFdmVudFR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbmNlbFwifSxCYS5wcm90b3R5cGUuZ2V0RXZlbnRSdW5uZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ldmVudFJlZ2lzdHJhdGlvbi5nZXRFdmVudFJ1bm5lcih0aGlzKX0sQmEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC50b1N0cmluZygpK1wiOmNhbmNlbFwifSxCYSk7ZnVuY3Rpb24gQmEoZSx0LG4pe3RoaXMuZXZlbnRSZWdpc3RyYXRpb249ZSx0aGlzLmVycm9yPXQsdGhpcy5wYXRoPW59dmFyIFZhPSh6YS5wcm90b3R5cGUub25WYWx1ZT1mdW5jdGlvbihlLHQpe3RoaXMuc25hcHNob3RDYWxsYmFjay5jYWxsKG51bGwsZSx0KX0semEucHJvdG90eXBlLm9uQ2FuY2VsPWZ1bmN0aW9uKGUpe3JldHVybiBnKHRoaXMuaGFzQ2FuY2VsQ2FsbGJhY2ssXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIiksdGhpcy5jYW5jZWxDYWxsYmFjay5jYWxsKG51bGwsZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh6YS5wcm90b3R5cGUsXCJoYXNDYW5jZWxDYWxsYmFja1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuY2FuY2VsQ2FsbGJhY2t9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksemEucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc25hcHNob3RDYWxsYmFjaz09PWUuc25hcHNob3RDYWxsYmFja3x8dGhpcy5zbmFwc2hvdENhbGxiYWNrLnVzZXJDYWxsYmFjaz09PWUuc25hcHNob3RDYWxsYmFjay51c2VyQ2FsbGJhY2smJnRoaXMuc25hcHNob3RDYWxsYmFjay5jb250ZXh0PT09ZS5zbmFwc2hvdENhbGxiYWNrLmNvbnRleHR9LHphKTtmdW5jdGlvbiB6YShlLHQpe3RoaXMuc25hcHNob3RDYWxsYmFjaz1lLHRoaXMuY2FuY2VsQ2FsbGJhY2s9dH12YXIgSGE9KFFhLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgZjtyZXR1cm4gVGEodGhpcy5fcmVwbyx0aGlzLl9wYXRoLGUud3JhcENhbGxiYWNrKGZ1bmN0aW9uKCl7fSkpLGUucHJvbWlzZX0sUWEucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbigpe2lhKFwiT25EaXNjb25uZWN0LnJlbW92ZVwiLHRoaXMuX3BhdGgpO3ZhciBlPW5ldyBmO3JldHVybiBFYSh0aGlzLl9yZXBvLHRoaXMuX3BhdGgsbnVsbCxlLndyYXBDYWxsYmFjayhmdW5jdGlvbigpe30pKSxlLnByb21pc2V9LFFhLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSl7aWEoXCJPbkRpc2Nvbm5lY3Quc2V0XCIsdGhpcy5fcGF0aCksZWEoXCJPbkRpc2Nvbm5lY3Quc2V0XCIsZSx0aGlzLl9wYXRoLCExKTt2YXIgdD1uZXcgZjtyZXR1cm4gRWEodGhpcy5fcmVwbyx0aGlzLl9wYXRoLGUsdC53cmFwQ2FsbGJhY2soZnVuY3Rpb24oKXt9KSksdC5wcm9taXNlfSxRYS5wcm90b3R5cGUuc2V0V2l0aFByaW9yaXR5PWZ1bmN0aW9uKGUsdCl7aWEoXCJPbkRpc2Nvbm5lY3Quc2V0V2l0aFByaW9yaXR5XCIsdGhpcy5fcGF0aCksZWEoXCJPbkRpc2Nvbm5lY3Quc2V0V2l0aFByaW9yaXR5XCIsZSx0aGlzLl9wYXRoLCExKSxLbyhcIk9uRGlzY29ubmVjdC5zZXRXaXRoUHJpb3JpdHlcIix0LCExKTt2YXIgbixyLGksbyxhPW5ldyBmO3JldHVybiBuPXRoaXMuX3JlcG8scj10aGlzLl9wYXRoLGU9ZSx0PXQsaT1hLndyYXBDYWxsYmFjayhmdW5jdGlvbigpe30pLG89SG4oZSx0KSxuLnNlcnZlcl8ub25EaXNjb25uZWN0UHV0KHIudG9TdHJpbmcoKSxvLnZhbCghMCksZnVuY3Rpb24oZSx0KXtcIm9rXCI9PT1lJiZrcihuLm9uRGlzY29ubmVjdF8scixvKSxQYSgwLGksZSx0KX0pLGEucHJvbWlzZX0sUWEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXtpYShcIk9uRGlzY29ubmVjdC51cGRhdGVcIix0aGlzLl9wYXRoKSxZbyhcIk9uRGlzY29ubmVjdC51cGRhdGVcIixlLHRoaXMuX3BhdGgsITEpO3ZhciB0PW5ldyBmO3JldHVybiBmdW5jdGlvbihuLHIsaSxvKXtpZihBKGkpKXJldHVybiBrZShcIm9uRGlzY29ubmVjdCgpLnVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksUGEoMCxvLFwib2tcIix2b2lkIDApO24uc2VydmVyXy5vbkRpc2Nvbm5lY3RNZXJnZShyLnRvU3RyaW5nKCksaSxmdW5jdGlvbihlLHQpe1wib2tcIj09PWUmJkxlKGksZnVuY3Rpb24oZSx0KXt0PUhuKHQpO2tyKG4ub25EaXNjb25uZWN0XyxXdChyLGUpLHQpfSksUGEoMCxvLGUsdCl9KX0odGhpcy5fcmVwbyx0aGlzLl9wYXRoLGUsdC53cmFwQ2FsbGJhY2soZnVuY3Rpb24oKXt9KSksdC5wcm9taXNlfSxRYSk7ZnVuY3Rpb24gUWEoZSx0KXt0aGlzLl9yZXBvPWUsdGhpcy5fcGF0aD10fXZhciBZYT0oT2JqZWN0LmRlZmluZVByb3BlcnR5KEthLnByb3RvdHlwZSxcImtleVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ganQodGhpcy5fcGF0aCk/bnVsbDpNdCh0aGlzLl9wYXRoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoS2EucHJvdG90eXBlLFwicmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgWmEodGhpcy5fcmVwbyx0aGlzLl9wYXRoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoS2EucHJvdG90eXBlLFwiX3F1ZXJ5SWRlbnRpZmllclwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT13cih0aGlzLl9xdWVyeVBhcmFtcyksZT1BZShlKTtyZXR1cm5cInt9XCI9PT1lP1wiZGVmYXVsdFwiOmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEthLnByb3RvdHlwZSxcIl9xdWVyeU9iamVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gd3IodGhpcy5fcXVlcnlQYXJhbXMpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLEthLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKGUpe2lmKCEoKGU9eihlKSlpbnN0YW5jZW9mIEthKSlyZXR1cm4hMTt2YXIgdD10aGlzLl9yZXBvPT09ZS5fcmVwbyxuPVZ0KHRoaXMuX3BhdGgsZS5fcGF0aCksZT10aGlzLl9xdWVyeUlkZW50aWZpZXI9PT1lLl9xdWVyeUlkZW50aWZpZXI7cmV0dXJuIHQmJm4mJmV9LEthLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b1N0cmluZygpfSxLYS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwby50b1N0cmluZygpK2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49ZS5waWVjZU51bV87bjxlLnBpZWNlc18ubGVuZ3RoO24rKylcIlwiIT09ZS5waWVjZXNfW25dJiYodCs9XCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhlLnBpZWNlc19bbl0pKSk7cmV0dXJuIHR8fFwiL1wifSh0aGlzLl9wYXRoKX0sS2EpO2Z1bmN0aW9uIEthKGUsdCxuLHIpe3RoaXMuX3JlcG89ZSx0aGlzLl9wYXRoPXQsdGhpcy5fcXVlcnlQYXJhbXM9bix0aGlzLl9vcmRlckJ5Q2FsbGVkPXJ9ZnVuY3Rpb24gR2EoZSx0KXtpZighMD09PWUuX29yZGVyQnlDYWxsZWQpdGhyb3cgbmV3IEVycm9yKHQrXCI6IFlvdSBjYW4ndCBjb21iaW5lIG11bHRpcGxlIG9yZGVyQnkgY2FsbHMuXCIpfWZ1bmN0aW9uICRhKGUpe3ZhciB0PW51bGwsbj1udWxsO2lmKGUuaGFzU3RhcnQoKSYmKHQ9ZS5nZXRJbmRleFN0YXJ0VmFsdWUoKSksZS5oYXNFbmQoKSYmKG49ZS5nZXRJbmRleEVuZFZhbHVlKCkpLGUuZ2V0SW5kZXgoKT09PWxuKXt2YXIgcj1cIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiLGk9XCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBzdGFydEFmdGVyKCksIGVuZEF0KCksIGVuZEJlZm9yZSgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIjtpZihlLmhhc1N0YXJ0KCkpe2lmKGUuZ2V0SW5kZXhTdGFydE5hbWUoKSE9PVJlKXRocm93IG5ldyBFcnJvcihyKTtpZihcInN0cmluZ1wiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoaSl9aWYoZS5oYXNFbmQoKSl7aWYoZS5nZXRJbmRleEVuZE5hbWUoKSE9PURlKXRocm93IG5ldyBFcnJvcihyKTtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoaSl9fWVsc2UgaWYoZS5nZXRJbmRleCgpPT09Tm4pe2lmKG51bGwhPXQmJiFabyh0KXx8bnVsbCE9biYmIVpvKG4pKXRocm93IG5ldyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IHByaW9yaXR5LCB0aGUgZmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgc3RhcnRBZnRlcigpIGVuZEF0KCksIGVuZEJlZm9yZSgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHZhbGlkIHByaW9yaXR5IHZhbHVlIChudWxsLCBhIG51bWJlciwgb3IgYSBzdHJpbmcpLlwiKX1lbHNlIGlmKGcoZS5nZXRJbmRleCgpaW5zdGFuY2VvZiBLbnx8ZS5nZXRJbmRleCgpPT09dHIsXCJ1bmtub3duIGluZGV4IHR5cGUuXCIpLG51bGwhPXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fHxudWxsIT1uJiZcIm9iamVjdFwiPT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJRdWVyeTogRmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgc3RhcnRBZnRlcigpLCBlbmRBdCgpLCBlbmRCZWZvcmUoKSwgb3IgZXF1YWxUbygpIGNhbm5vdCBiZSBhbiBvYmplY3QuXCIpfWZ1bmN0aW9uIEphKGUpe2lmKGUuaGFzU3RhcnQoKSYmZS5oYXNFbmQoKSYmZS5oYXNMaW1pdCgpJiYhZS5oYXNBbmNob3JlZExpbWl0KCkpdGhyb3cgbmV3IEVycm9yKFwiUXVlcnk6IENhbid0IGNvbWJpbmUgc3RhcnRBdCgpLCBzdGFydEFmdGVyKCksIGVuZEF0KCksIGVuZEJlZm9yZSgpLCBhbmQgbGltaXQoKS4gVXNlIGxpbWl0VG9GaXJzdCgpIG9yIGxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIil9dmFyIFhhLFphPShuKGVzLFhhPVlhKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXMucHJvdG90eXBlLFwicGFyZW50XCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXF0KHRoaXMuX3BhdGgpO3JldHVybiBudWxsPT09ZT9udWxsOm5ldyBlcyh0aGlzLl9yZXBvLGUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcy5wcm90b3R5cGUsXCJyb290XCIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzO251bGwhPT1lLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlcyk7ZnVuY3Rpb24gZXMoZSx0KXtyZXR1cm4gWGEuY2FsbCh0aGlzLGUsdCxuZXcgZnIsITEpfHx0aGlzfXZhciB0cz0oT2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLnByb3RvdHlwZSxcInByaW9yaXR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlLmdldFByaW9yaXR5KCkudmFsKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLnByb3RvdHlwZSxcImtleVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWYua2V5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucy5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlLm51bUNoaWxkcmVuKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksbnMucHJvdG90eXBlLmNoaWxkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB4dChlKSxlPW9zKHRoaXMucmVmLGUpO3JldHVybiBuZXcgbnModGhpcy5fbm9kZS5nZXRDaGlsZCh0KSxlLE5uKX0sbnMucHJvdG90eXBlLmV4aXN0cz1mdW5jdGlvbigpe3JldHVybiF0aGlzLl9ub2RlLmlzRW1wdHkoKX0sbnMucHJvdG90eXBlLmV4cG9ydFZhbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlLnZhbCghMCl9LG5zLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXM7cmV0dXJuIXRoaXMuX25vZGUuaXNMZWFmTm9kZSgpJiYhIXRoaXMuX25vZGUuZm9yRWFjaENoaWxkKHRoaXMuX2luZGV4LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4obmV3IG5zKHQsb3Moci5yZWYsZSksTm4pKX0pfSxucy5wcm90b3R5cGUuaGFzQ2hpbGQ9ZnVuY3Rpb24oZSl7ZT1uZXcgeHQoZSk7cmV0dXJuIXRoaXMuX25vZGUuZ2V0Q2hpbGQoZSkuaXNFbXB0eSgpfSxucy5wcm90b3R5cGUuaGFzQ2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fbm9kZS5pc0xlYWZOb2RlKCkmJiF0aGlzLl9ub2RlLmlzRW1wdHkoKX0sbnMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV4cG9ydFZhbCgpfSxucy5wcm90b3R5cGUudmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGUudmFsKCl9LG5zKTtmdW5jdGlvbiBucyhlLHQsbil7dGhpcy5fbm9kZT1lLHRoaXMucmVmPXQsdGhpcy5faW5kZXg9bn1mdW5jdGlvbiBycyhlLHQpe3JldHVybihlPXooZSkpLl9jaGVja05vdERlbGV0ZWQoXCJyZWZcIiksdm9pZCAwIT09dD9vcyhlLl9yb290LHQpOmUuX3Jvb3R9ZnVuY3Rpb24gaXMoZSx0KXsoZT16KGUpKS5fY2hlY2tOb3REZWxldGVkKFwicmVmRnJvbVVSTFwiKTt2YXIgbj1GYSh0LGUuX3JlcG8ucmVwb0luZm9fLm5vZGVBZG1pbik7b2EoXCJyZWZGcm9tVVJMXCIsbik7dD1uLnJlcG9JbmZvO3JldHVybiBlLl9yZXBvLnJlcG9JbmZvXy5pc0N1c3RvbUhvc3QoKXx8dC5ob3N0PT09ZS5fcmVwby5yZXBvSW5mb18uaG9zdHx8TmUoXCJyZWZGcm9tVVJMOiBIb3N0IG5hbWUgZG9lcyBub3QgbWF0Y2ggdGhlIGN1cnJlbnQgZGF0YWJhc2U6IChmb3VuZCBcIit0Lmhvc3QrXCIgYnV0IGV4cGVjdGVkIFwiK2UuX3JlcG8ucmVwb0luZm9fLmhvc3QrXCIpXCIpLHJzKGUsbi5wYXRoLnRvU3RyaW5nKCkpfWZ1bmN0aW9uIG9zKGUsdCl7cmV0dXJuKG51bGw9PT1PdCgoZT16KGUpKS5fcGF0aCk/cmE6bmEpKFwiY2hpbGRcIixcInBhdGhcIix0LCExKSxuZXcgWmEoZS5fcmVwbyxXdChlLl9wYXRoLHQpKX1mdW5jdGlvbiBhcyhlLHQpe2U9eihlKSxpYShcInNldFwiLGUuX3BhdGgpLGVhKFwic2V0XCIsdCxlLl9wYXRoLCExKTt2YXIgbj1uZXcgZjtyZXR1cm4gYmEoZS5fcmVwbyxlLl9wYXRoLHQsbnVsbCxuLndyYXBDYWxsYmFjayhmdW5jdGlvbigpe30pKSxuLnByb21pc2V9ZnVuY3Rpb24gc3MoZSx0KXtZbyhcInVwZGF0ZVwiLHQsZS5fcGF0aCwhMSk7dmFyIG49bmV3IGY7cmV0dXJuIGZ1bmN0aW9uKGksbyxlLGEpe2thKGksXCJ1cGRhdGVcIix7cGF0aDpvLnRvU3RyaW5nKCksdmFsdWU6ZX0pO3ZhciBzLHQsbj0hMCxyPXZhKGkpLHU9e307TGUoZSxmdW5jdGlvbihlLHQpe249ITEsdVtlXT1BbyhXdChvLGUpLEhuKHQpLGkuc2VydmVyU3luY1RyZWVfLHIpfSksbj8oa2UoXCJ1cGRhdGUoKSBjYWxsZWQgd2l0aCBlbXB0eSBkYXRhLiAgRG9uJ3QgZG8gYW55dGhpbmcuXCIpLFBhKDAsYSxcIm9rXCIsdm9pZCAwKSk6KHM9Q2EoaSksdD1sbyhpLnNlcnZlclN5bmNUcmVlXyxvLHUscyksc2EoaS5ldmVudFF1ZXVlXyx0KSxpLnNlcnZlcl8ubWVyZ2Uoby50b1N0cmluZygpLGUsZnVuY3Rpb24oZSx0KXt2YXIgbj1cIm9rXCI9PT1lO258fHhlKFwidXBkYXRlIGF0IFwiK28rXCIgZmFpbGVkOiBcIitlKTt2YXIgcj1obyhpLnNlcnZlclN5bmNUcmVlXyxzLCFuKSxuPTA8ci5sZW5ndGg/UmEoaSxvKTpvO2xhKGkuZXZlbnRRdWV1ZV8sbixyKSxQYSgwLGEsZSx0KX0pLExlKGUsZnVuY3Rpb24oZSl7ZT1MYShpLFd0KG8sZSkpO1JhKGksZSl9KSxsYShpLmV2ZW50UXVldWVfLG8sW10pKX0oZS5fcmVwbyxlLl9wYXRoLHQsbi53cmFwQ2FsbGJhY2soZnVuY3Rpb24oKXt9KSksbi5wcm9taXNlfWZ1bmN0aW9uIHVzKHQpe3JldHVybiB0PXoodCksbj10Ll9yZXBvLHI9dCwobnVsbCE9KGU9eW8obi5zZXJ2ZXJTeW5jVHJlZV8scikpP1Byb21pc2UucmVzb2x2ZShlKTpuLnNlcnZlcl8uZ2V0KHIpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9SG4oZSksZT1jbyhuLnNlcnZlclN5bmNUcmVlXyxyLl9wYXRoLHQpO3JldHVybiB1YShuLmV2ZW50UXVldWVfLHIuX3BhdGgsZSksUHJvbWlzZS5yZXNvbHZlKHQpfSxmdW5jdGlvbihlKXtyZXR1cm4ga2EobixcImdldCBmb3IgcXVlcnkgXCIreChyKStcIiBmYWlsZWQ6IFwiK2UpLFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihlKSl9KSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IHRzKGUsbmV3IFphKHQuX3JlcG8sdC5fcGF0aCksdC5fcXVlcnlQYXJhbXMuZ2V0SW5kZXgoKSl9KTt2YXIgbixyLGV9dmFyIGxzPShocy5wcm90b3R5cGUucmVzcG9uZHNUbz1mdW5jdGlvbihlKXtyZXR1cm5cInZhbHVlXCI9PT1lfSxocy5wcm90b3R5cGUuY3JlYXRlRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10Ll9xdWVyeVBhcmFtcy5nZXRJbmRleCgpO3JldHVybiBuZXcgV2EoXCJ2YWx1ZVwiLHRoaXMsbmV3IHRzKGUuc25hcHNob3ROb2RlLG5ldyBaYSh0Ll9yZXBvLHQuX3BhdGgpLG4pKX0saHMucHJvdG90eXBlLmdldEV2ZW50UnVubmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuXCJjYW5jZWxcIj09PWUuZ2V0RXZlbnRUeXBlKCk/ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsYmFja0NvbnRleHQub25DYW5jZWwoZS5lcnJvcil9OmZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbGJhY2tDb250ZXh0Lm9uVmFsdWUoZS5zbmFwc2hvdCxudWxsKX19LGhzLnByb3RvdHlwZS5jcmVhdGVDYW5jZWxFdmVudD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNhbGxiYWNrQ29udGV4dC5oYXNDYW5jZWxDYWxsYmFjaz9uZXcgVWEodGhpcyxlLHQpOm51bGx9LGhzLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgaHMmJighZS5jYWxsYmFja0NvbnRleHR8fCF0aGlzLmNhbGxiYWNrQ29udGV4dHx8ZS5jYWxsYmFja0NvbnRleHQubWF0Y2hlcyh0aGlzLmNhbGxiYWNrQ29udGV4dCkpfSxocy5wcm90b3R5cGUuaGFzQW55Q2FsbGJhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuY2FsbGJhY2tDb250ZXh0fSxocyk7ZnVuY3Rpb24gaHMoZSl7dGhpcy5jYWxsYmFja0NvbnRleHQ9ZX12YXIgY3M9KHBzLnByb3RvdHlwZS5yZXNwb25kc1RvPWZ1bmN0aW9uKGUpe2U9XCJjaGlsZHJlbl9yZW1vdmVkXCI9PT0oZT1cImNoaWxkcmVuX2FkZGVkXCI9PT1lP1wiY2hpbGRfYWRkZWRcIjplKT9cImNoaWxkX3JlbW92ZWRcIjplO3JldHVybiB0aGlzLmV2ZW50VHlwZT09PWV9LHBzLnByb3RvdHlwZS5jcmVhdGVDYW5jZWxFdmVudD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNhbGxiYWNrQ29udGV4dC5oYXNDYW5jZWxDYWxsYmFjaz9uZXcgVWEodGhpcyxlLHQpOm51bGx9LHBzLnByb3RvdHlwZS5jcmVhdGVFdmVudD1mdW5jdGlvbihlLHQpe2cobnVsbCE9ZS5jaGlsZE5hbWUsXCJDaGlsZCBldmVudHMgc2hvdWxkIGhhdmUgYSBjaGlsZE5hbWUuXCIpO3ZhciBuPW9zKG5ldyBaYSh0Ll9yZXBvLHQuX3BhdGgpLGUuY2hpbGROYW1lKSx0PXQuX3F1ZXJ5UGFyYW1zLmdldEluZGV4KCk7cmV0dXJuIG5ldyBXYShlLnR5cGUsdGhpcyxuZXcgdHMoZS5zbmFwc2hvdE5vZGUsbix0KSxlLnByZXZOYW1lKX0scHMucHJvdG90eXBlLmdldEV2ZW50UnVubmVyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuXCJjYW5jZWxcIj09PWUuZ2V0RXZlbnRUeXBlKCk/ZnVuY3Rpb24oKXtyZXR1cm4gdC5jYWxsYmFja0NvbnRleHQub25DYW5jZWwoZS5lcnJvcil9OmZ1bmN0aW9uKCl7cmV0dXJuIHQuY2FsbGJhY2tDb250ZXh0Lm9uVmFsdWUoZS5zbmFwc2hvdCxlLnByZXZOYW1lKX19LHBzLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgcHMmJih0aGlzLmV2ZW50VHlwZT09PWUuZXZlbnRUeXBlJiYoIXRoaXMuY2FsbGJhY2tDb250ZXh0fHwhZS5jYWxsYmFja0NvbnRleHR8fHRoaXMuY2FsbGJhY2tDb250ZXh0Lm1hdGNoZXMoZS5jYWxsYmFja0NvbnRleHQpKSl9LHBzLnByb3RvdHlwZS5oYXNBbnlDYWxsYmFjaz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5jYWxsYmFja0NvbnRleHR9LHBzKTtmdW5jdGlvbiBwcyhlLHQpe3RoaXMuZXZlbnRUeXBlPWUsdGhpcy5jYWxsYmFja0NvbnRleHQ9dH1mdW5jdGlvbiBkcyhuLGUsdCxyLGkpe3ZhciBvO1wib2JqZWN0XCI9PXR5cGVvZiByJiYoYT12b2lkIDAsaT1yKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByJiYoYT1yKSxpJiZpLm9ubHlPbmNlJiYoKGk9ZnVuY3Rpb24oZSx0KXtJYShuLl9yZXBvLG4scyksbyhlLHQpfSkudXNlckNhbGxiYWNrPShvPXQpLnVzZXJDYWxsYmFjayxpLmNvbnRleHQ9dC5jb250ZXh0LHQ9aSk7dmFyIGEsdD1uZXcgVmEodCxhfHx2b2lkIDApLHM9XCJ2YWx1ZVwiPT09ZT9uZXcgbHModCk6bmV3IGNzKGUsdCk7cmV0dXJuIGE9bi5fcmVwbyxlPXMsZT1cIi5pbmZvXCI9PT1PdCgodD1uKS5fcGF0aCk/Zm8oYS5pbmZvU3luY1RyZWVfLHQsZSk6Zm8oYS5zZXJ2ZXJTeW5jVHJlZV8sdCxlKSx1YShhLmV2ZW50UXVldWVfLHQuX3BhdGgsZSksZnVuY3Rpb24oKXtyZXR1cm4gSWEobi5fcmVwbyxuLHMpfX1mdW5jdGlvbiBmcyhlLHQsbixyKXtyZXR1cm4gZHMoZSxcInZhbHVlXCIsdCxuLHIpfWZ1bmN0aW9uIF9zKGUsdCxuLHIpe3JldHVybiBkcyhlLFwiY2hpbGRfYWRkZWRcIix0LG4scil9ZnVuY3Rpb24geXMoZSx0LG4scil7cmV0dXJuIGRzKGUsXCJjaGlsZF9jaGFuZ2VkXCIsdCxuLHIpfWZ1bmN0aW9uIHZzKGUsdCxuLHIpe3JldHVybiBkcyhlLFwiY2hpbGRfbW92ZWRcIix0LG4scil9ZnVuY3Rpb24gZ3MoZSx0LG4scil7cmV0dXJuIGRzKGUsXCJjaGlsZF9yZW1vdmVkXCIsdCxuLHIpfWZ1bmN0aW9uIG1zKGUsdCxuKXt2YXIgcj1udWxsLG49bj9uZXcgVmEobik6bnVsbDtcInZhbHVlXCI9PT10P3I9bmV3IGxzKG4pOnQmJihyPW5ldyBjcyh0LG4pKSxJYShlLl9yZXBvLGUscil9dmFyIHdzLEN0PWZ1bmN0aW9uKCl7fSxDcz0obihicyx3cz1DdCksYnMucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtlYShcImVuZEF0XCIsdGhpcy5fdmFsdWUsZS5fcGF0aCwhMCk7dmFyIHQ9dnIoZS5fcXVlcnlQYXJhbXMsdGhpcy5fdmFsdWUsdGhpcy5fa2V5KTtpZihKYSh0KSwkYSh0KSxlLl9xdWVyeVBhcmFtcy5oYXNFbmQoKSl0aHJvdyBuZXcgRXJyb3IoXCJlbmRBdDogU3RhcnRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQsIGVuZEJlZm9yZSBvciBlcXVhbFRvKS5cIik7cmV0dXJuIG5ldyBZYShlLl9yZXBvLGUuX3BhdGgsdCxlLl9vcmRlckJ5Q2FsbGVkKX0sYnMpO2Z1bmN0aW9uIGJzKGUsdCl7dmFyIG49d3MuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fdmFsdWU9ZSxuLl9rZXk9dCxufXZhciBUcyxFcz0obihJcyxUcz1DdCksSXMucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtlYShcImVuZEJlZm9yZVwiLHRoaXMuX3ZhbHVlLGUuX3BhdGgsITEpO3ZhciB0LG4scixyPSh0PWUuX3F1ZXJ5UGFyYW1zLG49dGhpcy5fdmFsdWUscj10aGlzLl9rZXksKHI9dC5pbmRleF89PT1sbj92cih0LG49XCJzdHJpbmdcIj09dHlwZW9mIG4/WG4obik6bixyKTp2cih0LG4sbnVsbD09cj9SZTpYbihyKSkpLmVuZEJlZm9yZVNldF89ITAscik7aWYoSmEociksJGEociksZS5fcXVlcnlQYXJhbXMuaGFzRW5kKCkpdGhyb3cgbmV3IEVycm9yKFwiZW5kQmVmb3JlOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCwgZW5kQmVmb3JlIG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gbmV3IFlhKGUuX3JlcG8sZS5fcGF0aCxyLGUuX29yZGVyQnlDYWxsZWQpfSxJcyk7ZnVuY3Rpb24gSXMoZSx0KXt2YXIgbj1Ucy5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl92YWx1ZT1lLG4uX2tleT10LG59dmFyIFNzLGtzPShuKFBzLFNzPUN0KSxQcy5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKGUpe2VhKFwic3RhcnRBdFwiLHRoaXMuX3ZhbHVlLGUuX3BhdGgsITApO3ZhciB0PXlyKGUuX3F1ZXJ5UGFyYW1zLHRoaXMuX3ZhbHVlLHRoaXMuX2tleSk7aWYoSmEodCksJGEodCksZS5fcXVlcnlQYXJhbXMuaGFzU3RhcnQoKSl0aHJvdyBuZXcgRXJyb3IoXCJzdGFydEF0OiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBzdGFydEF0LCBzdGFydEJlZm9yZSBvciBlcXVhbFRvKS5cIik7cmV0dXJuIG5ldyBZYShlLl9yZXBvLGUuX3BhdGgsdCxlLl9vcmRlckJ5Q2FsbGVkKX0sUHMpO2Z1bmN0aW9uIFBzKGUsdCl7dmFyIG49U3MuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5fdmFsdWU9ZSxuLl9rZXk9dCxufXZhciBOcyx4cz0obihScyxOcz1DdCksUnMucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtlYShcInN0YXJ0QWZ0ZXJcIix0aGlzLl92YWx1ZSxlLl9wYXRoLCExKTt2YXIgdCxuLHIscj0odD1lLl9xdWVyeVBhcmFtcyxuPXRoaXMuX3ZhbHVlLHI9dGhpcy5fa2V5LChyPXQuaW5kZXhfPT09bG4/eXIodCxuPVwic3RyaW5nXCI9PXR5cGVvZiBuP0puKG4pOm4scik6eXIodCxuLG51bGw9PXI/RGU6Sm4ocikpKS5zdGFydEFmdGVyU2V0Xz0hMCxyKTtpZihKYShyKSwkYShyKSxlLl9xdWVyeVBhcmFtcy5oYXNTdGFydCgpKXRocm93IG5ldyBFcnJvcihcInN0YXJ0QWZ0ZXI6IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQsIHN0YXJ0QWZ0ZXIsIG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gbmV3IFlhKGUuX3JlcG8sZS5fcGF0aCxyLGUuX29yZGVyQnlDYWxsZWQpfSxScyk7ZnVuY3Rpb24gUnMoZSx0KXt2YXIgbj1Ocy5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl92YWx1ZT1lLG4uX2tleT10LG59dmFyIERzLE9zPShuKEFzLERzPUN0KSxBcy5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKGUpe2lmKGUuX3F1ZXJ5UGFyYW1zLmhhc0xpbWl0KCkpdGhyb3cgbmV3IEVycm9yKFwibGltaXRUb0ZpcnN0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdFRvRmlyc3Qgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFlhKGUuX3JlcG8sZS5fcGF0aCwodD1lLl9xdWVyeVBhcmFtcyxuPXRoaXMuX2xpbWl0LCh0PXQuY29weSgpKS5saW1pdFNldF89ITAsdC5saW1pdF89bix0LnZpZXdGcm9tXz1cImxcIix0KSxlLl9vcmRlckJ5Q2FsbGVkKTt2YXIgdCxufSxBcyk7ZnVuY3Rpb24gQXMoZSl7dmFyIHQ9RHMuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5fbGltaXQ9ZSx0fXZhciBMcyxNcz0obihGcyxMcz1DdCksRnMucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtpZihlLl9xdWVyeVBhcmFtcy5oYXNMaW1pdCgpKXRocm93IG5ldyBFcnJvcihcImxpbWl0VG9MYXN0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdFRvRmlyc3Qgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFlhKGUuX3JlcG8sZS5fcGF0aCwodD1lLl9xdWVyeVBhcmFtcyxuPXRoaXMuX2xpbWl0LCh0PXQuY29weSgpKS5saW1pdFNldF89ITAsdC5saW1pdF89bix0LnZpZXdGcm9tXz1cInJcIix0KSxlLl9vcmRlckJ5Q2FsbGVkKTt2YXIgdCxufSxGcyk7ZnVuY3Rpb24gRnMoZSl7dmFyIHQ9THMuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5fbGltaXQ9ZSx0fXZhciBxcyxXcz0obihqcyxxcz1DdCksanMucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtHYShlLFwib3JkZXJCeUNoaWxkXCIpO3ZhciB0PW5ldyB4dCh0aGlzLl9wYXRoKTtpZihqdCh0KSl0aHJvdyBuZXcgRXJyb3IoXCJvcmRlckJ5Q2hpbGQ6IGNhbm5vdCBwYXNzIGluIGVtcHR5IHBhdGguIFVzZSBvcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLlwiKTt0PW5ldyBLbih0KSx0PWdyKGUuX3F1ZXJ5UGFyYW1zLHQpO3JldHVybiAkYSh0KSxuZXcgWWEoZS5fcmVwbyxlLl9wYXRoLHQsITApfSxqcyk7ZnVuY3Rpb24ganMoZSl7dmFyIHQ9cXMuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5fcGF0aD1lLHR9dmFyIFVzLEJzPShuKFZzLFVzPUN0KSxWcy5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKGUpe0dhKGUsXCJvcmRlckJ5S2V5XCIpO3ZhciB0PWdyKGUuX3F1ZXJ5UGFyYW1zLGxuKTtyZXR1cm4gJGEodCksbmV3IFlhKGUuX3JlcG8sZS5fcGF0aCx0LCEwKX0sVnMpO2Z1bmN0aW9uIFZzKCl7cmV0dXJuIG51bGwhPT1VcyYmVXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXZhciB6cyxIcz0obihRcyx6cz1DdCksUXMucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtHYShlLFwib3JkZXJCeVByaW9yaXR5XCIpO3ZhciB0PWdyKGUuX3F1ZXJ5UGFyYW1zLE5uKTtyZXR1cm4gJGEodCksbmV3IFlhKGUuX3JlcG8sZS5fcGF0aCx0LCEwKX0sUXMpO2Z1bmN0aW9uIFFzKCl7cmV0dXJuIG51bGwhPT16cyYmenMuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXZhciBZcyxLcz0obihHcyxZcz1DdCksR3MucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtHYShlLFwib3JkZXJCeVZhbHVlXCIpO3ZhciB0PWdyKGUuX3F1ZXJ5UGFyYW1zLHRyKTtyZXR1cm4gJGEodCksbmV3IFlhKGUuX3JlcG8sZS5fcGF0aCx0LCEwKX0sR3MpO2Z1bmN0aW9uIEdzKCl7cmV0dXJuIG51bGwhPT1ZcyYmWXMuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXZhciAkcyxKcyxYcyxacz0obihldSwkcz1DdCksZXUucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbihlKXtpZihlYShcImVxdWFsVG9cIix0aGlzLl92YWx1ZSxlLl9wYXRoLCExKSxlLl9xdWVyeVBhcmFtcy5oYXNTdGFydCgpKXRocm93IG5ldyBFcnJvcihcImVxdWFsVG86IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQvc3RhcnRBZnRlciBvciBlcXVhbFRvKS5cIik7aWYoZS5fcXVlcnlQYXJhbXMuaGFzRW5kKCkpdGhyb3cgbmV3IEVycm9yKFwiZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0L2VuZEJlZm9yZSBvciBlcXVhbFRvKS5cIik7cmV0dXJuIG5ldyBDcyh0aGlzLl92YWx1ZSx0aGlzLl9rZXkpLl9hcHBseShuZXcga3ModGhpcy5fdmFsdWUsdGhpcy5fa2V5KS5fYXBwbHkoZSkpfSxldSk7ZnVuY3Rpb24gZXUoZSx0KXt2YXIgbj0kcy5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLl92YWx1ZT1lLG4uX2tleT10LG59ZnVuY3Rpb24gdHUoZSl7Zm9yKHZhciB0LG4scj1bXSxpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktMV09YXJndW1lbnRzW2ldO3ZhciBvPXooZSk7dHJ5e2Zvcih2YXIgYT1fKHIpLHM9YS5uZXh0KCk7IXMuZG9uZTtzPWEubmV4dCgpKW89cy52YWx1ZS5fYXBwbHkobyl9Y2F0Y2goZSl7dD17ZXJyb3I6ZX19ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKG49YS5yZXR1cm4pJiZuLmNhbGwoYSl9ZmluYWxseXtpZih0KXRocm93IHQuZXJyb3J9fXJldHVybiBvfUpzPVphLGcoIVVpLFwiX19yZWZlcmVuY2VDb25zdHJ1Y3RvciBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWRcIiksVWk9SnMsWHM9WmEsZyghS2ksXCJfX3JlZmVyZW5jZUNvbnN0cnVjdG9yIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZFwiKSxLaT1Yczt2YXIgbnU9XCJGSVJFQkFTRV9EQVRBQkFTRV9FTVVMQVRPUl9IT1NUXCIscnU9e30saXU9ITE7ZnVuY3Rpb24gb3UoZSx0LG4scixpKXt2YXIgbz1yfHxlLm9wdGlvbnMuZGF0YWJhc2VVUkw7dm9pZCAwPT09byYmKGUub3B0aW9ucy5wcm9qZWN0SWR8fE5lKFwiQ2FuJ3QgZGV0ZXJtaW5lIEZpcmViYXNlIERhdGFiYXNlIFVSTC4gQmUgc3VyZSB0byBpbmNsdWRlICBhIFByb2plY3QgSUQgd2hlbiBjYWxsaW5nIGZpcmViYXNlLmluaXRpYWxpemVBcHAoKS5cIiksa2UoXCJVc2luZyBkZWZhdWx0IGhvc3QgZm9yIHByb2plY3QgXCIsZS5vcHRpb25zLnByb2plY3RJZCksbz1lLm9wdGlvbnMucHJvamVjdElkK1wiLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbVwiKTt2YXIgYSxzPUZhKG8saSksdT1zLnJlcG9JbmZvLHI9dm9pZCAwOyhyPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzP3Byb2Nlc3MuZW52W251XTpyKT8oYT0hMCxvPVwiaHR0cDovL1wiK3IrXCI/bnM9XCIrdS5uYW1lc3BhY2UsdT0ocz1GYShvLGkpKS5yZXBvSW5mbyk6YT0hcy5yZXBvSW5mby5zZWN1cmU7dD1pJiZhP25ldyBZZShZZS5PV05FUik6bmV3IEhlKGUubmFtZSxlLm9wdGlvbnMsdCk7b2EoXCJJbnZhbGlkIEZpcmViYXNlIERhdGFiYXNlIFVSTFwiLHMpLGp0KHMucGF0aCl8fE5lKFwiRGF0YWJhc2UgVVJMIG11c3QgcG9pbnQgdG8gdGhlIHJvb3Qgb2YgYSBGaXJlYmFzZSBEYXRhYmFzZSAobm90IGluY2x1ZGluZyBhIGNoaWxkIHBhdGgpLlwiKTtuPWZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXJ1W3QubmFtZV07aXx8KGk9e30scnVbdC5uYW1lXT1pKTt0PWlbZS50b1VSTFN0cmluZygpXTt0JiZOZShcIkRhdGFiYXNlIGluaXRpYWxpemVkIG11bHRpcGxlIHRpbWVzLiBQbGVhc2UgbWFrZSBzdXJlIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGFiYXNlIFVSTCBtYXRjaGVzIHdpdGggZWFjaCBkYXRhYmFzZSgpIGNhbGwuXCIpO3JldHVybiB0PW5ldyBkYShlLGl1LG4sciksaVtlLnRvVVJMU3RyaW5nKCldPXR9KHUsZSx0LG5ldyBWZShlLm5hbWUsbikpO3JldHVybiBuZXcgYXUobixlKX12YXIgYXU9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdS5wcm90b3R5cGUsXCJfcmVwb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VTdGFydGVkfHwoX2EodGhpcy5fcmVwb0ludGVybmFsLHRoaXMuYXBwLm9wdGlvbnMuYXBwSWQsdGhpcy5hcHAub3B0aW9ucy5kYXRhYmFzZUF1dGhWYXJpYWJsZU92ZXJyaWRlKSx0aGlzLl9pbnN0YW5jZVN0YXJ0ZWQ9ITApLHRoaXMuX3JlcG9JbnRlcm5hbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoc3UucHJvdG90eXBlLFwiX3Jvb3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jvb3RJbnRlcm5hbHx8KHRoaXMuX3Jvb3RJbnRlcm5hbD1uZXcgWmEodGhpcy5fcmVwbyxEdCgpKSksdGhpcy5fcm9vdEludGVybmFsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHN1LnByb3RvdHlwZS5fZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIGUsdCxuO3JldHVybiB0aGlzLl9jaGVja05vdERlbGV0ZWQoXCJkZWxldGVcIiksZT10aGlzLl9yZXBvLHQ9dGhpcy5hcHAubmFtZSwobj1ydVt0XSkmJm5bZS5rZXldPT09ZXx8TmUoXCJEYXRhYmFzZSBcIit0K1wiKFwiK2UucmVwb0luZm9fK1wiKSBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQuXCIpLFNhKGUpLGRlbGV0ZSBuW2Uua2V5XSx0aGlzLl9yZXBvSW50ZXJuYWw9bnVsbCx0aGlzLl9yb290SW50ZXJuYWw9bnVsbCxQcm9taXNlLnJlc29sdmUoKX0sc3UucHJvdG90eXBlLl9jaGVja05vdERlbGV0ZWQ9ZnVuY3Rpb24oZSl7bnVsbD09PXRoaXMuX3Jvb3RJbnRlcm5hbCYmTmUoXCJDYW5ub3QgY2FsbCBcIitlK1wiIG9uIGEgZGVsZXRlZCBkYXRhYmFzZS5cIil9LHN1KTtmdW5jdGlvbiBzdShlLHQpe3RoaXMuX3JlcG9JbnRlcm5hbD1lLHRoaXMuYXBwPXQsdGhpcy50eXBlPVwiZGF0YWJhc2VcIix0aGlzLl9pbnN0YW5jZVN0YXJ0ZWQ9ITF9ZnVuY3Rpb24gdXUoZSx0LG4scil7dm9pZCAwPT09ciYmKHI9e30pLChlPXooZSkpLl9jaGVja05vdERlbGV0ZWQoXCJ1c2VFbXVsYXRvclwiKSxlLl9pbnN0YW5jZVN0YXJ0ZWQmJk5lKFwiQ2Fubm90IGNhbGwgdXNlRW11bGF0b3IoKSBhZnRlciBpbnN0YW5jZSBoYXMgYWxyZWFkeSBiZWVuIGluaXRpYWxpemVkLlwiKTt2YXIgaT1lLl9yZXBvSW50ZXJuYWwsbz12b2lkIDA7aS5yZXBvSW5mb18ubm9kZUFkbWluPyhyLm1vY2tVc2VyVG9rZW4mJk5lKCdtb2NrVXNlclRva2VuIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIEFkbWluIFNESy4gRm9yIGNsaWVudCBhY2Nlc3Mgd2l0aCBtb2NrIHVzZXJzLCBwbGVhc2UgdXNlIHRoZSBcImZpcmViYXNlXCIgcGFja2FnZSBpbnN0ZWFkIG9mIFwiZmlyZWJhc2UtYWRtaW5cIi4nKSxvPW5ldyBZZShZZS5PV05FUikpOnIubW9ja1VzZXJUb2tlbiYmKGU9ZnVuY3Rpb24oZSx0KXtpZihlLnVpZCl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcInVpZFwiIGZpZWxkIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQgYnkgbW9ja1VzZXJUb2tlbi4gUGxlYXNlIHVzZSBcInN1YlwiIGluc3RlYWQgZm9yIEZpcmViYXNlIEF1dGggVXNlciBJRC4nKTt2YXIgbj10fHxcImRlbW8tcHJvamVjdFwiLHI9ZS5pYXR8fDA7aWYoISh0PWUuc3VifHxlLnVzZXJfaWQpKXRocm93IG5ldyBFcnJvcihcIm1vY2tVc2VyVG9rZW4gbXVzdCBjb250YWluICdzdWInIG9yICd1c2VyX2lkJyBmaWVsZCFcIik7cmV0dXJuIGU9bCh7aXNzOlwiaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tL1wiK24sYXVkOm4saWF0OnIsZXhwOnIrMzYwMCxhdXRoX3RpbWU6cixzdWI6dCx1c2VyX2lkOnQsZmlyZWJhc2U6e3NpZ25faW5fcHJvdmlkZXI6XCJjdXN0b21cIixpZGVudGl0aWVzOnt9fX0sZSksW2guZW5jb2RlU3RyaW5nKEpTT04uc3RyaW5naWZ5KHthbGc6XCJub25lXCIsdHlwZTpcIkpXVFwifSksITEpLGguZW5jb2RlU3RyaW5nKEpTT04uc3RyaW5naWZ5KGUpLCExKSxcIlwiXS5qb2luKFwiLlwiKX0oci5tb2NrVXNlclRva2VuLGUuYXBwLm9wdGlvbnMucHJvamVjdElkKSxvPW5ldyBZZShlKSksdD10LG49bixvPW8sKGk9aSkucmVwb0luZm9fPW5ldyBYZSh0K1wiOlwiK24sITEsaS5yZXBvSW5mb18ubmFtZXNwYWNlLGkucmVwb0luZm9fLndlYlNvY2tldE9ubHksaS5yZXBvSW5mb18ubm9kZUFkbWluLGkucmVwb0luZm9fLnBlcnNpc3RlbmNlS2V5LGkucmVwb0luZm9fLmluY2x1ZGVOYW1lc3BhY2VJblF1ZXJ5UGFyYW1zKSxvJiYoaS5hdXRoVG9rZW5Qcm92aWRlcl89byl9ZnVuY3Rpb24gbHUoZSl7KGU9eihlKSkuX2NoZWNrTm90RGVsZXRlZChcImdvT25saW5lXCIpLChlPWUuX3JlcG8pLnBlcnNpc3RlbnRDb25uZWN0aW9uXyYmZS5wZXJzaXN0ZW50Q29ubmVjdGlvbl8ucmVzdW1lKGNhKX12YXIgaHU9e1wiLnN2XCI6XCJ0aW1lc3RhbXBcIn07dmFyIGN1PShwdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue2NvbW1pdHRlZDp0aGlzLmNvbW1pdHRlZCxzbmFwc2hvdDp0aGlzLnNuYXBzaG90LnRvSlNPTigpfX0scHUpO2Z1bmN0aW9uIHB1KGUsdCl7dGhpcy5jb21taXR0ZWQ9ZSx0aGlzLnNuYXBzaG90PXR9ZnVuY3Rpb24gZHUoaSxlLHQpe2lmKGk9eihpKSxpYShcIlJlZmVyZW5jZS50cmFuc2FjdGlvblwiLGkuX3BhdGgpLFwiLmxlbmd0aFwiPT09aS5rZXl8fFwiLmtleXNcIj09PWkua2V5KXRocm93XCJSZWZlcmVuY2UudHJhbnNhY3Rpb24gZmFpbGVkOiBcIitpLmtleStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7dmFyIHQ9bnVsbD09PShuPW51bGw9PXQ/dm9pZCAwOnQuYXBwbHlMb2NhbGx5KXx8dm9pZCAwPT09bnx8bixvPW5ldyBmLG49ZnMoaSxmdW5jdGlvbigpe30pO3JldHVybiBmdW5jdGlvbihlLHQsbixyLGksbyl7a2EoZSxcInRyYW5zYWN0aW9uIG9uIFwiK3QpO3ZhciBhPXtwYXRoOnQsdXBkYXRlOm4sb25Db21wbGV0ZTpyLHN0YXR1czpudWxsLG9yZGVyOlRlKCksYXBwbHlMb2NhbGx5Om8scmV0cnlDb3VudDowLHVud2F0Y2hlcjppLGFib3J0UmVhc29uOm51bGwsY3VycmVudFdyaXRlSWQ6bnVsbCxjdXJyZW50SW5wdXRTbmFwc2hvdDpudWxsLGN1cnJlbnRPdXRwdXRTbmFwc2hvdFJhdzpudWxsLGN1cnJlbnRPdXRwdXRTbmFwc2hvdFJlc29sdmVkOm51bGx9LG49TmEoZSx0LHZvaWQgMCk7YS5jdXJyZW50SW5wdXRTbmFwc2hvdD1uLHZvaWQgMD09PShyPWEudXBkYXRlKG4udmFsKCkpKT8oYS51bndhdGNoZXIoKSxhLmN1cnJlbnRPdXRwdXRTbmFwc2hvdFJhdz1udWxsLGEuY3VycmVudE91dHB1dFNuYXBzaG90UmVzb2x2ZWQ9bnVsbCxhLm9uQ29tcGxldGUmJmEub25Db21wbGV0ZShudWxsLCExLGEuY3VycmVudElucHV0U25hcHNob3QpKToodGEoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIscixhLnBhdGgpLGEuc3RhdHVzPTAsKGk9V28obz1xbyhlLnRyYW5zYWN0aW9uUXVldWVUcmVlXyx0KSl8fFtdKS5wdXNoKGEpLGpvKG8saSksbz12b2lkIDAsXCJvYmplY3RcIj09dHlwZW9mIHImJm51bGwhPT1yJiZEKHIsXCIucHJpb3JpdHlcIik/KG89TyhyLFwiLnByaW9yaXR5XCIpLGcoWm8obyksXCJJbnZhbGlkIHByaW9yaXR5IHJldHVybmVkIGJ5IHRyYW5zYWN0aW9uLiBQcmlvcml0eSBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nLCBmaW5pdGUgbnVtYmVyLCBzZXJ2ZXIgdmFsdWUsIG9yIG51bGwuXCIpKTpvPShfbyhlLnNlcnZlclN5bmNUcmVlXyx0KXx8am4uRU1QVFlfTk9ERSkuZ2V0UHJpb3JpdHkoKS52YWwoKSxpPXZhKGUpLG89SG4ocixvKSxpPUxvKG8sbixpKSxhLmN1cnJlbnRPdXRwdXRTbmFwc2hvdFJhdz1vLGEuY3VycmVudE91dHB1dFNuYXBzaG90UmVzb2x2ZWQ9aSxhLmN1cnJlbnRXcml0ZUlkPUNhKGUpLGE9dW8oZS5zZXJ2ZXJTeW5jVHJlZV8sdCxpLGEuY3VycmVudFdyaXRlSWQsYS5hcHBseUxvY2FsbHkpLGxhKGUuZXZlbnRRdWV1ZV8sdCxhKSx4YShlLGUudHJhbnNhY3Rpb25RdWV1ZVRyZWVfKSl9KGkuX3JlcG8saS5fcGF0aCxlLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtlP28ucmVqZWN0KGUpOihyPW5ldyB0cyhuLG5ldyBaYShpLl9yZXBvLGkuX3BhdGgpLE5uKSxvLnJlc29sdmUobmV3IGN1KHQscikpKX0sbix0KSxvLnByb21pc2V9dmFyIGZ1PShfdS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKHQpe1coXCJPbkRpc2Nvbm5lY3QuY2FuY2VsXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpLFUoXCJPbkRpc2Nvbm5lY3QuY2FuY2VsXCIsXCJvbkNvbXBsZXRlXCIsdCwhMCk7dmFyIGU9dGhpcy5fZGVsZWdhdGUuY2FuY2VsKCk7cmV0dXJuIHQmJmUudGhlbihmdW5jdGlvbigpe3JldHVybiB0KG51bGwpfSxmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pLGV9LF91LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7VyhcIk9uRGlzY29ubmVjdC5yZW1vdmVcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCksVShcIk9uRGlzY29ubmVjdC5yZW1vdmVcIixcIm9uQ29tcGxldGVcIix0LCEwKTt2YXIgZT10aGlzLl9kZWxlZ2F0ZS5yZW1vdmUoKTtyZXR1cm4gdCYmZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQobnVsbCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSksZX0sX3UucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe1coXCJPbkRpc2Nvbm5lY3Quc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFUoXCJPbkRpc2Nvbm5lY3Quc2V0XCIsXCJvbkNvbXBsZXRlXCIsdCwhMCk7ZT10aGlzLl9kZWxlZ2F0ZS5zZXQoZSk7cmV0dXJuIHQmJmUudGhlbihmdW5jdGlvbigpe3JldHVybiB0KG51bGwpfSxmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pLGV9LF91LnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9ZnVuY3Rpb24oZSx0LG4pe1coXCJPbkRpc2Nvbm5lY3Quc2V0V2l0aFByaW9yaXR5XCIsMiwzLGFyZ3VtZW50cy5sZW5ndGgpLFUoXCJPbkRpc2Nvbm5lY3Quc2V0V2l0aFByaW9yaXR5XCIsXCJvbkNvbXBsZXRlXCIsbiwhMCk7dD10aGlzLl9kZWxlZ2F0ZS5zZXRXaXRoUHJpb3JpdHkoZSx0KTtyZXR1cm4gbiYmdC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG4obnVsbCl9LGZ1bmN0aW9uKGUpe3JldHVybiBuKGUpfSksdH0sX3UucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQpe2lmKFcoXCJPbkRpc2Nvbm5lY3QudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgbj17fSxyPTA7cjxlLmxlbmd0aDsrK3IpbltcIlwiK3JdPWVbcl07ZT1uLHhlKFwiUGFzc2luZyBhbiBBcnJheSB0byBmaXJlYmFzZS5kYXRhYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1VKFwiT25EaXNjb25uZWN0LnVwZGF0ZVwiLFwib25Db21wbGV0ZVwiLHQsITApO3ZhciBpPXRoaXMuX2RlbGVnYXRlLnVwZGF0ZShlKTtyZXR1cm4gdCYmaS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQobnVsbCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSksaX0sX3UpO2Z1bmN0aW9uIF91KGUpe3RoaXMuX2RlbGVnYXRlPWV9dmFyIHl1PSh2dS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJUcmFuc2FjdGlvblJlc3VsdC50b0pTT05cIiwwLDEsYXJndW1lbnRzLmxlbmd0aCkse2NvbW1pdHRlZDp0aGlzLmNvbW1pdHRlZCxzbmFwc2hvdDp0aGlzLnNuYXBzaG90LnRvSlNPTigpfX0sdnUpO2Z1bmN0aW9uIHZ1KGUsdCl7dGhpcy5jb21taXR0ZWQ9ZSx0aGlzLnNuYXBzaG90PXR9dmFyIGd1PShtdS5wcm90b3R5cGUudmFsPWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QudmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuX2RlbGVnYXRlLnZhbCgpfSxtdS5wcm90b3R5cGUuZXhwb3J0VmFsPWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QuZXhwb3J0VmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuX2RlbGVnYXRlLmV4cG9ydFZhbCgpfSxtdS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QudG9KU09OXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuX2RlbGVnYXRlLnRvSlNPTigpfSxtdS5wcm90b3R5cGUuZXhpc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QuZXhpc3RzXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuX2RlbGVnYXRlLmV4aXN0cygpfSxtdS5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QuY2hpbGRcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCksZT1TdHJpbmcoZSksbmEoXCJEYXRhU25hcHNob3QuY2hpbGRcIixcInBhdGhcIixlLCExKSxuZXcgbXUodGhpcy5fZGF0YWJhc2UsdGhpcy5fZGVsZWdhdGUuY2hpbGQoZSkpfSxtdS5wcm90b3R5cGUuaGFzQ2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QuaGFzQ2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksbmEoXCJEYXRhU25hcHNob3QuaGFzQ2hpbGRcIixcInBhdGhcIixlLCExKSx0aGlzLl9kZWxlZ2F0ZS5oYXNDaGlsZChlKX0sbXUucHJvdG90eXBlLmdldFByaW9yaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QuZ2V0UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5fZGVsZWdhdGUucHJpb3JpdHl9LG11LnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKSxVKFwiRGF0YVNuYXBzaG90LmZvckVhY2hcIixcImFjdGlvblwiLHQsITEpLHRoaXMuX2RlbGVnYXRlLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQobmV3IG11KG4uX2RhdGFiYXNlLGUpKX0pfSxtdS5wcm90b3R5cGUuaGFzQ2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gVyhcIkRhdGFTbmFwc2hvdC5oYXNDaGlsZHJlblwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLl9kZWxlZ2F0ZS5oYXNDaGlsZHJlbigpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkobXUucHJvdG90eXBlLFwia2V5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5rZXl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksbXUucHJvdG90eXBlLm51bUNoaWxkcmVuPWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJEYXRhU25hcHNob3QubnVtQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5fZGVsZWdhdGUuc2l6ZX0sbXUucHJvdG90eXBlLmdldFJlZj1mdW5jdGlvbigpe3JldHVybiBXKFwiRGF0YVNuYXBzaG90LnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxuZXcgVHUodGhpcy5fZGF0YWJhc2UsdGhpcy5fZGVsZWdhdGUucmVmKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG11LnByb3RvdHlwZSxcInJlZlwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZWYoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxtdSk7ZnVuY3Rpb24gbXUoZSx0KXt0aGlzLl9kYXRhYmFzZT1lLHRoaXMuX2RlbGVnYXRlPXR9dmFyIHd1PShDdS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSxuLHQscil7dmFyIGk9dGhpcztXKFwiUXVlcnkub25cIiwyLDQsYXJndW1lbnRzLmxlbmd0aCksVShcIlF1ZXJ5Lm9uXCIsXCJjYWxsYmFja1wiLG4sITEpO2Z1bmN0aW9uIG8oZSx0KXtuLmNhbGwoYS5jb250ZXh0LG5ldyBndShpLmRhdGFiYXNlLGUpLHQpfXZhciBhPUN1LmdldENhbmNlbEFuZENvbnRleHRBcmdzXyhcIlF1ZXJ5Lm9uXCIsdCxyKTtvLnVzZXJDYWxsYmFjaz1uLG8uY29udGV4dD1hLmNvbnRleHQ7dmFyIHM9bnVsbD09PShyPWEuY2FuY2VsKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKGEuY29udGV4dCk7c3dpdGNoKGUpe2Nhc2VcInZhbHVlXCI6cmV0dXJuIGZzKHRoaXMuX2RlbGVnYXRlLG8scyksbjtjYXNlXCJjaGlsZF9hZGRlZFwiOnJldHVybiBfcyh0aGlzLl9kZWxlZ2F0ZSxvLHMpLG47Y2FzZVwiY2hpbGRfcmVtb3ZlZFwiOnJldHVybiBncyh0aGlzLl9kZWxlZ2F0ZSxvLHMpLG47Y2FzZVwiY2hpbGRfY2hhbmdlZFwiOnJldHVybiB5cyh0aGlzLl9kZWxlZ2F0ZSxvLHMpLG47Y2FzZVwiY2hpbGRfbW92ZWRcIjpyZXR1cm4gdnModGhpcy5fZGVsZWdhdGUsbyxzKSxuO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGooXCJRdWVyeS5vblwiLFwiZXZlbnRUeXBlXCIpKydtdXN0IGJlIGEgdmFsaWQgZXZlbnQgdHlwZSA9IFwidmFsdWVcIiwgXCJjaGlsZF9hZGRlZFwiLCBcImNoaWxkX3JlbW92ZWRcIiwgXCJjaGlsZF9jaGFuZ2VkXCIsIG9yIFwiY2hpbGRfbW92ZWRcIi4nKX19LEN1LnByb3RvdHlwZS5vZmY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO1coXCJRdWVyeS5vZmZcIiwwLDMsYXJndW1lbnRzLmxlbmd0aCksZnVuY3Rpb24oZSx0LG4pe2lmKCFufHx2b2lkIDAhPT10KXN3aXRjaCh0KXtjYXNlXCJ2YWx1ZVwiOmNhc2VcImNoaWxkX2FkZGVkXCI6Y2FzZVwiY2hpbGRfcmVtb3ZlZFwiOmNhc2VcImNoaWxkX2NoYW5nZWRcIjpjYXNlXCJjaGlsZF9tb3ZlZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGooZSxcImV2ZW50VHlwZVwiKSsnbXVzdCBiZSBhIHZhbGlkIGV2ZW50IHR5cGUgPSBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyl9fShcIlF1ZXJ5Lm9mZlwiLGUsITApLFUoXCJRdWVyeS5vZmZcIixcImNhbGxiYWNrXCIsdCwhMCksQihcIlF1ZXJ5Lm9mZlwiLFwiY29udGV4dFwiLG4sITApLHQ/KChyPWZ1bmN0aW9uKCl7fSkudXNlckNhbGxiYWNrPXQsci5jb250ZXh0PW4sbXModGhpcy5fZGVsZWdhdGUsZSxyKSk6bXModGhpcy5fZGVsZWdhdGUsZSl9LEN1LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybiB1cyh0aGlzLl9kZWxlZ2F0ZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbmV3IGd1KHQuZGF0YWJhc2UsZSl9KX0sQ3UucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSxuLHQscil7dmFyIGk9dGhpcztXKFwiUXVlcnkub25jZVwiLDEsNCxhcmd1bWVudHMubGVuZ3RoKSxVKFwiUXVlcnkub25jZVwiLFwiY2FsbGJhY2tcIixuLCEwKTtmdW5jdGlvbiBvKGUsdCl7ZT1uZXcgZ3UoaS5kYXRhYmFzZSxlKSxuJiZuLmNhbGwoYS5jb250ZXh0LGUsdCkscy5yZXNvbHZlKGUpfXZhciBhPUN1LmdldENhbmNlbEFuZENvbnRleHRBcmdzXyhcIlF1ZXJ5Lm9uY2VcIix0LHIpLHM9bmV3IGY7by51c2VyQ2FsbGJhY2s9bixvLmNvbnRleHQ9YS5jb250ZXh0O2Z1bmN0aW9uIHUoZSl7YS5jYW5jZWwmJmEuY2FuY2VsLmNhbGwoYS5jb250ZXh0LGUpLHMucmVqZWN0KGUpfXN3aXRjaChlKXtjYXNlXCJ2YWx1ZVwiOmZzKHRoaXMuX2RlbGVnYXRlLG8sdSx7b25seU9uY2U6ITB9KTticmVhaztjYXNlXCJjaGlsZF9hZGRlZFwiOl9zKHRoaXMuX2RlbGVnYXRlLG8sdSx7b25seU9uY2U6ITB9KTticmVhaztjYXNlXCJjaGlsZF9yZW1vdmVkXCI6Z3ModGhpcy5fZGVsZWdhdGUsbyx1LHtvbmx5T25jZTohMH0pO2JyZWFrO2Nhc2VcImNoaWxkX2NoYW5nZWRcIjp5cyh0aGlzLl9kZWxlZ2F0ZSxvLHUse29ubHlPbmNlOiEwfSk7YnJlYWs7Y2FzZVwiY2hpbGRfbW92ZWRcIjp2cyh0aGlzLl9kZWxlZ2F0ZSxvLHUse29ubHlPbmNlOiEwfSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoaihcIlF1ZXJ5Lm9uY2VcIixcImV2ZW50VHlwZVwiKSsnbXVzdCBiZSBhIHZhbGlkIGV2ZW50IHR5cGUgPSBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyl9cmV0dXJuIHMucHJvbWlzZX0sQ3UucHJvdG90eXBlLmxpbWl0VG9GaXJzdD1mdW5jdGlvbihlKXtyZXR1cm4gVyhcIlF1ZXJ5LmxpbWl0VG9GaXJzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKSxuZXcgQ3UodGhpcy5kYXRhYmFzZSx0dSh0aGlzLl9kZWxlZ2F0ZSxmdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8TWF0aC5mbG9vcihlKSE9PWV8fGU8PTApdGhyb3cgbmV3IEVycm9yKFwibGltaXRUb0ZpcnN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7cmV0dXJuIG5ldyBPcyhlKX0oZSkpKX0sQ3UucHJvdG90eXBlLmxpbWl0VG9MYXN0PWZ1bmN0aW9uKGUpe3JldHVybiBXKFwiUXVlcnkubGltaXRUb0xhc3RcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksbmV3IEN1KHRoaXMuZGF0YWJhc2UsdHUodGhpcy5fZGVsZWdhdGUsZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fE1hdGguZmxvb3IoZSkhPT1lfHxlPD0wKXRocm93IG5ldyBFcnJvcihcImxpbWl0VG9MYXN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7cmV0dXJuIG5ldyBNcyhlKX0oZSkpKX0sQ3UucHJvdG90eXBlLm9yZGVyQnlDaGlsZD1mdW5jdGlvbihlKXtyZXR1cm4gVyhcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKSxuZXcgQ3UodGhpcy5kYXRhYmFzZSx0dSh0aGlzLl9kZWxlZ2F0ZSxmdW5jdGlvbihlKXtpZihcIiRrZXlcIj09PWUpdGhyb3cgbmV3IEVycm9yKCdvcmRlckJ5Q2hpbGQ6IFwiJGtleVwiIGlzIGludmFsaWQuICBVc2Ugb3JkZXJCeUtleSgpIGluc3RlYWQuJyk7aWYoXCIkcHJpb3JpdHlcIj09PWUpdGhyb3cgbmV3IEVycm9yKCdvcmRlckJ5Q2hpbGQ6IFwiJHByaW9yaXR5XCIgaXMgaW52YWxpZC4gIFVzZSBvcmRlckJ5UHJpb3JpdHkoKSBpbnN0ZWFkLicpO2lmKFwiJHZhbHVlXCI9PT1lKXRocm93IG5ldyBFcnJvcignb3JkZXJCeUNoaWxkOiBcIiR2YWx1ZVwiIGlzIGludmFsaWQuICBVc2Ugb3JkZXJCeVZhbHVlKCkgaW5zdGVhZC4nKTtyZXR1cm4gbmEoXCJvcmRlckJ5Q2hpbGRcIixcInBhdGhcIixlLCExKSxuZXcgV3MoZSl9KGUpKSl9LEN1LnByb3RvdHlwZS5vcmRlckJ5S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJRdWVyeS5vcmRlckJ5S2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLG5ldyBDdSh0aGlzLmRhdGFiYXNlLHR1KHRoaXMuX2RlbGVnYXRlLG5ldyBCcykpfSxDdS5wcm90b3R5cGUub3JkZXJCeVByaW9yaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksbmV3IEN1KHRoaXMuZGF0YWJhc2UsdHUodGhpcy5fZGVsZWdhdGUsbmV3IEhzKSl9LEN1LnByb3RvdHlwZS5vcmRlckJ5VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gVyhcIlF1ZXJ5Lm9yZGVyQnlWYWx1ZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxuZXcgQ3UodGhpcy5kYXRhYmFzZSx0dSh0aGlzLl9kZWxlZ2F0ZSxuZXcgS3MpKX0sQ3UucHJvdG90eXBlLnN0YXJ0QXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksVyhcIlF1ZXJ5LnN0YXJ0QXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCksbmV3IEN1KHRoaXMuZGF0YWJhc2UsdHUodGhpcy5fZGVsZWdhdGUsKHZvaWQgMD09PShlPWUpJiYoZT1udWxsKSxHbyhcInN0YXJ0QXRcIixcImtleVwiLHQ9dCwhMCksbmV3IGtzKGUsdCkpKSl9LEN1LnByb3RvdHlwZS5zdGFydEFmdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPW51bGwpLFcoXCJRdWVyeS5zdGFydEFmdGVyXCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpLG5ldyBDdSh0aGlzLmRhdGFiYXNlLHR1KHRoaXMuX2RlbGVnYXRlLChlPWUsR28oXCJzdGFydEFmdGVyXCIsXCJrZXlcIix0PXQsITApLG5ldyB4cyhlLHQpKSkpfSxDdS5wcm90b3R5cGUuZW5kQXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9bnVsbCksVyhcIlF1ZXJ5LmVuZEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpLG5ldyBDdSh0aGlzLmRhdGFiYXNlLHR1KHRoaXMuX2RlbGVnYXRlLChlPWUsR28oXCJlbmRBdFwiLFwia2V5XCIsdD10LCEwKSxuZXcgQ3MoZSx0KSkpKX0sQ3UucHJvdG90eXBlLmVuZEJlZm9yZT1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1udWxsKSxXKFwiUXVlcnkuZW5kQmVmb3JlXCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpLG5ldyBDdSh0aGlzLmRhdGFiYXNlLHR1KHRoaXMuX2RlbGVnYXRlLChlPWUsR28oXCJlbmRCZWZvcmVcIixcImtleVwiLHQ9dCwhMCksbmV3IEVzKGUsdCkpKSl9LEN1LnByb3RvdHlwZS5lcXVhbFRvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIFcoXCJRdWVyeS5lcXVhbFRvXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLG5ldyBDdSh0aGlzLmRhdGFiYXNlLHR1KHRoaXMuX2RlbGVnYXRlLChlPWUsR28oXCJlcXVhbFRvXCIsXCJrZXlcIix0PXQsITApLG5ldyBacyhlLHQpKSkpfSxDdS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gVyhcIlF1ZXJ5LnRvU3RyaW5nXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLHRoaXMuX2RlbGVnYXRlLnRvU3RyaW5nKCl9LEN1LnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm4gVyhcIlF1ZXJ5LnRvSlNPTlwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKSx0aGlzLl9kZWxlZ2F0ZS50b0pTT04oKX0sQ3UucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7aWYoVyhcIlF1ZXJ5LmlzRXF1YWxcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksZSBpbnN0YW5jZW9mIEN1KXJldHVybiB0aGlzLl9kZWxlZ2F0ZS5pc0VxdWFsKGUuX2RlbGVnYXRlKTt0aHJvdyBuZXcgRXJyb3IoXCJRdWVyeS5pc0VxdWFsIGZhaWxlZDogRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBmaXJlYmFzZS5kYXRhYmFzZS5RdWVyeS5cIil9LEN1LmdldENhbmNlbEFuZENvbnRleHRBcmdzXz1mdW5jdGlvbihlLHQsbil7dmFyIHI9e2NhbmNlbDp2b2lkIDAsY29udGV4dDp2b2lkIDB9O2lmKHQmJm4pci5jYW5jZWw9dCxVKGUsXCJjYW5jZWxcIixyLmNhbmNlbCwhMCksci5jb250ZXh0PW4sQihlLFwiY29udGV4dFwiLHIuY29udGV4dCwhMCk7ZWxzZSBpZih0KWlmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dClyLmNvbnRleHQ9dDtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEVycm9yKGooZSxcImNhbmNlbE9yQ29udGV4dFwiKStcIiBtdXN0IGVpdGhlciBiZSBhIGNhbmNlbCBjYWxsYmFjayBvciBhIGNvbnRleHQgb2JqZWN0LlwiKTtyLmNhbmNlbD10fXJldHVybiByfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQ3UucHJvdG90eXBlLFwicmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgVHUodGhpcy5kYXRhYmFzZSxuZXcgWmEodGhpcy5fZGVsZWdhdGUuX3JlcG8sdGhpcy5fZGVsZWdhdGUuX3BhdGgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxDdSk7ZnVuY3Rpb24gQ3UoZSx0KXt0aGlzLmRhdGFiYXNlPWUsdGhpcy5fZGVsZWdhdGU9dH12YXIgYnUsVHU9KG4oRXUsYnU9d3UpLEV1LnByb3RvdHlwZS5nZXRLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gVyhcIlJlZmVyZW5jZS5rZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCksdGhpcy5fZGVsZWdhdGUua2V5fSxFdS5wcm90b3R5cGUuY2hpbGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFcoXCJSZWZlcmVuY2UuY2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCksXCJudW1iZXJcIj09dHlwZW9mIGUmJihlPVN0cmluZyhlKSksbmV3IEV1KHRoaXMuZGF0YWJhc2Usb3ModGhpcy5fZGVsZWdhdGUsZSkpfSxFdS5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7VyhcIlJlZmVyZW5jZS5wYXJlbnRcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7dmFyIGU9dGhpcy5fZGVsZWdhdGUucGFyZW50O3JldHVybiBlP25ldyBFdSh0aGlzLmRhdGFiYXNlLGUpOm51bGx9LEV1LnByb3RvdHlwZS5nZXRSb290PWZ1bmN0aW9uKCl7cmV0dXJuIFcoXCJSZWZlcmVuY2Uucm9vdFwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSxuZXcgRXUodGhpcy5kYXRhYmFzZSx0aGlzLl9kZWxlZ2F0ZS5yb290KX0sRXUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe1coXCJSZWZlcmVuY2Uuc2V0XCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLFUoXCJSZWZlcmVuY2Uuc2V0XCIsXCJvbkNvbXBsZXRlXCIsdCwhMCk7ZT1hcyh0aGlzLl9kZWxlZ2F0ZSxlKTtyZXR1cm4gdCYmZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQobnVsbCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSksZX0sRXUucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlLHQpe2lmKFcoXCJSZWZlcmVuY2UudXBkYXRlXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpLEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgbj17fSxyPTA7cjxlLmxlbmd0aDsrK3IpbltcIlwiK3JdPWVbcl07ZT1uLHhlKFwiUGFzc2luZyBhbiBBcnJheSB0byBGaXJlYmFzZS51cGRhdGUoKSBpcyBkZXByZWNhdGVkLiBVc2Ugc2V0KCkgaWYgeW91IHdhbnQgdG8gb3ZlcndyaXRlIHRoZSBleGlzdGluZyBkYXRhLCBvciBhbiBPYmplY3Qgd2l0aCBpbnRlZ2VyIGtleXMgaWYgeW91IHJlYWxseSBkbyB3YW50IHRvIG9ubHkgdXBkYXRlIHNvbWUgb2YgdGhlIGNoaWxkcmVuLlwiKX1pYShcIlJlZmVyZW5jZS51cGRhdGVcIix0aGlzLl9kZWxlZ2F0ZS5fcGF0aCksVShcIlJlZmVyZW5jZS51cGRhdGVcIixcIm9uQ29tcGxldGVcIix0LCEwKTt2YXIgaT1zcyh0aGlzLl9kZWxlZ2F0ZSxlKTtyZXR1cm4gdCYmaS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQobnVsbCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSksaX0sRXUucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1mdW5jdGlvbihlLHQsbil7VyhcIlJlZmVyZW5jZS5zZXRXaXRoUHJpb3JpdHlcIiwyLDMsYXJndW1lbnRzLmxlbmd0aCksVShcIlJlZmVyZW5jZS5zZXRXaXRoUHJpb3JpdHlcIixcIm9uQ29tcGxldGVcIixuLCEwKTt0PWZ1bmN0aW9uKGUsdCxuKXtpZihpYShcInNldFdpdGhQcmlvcml0eVwiLGUuX3BhdGgpLGVhKFwic2V0V2l0aFByaW9yaXR5XCIsdCxlLl9wYXRoLCExKSxLbyhcInNldFdpdGhQcmlvcml0eVwiLG4sITEpLFwiLmxlbmd0aFwiPT09ZS5rZXl8fFwiLmtleXNcIj09PWUua2V5KXRocm93XCJzZXRXaXRoUHJpb3JpdHkgZmFpbGVkOiBcIitlLmtleStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7dmFyIHI9bmV3IGY7cmV0dXJuIGJhKGUuX3JlcG8sZS5fcGF0aCx0LG4sci53cmFwQ2FsbGJhY2soZnVuY3Rpb24oKXt9KSksci5wcm9taXNlfSh0aGlzLl9kZWxlZ2F0ZSxlLHQpO3JldHVybiBuJiZ0LnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbihudWxsKX0sZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl9KSx0fSxFdS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe1coXCJSZWZlcmVuY2UucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpLFUoXCJSZWZlcmVuY2UucmVtb3ZlXCIsXCJvbkNvbXBsZXRlXCIsdCwhMCk7dmFyIGUsZT0oZT10aGlzLl9kZWxlZ2F0ZSxpYShcInJlbW92ZVwiLGUuX3BhdGgpLGFzKGUsbnVsbCkpO3JldHVybiB0JiZlLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdChudWxsKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQoZSl9KSxlfSxFdS5wcm90b3R5cGUudHJhbnNhY3Rpb249ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXRoaXM7VyhcIlJlZmVyZW5jZS50cmFuc2FjdGlvblwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKSxVKFwiUmVmZXJlbmNlLnRyYW5zYWN0aW9uXCIsXCJ0cmFuc2FjdGlvblVwZGF0ZVwiLGUsITEpLFUoXCJSZWZlcmVuY2UudHJhbnNhY3Rpb25cIixcIm9uQ29tcGxldGVcIix0LCEwKSxmdW5jdGlvbihlLHQsbixyKXtpZigoIXJ8fHZvaWQgMCE9PW4pJiZcImJvb2xlYW5cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKGooZSx0KStcIm11c3QgYmUgYSBib29sZWFuLlwiKX0oXCJSZWZlcmVuY2UudHJhbnNhY3Rpb25cIixcImFwcGx5TG9jYWxseVwiLG4sITApO249ZHUodGhpcy5fZGVsZWdhdGUsZSx7YXBwbHlMb2NhbGx5Om59KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBuZXcgeXUoZS5jb21taXR0ZWQsbmV3IGd1KHIuZGF0YWJhc2UsZS5zbmFwc2hvdCkpfSk7cmV0dXJuIHQmJm4udGhlbihmdW5jdGlvbihlKXtyZXR1cm4gdChudWxsLGUuY29tbWl0dGVkLGUuc25hcHNob3QpfSxmdW5jdGlvbihlKXtyZXR1cm4gdChlLCExLG51bGwpfSksbn0sRXUucHJvdG90eXBlLnNldFByaW9yaXR5PWZ1bmN0aW9uKGUsdCl7VyhcIlJlZmVyZW5jZS5zZXRQcmlvcml0eVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKSxVKFwiUmVmZXJlbmNlLnNldFByaW9yaXR5XCIsXCJvbkNvbXBsZXRlXCIsdCwhMCk7ZT1mdW5jdGlvbihlLHQpe2U9eihlKSxpYShcInNldFByaW9yaXR5XCIsZS5fcGF0aCksS28oXCJzZXRQcmlvcml0eVwiLHQsITEpO3ZhciBuPW5ldyBmO3JldHVybiBiYShlLl9yZXBvLFd0KGUuX3BhdGgsXCIucHJpb3JpdHlcIiksdCxudWxsLG4ud3JhcENhbGxiYWNrKGZ1bmN0aW9uKCl7fSkpLG4ucHJvbWlzZX0odGhpcy5fZGVsZWdhdGUsZSk7cmV0dXJuIHQmJmUudGhlbihmdW5jdGlvbigpe3JldHVybiB0KG51bGwpfSxmdW5jdGlvbihlKXtyZXR1cm4gdChlKX0pLGV9LEV1LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztXKFwiUmVmZXJlbmNlLnB1c2hcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCksVShcIlJlZmVyZW5jZS5wdXNoXCIsXCJvbkNvbXBsZXRlXCIsdCwhMCk7dmFyIHI9ZnVuY3Rpb24oZSx0KXtlPXooZSksaWEoXCJwdXNoXCIsZS5fcGF0aCksZWEoXCJwdXNoXCIsdCxlLl9wYXRoLCEwKTt2YXIgbj15YShlLl9yZXBvKSxyPXJyKG4pLG49b3MoZSxyKSxpPW9zKGUsciksdD1udWxsIT10P2FzKGksdCkudGhlbihmdW5jdGlvbigpe3JldHVybiBpfSk6UHJvbWlzZS5yZXNvbHZlKGkpO3JldHVybiBuLnRoZW49dC50aGVuLmJpbmQodCksbi5jYXRjaD10LnRoZW4uYmluZCh0LHZvaWQgMCksbn0odGhpcy5fZGVsZWdhdGUsZSksZT1yLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBFdShuLmRhdGFiYXNlLGUpfSk7dCYmZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQobnVsbCl9LGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfSk7cj1uZXcgRXUodGhpcy5kYXRhYmFzZSxyKTtyZXR1cm4gci50aGVuPWUudGhlbi5iaW5kKGUpLHIuY2F0Y2g9ZS5jYXRjaC5iaW5kKGUsdm9pZCAwKSxyfSxFdS5wcm90b3R5cGUub25EaXNjb25uZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGlhKFwiUmVmZXJlbmNlLm9uRGlzY29ubmVjdFwiLHRoaXMuX2RlbGVnYXRlLl9wYXRoKSxuZXcgZnUobmV3IEhhKHRoaXMuX2RlbGVnYXRlLl9yZXBvLHRoaXMuX2RlbGVnYXRlLl9wYXRoKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdS5wcm90b3R5cGUsXCJrZXlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0S2V5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEV1LnByb3RvdHlwZSxcInBhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQYXJlbnQoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRXUucHJvdG90eXBlLFwicm9vdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSb290KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRXUpO2Z1bmN0aW9uIEV1KGUsdCl7dmFyIG49YnUuY2FsbCh0aGlzLGUsbmV3IFlhKHQuX3JlcG8sdC5fcGF0aCxuZXcgZnIsITEpKXx8dGhpcztyZXR1cm4gbi5kYXRhYmFzZT1lLG4uX2RlbGVnYXRlPXQsbn12YXIgSXU9KFN1LnByb3RvdHlwZS51c2VFbXVsYXRvcj1mdW5jdGlvbihlLHQsbil7dm9pZCAwPT09biYmKG49e30pLHV1KHRoaXMuX2RlbGVnYXRlLGUsdCxuKX0sU3UucHJvdG90eXBlLnJlZj1mdW5jdGlvbihlKXtpZihXKFwiZGF0YWJhc2UucmVmXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpLGUgaW5zdGFuY2VvZiBUdSl7dmFyIHQ9aXModGhpcy5fZGVsZWdhdGUsZS50b1N0cmluZygpKTtyZXR1cm4gbmV3IFR1KHRoaXMsdCl9dD1ycyh0aGlzLl9kZWxlZ2F0ZSxlKTtyZXR1cm4gbmV3IFR1KHRoaXMsdCl9LFN1LnByb3RvdHlwZS5yZWZGcm9tVVJMPWZ1bmN0aW9uKGUpe1coXCJkYXRhYmFzZS5yZWZGcm9tVVJMXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2U9aXModGhpcy5fZGVsZWdhdGUsZSk7cmV0dXJuIG5ldyBUdSh0aGlzLGUpfSxTdS5wcm90b3R5cGUuZ29PZmZsaW5lPWZ1bmN0aW9uKCl7dmFyIGU7VyhcImRhdGFiYXNlLmdvT2ZmbGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKSwoZT16KGU9dGhpcy5fZGVsZWdhdGUpKS5fY2hlY2tOb3REZWxldGVkKFwiZ29PZmZsaW5lXCIpLFNhKGUuX3JlcG8pfSxTdS5wcm90b3R5cGUuZ29PbmxpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gVyhcImRhdGFiYXNlLmdvT25saW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpLGx1KHRoaXMuX2RlbGVnYXRlKX0sU3UuU2VydmVyVmFsdWU9e1RJTUVTVEFNUDpodSxpbmNyZW1lbnQ6ZnVuY3Rpb24oZSl7cmV0dXJue1wiLnN2XCI6e2luY3JlbWVudDplfX19fSxTdSk7ZnVuY3Rpb24gU3UoZSx0KXt2YXIgbj10aGlzO3RoaXMuX2RlbGVnYXRlPWUsdGhpcy5hcHA9dCx0aGlzLklOVEVSTkFMPXtkZWxldGU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5fZGVsZWdhdGUuX2RlbGV0ZSgpfX19dmFyIGt1PU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGZvcmNlTG9uZ1BvbGxpbmc6ZnVuY3Rpb24oKXtfdC5mb3JjZURpc2FsbG93KCksaHQuZm9yY2VBbGxvdygpfSxmb3JjZVdlYlNvY2tldHM6ZnVuY3Rpb24oKXtodC5mb3JjZURpc2FsbG93KCl9LGlzV2ViU29ja2V0c0F2YWlsYWJsZTpmdW5jdGlvbigpe3JldHVybiBfdC5pc0F2YWlsYWJsZSgpfSxzZXRTZWN1cml0eURlYnVnQ2FsbGJhY2s6ZnVuY3Rpb24oZSx0KXtlLl9kZWxlZ2F0ZS5fcmVwby5wZXJzaXN0ZW50Q29ubmVjdGlvbl8uc2VjdXJpdHlEZWJ1Z0NhbGxiYWNrXz10fSxzdGF0czpmdW5jdGlvbihlLHQpe3ZhciBpO2U9ZS5fZGVsZWdhdGUuX3JlcG8sdm9pZCAwPT09KHQ9dCkmJih0PSExKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmKGU9dD8oZS5zdGF0c0xpc3RlbmVyX3x8KGUuc3RhdHNMaXN0ZW5lcl89bmV3IE5yKGUuc3RhdHNfKSksZS5zdGF0c0xpc3RlbmVyXy5nZXQoKSk6ZS5zdGF0c18uZ2V0KCksaT1PYmplY3Qua2V5cyhlKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5tYXgodC5sZW5ndGgsZSl9LDApLExlKGUsZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZSxyPWUubGVuZ3RoO3I8aSsyO3IrKyluKz1cIiBcIjtjb25zb2xlLmxvZyhuK3QpfSkpfSxzdGF0c0luY3JlbWVudENvdW50ZXI6ZnVuY3Rpb24oZSx0KXtlPWUuX2RlbGVnYXRlLl9yZXBvLHQ9dCxlLnN0YXRzXy5pbmNyZW1lbnRDb3VudGVyKHQpLGU9ZS5zdGF0c1JlcG9ydGVyXyx0PXQsZS5zdGF0c1RvUmVwb3J0X1t0XT0hMH0sZGF0YVVwZGF0ZUNvdW50OmZ1bmN0aW9uKGUpe3JldHVybiBlLl9kZWxlZ2F0ZS5fcmVwby5kYXRhVXBkYXRlQ291bnR9LGludGVyY2VwdFNlcnZlckRhdGE6ZnVuY3Rpb24oZSx0KXtlPWUuX2RlbGVnYXRlLl9yZXBvLHQ9dCxlLmludGVyY2VwdFNlcnZlckRhdGFDYWxsYmFja189dH0saW5pdFN0YW5kYWxvbmU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hcHAsbj1lLnVybCxyPWUudmVyc2lvbixpPWUuY3VzdG9tQXV0aEltcGwsbz1lLm5hbWVzcGFjZSxlPXZvaWQgMCE9PShlPWUubm9kZUFkbWluKSYmZTtyZXR1cm4gYWUociksKHI9bmV3IEsoXCJhdXRoLWludGVybmFsXCIsbmV3IEooXCJkYXRhYmFzZS1zdGFuZGFsb25lXCIpKSkuc2V0Q29tcG9uZW50KG5ldyBIKFwiYXV0aC1pbnRlcm5hbFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9LFwiUFJJVkFURVwiKSkse2luc3RhbmNlOm5ldyBJdShvdSh0LHIsdm9pZCAwLG4sZSksdCksbmFtZXNwYWNlOm99fX0pLEN0PWVuO2VuLnByb3RvdHlwZS5zaW1wbGVMaXN0ZW49ZnVuY3Rpb24oZSx0KXt0aGlzLnNlbmRSZXF1ZXN0KFwicVwiLHtwOmV9LHQpfSxlbi5wcm90b3R5cGUuZWNobz1mdW5jdGlvbihlLHQpe3RoaXMuc2VuZFJlcXVlc3QoXCJlY2hvXCIse2Q6ZX0sdCl9O3ZhciBQdSxOdT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxEYXRhQ29ubmVjdGlvbjpDdCxSZWFsVGltZUNvbm5lY3Rpb246bXQsaGlqYWNrSGFzaDpmdW5jdGlvbihpKXt2YXIgbz1lbi5wcm90b3R5cGUucHV0O3JldHVybiBlbi5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGUsdCxuLHIpe3ZvaWQgMCE9PXImJihyPWkoKSksby5jYWxsKHRoaXMsZSx0LG4scil9LGZ1bmN0aW9uKCl7ZW4ucHJvdG90eXBlLnB1dD1vfX0sQ29ubmVjdGlvblRhcmdldDpYZSxxdWVyeUlkZW50aWZpZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2RlbGVnYXRlLl9xdWVyeUlkZW50aWZpZXJ9LGZvcmNlUmVzdENsaWVudDpmdW5jdGlvbihlKXtpdT1lfX0pLHh1PUl1LlNlcnZlclZhbHVlO2FlKChQdT10LmRlZmF1bHQpLlNES19WRVJTSU9OKSxQdS5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudChuZXcgSChcImRhdGFiYXNlXCIsZnVuY3Rpb24oZSx0KXt2YXIgbj10Lmluc3RhbmNlSWRlbnRpZmllcixyPWUuZ2V0UHJvdmlkZXIoXCJhcHBcIikuZ2V0SW1tZWRpYXRlKCksdD1lLmdldFByb3ZpZGVyKFwiYXV0aC1pbnRlcm5hbFwiKSxlPWUuZ2V0UHJvdmlkZXIoXCJhcHAtY2hlY2staW50ZXJuYWxcIik7cmV0dXJuIG5ldyBJdShvdShyLHQsZSxuKSxyKX0sXCJQVUJMSUNcIikuc2V0U2VydmljZVByb3BzKHtSZWZlcmVuY2U6VHUsUXVlcnk6d3UsRGF0YWJhc2U6SXUsRGF0YVNuYXBzaG90Omd1LGVuYWJsZUxvZ2dpbmc6cGUsSU5URVJOQUw6a3UsU2VydmVyVmFsdWU6eHUsVEVTVF9BQ0NFU1M6TnV9KS5zZXRNdWx0aXBsZUluc3RhbmNlcyghMCkpLFB1LnJlZ2lzdGVyVmVyc2lvbihcIkBmaXJlYmFzZS9kYXRhYmFzZVwiLFwiMC4xMC4xXCIpfS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxuZXcgRXJyb3IoXCJDYW5ub3QgaW5zdGFudGlhdGUgZmlyZWJhc2UtZGF0YWJhc2UuanMgLSBiZSBzdXJlIHRvIGxvYWQgZmlyZWJhc2UtYXBwLmpzIGZpcnN0LlwiKX19KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpcmViYXNlLWRhdGFiYXNlLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/firebase/firebase-database.js\n");

/***/ }),

/***/ "./node_modules/firebase/firebase-firestore.js":
/*!*****************************************************!*\
  !*** ./node_modules/firebase/firebase-firestore.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/process/browser.js\");\n!function(t,e){ true?e(__webpack_require__(/*! @firebase/app */ \"./node_modules/@firebase/app/dist/index.esm.js\")):0}(this,function(cm){\"use strict\";try{!function(){function t(t){return t&&\"object\"==typeof t&&\"default\"in t?t:{default:t}}var e=t(cm),r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function n(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Class extends value \"+String(e)+\" is not a constructor or null\");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function y(t,s,a,u){return new(a=a||Promise)(function(n,e){function r(t){try{o(u.next(t))}catch(t){e(t)}}function i(t){try{o(u.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(r,i)}o((u=u.apply(t,s||[])).next())})}function g(n,r){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return\"function\"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(i)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(i=1,o&&(s=2&e[0]?o.return:e[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,e[1])).done)return s;switch(o=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,o=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){a.label=e[1];break}if(6===e[0]&&a.label<s[1]){a.label=s[1],s=e;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(e);break}s[2]&&a.ops.pop(),a.trys.pop();continue}e=r.call(n,a)}catch(t){e=[6,t],o=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function s(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+\"+/=\"},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+\"-_.\"},HAS_NATIVE_SUPPORT:\"function\"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error(\"encodeByteArray takes an array as a parameter\");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,o=(3&o)<<4|a>>4,a=(15&a)<<2|c>>6,c=63&c;u||(c=64,s||(a=64)),r.push(n[h],n[o],n[a],n[c])}return r.join(\"\")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128):e[n++]=i>>12|224,e[n++]=i>>6&63|128),e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i,o,s,a=t[n++];a<128?e[r++]=String.fromCharCode(a):191<a&&a<224?(o=t[n++],e[r++]=String.fromCharCode((31&a)<<6|63&o)):239<a&&a<365?(i=((7&a)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536,e[r++]=String.fromCharCode(55296+(i>>10)),e[r++]=String.fromCharCode(56320+(1023&i))):(o=t[n++],s=t[n++],e[r++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&s))}return e.join(\"\")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();o=o<<2|s>>4;r.push(o),64!==a&&(s=s<<4&240|a>>2,r.push(s),64!==u&&(u=a<<6&192|u,r.push(u)))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function h(){return\"undefined\"!=typeof navigator&&\"string\"==typeof navigator.userAgent?navigator.userAgent:\"\"}var i,u=\"FirebaseError\",c=(n(l,i=Error),l);function l(t,e,n){e=i.call(this,e)||this;return e.code=t,e.customData=n,e.name=u,Object.setPrototypeOf(e,l.prototype),Error.captureStackTrace&&Error.captureStackTrace(e,f.prototype.create),e}var f=(d.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=e[0]||{},o=this.service+\"/\"+t,t=this.errors[t],t=t?(r=i,t.replace(m,function(t,e){var n=r[e];return null!=n?String(n):\"<\"+e+\"?>\"})):\"Error\",t=this.serviceName+\": \"+t+\" (\"+o+\").\";return new c(o,t,i)},d);function d(t,e,n){this.service=t,this.serviceName=e,this.errors=n}var p,m=/\\{\\$([^}]+)}/g;function v(t){return t&&t._delegate?t._delegate:t}(_e=p=p||{})[_e.DEBUG=0]=\"DEBUG\",_e[_e.VERBOSE=1]=\"VERBOSE\",_e[_e.INFO=2]=\"INFO\",_e[_e.WARN=3]=\"WARN\",_e[_e.ERROR=4]=\"ERROR\",_e[_e.SILENT=5]=\"SILENT\";function b(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=T[e];if(!o)throw new Error(\"Attempted to log a message with an invalid logType (value: \"+e+\")\");console[o].apply(console,s([\"[\"+i+\"]  \"+t.name+\":\"],n))}}var w={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},E=p.INFO,T=((Se={})[p.DEBUG]=\"log\",Se[p.VERBOSE]=\"log\",Se[p.INFO]=\"info\",Se[p.WARN]=\"warn\",Se[p.ERROR]=\"error\",Se),I=(Object.defineProperty(_.prototype,\"logLevel\",{get:function(){return this._logLevel},set:function(t){if(!(t in p))throw new TypeError('Invalid value \"'+t+'\" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),_.prototype.setLogLevel=function(t){this._logLevel=\"string\"==typeof t?w[t]:t},Object.defineProperty(_.prototype,\"logHandler\",{get:function(){return this._logHandler},set:function(t){if(\"function\"!=typeof t)throw new TypeError(\"Value assigned to `logHandler` must be a function\");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,\"userLogHandler\",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),_.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.DEBUG],t)),this._logHandler.apply(this,s([this,p.DEBUG],t))},_.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.VERBOSE],t)),this._logHandler.apply(this,s([this,p.VERBOSE],t))},_.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.INFO],t)),this._logHandler.apply(this,s([this,p.INFO],t))},_.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.WARN],t)),this._logHandler.apply(this,s([this,p.WARN],t))},_.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,p.ERROR],t)),this._logHandler.apply(this,s([this,p.ERROR],t))},_);function _(t){this.name=t,this._logLevel=E,this._logHandler=b,this._userLogHandler=null}var S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function A(t){var e=\"function\"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&\"number\"==typeof t.length)return{next:function(){return{value:(t=t&&r>=t.length?void 0:t)&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}var N,D=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof __webpack_require__.g?__webpack_require__.g:\"undefined\"!=typeof self?self:{},C={},k=D||self;function R(){}function x(t){var e=typeof t;return\"array\"==(e=\"object\"!=e?e:t?Array.isArray(t)?\"array\":e:\"null\")||\"object\"==e&&\"number\"==typeof t.length}function O(t){var e=typeof t;return\"object\"==e&&null!=t||\"function\"==e}var L=\"closure_uid_\"+(1e9*Math.random()>>>0),P=0;function M(t,e,n){return t.call.apply(t.bind,arguments)}function F(e,n,t){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,r),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function V(t,e,n){return(V=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?M:F).apply(null,arguments)}function U(e){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function q(){return Date.now()}function B(t,o){function e(){}e.prototype=o.prototype,t.X=o.prototype,t.prototype=new e,(t.prototype.constructor=t).Kb=function(t,e,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return o.prototype[e].apply(t,r)}}function j(){this.j=this.j,this.i=this.i}j.prototype.j=!1,j.prototype.ja=function(){var t;!this.j&&(this.j=!0,this.G(),0)&&(t=this,Object.prototype.hasOwnProperty.call(t,L)&&t[L]||(t[L]=++P))},j.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(\"string\"==typeof t)return\"string\"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=\"string\"==typeof t?t.split(\"\"):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Q(){return Array.prototype.concat.apply([],arguments)}function z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function H(t){return/^[\\s\\xa0]*$/.test(t)}var W,Y=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(t)[1]};function X(t,e){return-1!=t.indexOf(e)}function J(t,e){return t<e?-1:e<t?1:0}t:{var $=k.navigator;if($){$=$.userAgent;if($){W=$;break t}}W=\"\"}function Z(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function tt(t){var e,n={};for(e in t)n[e]=t[e];return n}var et=\"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");function nt(t){for(var e,n,r=1;r<arguments.length;r++){for(e in n=arguments[r])t[e]=n[e];for(var i=0;i<et.length;i++)e=et[i],Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}}function rt(t){return rt[\" \"](t),t}rt[\" \"]=R;var it,ot=X(W,\"Opera\"),st=X(W,\"Trident\")||X(W,\"MSIE\"),at=X(W,\"Edge\"),ut=at||st,ct=X(W,\"Gecko\")&&!(X(W.toLowerCase(),\"webkit\")&&!X(W,\"Edge\"))&&!(X(W,\"Trident\")||X(W,\"MSIE\"))&&!X(W,\"Edge\"),ht=X(W.toLowerCase(),\"webkit\")&&!X(W,\"Edge\");function lt(){var t=k.document;return t?t.documentMode:void 0}t:{var ft=\"\",dt=(dt=W,ct?/rv:([^\\);]+)(\\)|;)/.exec(dt):at?/Edge\\/([\\d\\.]+)/.exec(dt):st?/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(dt):ht?/WebKit\\/(\\S+)/.exec(dt):ot?/(?:Version)[ \\/]?(\\S+)/.exec(dt):void 0);if(dt&&(ft=dt?dt[1]:\"\"),st){dt=lt();if(null!=dt&&dt>parseFloat(ft)){it=String(dt);break t}}it=ft}var pt={};function yt(a){return t=a,e=function(){for(var t=0,e=Y(String(it)).split(\".\"),n=Y(String(a)).split(\".\"),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++)for(var o=e[i]||\"\",s=n[i]||\"\";o=/(\\d*)(\\D*)(.*)/.exec(o)||[\"\",\"\",\"\",\"\"],s=/(\\d*)(\\D*)(.*)/.exec(s)||[\"\",\"\",\"\",\"\"],(0!=o[0].length||0!=s[0].length)&&(t=J(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||J(0==o[2].length,0==s[2].length)||J(o[2],s[2]),o=o[3],s=s[3],0==t););return 0<=t},n=pt,Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t);var t,e,n}var gt=k.document&&st&&(lt()||parseInt(it,10))||void 0,mt=!st||9<=Number(gt),vt=st&&!yt(\"9\"),bt=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},\"passive\",{get:function(){t=!0}});try{k.addEventListener(\"test\",R,e),k.removeEventListener(\"test\",R,e)}catch(t){}return t}();function wt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Et(t,e){if(wt.call(this,t?t.type:\"\"),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=\"\",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType=\"\",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(ct){t:{try{rt(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else\"mouseover\"==n?e=t.fromElement:\"mouseout\"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||\"\",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=\"string\"==typeof t.pointerType?t.pointerType:Tt[t.pointerType]||\"\",(this.c=t).defaultPrevented&&this.b()}}wt.prototype.b=function(){this.defaultPrevented=!0},B(Et,wt);var Tt={2:\"touch\",3:\"pen\",4:\"mouse\"};Et.prototype.b=function(){Et.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,vt)try{(t.ctrlKey||112<=t.keyCode&&t.keyCode<=123)&&(t.keyCode=-1)}catch(t){}};var It=\"closure_listenable_\"+(1e6*Math.random()|0),_t=0;function St(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++_t,this.Y=this.Z=!1}function At(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Nt(t){this.src=t,this.a={},this.b=0}function Dt(t,e){var n,r,i,o=e.type;o in t.a&&(n=t.a[o],(i=0<=(r=K(n,e)))&&Array.prototype.splice.call(n,r,1),i&&(At(e),0==t.a[o].length&&(delete t.a[o],t.b--)))}function Ct(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Nt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Ct(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new St(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var kt=\"closure_lm_\"+(1e6*Math.random()|0),Rt={};function xt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}r=qt(r);return e&&e[It]?e.wa(n,r,O(i)?!!i.capture:!!i,o):Ot(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)xt(t,e[o],n,r,i);return null}return n=qt(n),t&&t[It]?t.va(e,n,O(r)?!!r.capture:!!r,i):Ot(t,e,n,!1,r,i)}function Ot(t,e,n,r,i,o){if(!e)throw Error(\"Invalid event type\");var s=O(i)?!!i.capture:!!i;if(s&&!mt)return null;var a,u,c=Vt(t);if(c||(t[kt]=c=new Nt(t)),(n=c.add(e,n,r,s,o)).proxy)return n;if(a=Ft,r=u=mt?function(t){return a.call(u.src,u.listener,t)}:function(t){if(!(t=a.call(u.src,u.listener,t)))return t},(n.proxy=r).src=t,r.listener=n,t.addEventListener)void 0===(i=!bt?s:i)&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Pt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error(\"addEventListener and attachEvent are unavailable.\");t.addListener(r)}return n}function Lt(t){var e,n,r;\"number\"!=typeof t&&t&&!t.Y&&((e=t.src)&&e[It]?Dt(e.c,t):(n=t.type,r=t.proxy,e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Pt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Vt(e))?(Dt(n,t),0==n.b&&(n.src=null,e[kt]=null)):At(t)))}function Pt(t){return t in Rt?Rt[t]:Rt[t]=\"on\"+t}function Mt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Lt(t),n.call(r,e)}function Ft(t,e){if(t.Y)return!0;if(mt)return Mt(t,new Et(e,this));if(!e)t:{e=[\"window\",\"event\"];for(var n=k,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Mt(t,e=new Et(e,this))}function Vt(t){return(t=t[kt])instanceof Nt?t:null}var Ut=\"__closure_events_fn_\"+(1e9*Math.random()>>>0);function qt(e){return\"function\"==typeof e?e:(e[Ut]||(e[Ut]=function(t){return e.handleEvent(t)}),e[Ut])}function Bt(){j.call(this),this.c=new Nt(this),(this.J=this).C=null}function jt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,\"string\"==typeof e?e=new wt(e,t):e instanceof wt?e.target=e.target||t:(s=e,nt(e=new wt(r,t),s)),s=!0,n)for(var i=n.length-1;0<=i;i--)var o=e.a=n[i],s=Kt(o,r,!0,e)&&s;if(s=Kt(o=e.a=t,r,!0,e)&&s,s=Kt(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)s=Kt(o=e.a=n[i],r,!1,e)&&s}function Kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s,a,u=e[o];u&&!u.Y&&u.capture==n&&(s=u.listener,a=u.ca||u.src,u.Z&&Dt(t.c,u),i=!1!==s.call(a,r)&&i)}return i&&!r.defaultPrevented}B(Bt,j),Bt.prototype[It]=!0,(N=Bt.prototype).addEventListener=function(t,e,n,r){xt(this,t,e,n,r)},N.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=O(i)?!!i.capture:!!i,r=qt(r),e&&e[It]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=Ct(s=e.a[n],r,i,o))&&(At(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):(e=e&&Vt(e))&&(n=e.a[n.toString()],(r=(e=-1)<(e=n?Ct(n,r,i,o):e)?n[e]:null)&&Lt(r))}(this,t,e,n,r)},N.G=function(){if(Bt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)At(n[r]);delete e.a[t],e.b--}}this.C=null},N.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},N.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Gt=k.JSON.stringify;function Qt(){this.b=this.a=null}var zt,Ht=(Wt.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},new Wt(function(){return new Yt},function(t){t.reset()}));function Wt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Yt(){this.next=this.b=this.a=null}function Xt(t,e){var n;zt||(n=k.Promise.resolve(void 0),zt=function(){n.then(Zt)}),Jt||(zt(),Jt=!0),$t.add(t,e)}Qt.prototype.add=function(t,e){var n=Ht.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Yt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null};var Jt=!(Yt.prototype.reset=function(){this.next=this.b=this.a=null}),$t=new Qt;function Zt(){for(var t,e;n=e=void 0,n=null,(e=$t).a&&(n=e.a,e.a=e.a.next,e.a||(e.b=null),n.next=null),t=n;){try{t.a.call(t.b)}catch(t){!function(t){k.setTimeout(function(){throw t},0)}(t)}var n=Ht;n.f(t),n.b<100&&(n.b++,t.next=n.a,n.a=t)}Jt=!1}function te(t,e){Bt.call(this),this.b=t||1,this.a=e||k,this.f=V(this.Za,this),this.g=q()}function ee(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ne(t,e,n){if(\"function\"==typeof t)n&&(t=V(t,n));else{if(!t||\"function\"!=typeof t.handleEvent)throw Error(\"Invalid listener argument\");t=V(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}B(te,Bt),(N=te.prototype).aa=!1,N.M=null,N.Za=function(){var t;this.aa&&(0<(t=q()-this.g)&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),jt(this,\"tick\"),this.aa&&(ee(this),this.start())))},N.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=q())},N.G=function(){te.X.G.call(this),ee(this),delete this.a};var re,ie,oe,se=(S(ie=ue,oe=re=j),ie.prototype=null===oe?Object.create(oe):(ae.prototype=oe.prototype,new ae),ue.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=ne(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},ue.prototype.G=function(){re.prototype.G.call(this),this.a&&(k.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},ue);function ae(){this.constructor=ie}function ue(t,e){var n=re.call(this)||this;return n.g=t,n.h=e,n.b=null,n.c=!1,n.a=null,n}function ce(t){j.call(this),this.b=t,this.a={}}B(ce,j);var he=[];function le(t,e,n,r){Array.isArray(n)||(n&&(he[0]=n.toString()),n=he);for(var i=0;i<n.length;i++){var o=xt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function fe(t){Z(t.a,function(t,e){this.a.hasOwnProperty(e)&&Lt(t)},t),t.a={}}function de(){this.a=!0}function pe(t,e,n,r){t.info(function(){return\"XMLHTTP TEXT (\"+e+\"): \"+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){r=i[0];if(\"noop\"!=r&&\"stop\"!=r&&\"close\"!=r)for(var o=1;o<i.length;o++)i[o]=\"\"}}}return Gt(n)}catch(t){return e}}(t,n)+(r?\" \"+r:\"\")})}ce.prototype.G=function(){ce.X.G.call(this),fe(this)},ce.prototype.handleEvent=function(){throw Error(\"EventHandler.handleEvent not implemented\")},de.prototype.info=function(){};var ye={},ge=null;function me(){return ge=ge||new Bt}function ve(t){wt.call(this,ye.Fa,t)}function be(t){var e=me();jt(e,new ve(e))}function we(t,e){wt.call(this,ye.STAT_EVENT,t),this.stat=e}function Ee(t){var e=me();jt(e,new we(e,t))}function Te(t){wt.call(this,ye.Ga,t)}function Ie(t,e){if(\"function\"!=typeof t)throw Error(\"Fn must not be null and must be a function\");return k.setTimeout(function(){t()},e)}ye.Fa=\"serverreachability\",B(ve,wt),ye.STAT_EVENT=\"statevent\",B(we,wt),ye.Ga=\"timingevent\",B(Te,wt);var _e={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Se={fb:\"complete\",Bb:\"success\",Ea:\"error\",Da:\"abort\",tb:\"ready\",ub:\"readystatechange\",TIMEOUT:\"timeout\",pb:\"incrementaldata\",sb:\"progress\",ib:\"downloadprogress\",Jb:\"uploadprogress\"};function Ae(){}function Ne(t){var e;return e=!(e=t.a)?t.a={}:e}function De(){}Ae.prototype.a=null;D={OPEN:\"a\",eb:\"b\",Ea:\"c\",qb:\"d\"};function Ce(){wt.call(this,\"d\")}function ke(){wt.call(this,\"c\")}function Re(){}function xe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ce(this),this.P=Le,t=ut?125:void 0,this.R=new te(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}B(Ce,wt),B(ke,wt),B(Re,Ae);var Oe=new Re,Le=45e3,Pe={},Me={};function Fe(t,e,n){t.H=1,t.i=on($e(e)),t.j=n,t.I=!0,Ve(t,null)}function Ve(t,e){t.u=q(),qe(t),t.l=$e(t.i);var s,a,u,c,h,l,n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),vn(n.b,\"t\",r),t.D=0,t.a=lr(t.g,t.g.C?e:null),0<t.O&&(t.F=new se(V(t.Ca,t,t.a),t.O)),le(t.J,t.a,\"readystatechange\",t.Xa),e=t.B?tt(t.B):{},t.j?(t.m||(t.m=\"POST\"),e[\"Content-Type\"]=\"application/x-www-form-urlencoded\",t.a.ba(t.l,t.m,t.j,e)):(t.m=\"GET\",t.a.ba(t.l,t.m,null,e)),be(1),s=t.c,a=t.m,u=t.l,c=t.f,h=t.S,l=t.j,s.info(function(){if(s.a)if(l)for(var t=\"\",e=l.split(\"&\"),n=0;n<e.length;n++){var r,i,o=e[n].split(\"=\");1<o.length&&(r=o[0],o=o[1],t=2<=(i=r.split(\"_\")).length&&\"type\"==i[1]?t+(r+\"=\")+o+\"&\":t+(r+\"=redacted&\"))}else t=null;else t=l;return\"XMLHTTP REQ (\"+c+\") [attempt \"+h+\"]: \"+a+\"\\n\"+u+\"\\n\"+t})}function Ue(t,e,n){for(var r,i,o,s=!0;!t.A&&t.D<n.length;){var a=(a=n,o=i=void 0,i=(r=t).D,-1==(o=a.indexOf(\"\\n\",i))?Me:(i=Number(a.substring(i,o)),isNaN(i)?Pe:(o+=1)+i>a.length?Me:(a=a.substr(o,i),r.D=o+i,a)));if(a==Me){4==e&&(t.h=4,Ee(14),s=!1),pe(t.c,t.f,null,\"[Incomplete Response]\");break}if(a==Pe){t.h=4,Ee(15),pe(t.c,t.f,n,\"[Invalid Chunk]\"),s=!1;break}pe(t.c,t.f,a,null),Qe(t,a)}4==e&&0==n.length&&(t.h=1,Ee(16),s=!1),t.b=t.b&&s,s?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info(\"Great, no buffering proxy detected. Bytes received: \"+n.length),rr(e),e.F=!0,Ee(11))):(pe(t.c,t.f,n,\"[Invalid Chunked Response]\"),Ge(t),Ke(t))}function qe(t){t.T=q()+t.P,Be(t,t.P)}function Be(t,e){if(null!=t.o)throw Error(\"WatchDog timer not null\");t.o=Ie(V(t.Va,t),e)}function je(t){t.o&&(k.clearTimeout(t.o),t.o=null)}function Ke(t){0==t.g.v||t.A||sr(t.g,t)}function Ge(t){je(t);var e=t.F;e&&\"function\"==typeof e.ja&&e.ja(),t.F=null,ee(t.R),fe(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Qe(t,e){try{var n,r,i,o,s,a=t.g;if(0!=a.v&&(a.a==t||Sn(a.b,t)))if(a.I=t.N,!t.C&&Sn(a.b,t)&&3==a.v){try{var u=a.ka.a.parse(e)}catch(t){u=null}if(Array.isArray(u)&&3==u.length){var c=u;if(0==c[0]){t:if(!a.j){if(a.a){if(!(a.a.u+3e3<t.u))break t;or(a),Wn(a)}nr(a),Ee(18)}}else a.oa=c[1],0<a.oa-a.P&&c[2]<37500&&a.H&&0==a.o&&!a.m&&(a.m=Ie(V(a.Sa,a),6e3));if(_n(a.b)<=1&&a.ea){try{a.ea()}catch(t){}a.ea=void 0}}else ur(a,11)}else if(!t.C&&a.a!=t||or(a),!H(e))for(e=u=a.ka.a.parse(e),u=0;u<e.length;u++)c=e[u],a.P=c[0],c=c[1],2==a.v?\"c\"==c[0]?(a.J=c[1],a.ga=c[2],null!=(r=c[3])&&(a.ha=r,a.c.info(\"VER=\"+a.ha)),null!=(o=c[4])&&(a.pa=o,a.c.info(\"SVER=\"+a.pa)),null!=(r=c[5])&&\"number\"==typeof r&&0<r&&(n=1.5*r,a.D=n,a.c.info(\"backChannelRequestTimeoutMs_=\"+n)),n=a,(o=t.a)&&(!(r=o.a?o.a.getResponseHeader(\"X-Client-Wire-Protocol\"):null)||!(i=n.b).a&&(X(r,\"spdy\")||X(r,\"quic\")||X(r,\"h2\"))&&(i.f=i.g,i.a=new Set,i.b&&(An(i,i.b),i.b=null)),!n.A||(s=o.a?o.a.getResponseHeader(\"X-HTTP-Session-Id\"):null)&&(n.na=s,rn(n.B,n.A,s))),a.v=3,a.f&&a.f.ta(),a.U&&(a.N=q()-t.u,a.c.info(\"Handshake RTT: \"+a.N+\"ms\")),i=t,(n=a).la=hr(n,n.C?n.ga:null,n.fa),i.C?(Nn(n.b,i),o=i,(s=n.D)&&o.setTimeout(s),o.o&&(je(o),qe(o)),n.a=i):er(n),0<a.g.length&&Jn(a)):\"stop\"!=c[0]&&\"close\"!=c[0]||ur(a,7):3==a.v&&(\"stop\"==c[0]||\"close\"==c[0]?\"stop\"==c[0]?ur(a,7):Hn(a):\"noop\"!=c[0]&&a.f&&a.f.sa(c),a.o=0);be(4)}catch(t){}}function ze(t,e){if(t.forEach&&\"function\"==typeof t.forEach)t.forEach(e,void 0);else if(x(t)||\"string\"==typeof t)G(t,e,void 0);else{if(t.L&&\"function\"==typeof t.L)var n=t.L();else if(t.K&&\"function\"==typeof t.K)n=void 0;else if(x(t)||\"string\"==typeof t)for(var n=[],r=t.length,i=0;i<r;i++)n.push(i);else for(i in n=[],r=0,t)n[r++]=i;for(var i=(r=function(t){if(t.K&&\"function\"==typeof t.K)return t.K();if(\"string\"==typeof t)return t.split(\"\");if(x(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function He(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error(\"Uneven number of arguments\");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof He)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function We(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ye(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){for(var i={},n=e=0;e<t.a.length;)Ye(i,r=t.a[e])||(i[t.a[n++]=r]=1),e++;t.a.length=n}}function Ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(N=xe.prototype).setTimeout=function(t){this.P=t},N.Xa=function(t){t=t.target;var e=this.F;e&&3==Kn(t)?e.f():this.Ca(t)},N.Ca=function(t){try{if(t==this.a)t:{var e=Kn(this.a),n=this.a.ua(),r=this.a.W();if(!(e<3||3==e&&!ut&&!this.a.$())){this.A||4!=e||7==n||be(8==n||r<=0?3:2),je(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,r=this.c,u=this.m,c=this.l,h=this.f,l=this.S,f=e,d=i,r.info(function(){return\"XMLHTTP RESP (\"+h+\") [ attempt \"+l+\"]: \"+u+\"\\n\"+c+\"\\n\"+f+\" \"+d}),this.b){if(this.U&&!this.C){e:{if(this.a){var s=this.a;if((s=s.a?s.a.getResponseHeader(\"X-HTTP-Initial-Response\"):null)&&!H(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Ee(12),Ge(this),Ke(this);break t}pe(this.c,this.f,a,\"Initial handshake response via X-HTTP-Initial-Response\"),this.C=!0,Qe(this,a)}this.I?(Ue(this,e,o),ut&&this.b&&3==e&&(le(this.J,this.R,\"tick\",this.Wa),this.R.start())):(pe(this.c,this.f,o,null),Qe(this,o)),4==e&&Ge(this),this.b&&!this.A&&(4==e?sr(this.g,this):(this.b=!1,qe(this)))}else 400==i&&0<o.indexOf(\"Unknown SID\")?(this.h=3,Ee(12)):(this.h=0,Ee(13)),Ge(this),Ke(this)}}}catch(t){}var u,c,h,l,f,d},N.Wa=function(){var t,e;this.a&&(t=Kn(this.a),e=this.a.$(),this.D<e.length&&(je(this),Ue(this,t,e),this.b&&4!=t&&qe(this)))},N.cancel=function(){this.A=!0,Ge(this)},N.Va=function(){this.o=null;var t,e,n=q();0<=n-this.T?(t=this.c,e=this.l,t.info(function(){return\"TIMEOUT: \"+e}),2!=this.H&&(be(3),Ee(17)),Ge(this),this.h=2,Ke(this)):Be(this,this.T-n)},(N=He.prototype).K=function(){We(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},N.L=function(){return We(this),this.a.concat()},N.get=function(t,e){return Ye(this.b,t)?this.b[t]:e},N.set=function(t,e){Ye(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},N.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Xe=/^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;function Je(t,e){var n;this.c=this.j=this.f=\"\",this.h=null,this.i=this.g=\"\",this.a=!1,t instanceof Je?(this.a=void 0!==e?e:t.a,Ze(this,t.f),this.j=t.j,tn(this,t.c),en(this,t.h),this.g=t.g,e=t.b,(n=new pn).c=e.c,e.a&&(n.a=new He(e.a),n.b=e.b),nn(this,n),this.i=t.i):t&&(n=String(t).match(Xe))?(this.a=!!e,Ze(this,n[1]||\"\",!0),this.j=sn(n[2]||\"\"),tn(this,n[3]||\"\",!0),en(this,n[4]),this.g=sn(n[5]||\"\",!0),nn(this,n[6]||\"\",!0),this.i=sn(n[7]||\"\")):(this.a=!!e,this.b=new pn(null,this.a))}function $e(t){return new Je(t)}function Ze(t,e,n){t.f=n?sn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,\"\"))}function tn(t,e,n){t.c=n?sn(e,!0):e}function en(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error(\"Bad port number \"+e);t.h=e}else t.h=null}function nn(t,e,n){var r,i;e instanceof pn?(t.b=e,r=t.b,(i=t.a)&&!r.f&&(yn(r),r.c=null,r.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),vn(this,n,t))},r)),r.f=i):(n||(e=an(e,fn)),t.b=new pn(e,t.a))}function rn(t,e,n){t.b.set(e,n)}function on(t){return rn(t,\"zx\",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^q()).toString(36)),t}function sn(t,e){return t?e?decodeURI(t.replace(/%25/g,\"%2525\")):decodeURIComponent(t):\"\"}function an(t,e,n){return\"string\"==typeof t?(t=encodeURI(t).replace(e,un),t=n?t.replace(/%25([0-9a-fA-F]{2})/g,\"%$1\"):t):null}function un(t){return\"%\"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Je.prototype.toString=function(){var t=[],e=this.f;e&&t.push(an(e,cn,!0),\":\");var n=this.c;return!n&&\"file\"!=e||(t.push(\"//\"),(e=this.j)&&t.push(an(e,cn,!0),\"@\"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,\"%$1\")),null!=(n=this.h)&&t.push(\":\",String(n))),(n=this.g)&&(this.c&&\"/\"!=n.charAt(0)&&t.push(\"/\"),t.push(an(n,\"/\"==n.charAt(0)?ln:hn,!0))),(n=this.b.toString())&&t.push(\"?\",n),(n=this.i)&&t.push(\"#\",an(n,dn)),t.join(\"\")};var cn=/[#\\/\\?@]/g,hn=/[#\\?:]/g,ln=/[#\\?]/g,fn=/[#\\?@]/g,dn=/#/g;function pn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function yn(n){n.a||(n.a=new He,n.b=0,n.c&&function(t,e){if(t){t=t.split(\"&\");for(var n=0;n<t.length;n++){var r,i=t[n].indexOf(\"=\"),o=null;0<=i?(r=t[n].substring(0,i),o=t[n].substring(i+1)):r=t[n],e(r,o?decodeURIComponent(o.replace(/\\+/g,\" \")):\"\")}}}(n.c,function(t,e){n.add(decodeURIComponent(t.replace(/\\+/g,\" \")),e)}))}function gn(t,e){yn(t),e=bn(t,e),Ye(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ye((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&We(t)))}function mn(t,e){return yn(t),e=bn(t,e),Ye(t.a.b,e)}function vn(t,e,n){gn(t,e),0<n.length&&(t.c=null,t.a.set(bn(t,e),z(n)),t.b+=n.length)}function bn(t,e){return e=String(e),e=t.f?e.toLowerCase():e}(N=pn.prototype).add=function(t,e){yn(this),this.c=null,t=bn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},N.forEach=function(n,r){yn(this),this.a.forEach(function(t,e){G(t,function(t){n.call(r,t,e,this)},this)},this)},N.L=function(){yn(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},N.K=function(t){yn(this);var e=[];if(\"string\"==typeof t)mn(this,t)&&(e=Q(e,this.a.get(bn(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},N.set=function(t,e){return yn(this),this.c=null,mn(this,t=bn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},N.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},N.toString=function(){if(this.c)return this.c;if(!this.a)return\"\";for(var t=[],e=this.a.L(),n=0;n<e.length;n++)for(var r=e[n],i=encodeURIComponent(String(r)),r=this.K(r),o=0;o<r.length;o++){var s=i;\"\"!==r[o]&&(s+=\"=\"+encodeURIComponent(String(r[o]))),t.push(s)}return this.c=t.join(\"&\")};var wn=function(t,e){this.b=t,this.a=e};function En(t){this.g=t||Tn,t=k.PerformanceNavigationTiming?0<(t=k.performance.getEntriesByType(\"navigation\")).length&&(\"hq\"==t[0].nextHopProtocol||\"h2\"==t[0].nextHopProtocol):!!(k.ia&&k.ia.ya&&k.ia.ya()&&k.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Tn=10;function In(t){return t.b||t.a&&t.a.size>=t.f}function _n(t){return t.b?1:t.a?t.a.size:0}function Sn(t,e){return t.b?t.b==e:t.a&&t.a.has(e)}function An(t,e){t.a?t.a.add(e):t.b=e}function Nn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Dn(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null==t.a||0===t.a.size)return z(t.c);var r=t.c;try{for(var i=A(t.a.values()),o=i.next();!o.done;o=i.next())var s=o.value,r=r.concat(s.s)}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Cn(){}function kn(){this.a=new Cn}function Rn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}En.prototype.cancel=function(){var e,t;if(this.c=Dn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=A(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Cn.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},Cn.prototype.parse=function(t){return k.JSON.parse(t,void 0)};var xn=k.JSON.parse;function On(t){Bt.call(this),this.headers=new He,this.H=t||null,this.b=!1,this.s=this.a=null,this.B=\"\",this.h=0,this.f=\"\",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ln,this.D=this.F=!1}B(On,Bt);var Ln=\"\",Pn=/^https?$/i,Mn=[\"POST\",\"PUT\"];function Fn(t){return\"content-type\"==t.toLowerCase()}function Vn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Un(t),Bn(t)}function Un(t){t.u||(t.u=!0,jt(t,\"complete\"),jt(t,\"error\"))}function qn(t){if(t.b&&void 0!==C&&(!t.s[1]||4!=Kn(t)||2!=t.W()))if(t.l&&4==Kn(t))ne(t.za,0,t);else if(jt(t,\"readystatechange\"),4==Kn(t)){t.b=!1;try{var e,n,r,i,o=t.W();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break t;default:s=!1}(e=s)||((n=0===o)&&(!(i=String(t.B).match(Xe)[1]||null)&&k.self&&k.self.location&&(i=(r=k.self.location.protocol).substr(0,r.length-1)),n=!Pn.test(i?i.toLowerCase():\"\")),e=n);if(e)jt(t,\"complete\"),jt(t,\"success\");else{t.h=6;try{var a=2<Kn(t)?t.a.statusText:\"\"}catch(o){a=\"\"}t.f=a+\" [\"+t.W()+\"]\",Un(t)}}finally{Bn(t)}}}function Bn(t,e){if(t.a){jn(t);var n=t.a,r=t.s[0]?R:null;t.a=null,t.s=null,e||jt(t,\"ready\");try{n.onreadystatechange=r}catch(t){}}}function jn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(k.clearTimeout(t.m),t.m=null)}function Kn(t){return t.a?t.a.readyState:0}function Gn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}var i;r||(i=\"\",Z(n,function(t,e){i+=e,i+=\":\",i+=t,i+=\"\\r\\n\"}),n=i,\"string\"==typeof t?null!=n&&encodeURIComponent(String(n)):rn(t,e,n))}function Qn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function zn(t){this.pa=0,this.g=[],this.c=new de,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Qn(\"failFast\",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Qn(\"baseRetryDelayMs\",5e3,t),this.Ra=Qn(\"retryDelaySeedMs\",1e4,t),this.Ma=Qn(\"forwardChannelMaxRetries\",2,t),this.ma=Qn(\"forwardChannelRequestTimeoutMs\",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J=\"\",this.b=new En(t&&t.concurrentRequestLimit),this.ka=new kn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info(\"Opt-in to enable Chrome Origin Trials.\")}function Hn(t){var e,n;Yn(t),3==t.v&&(e=t.R++,rn(n=$e(t.B),\"SID\",t.J),rn(n,\"RID\",e),rn(n,\"TYPE\",\"terminate\"),Zn(t,n),(e=new xe(t,t.c,e,void 0)).H=2,e.i=on($e(n)),n=!1,!(n=k.navigator&&k.navigator.sendBeacon?k.navigator.sendBeacon(e.i.toString(),\"\"):n)&&k.Image&&((new Image).src=e.i,n=!0),n||(e.a=lr(e.g,null),e.a.ba(e.i)),e.u=q(),qe(e)),cr(t)}function Wn(t){t.a&&(rr(t),t.a.cancel(),t.a=null)}function Yn(t){Wn(t),t.j&&(k.clearTimeout(t.j),t.j=null),or(t),t.b.cancel(),t.h&&(\"number\"==typeof t.h&&k.clearTimeout(t.h),t.h=null)}function Xn(t,e){t.g.push(new wn(t.Oa++,e)),3==t.v&&Jn(t)}function Jn(t){In(t.b)||t.h||(t.h=!0,Xt(t.Ba,t),t.u=0)}function $n(t,e){var n=e?e.f:t.R++,r=$e(t.B);rn(r,\"SID\",t.J),rn(r,\"RID\",n),rn(r,\"AID\",t.P),Zn(t,r),t.i&&t.l&&Gn(r,t.i,t.l),n=new xe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=tr(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),An(t.b,n),Fe(n,r,e)}function Zn(t,n){t.f&&ze({},function(t,e){rn(n,e,t)})}function tr(t,e,n){n=Math.min(t.g.length,n);var r=t.f?V(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=[\"count=\"+n];-1==o?0<n?(o=i[0].b,s.push(\"ofs=\"+o)):o=0:s.push(\"ofs=\"+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,h=i[u].a;if((c-=o)<0)o=Math.max(0,i[u].b-100),a=!1;else try{!function(t,r,e){var i=e||\"\";try{ze(t,function(t,e){var n=t;O(t)&&(n=Gt(t)),r.push(i+e+\"=\"+encodeURIComponent(n))})}catch(t){throw r.push(i+\"type=\"+encodeURIComponent(\"_badmap\")),t}}(h,s,\"req\"+c+\"_\")}catch(t){r&&r(h)}}if(a){r=s.join(\"&\");break t}}return t=t.g.splice(0,n),e.s=t,r}function er(t){t.a||t.j||(t.T=1,Xt(t.Aa,t),t.o=0)}function nr(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=Ie(V(t.Aa,t),ar(t,t.o)),t.o++,1)}function rr(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function ir(t){t.a=new xe(t,t.c,\"rpc\",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=$e(t.la);rn(e,\"RID\",\"rpc\"),rn(e,\"SID\",t.J),rn(e,\"CI\",t.H?\"0\":\"1\"),rn(e,\"AID\",t.P),Zn(t,e),rn(e,\"TYPE\",\"xmlhttp\"),t.i&&t.l&&Gn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=on($e(e)),n.j=null,n.I=!0,Ve(n,t)}function or(t){null!=t.m&&(k.clearTimeout(t.m),t.m=null)}function sr(t,e){var n,r,i,o=null;if(t.a==e){or(t),rr(t),t.a=null;var s=2}else{if(!Sn(t.b,e))return;o=e.s,Nn(t.b,e),s=1}if(t.I=e.N,0!=t.v)if(e.b)1==s?(o=e.j?e.j.length:0,e=q()-e.u,n=t.u,jt(s=me(),new Te(s)),Jn(t)):er(t);else if(3==(n=e.h)||0==n&&0<t.I||(1!=s||(i=e,_n((r=t).b)>=r.b.f-(r.h?1:0)||(r.h?(r.g=i.s.concat(r.g),0):1==r.v||2==r.v||r.u>=(r.La?0:r.Ma)||(r.h=Ie(V(r.Ba,r,i),ar(r,r.u)),r.u++,0))))&&(2!=s||!nr(t)))switch(o&&0<o.length&&(e=t.b,e.c=e.c.concat(o)),n){case 1:ur(t,5);break;case 4:ur(t,10);break;case 3:ur(t,6);break;default:ur(t,2)}}function ar(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ur(t,e){var n,r,i,o;t.c.info(\"Error code \"+e),2==e?(r=null,t.f&&(r=null),o=V(t.Ya,t),r||(r=new Je(\"//www.google.com/images/cleardot.gif\"),k.location&&\"http\"==k.location.protocol||Ze(r,\"https\"),on(r)),n=r.toString(),r=o,o=new de,k.Image?((i=new Image).onload=U(Rn,o,i,\"TestLoadImage: loaded\",!0,r),i.onerror=U(Rn,o,i,\"TestLoadImage: error\",!1,r),i.onabort=U(Rn,o,i,\"TestLoadImage: abort\",!1,r),i.ontimeout=U(Rn,o,i,\"TestLoadImage: timeout\",!1,r),k.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n):r(!1)):Ee(2),t.v=0,t.f&&t.f.ra(e),cr(t),Yn(t)}function cr(t){t.v=0,t.I=-1,t.f&&(0==Dn(t.b).length&&0==t.g.length||(t.b.c.length=0,z(t.g),t.g.length=0),t.f.qa())}function hr(t,e,n){var r,i,o,s,a,u=(s=n)instanceof Je?$e(s):new Je(s,void 0);return\"\"!=u.c?(e&&tn(u,e+\".\"+u.c),en(u,u.h)):(a=k.location,r=a.protocol,i=e?e+\".\"+a.hostname:a.hostname,o=+a.port,s=n,a=new Je(null,void 0),r&&Ze(a,r),i&&tn(a,i),o&&en(a,o),s&&(a.g=s),u=a),t.V&&Z(t.V,function(t,e){rn(u,e,t)}),e=t.A,n=t.na,e&&n&&rn(u,e,n),rn(u,\"VER\",t.ha),Zn(t,u),u}function lr(t,e){if(e&&!t.C)throw Error(\"Can't create secondary domain capable XhrIo object.\");return(e=new On(t.Na)).F=t.C,e}function fr(){}function dr(){if(st&&!(10<=Number(gt)))throw Error(\"Environmental error: no available transport.\")}function pr(t,e){Bt.call(this),this.a=new zn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t[\"X-Client-Protocol\"]=\"webchannel\":t={\"X-Client-Protocol\":\"webchannel\"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t[\"X-WebChannel-Content-Type\"]=e.messageContentType:t={\"X-WebChannel-Content-Type\":e.messageContentType}),e&&e.a&&(t?t[\"X-WebChannel-Client-Profile\"]=e.a:t={\"X-WebChannel-Client-Profile\":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!H(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!H(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new mr(this)}function yr(t){Ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function gr(){ke.call(this),this.status=1}function mr(t){this.a=t}(N=On.prototype).ba=function(t,e,n,r){if(this.a)throw Error(\"[goog.net.XhrIo] Object is active with another request=\"+this.B+\"; newUri=\"+t);e=e?e.toUpperCase():\"GET\",this.B=t,this.f=\"\",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ne(this.H):Ne(Oe),this.a.onreadystatechange=V(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void Vn(this,t)}t=n||\"\";var i,o=new He(this.headers);r&&ze(r,function(t,e){o.set(e,t)}),r=function(t){t:{for(var e=Fn,n=t.length,r=\"string\"==typeof t?t.split(\"\"):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return e<0?null:\"string\"==typeof t?t.charAt(e):t[e]}(o.L()),n=k.FormData&&t instanceof k.FormData,0<=K(Mn,e)&&!r&&!n&&o.set(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),\"withCredentials\"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{jn(this),0<this.o&&((this.D=(i=this.a,st&&yt(9)&&\"number\"==typeof i.timeout&&void 0!==i.ontimeout))?(this.a.timeout=this.o,this.a.ontimeout=V(this.xa,this)):this.m=ne(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){Vn(this,t)}},N.xa=function(){void 0!==C&&this.a&&(this.f=\"Timed out after \"+this.o+\"ms, aborting\",this.h=8,jt(this,\"timeout\"),this.abort(8))},N.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,jt(this,\"complete\"),jt(this,\"abort\"),Bn(this))},N.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Bn(this,!0)),On.X.G.call(this)},N.za=function(){this.j||(this.A||this.l||this.g?qn(this):this.Ua())},N.Ua=function(){qn(this)},N.W=function(){try{return 2<Kn(this)?this.a.status:-1}catch(t){return-1}},N.$=function(){try{return this.a?this.a.responseText:\"\"}catch(t){return\"\"}},N.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),xn(e)}},N.ua=function(){return this.h},N.Qa=function(){return\"string\"==typeof this.f?this.f:String(this.f)},(N=zn.prototype).ha=8,N.v=1,N.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new xe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?nt(r=tt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(\"__data__\"in o.a&&\"string\"==typeof(o=o.a.__data__)?o=o.length:o=void 0,void 0===o)break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=tr(this,n,e),rn(i=$e(this.B),\"RID\",t),rn(i,\"CVER\",22),this.A&&rn(i,\"X-HTTP-Session-Id\",this.A),Zn(this,i),this.i&&r&&Gn(i,this.i,r),An(this.b,n),this.Ia&&rn(i,\"TYPE\",\"init\"),this.da?(rn(i,\"$req\",e),rn(i,\"SID\",\"null\"),n.U=!0,Fe(n,i,null)):Fe(n,i,e),this.v=2}}else 3==this.v&&(t?$n(this,t):0==this.g.length||In(this.b)||$n(this))},N.Aa=function(){var t;this.j=null,ir(this),this.U&&!(this.F||null==this.a||this.N<=0)&&(t=2*this.N,this.c.info(\"BP detection timer enabled: \"+t),this.s=Ie(V(this.Ta,this),t))},N.Ta=function(){this.s&&(this.s=null,this.c.info(\"BP detection timeout reached.\"),this.c.info(\"Buffering proxy detected and switch to long-polling!\"),this.H=!1,this.F=!0,Ee(10),Wn(this),ir(this))},N.Sa=function(){null!=this.m&&(this.m=null,Wn(this),nr(this),Ee(19))},N.Ya=function(t){t?(this.c.info(\"Successfully pinged google.com\"),Ee(2)):(this.c.info(\"Failed to ping google.com\"),Ee(1))},(N=fr.prototype).ta=function(){},N.sa=function(){},N.ra=function(){},N.qa=function(){},N.Ja=function(){},dr.prototype.a=function(t,e){return new pr(t,e)},B(pr,Bt),pr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Ee(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=hr(t,null,t.fa),Jn(t)},pr.prototype.close=function(){Hn(this.a)},pr.prototype.h=function(t){var e;\"string\"==typeof t?((e={}).__data__=t,Xn(this.a,e)):this.l?((e={}).__data__=Gt(t),Xn(this.a,e)):Xn(this.a,t)},pr.prototype.G=function(){this.a.f=null,delete this.f,Hn(this.a),delete this.a,pr.X.G.call(this)},B(yr,Ce),B(gr,ke),B(mr,fr),mr.prototype.ta=function(){jt(this.a,\"a\")},mr.prototype.sa=function(t){jt(this.a,new yr(t))},mr.prototype.ra=function(t){jt(this.a,new gr)},mr.prototype.qa=function(){jt(this.a,\"b\")},dr.prototype.createWebChannel=dr.prototype.a,pr.prototype.send=pr.prototype.h,pr.prototype.open=pr.prototype.g,_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Se.COMPLETE=\"complete\",(De.EventType=D).OPEN=\"a\",D.CLOSE=\"b\",D.ERROR=\"c\",D.MESSAGE=\"d\",Bt.prototype.listen=Bt.prototype.va,On.prototype.listenOnce=On.prototype.wa,On.prototype.getLastError=On.prototype.Qa,On.prototype.getLastErrorCode=On.prototype.ua,On.prototype.getStatus=On.prototype.W,On.prototype.getResponseJson=On.prototype.Pa,On.prototype.getResponseText=On.prototype.$,On.prototype.send=On.prototype.ba;var vr=me,br=_e,wr=Se,Er=ye,Tr=10,Ir=11,_r=De,Sr=On,Ar=(Nr.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},Nr.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},Nr);function Nr(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}Ar.o=-1;var Dr,Cr={OK:\"ok\",CANCELLED:\"cancelled\",UNKNOWN:\"unknown\",INVALID_ARGUMENT:\"invalid-argument\",DEADLINE_EXCEEDED:\"deadline-exceeded\",NOT_FOUND:\"not-found\",ALREADY_EXISTS:\"already-exists\",PERMISSION_DENIED:\"permission-denied\",UNAUTHENTICATED:\"unauthenticated\",RESOURCE_EXHAUSTED:\"resource-exhausted\",FAILED_PRECONDITION:\"failed-precondition\",ABORTED:\"aborted\",OUT_OF_RANGE:\"out-of-range\",UNIMPLEMENTED:\"unimplemented\",INTERNAL:\"internal\",UNAVAILABLE:\"unavailable\",DATA_LOSS:\"data-loss\"},kr=(n(xr,Dr=Error),xr),Rr=new I(\"@firebase/firestore\");function xr(t,e){var n=this;return(n=Dr.call(this,e)||this).code=t,n.message=e,n.name=\"FirebaseError\",n.toString=function(){return n.name+\": [code=\"+n.code+\"]: \"+n.message},n}function Or(){return Rr.logLevel}function Lr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Rr.logLevel<=p.DEBUG&&(e=n.map(Fr),Rr.debug.apply(Rr,s([\"Firestore (8.6.2): \"+t],e)))}function Pr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Rr.logLevel<=p.ERROR&&(e=n.map(Fr),Rr.error.apply(Rr,s([\"Firestore (8.6.2): \"+t],e)))}function Mr(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Rr.logLevel<=p.WARN&&(e=n.map(Fr),Rr.warn.apply(Rr,s([\"Firestore (8.6.2): \"+t],e)))}function Fr(e){if(\"string\"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Vr(t){t=\"FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: \"+(t=void 0===t?\"Unexpected state\":t);throw Pr(t),new Error(t)}function Ur(t){t||Vr()}var qr=(Br.u=function(){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",e=Math.floor(256/t.length)*t.length,n=\"\";n.length<20;)for(var r=function(t){var e=\"undefined\"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&\"function\"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},Br);function Br(){}function jr(t,e){return t<e?-1:e<t?1:0}function Kr(t,n,r){return t.length===n.length&&t.every(function(t,e){return r(t,n[e])})}function Gr(t){return t+\"\\0\"}var Qr=(Wr.now=function(){return Wr.fromMillis(Date.now())},Wr.fromDate=function(t){return Wr.fromMillis(t.getTime())},Wr.fromMillis=function(t){var e=Math.floor(t/1e3);return new Wr(e,Math.floor(1e6*(t-1e3*e)))},Wr.prototype.toDate=function(){return new Date(this.toMillis())},Wr.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Wr.prototype._compareTo=function(t){return this.seconds===t.seconds?jr(this.nanoseconds,t.nanoseconds):jr(this.seconds,t.seconds)},Wr.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},Wr.prototype.toString=function(){return\"Timestamp(seconds=\"+this.seconds+\", nanoseconds=\"+this.nanoseconds+\")\"},Wr.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Wr.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,\"0\")+\".\"+String(this.nanoseconds).padStart(9,\"0\")},Wr),zr=(Hr.fromTimestamp=function(t){return new Hr(t)},Hr.min=function(){return new Hr(new Qr(0,0))},Hr.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},Hr.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},Hr.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Hr.prototype.toString=function(){return\"SnapshotVersion(\"+this.timestamp.toString()+\")\"},Hr.prototype.toTimestamp=function(){return this.timestamp},Hr);function Hr(t){this.timestamp=t}function Wr(t,e){if(this.seconds=t,(this.nanoseconds=e)<0)throw new kr(Cr.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(1e9<=e)throw new kr(Cr.INVALID_ARGUMENT,\"Timestamp nanoseconds out of range: \"+e);if(t<-62135596800)throw new kr(Cr.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t);if(253402300800<=t)throw new kr(Cr.INVALID_ARGUMENT,\"Timestamp seconds out of range: \"+t)}function Yr(t){var e,n=0;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n++;return n}function Xr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Jr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $r,Zr,Se=(Object.defineProperty(ci.prototype,\"length\",{get:function(){return this.len},enumerable:!1,configurable:!0}),ci.prototype.isEqual=function(t){return 0===ci.comparator(this,t)},ci.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof ci?t.forEach(function(t){e.push(t)}):e.push(t),this.construct(e)},ci.prototype.limit=function(){return this.offset+this.length},ci.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},ci.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},ci.prototype.firstSegment=function(){return this.segments[this.offset]},ci.prototype.lastSegment=function(){return this.get(this.length-1)},ci.prototype.get=function(t){return this.segments[this.offset+t]},ci.prototype.isEmpty=function(){return 0===this.length},ci.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ci.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},ci.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},ci.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},ci.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(o<i)return 1}return t.length<e.length?-1:t.length>e.length?1:0},ci),ti=(n(ui,Zr=Se),ui.prototype.construct=function(t,e,n){return new ui(t,e,n)},ui.prototype.canonicalString=function(){return this.toArray().join(\"/\")},ui.prototype.toString=function(){return this.canonicalString()},ui.fromString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];if(0<=o.indexOf(\"//\"))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid segment (\"+o+\"). Paths must not contain // in them.\");n.push.apply(n,o.split(\"/\").filter(function(t){return 0<t.length}))}return new ui(n)},ui.emptyPath=function(){return new ui([])},ui),ei=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ni=(n(ai,$r=Se),ai.prototype.construct=function(t,e,n){return new ai(t,e,n)},ai.isValidIdentifier=function(t){return ei.test(t)},ai.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\\\/g,\"\\\\\\\\\").replace(/`/g,\"\\\\`\"),t=!ai.isValidIdentifier(t)?\"`\"+t+\"`\":t}).join(\".\")},ai.prototype.toString=function(){return this.canonicalString()},ai.prototype.isKeyField=function(){return 1===this.length&&\"__name__\"===this.get(0)},ai.keyField=function(){return new ai([\"__name__\"])},ai.fromServerFormat=function(t){for(var e=[],n=\"\",r=0,i=function(){if(0===n.length)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid field path (\"+t+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\");e.push(n),n=\"\"},o=!1;r<t.length;){var s=t[r];if(\"\\\\\"===s){if(r+1===t.length)throw new kr(Cr.INVALID_ARGUMENT,\"Path has trailing escape character: \"+t);var a=t[r+1];if(\"\\\\\"!==a&&\".\"!==a&&\"`\"!==a)throw new kr(Cr.INVALID_ARGUMENT,\"Path has invalid escape sequence: \"+t);n+=a,r+=2}else\"`\"===s?o=!o:\".\"!==s||o?n+=s:i(),r++}if(i(),o)throw new kr(Cr.INVALID_ARGUMENT,\"Unterminated ` in path: \"+t);return new ai(e)},ai.emptyPath=function(){return new ai([])},ai),ri=(si.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},si.prototype.isEqual=function(t){return Kr(this.fields,t.fields,function(t,e){return t.isEqual(e)})},si),ii=(oi.fromBase64String=function(t){return new oi(atob(t))},oi.fromUint8Array=function(t){return new oi(function(t){for(var e=\"\",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t))},oi.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},oi.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},oi.prototype.approximateByteSize=function(){return 2*this.binaryString.length},oi.prototype.compareTo=function(t){return jr(this.binaryString,t.binaryString)},oi.prototype.isEqual=function(t){return this.binaryString===t.binaryString},oi);function oi(t){this.binaryString=t}function si(t){(this.fields=t).sort(ni.comparator)}function ai(){return null!==$r&&$r.apply(this,arguments)||this}function ui(){return null!==Zr&&Zr.apply(this,arguments)||this}function ci(t,e,n){void 0===e?e=0:e>t.length&&Vr(),void 0===n?n=t.length-e:n>t.length-e&&Vr(),this.segments=t,this.offset=e,this.len=n}ii.EMPTY_BYTE_STRING=new ii(\"\");var hi=new RegExp(/^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(?:\\.(\\d+))?Z$/);function li(t){if(Ur(!!t),\"string\"!=typeof t)return{seconds:fi(t.seconds),nanos:fi(t.nanos)};var e=0,n=hi.exec(t);Ur(!!n),n[1]&&(n=((n=n[1])+\"000000000\").substr(0,9),e=Number(n));t=new Date(t);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}function fi(t){return\"number\"==typeof t?t:\"string\"==typeof t?Number(t):0}function di(t){return\"string\"==typeof t?ii.fromBase64String(t):ii.fromUint8Array(t)}function pi(t){return\"server_timestamp\"===(null===(t=((null===(t=null==t?void 0:t.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function yi(t){t=li(t.mapValue.fields.__local_write_time__.timestampValue);return new Qr(t.seconds,t.nanos)}function gi(t){return null==t}function mi(t){return 0===t&&1/t==-1/0}function vi(t){return\"number\"==typeof t&&Number.isInteger(t)&&!mi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var bi=(wi.fromPath=function(t){return new wi(ti.fromString(t))},wi.fromName=function(t){return new wi(ti.fromString(t).popFirst(5))},wi.prototype.hasCollectionId=function(t){return 2<=this.path.length&&this.path.get(this.path.length-2)===t},wi.prototype.isEqual=function(t){return null!==t&&0===ti.comparator(this.path,t.path)},wi.prototype.toString=function(){return this.path.toString()},wi.comparator=function(t,e){return ti.comparator(t.path,e.path)},wi.isDocumentKey=function(t){return t.length%2==0},wi.fromSegments=function(t){return new wi(new ti(t.slice()))},wi);function wi(t){this.path=t}function Ei(t){return\"nullValue\"in t?0:\"booleanValue\"in t?1:\"integerValue\"in t||\"doubleValue\"in t?2:\"timestampValue\"in t?3:\"stringValue\"in t?5:\"bytesValue\"in t?6:\"referenceValue\"in t?7:\"geoPointValue\"in t?8:\"arrayValue\"in t?9:\"mapValue\"in t?pi(t)?4:10:Vr()}function Ti(r,i){var t,e,n=Ei(r);if(n!==Ei(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return yi(r).isEqual(yi(i));case 3:return function(t){if(\"string\"==typeof r.timestampValue&&\"string\"==typeof t.timestampValue&&r.timestampValue.length===t.timestampValue.length)return r.timestampValue===t.timestampValue;var e=li(r.timestampValue),t=li(t.timestampValue);return e.seconds===t.seconds&&e.nanos===t.nanos}(i);case 5:return r.stringValue===i.stringValue;case 6:return e=i,di(r.bytesValue).isEqual(di(e.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return t=i,fi((e=r).geoPointValue.latitude)===fi(t.geoPointValue.latitude)&&fi(e.geoPointValue.longitude)===fi(t.geoPointValue.longitude);case 2:return function(t,e){if(\"integerValue\"in t&&\"integerValue\"in e)return fi(t.integerValue)===fi(e.integerValue);if(\"doubleValue\"in t&&\"doubleValue\"in e){t=fi(t.doubleValue),e=fi(e.doubleValue);return t===e?mi(t)===mi(e):isNaN(t)&&isNaN(e)}return!1}(r,i);case 9:return Kr(r.arrayValue.values||[],i.arrayValue.values||[],Ti);case 10:return function(){var t,e=r.mapValue.fields||{},n=i.mapValue.fields||{};if(Yr(e)!==Yr(n))return!1;for(t in e)if(e.hasOwnProperty(t)&&(void 0===n[t]||!Ti(e[t],n[t])))return!1;return!0}();default:return Vr()}}function Ii(t,e){return void 0!==(t.values||[]).find(function(t){return Ti(t,e)})}function _i(t,e){var n,r,i,o=Ei(t),s=Ei(e);if(o!==s)return jr(o,s);switch(o){case 0:return 0;case 1:return jr(t.booleanValue,e.booleanValue);case 2:return r=e,i=fi(t.integerValue||t.doubleValue),r=fi(r.integerValue||r.doubleValue),i<r?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return Si(t.timestampValue,e.timestampValue);case 4:return Si(yi(t),yi(e));case 5:return jr(t.stringValue,e.stringValue);case 6:return function(t,e){t=di(t),e=di(e);return t.compareTo(e)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split(\"/\"),r=e.split(\"/\"),i=0;i<n.length&&i<r.length;i++){var o=jr(n[i],r[i]);if(0!==o)return o}return jr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return n=t.geoPointValue,i=e.geoPointValue,0!==(r=jr(fi(n.latitude),fi(i.latitude)))?r:jr(fi(n.longitude),fi(i.longitude));case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=_i(n[i],r[i]);if(o)return o}return jr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=jr(r[s],o[s]);if(0!==a)return a;a=_i(n[r[s]],i[o[s]]);if(0!==a)return a}return jr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Vr()}}function Si(t,e){if(\"string\"==typeof t&&\"string\"==typeof e&&t.length===e.length)return jr(t,e);var n=li(t),t=li(e),e=jr(n.seconds,t.seconds);return 0!==e?e:jr(n.nanos,t.nanos)}function Ai(t){return function s(t){return\"nullValue\"in t?\"null\":\"booleanValue\"in t?\"\"+t.booleanValue:\"integerValue\"in t?\"\"+t.integerValue:\"doubleValue\"in t?\"\"+t.doubleValue:\"timestampValue\"in t?function(t){var t=li(t);return\"time(\"+t.seconds+\",\"+t.nanos+\")\"}(t.timestampValue):\"stringValue\"in t?t.stringValue:\"bytesValue\"in t?di(t.bytesValue).toBase64():\"referenceValue\"in t?(e=t.referenceValue,bi.fromName(e).toString()):\"geoPointValue\"in t?\"geo(\"+(e=t.geoPointValue).latitude+\",\"+e.longitude+\")\":\"arrayValue\"in t?function(t){for(var e=\"[\",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=\",\",e+=s(i[r]);return e+\"]\"}(t.arrayValue):\"mapValue\"in t?function(t){for(var e=\"{\",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=\",\",e+=o+\":\"+s(t.fields[o])}return e+\"}\"}(t.mapValue):Vr();var e}(t)}function Ni(t,e){return{referenceValue:\"projects/\"+t.projectId+\"/databases/\"+t.database+\"/documents/\"+e.path.canonicalString()}}function Di(t){return t&&\"integerValue\"in t}function Ci(t){return!!t&&\"arrayValue\"in t}function ki(t){return t&&\"nullValue\"in t}function Ri(t){return t&&\"doubleValue\"in t&&isNaN(Number(t.doubleValue))}function xi(t){return t&&\"mapValue\"in t}var Oi=(Li.empty=function(){return new Li({mapValue:{}})},Li.prototype.field=function(t){return Li.extractNestedValue(this.buildProto(),t)},Li.prototype.toProto=function(){return this.field(ni.emptyPath())},Li.prototype.set=function(t,e){this.setOverlay(t,e)},Li.prototype.setAll=function(t){var n=this;t.forEach(function(t,e){t?n.set(e,t):n.delete(e)})},Li.prototype.delete=function(t){this.setOverlay(t,null)},Li.prototype.isEqual=function(t){return Ti(this.buildProto(),t.buildProto())},Li.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r)var i=t.get(r),o=n.get(i),n=(o instanceof Map||(o=o&&10===Ei(o)?new Map(Object.entries(o.mapValue.fields||{})):new Map,n.set(i,o)),o);n.set(t.lastSegment(),e)},Li.prototype.applyOverlay=function(r,t){var i=this,o=!1,e=Li.extractNestedValue(this.partialValue,r),s=xi(e)?Object.assign({},e.mapValue.fields):{};return t.forEach(function(t,e){var n;t instanceof Map?null!=(n=i.applyOverlay(r.child(e),t))&&(s[e]=n,o=!0):null!==t?(s[e]=t,o=!0):s.hasOwnProperty(e)&&(delete s[e],o=!0)}),o?{mapValue:{fields:s}}:null},Li.prototype.buildProto=function(){var t=this.applyOverlay(ni.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},Li.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!xi(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},Li.prototype.clone=function(){return new Li(this.buildProto())},Li);function Li(t){this.overlayMap=new Map,this.partialValue=t}var Pi=(Fi.newInvalidDocument=function(t){return new Fi(t,0,zr.min(),Oi.empty(),0)},Fi.newFoundDocument=function(t,e,n){return new Fi(t,1,e,n,0)},Fi.newNoDocument=function(t,e){return new Fi(t,2,e,Oi.empty(),0)},Fi.newUnknownDocument=function(t,e){return new Fi(t,3,e,Oi.empty(),2)},Fi.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},Fi.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Oi.empty(),this.documentState=0,this},Fi.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Oi.empty(),this.documentState=2,this},Fi.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},Fi.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(Fi.prototype,\"hasLocalMutations\",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Fi.prototype,\"hasCommittedMutations\",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(Fi.prototype,\"hasPendingWrites\",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),Fi.prototype.isValidDocument=function(){return 0!==this.documentType},Fi.prototype.isFoundDocument=function(){return 1===this.documentType},Fi.prototype.isNoDocument=function(){return 2===this.documentType},Fi.prototype.isUnknownDocument=function(){return 3===this.documentType},Fi.prototype.isEqual=function(t){return t instanceof Fi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},Fi.prototype.clone=function(){return new Fi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},Fi.prototype.toString=function(){return\"Document(\"+this.key+\", \"+this.version+\", \"+JSON.stringify(this.data.toProto())+\", {documentType: \"+this.documentType+\"}), {documentState: \"+this.documentState+\"})\"},Fi),Mi=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Fi(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}function Vi(t,e,n,r,i,o,s){return new Mi(t,e=void 0===e?null:e,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,s=void 0===s?null:s)}function Ui(t){var e=t;return null===e.h&&(t=e.path.canonicalString(),null!==e.collectionGroup&&(t+=\"|cg:\"+e.collectionGroup),t+=\"|f:\",t+=e.filters.map(function(t){return(t=t).field.canonicalString()+t.op.toString()+Ai(t.value)}).join(\",\"),t+=\"|ob:\",t+=e.orderBy.map(function(t){return(t=t).field.canonicalString()+t.dir}).join(\",\"),gi(e.limit)||(t+=\"|l:\",t+=e.limit),e.startAt&&(t+=\"|lb:\",t+=yo(e.startAt)),e.endAt&&(t+=\"|ub:\",t+=yo(e.endAt)),e.h=t),e.h}function qi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n,r,i=0;i<t.orderBy.length;i++)if(n=t.orderBy[i],r=e.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(t.filters.length!==e.filters.length)return!1;for(var o,s,a=0;a<t.filters.length;a++)if(o=t.filters[a],s=e.filters[a],o.op!==s.op||!o.field.isEqual(s.field)||!Ti(o.value,s.value))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vo(t.startAt,e.startAt)&&vo(t.endAt,e.endAt)}function Bi(t){return bi.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ji,Ki=(n(Gi,ji=function(){}),Gi.create=function(t,e,n){return t.isKeyField()?\"in\"===e||\"not-in\"===e?this.l(t,e,n):new Wi(t,e,n):\"array-contains\"===e?new oo(t,n):\"in\"===e?new so(t,n):\"not-in\"===e?new ao(t,n):\"array-contains-any\"===e?new uo(t,n):new Gi(t,e,n)},Gi.l=function(t,e,n){return new(\"in\"===e?Yi:Xi)(t,n)},Gi.prototype.matches=function(t){t=t.data.field(this.field);return\"!=\"===this.op?null!==t&&this.m(_i(t,this.value)):null!==t&&Ei(this.value)===Ei(t)&&this.m(_i(t,this.value))},Gi.prototype.m=function(t){switch(this.op){case\"<\":return t<0;case\"<=\":return t<=0;case\"==\":return 0===t;case\"!=\":return 0!==t;case\">\":return 0<t;case\">=\":return 0<=t;default:return Vr()}},Gi.prototype.g=function(){return 0<=[\"<\",\"<=\",\">\",\">=\",\"!=\",\"not-in\"].indexOf(this.op)},Gi);function Gi(t,e,n){var r=this;return(r=ji.call(this)||this).field=t,r.op=e,r.value=n,r}var Qi,zi,Hi,Wi=(n(Zi,Hi=Ki),Zi.prototype.matches=function(t){t=bi.comparator(t.key,this.key);return this.m(t)},Zi),Yi=(n($i,zi=Ki),$i.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},$i),Xi=(n(Ji,Qi=Ki),Ji.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},Ji);function Ji(t,e){var n=this;return(n=Qi.call(this,t,\"not-in\",e)||this).keys=to(0,e),n}function $i(t,e){var n=this;return(n=zi.call(this,t,\"in\",e)||this).keys=to(0,e),n}function Zi(t,e,n){var r=this;return(r=Hi.call(this,t,e,n)||this).key=bi.fromName(n.referenceValue),r}function to(t,e){return((null===(e=e.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(t){return bi.fromName(t.referenceValue)})}var eo,no,ro,io,oo=(n(po,io=Ki),po.prototype.matches=function(t){t=t.data.field(this.field);return Ci(t)&&Ii(t.arrayValue,this.value)},po),so=(n(fo,ro=Ki),fo.prototype.matches=function(t){t=t.data.field(this.field);return null!==t&&Ii(this.value.arrayValue,t)},fo),ao=(n(lo,no=Ki),lo.prototype.matches=function(t){if(Ii(this.value.arrayValue,{nullValue:\"NULL_VALUE\"}))return!1;t=t.data.field(this.field);return null!==t&&!Ii(this.value.arrayValue,t)},lo),uo=(n(ho,eo=Ki),ho.prototype.matches=function(t){var e=this,t=t.data.field(this.field);return!(!Ci(t)||!t.arrayValue.values)&&t.arrayValue.values.some(function(t){return Ii(e.value.arrayValue,t)})},ho),co=function(t,e){this.position=t,this.before=e};function ho(t,e){return eo.call(this,t,\"array-contains-any\",e)||this}function lo(t,e){return no.call(this,t,\"not-in\",e)||this}function fo(t,e){return ro.call(this,t,\"in\",e)||this}function po(t,e){return io.call(this,t,\"array-contains\",e)||this}function yo(t){return(t.before?\"b\":\"a\")+\":\"+t.position.map(Ai).join(\",\")}var go=function(t,e){void 0===e&&(e=\"asc\"),this.field=t,this.dir=e};function mo(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i],r=o.field.isKeyField()?bi.comparator(bi.fromName(s.referenceValue),n.key):_i(s,n.data.field(o.field));if(\"desc\"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ti(t.position[n],e.position[n]))return!1;return!0}var bo=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=\"F\"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function wo(t,e,n,r,i,o,s,a){return new bo(t,e,n,r,i,o,s,a)}function Eo(t){return new bo(t)}function To(t){return!gi(t.limit)&&\"F\"===t.limitType}function Io(t){return!gi(t.limit)&&\"L\"===t.limitType}function _o(t){return 0<t.explicitOrderBy.length?t.explicitOrderBy[0].field:null}function So(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Ao(t){return null!==t.collectionGroup}function No(t){var e=t;if(null===e.p){e.p=[];var n=So(e),t=_o(e);if(null!==n&&null===t)n.isKeyField()||e.p.push(new go(n)),e.p.push(new go(ni.keyField(),\"asc\"));else{for(var r=!1,i=0,o=e.explicitOrderBy;i<o.length;i++){var s=o[i];e.p.push(s),s.field.isKeyField()&&(r=!0)}r||(n=0<e.explicitOrderBy.length?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:\"asc\",e.p.push(new go(ni.keyField(),n)))}}return e.p}function Do(t){var e=t;if(!e.T)if(\"F\"===e.limitType)e.T=Vi(e.path,e.collectionGroup,No(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=No(e);r<i.length;r++){var o=i[r],s=\"desc\"===o.dir?\"asc\":\"desc\";n.push(new go(o.field,s))}var a=e.endAt?new co(e.endAt.position,!e.endAt.before):null,t=e.startAt?new co(e.startAt.position,!e.startAt.before):null;e.T=Vi(e.path,e.collectionGroup,n,e.filters,e.limit,a,t)}return e.T}function Co(t,e,n){return new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ko(t,e){return qi(Do(t),Do(e))&&t.limitType===e.limitType}function Ro(t){return Ui(Do(t))+\"|lt:\"+t.limitType}function xo(t){return\"Query(target=\"+(e=Do(t),n=e.path.canonicalString(),null!==e.collectionGroup&&(n+=\" collectionGroup=\"+e.collectionGroup),0<e.filters.length&&(n+=\", filters: [\"+e.filters.map(function(t){return(t=t).field.canonicalString()+\" \"+t.op+\" \"+Ai(t.value)}).join(\", \")+\"]\"),gi(e.limit)||(n+=\", limit: \"+e.limit),0<e.orderBy.length&&(n+=\", orderBy: [\"+e.orderBy.map(function(t){return(t=t).field.canonicalString()+\" (\"+t.dir+\")\"}).join(\", \")+\"]\"),e.startAt&&(n+=\", startAt: \"+yo(e.startAt)),e.endAt&&(n+=\", endAt: \"+yo(e.endAt)),\"Target(\"+n+\")\")+\"; limitType=\"+t.limitType+\")\";var e,n}function Oo(i,t){return t.isFoundDocument()&&(e=i,n=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bi.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n))&&function(t){for(var e=0,n=i.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.data.field(r.field))return}return 1}(t)&&function(t){for(var e=0,n=i.filters;e<n.length;e++)if(!n[e].matches(t))return;return 1}(t)&&(n=t,(!(t=i).startAt||mo(t.startAt,No(t),n))&&(!t.endAt||!mo(t.endAt,No(t),n)));var e,n}function Lo(a){return function(t,e){for(var n=!1,r=0,i=No(a);r<i.length;r++){var o=i[r],s=function(t,r,e){var n=t.field.isKeyField()?bi.comparator(r.key,e.key):function(t,e){var n=r.data.field(t),t=e.data.field(t);return null!==n&&null!==t?_i(n,t):Vr()}(t.field,e);switch(t.dir){case\"asc\":return n;case\"desc\":return-1*n;default:return Vr()}}(o,t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return 0}}function Po(t,e){if(t.I){if(isNaN(e))return{doubleValue:\"NaN\"};if(e===1/0)return{doubleValue:\"Infinity\"};if(e===-1/0)return{doubleValue:\"-Infinity\"}}return{doubleValue:mi(e)?\"-0\":e}}function Mo(t){return{integerValue:\"\"+t}}function Fo(t,e){return vi(e)?Mo(e):Po(t,e)}I=function(){this._=void 0};function Vo(t,e){return t instanceof Jo?Di(t=e)||t&&\"doubleValue\"in t?e:{integerValue:0}:null}var Uo,qo,Bo=(n(Go,qo=I),Go),jo=(n(Ko,Uo=I),Ko);function Ko(t){var e=this;return(e=Uo.call(this)||this).elements=t,e}function Go(){return null!==qo&&qo.apply(this,arguments)||this}function Qo(t,e){for(var n=ts(e),r=0,i=t.elements;r<i.length;r++)!function(e){n.some(function(t){return Ti(t,e)})||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var zo,Ho=(n(Wo,zo=I),Wo);function Wo(t){var e=this;return(e=zo.call(this)||this).elements=t,e}function Yo(t,e){for(var n=ts(e),r=0,i=t.elements;r<i.length;r++)!function(e){n=n.filter(function(t){return!Ti(t,e)})}(i[r]);return{arrayValue:{values:n}}}var Xo,Jo=(n($o,Xo=I),$o);function $o(t,e){var n=this;return(n=Xo.call(this)||this).R=t,n.A=e,n}function Zo(t){return fi(t.integerValue||t.doubleValue)}function ts(t){return Ci(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function es(t,e){this.version=t,this.transformResults=e}var ns=function(t,e){this.field=t,this.transform=e},rs=(is.none=function(){return new is},is.exists=function(t){return new is(void 0,t)},is.updateTime=function(t){return new is(t)},Object.defineProperty(is.prototype,\"isNone\",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),is.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},is);function is(t,e){this.updateTime=t,this.exists=e}function os(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}Se=function(){};function ss(t,e,n){var r,i,o,s;t instanceof ls?(i=e,o=n,os((r=t).precondition,i)&&(s=r.value.clone(),o=ms(r.fieldTransforms,o,i),s.setAll(o),i.convertToFoundDocument(us(i),s).setHasLocalMutations())):t instanceof fs?(o=e,i=n,os((s=t).precondition,o)&&(n=ms(s.fieldTransforms,i,o),(i=o.data).setAll(ys(s)),i.setAll(n),o.convertToFoundDocument(us(o),i).setHasLocalMutations())):(e=e,os(t.precondition,e)&&e.convertToNoDocument(zr.min()))}function as(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(n=t.fieldTransforms,r=e.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Kr(n,r,function(t,e){return e=e,(t=t).field.isEqual(e.field)&&(t=t.transform,e=e.transform,t instanceof jo&&e instanceof jo||t instanceof Ho&&e instanceof Ho?Kr(t.elements,e.elements,Ti):t instanceof Jo&&e instanceof Jo?Ti(t.A,e.A):t instanceof Bo&&e instanceof Bo)})))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function us(t){return t.isFoundDocument()?t.version:zr.min()}var cs,hs,ls=(n(ps,hs=Se),ps),fs=(n(ds,cs=Se),ds);function ds(t,e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=cs.call(this)||this).key=t,o.data=e,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function ps(t,e,n,r){void 0===r&&(r=[]);var i=this;return(i=hs.call(this)||this).key=t,i.value=e,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function ys(n){var r=new Map;return n.fieldMask.fields.forEach(function(t){var e;t.isEmpty()||(e=n.data.field(t),r.set(t,e))}),r}function gs(t,e,n){var r=new Map;Ur(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,(o=s,s=a,a=n[i],o instanceof jo?Qo(o,s):o instanceof Ho?Yo(o,s):a))}return r}function ms(t,e,n){for(var r,i=new Map,o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=n.data.field(a.field);i.set(a.field,(r=c,a=e,c=void 0,(u=u)instanceof Bo?(c={fields:{__type__:{stringValue:\"server_timestamp\"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof jo?Qo(u,r):u instanceof Ho?Yo(u,r):(u=Vo(c=u,r),r=Zo(u)+Zo(c.A),Di(u)&&Di(c.A)?Mo(r):Po(c.R,r))))}return i}function vs(t){this.count=t}var bs,ws,Es,Ts=(n(Ss,Es=Se),Ss),Is=(n(_s,ws=Se),_s);function _s(t,e){var n=this;return(n=ws.call(this)||this).key=t,n.precondition=e,n.type=3,n.fieldTransforms=[],n}function Ss(t,e){var n=this;return(n=Es.call(this)||this).key=t,n.precondition=e,n.type=2,n.fieldTransforms=[],n}function As(t){switch(t){case Cr.OK:return Vr(),0;case Cr.CANCELLED:case Cr.UNKNOWN:case Cr.DEADLINE_EXCEEDED:case Cr.RESOURCE_EXHAUSTED:case Cr.INTERNAL:case Cr.UNAVAILABLE:case Cr.UNAUTHENTICATED:return;case Cr.INVALID_ARGUMENT:case Cr.NOT_FOUND:case Cr.ALREADY_EXISTS:case Cr.PERMISSION_DENIED:case Cr.FAILED_PRECONDITION:case Cr.ABORTED:case Cr.OUT_OF_RANGE:case Cr.UNIMPLEMENTED:case Cr.DATA_LOSS:return 1;default:return Vr(),0}}function Ns(t){if(void 0===t)return Pr(\"GRPC error has no .code\"),Cr.UNKNOWN;switch(t){case bs.OK:return Cr.OK;case bs.CANCELLED:return Cr.CANCELLED;case bs.UNKNOWN:return Cr.UNKNOWN;case bs.DEADLINE_EXCEEDED:return Cr.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return Cr.RESOURCE_EXHAUSTED;case bs.INTERNAL:return Cr.INTERNAL;case bs.UNAVAILABLE:return Cr.UNAVAILABLE;case bs.UNAUTHENTICATED:return Cr.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return Cr.INVALID_ARGUMENT;case bs.NOT_FOUND:return Cr.NOT_FOUND;case bs.ALREADY_EXISTS:return Cr.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return Cr.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return Cr.FAILED_PRECONDITION;case bs.ABORTED:return Cr.ABORTED;case bs.OUT_OF_RANGE:return Cr.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return Cr.UNIMPLEMENTED;case bs.DATA_LOSS:return Cr.DATA_LOSS;default:return Vr()}}(I=bs=bs||{})[I.OK=0]=\"OK\",I[I.CANCELLED=1]=\"CANCELLED\",I[I.UNKNOWN=2]=\"UNKNOWN\",I[I.INVALID_ARGUMENT=3]=\"INVALID_ARGUMENT\",I[I.DEADLINE_EXCEEDED=4]=\"DEADLINE_EXCEEDED\",I[I.NOT_FOUND=5]=\"NOT_FOUND\",I[I.ALREADY_EXISTS=6]=\"ALREADY_EXISTS\",I[I.PERMISSION_DENIED=7]=\"PERMISSION_DENIED\",I[I.UNAUTHENTICATED=16]=\"UNAUTHENTICATED\",I[I.RESOURCE_EXHAUSTED=8]=\"RESOURCE_EXHAUSTED\",I[I.FAILED_PRECONDITION=9]=\"FAILED_PRECONDITION\",I[I.ABORTED=10]=\"ABORTED\",I[I.OUT_OF_RANGE=11]=\"OUT_OF_RANGE\",I[I.UNIMPLEMENTED=12]=\"UNIMPLEMENTED\",I[I.INTERNAL=13]=\"INTERNAL\",I[I.UNAVAILABLE=14]=\"UNAVAILABLE\",I[I.DATA_LOSS=15]=\"DATA_LOSS\";var Ds=(Os.prototype.insert=function(t,e){return new Os(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ks.BLACK,null,null))},Os.prototype.remove=function(t){return new Os(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ks.BLACK,null,null))},Os.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:0<n&&(e=e.right)}return null},Os.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;n=r<0?n.left:(e+=n.left.size+1,n.right)}return-1},Os.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(Os.prototype,\"size\",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),Os.prototype.minKey=function(){return this.root.minKey()},Os.prototype.maxKey=function(){return this.root.maxKey()},Os.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},Os.prototype.forEach=function(n){this.inorderTraversal(function(t,e){return n(t,e),!1})},Os.prototype.toString=function(){var n=[];return this.inorderTraversal(function(t,e){return n.push(t+\":\"+e),!1}),\"{\"+n.join(\", \")+\"}\"},Os.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},Os.prototype.getIterator=function(){return new Cs(this.root,null,this.comparator,!1)},Os.prototype.getIteratorFrom=function(t){return new Cs(this.root,t,this.comparator,!1)},Os.prototype.getReverseIterator=function(){return new Cs(this.root,null,this.comparator,!0)},Os.prototype.getReverseIteratorFrom=function(t){return new Cs(this.root,t,this.comparator,!0)},Os),Cs=(xs.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},xs.prototype.hasNext=function(){return 0<this.nodeStack.length},xs.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},xs),ks=(Rs.prototype.copy=function(t,e,n,r,i){return new Rs(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Rs.prototype.isEmpty=function(){return!1},Rs.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},Rs.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},Rs.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},Rs.prototype.minKey=function(){return this.min().key},Rs.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Rs.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},Rs.prototype.removeMin=function(){if(this.left.isEmpty())return Rs.EMPTY;var t=this;return(t=(t=!t.left.isRed()&&!t.left.left.isRed()?t.moveRedLeft():t).copy(null,null,null,t.left.removeMin(),null)).fixUp()},Rs.prototype.remove=function(t,e){var n,r=this;if(e(t,r.key)<0)r=(r=!(r.left.isEmpty()||r.left.isRed()||r.left.left.isRed())?r.moveRedLeft():r).copy(null,null,null,r.left.remove(t,e),null);else{if(0===e(t,(r=!((r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed())?r.moveRedRight():r).key)){if(r.right.isEmpty())return Rs.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()},Rs.prototype.isRed=function(){return this.color},Rs.prototype.fixUp=function(){var t=this;return t=(t=(t=t.right.isRed()&&!t.left.isRed()?t.rotateLeft():t).left.isRed()&&t.left.left.isRed()?t.rotateRight():t).left.isRed()&&t.right.isRed()?t.colorFlip():t},Rs.prototype.moveRedLeft=function(){var t=this.colorFlip();return t=t.right.left.isRed()?(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip():t},Rs.prototype.moveRedRight=function(){var t=this.colorFlip();return t=t.left.left.isRed()?(t=t.rotateRight()).colorFlip():t},Rs.prototype.rotateLeft=function(){var t=this.copy(null,null,Rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},Rs.prototype.rotateRight=function(){var t=this.copy(null,null,Rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},Rs.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},Rs.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},Rs.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Vr();if(this.right.isRed())throw Vr();var t=this.left.check();if(t!==this.right.check())throw Vr();return t+(this.isRed()?0:1)},Rs);function Rs(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Rs.RED,this.left=null!=r?r:Rs.EMPTY,this.right=null!=i?i:Rs.EMPTY,this.size=this.left.size+1+this.right.size}function xs(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}function Os(t,e){this.comparator=t,this.root=e||ks.EMPTY}function Ls(){this.size=0}ks.EMPTY=null,ks.RED=!0,ks.BLACK=!1,ks.EMPTY=(Object.defineProperty(Ls.prototype,\"key\",{get:function(){throw Vr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ls.prototype,\"value\",{get:function(){throw Vr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ls.prototype,\"color\",{get:function(){throw Vr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ls.prototype,\"left\",{get:function(){throw Vr()},enumerable:!1,configurable:!0}),Object.defineProperty(Ls.prototype,\"right\",{get:function(){throw Vr()},enumerable:!1,configurable:!0}),Ls.prototype.copy=function(t,e,n,r,i){return this},Ls.prototype.insert=function(t,e,n){return new ks(t,e)},Ls.prototype.remove=function(t,e){return this},Ls.prototype.isEmpty=function(){return!0},Ls.prototype.inorderTraversal=function(t){return!1},Ls.prototype.reverseTraversal=function(t){return!1},Ls.prototype.minKey=function(){return null},Ls.prototype.maxKey=function(){return null},Ls.prototype.isRed=function(){return!1},Ls.prototype.checkMaxDepth=function(){return!0},Ls.prototype.check=function(){return 0},new Ls);var Ps=(Us.prototype.has=function(t){return null!==this.data.get(t)},Us.prototype.first=function(){return this.data.minKey()},Us.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(Us.prototype,\"size\",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),Us.prototype.indexOf=function(t){return this.data.indexOf(t)},Us.prototype.forEach=function(n){this.data.inorderTraversal(function(t,e){return n(t),!1})},Us.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,t[1]))return;e(r.key)}},Us.prototype.forEachWhile=function(t,e){for(var n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},Us.prototype.firstAfterOrEqual=function(t){t=this.data.getIteratorFrom(t);return t.hasNext()?t.getNext().key:null},Us.prototype.getIterator=function(){return new Ms(this.data.getIterator())},Us.prototype.getIteratorFrom=function(t){return new Ms(this.data.getIteratorFrom(t))},Us.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},Us.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},Us.prototype.isEmpty=function(){return this.data.isEmpty()},Us.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},Us.prototype.isEqual=function(t){if(!(t instanceof Us))return!1;if(this.size!==t.size)return!1;for(var e=this.data.getIterator(),n=t.data.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},Us.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},Us.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),\"SortedSet(\"+e.toString()+\")\"},Us.prototype.copy=function(t){var e=new Us(this.comparator);return e.data=t,e},Us),Ms=(Vs.prototype.getNext=function(){return this.iter.getNext().key},Vs.prototype.hasNext=function(){return this.iter.hasNext()},Vs),Fs=new Ds(bi.comparator);function Vs(t){this.iter=t}function Us(t){this.comparator=t,this.data=new Ds(this.comparator)}var qs=new Ds(bi.comparator);var Bs=new Ds(bi.comparator);var js=new Ps(bi.comparator);function Ks(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=js,r=0,i=t;r<i.length;r++)var o=i[r],n=n.add(o);return n}var Gs=new Ps(jr);var Qs=(ea.createSynthesizedRemoteEventForCurrentChange=function(t,e){var n=new Map;return n.set(t,zs.createSynthesizedTargetChangeForCurrentChange(t,e)),new ea(zr.min(),n,Gs,Fs,Ks())},ea),zs=(ta.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new ta(ii.EMPTY_BYTE_STRING,e,Ks(),Ks(),Ks())},ta),Hs=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ws=function(t,e){this.targetId=t,this.V=e},Ys=function(t,e,n,r){void 0===n&&(n=ii.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Xs=(Object.defineProperty(Zs.prototype,\"current\",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(Zs.prototype,\"resumeToken\",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(Zs.prototype,\"k\",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(Zs.prototype,\"O\",{get:function(){return this.F},enumerable:!1,configurable:!0}),Zs.prototype.$=function(t){0<t.approximateByteSize()&&(this.F=!0,this.C=t)},Zs.prototype.M=function(){var n=Ks(),r=Ks(),i=Ks();return this.D.forEach(function(t,e){switch(e){case 0:n=n.add(t);break;case 2:r=r.add(t);break;case 1:i=i.add(t);break;default:Vr()}}),new zs(this.C,this.N,n,r,i)},Zs.prototype.L=function(){this.F=!1,this.D=ra()},Zs.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},Zs.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},Zs.prototype.U=function(){this.S+=1},Zs.prototype.K=function(){--this.S},Zs.prototype.j=function(){this.F=!0,this.N=!0},Zs),Js=($s.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},$s.prototype.et=function(n){var r=this;this.forEachTarget(n,function(t){var e=r.nt(t);switch(n.state){case 0:r.st(t)&&e.$(n.resumeToken);break;case 1:e.K(),e.k||e.L(),e.$(n.resumeToken);break;case 2:e.K(),e.k||r.removeTarget(t);break;case 3:r.st(t)&&(e.j(),e.$(n.resumeToken));break;case 4:r.st(t)&&(r.it(t),e.$(n.resumeToken));break;default:Vr()}})},$s.prototype.forEachTarget=function(t,n){var r=this;0<t.targetIds.length?t.targetIds.forEach(n):this.G.forEach(function(t,e){r.st(e)&&n(e)})},$s.prototype.rt=function(t){var e=t.targetId,n=t.V.count,t=this.ot(e);t&&(Bi(t=t.target)?0===n?(t=new bi(t.path),this.tt(e,t,Pi.newNoDocument(t,zr.min()))):Ur(1===n):this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e)))},$s.prototype.at=function(r){var i=this,o=new Map;this.G.forEach(function(t,e){var n=i.ot(e);n&&(t.current&&Bi(n.target)&&(n=new bi(n.target.path),null!==i.H.get(n)||i.ut(e,n)||i.tt(e,n,Pi.newNoDocument(n,r))),t.O&&(o.set(e,t.M()),t.L()))});var s=Ks();this.J.forEach(function(t,e){var n=!0;e.forEachWhile(function(t){t=i.ot(t);return!t||2===t.purpose||(n=!1)}),n&&(s=s.add(t))});var t=new Qs(r,o,this.Y,this.H,s);return this.H=Fs,this.J=na(),this.Y=new Ps(jr),t},$s.prototype.Z=function(t,e){var n;this.st(t)&&(n=this.ut(t,e.key)?2:0,this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t)))},$s.prototype.tt=function(t,e,n){var r;this.st(t)&&(r=this.nt(t),this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n)))},$s.prototype.removeTarget=function(t){this.G.delete(t)},$s.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},$s.prototype.U=function(t){this.nt(t).U()},$s.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Xs,this.G.set(t,e)),e},$s.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Ps(jr),this.J=this.J.insert(t,e)),e},$s.prototype.st=function(t){var e=null!==this.ot(t);return e||Lr(\"WatchChangeAggregator\",\"Detected inactive target\",t),e},$s.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},$s.prototype.it=function(e){var n=this;this.G.set(e,new Xs),this.W.getRemoteKeysForTarget(e).forEach(function(t){n.tt(e,t,null)})},$s.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},$s);function $s(t){this.W=t,this.G=new Map,this.H=Fs,this.J=na(),this.Y=new Ps(jr)}function Zs(){this.S=0,this.D=ra(),this.C=ii.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function ta(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function ea(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function na(){return new Ds(bi.comparator)}function ra(){return new Ds(bi.comparator)}var ia={asc:\"ASCENDING\",desc:\"DESCENDING\"},oa={\"<\":\"LESS_THAN\",\"<=\":\"LESS_THAN_OR_EQUAL\",\">\":\"GREATER_THAN\",\">=\":\"GREATER_THAN_OR_EQUAL\",\"==\":\"EQUAL\",\"!=\":\"NOT_EQUAL\",\"array-contains\":\"ARRAY_CONTAINS\",in:\"IN\",\"not-in\":\"NOT_IN\",\"array-contains-any\":\"ARRAY_CONTAINS_ANY\"},sa=function(t,e){this.databaseId=t,this.I=e};function aa(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\\.\\d*/,\"\").replace(\"Z\",\"\")+\".\"+(\"000000000\"+e.nanoseconds).slice(-9)+\"Z\":{seconds:\"\"+e.seconds,nanos:e.nanoseconds}}function ua(t,e){return t.I?e.toBase64():e.toUint8Array()}function ca(t){return Ur(!!t),zr.fromTimestamp((t=li(t),new Qr(t.seconds,t.nanos)))}function ha(t,e){return new ti([\"projects\",t.projectId,\"databases\",t.database]).child(\"documents\").child(e).canonicalString()}function la(t){t=ti.fromString(t);return Ur(Ra(t)),t}function fa(t,e){return ha(t.databaseId,e.path)}function da(t,e){e=la(e);if(e.get(1)!==t.databaseId.projectId)throw new kr(Cr.INVALID_ARGUMENT,\"Tried to deserialize key from different project: \"+e.get(1)+\" vs \"+t.databaseId.projectId);if(e.get(3)!==t.databaseId.database)throw new kr(Cr.INVALID_ARGUMENT,\"Tried to deserialize key from different database: \"+e.get(3)+\" vs \"+t.databaseId.database);return new bi(ma(e))}function pa(t,e){return ha(t.databaseId,e)}function ya(t){t=la(t);return 4===t.length?ti.emptyPath():ma(t)}function ga(t){return new ti([\"projects\",t.databaseId.projectId,\"databases\",t.databaseId.database]).canonicalString()}function ma(t){return Ur(4<t.length&&\"documents\"===t.get(4)),t.popFirst(5)}function va(t,e,n){return{name:fa(t,e),fields:n.toProto().mapValue.fields}}function ba(t,e,n){var r=da(t,e.name),t=ca(e.updateTime),e=new Oi({mapValue:{fields:e.fields}}),e=Pi.newFoundDocument(r,t,e);return n&&e.setHasCommittedMutations(),n?e.setHasCommittedMutations():e}function wa(t,e){var n,r,i;if(e instanceof ls)n={update:va(t,e.key,e.value)};else if(e instanceof Ts)n={delete:fa(t,e.key)};else if(e instanceof fs)n={update:va(t,e.key,e.data),updateMask:(i=e.fieldMask,r=[],i.fields.forEach(function(t){return r.push(t.canonicalString())}),{fieldPaths:r})};else{if(!(e instanceof Is))return Vr();n={verify:fa(t,e.key)}}return 0<e.fieldTransforms.length&&(n.updateTransforms=e.fieldTransforms.map(function(t){var e=t.transform;if(e instanceof Bo)return{fieldPath:t.field.canonicalString(),setToServerValue:\"REQUEST_TIME\"};if(e instanceof jo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:e.elements}};if(e instanceof Ho)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:e.elements}};if(e instanceof Jo)return{fieldPath:t.field.canonicalString(),increment:e.A};throw Vr()})),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:(e=t,t=i.updateTime,aa(e,t.toTimestamp()))}:void 0!==i.exists?{exists:i.exists}:Vr()),n}function Ea(e,t){var n=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?rs.updateTime(ca(s.updateTime)):void 0!==s.exists?rs.exists(s.exists):rs.none():rs.none(),r=t.updateTransforms?t.updateTransforms.map(function(t){return function(t,e){var n,r=null;\"setToServerValue\"in e?(Ur(\"REQUEST_TIME\"===e.setToServerValue),r=new Bo):\"appendMissingElements\"in e?(n=e.appendMissingElements.values||[],r=new jo(n)):\"removeAllFromArray\"in e?(n=e.removeAllFromArray.values||[],r=new Ho(n)):\"increment\"in e?r=new Jo(t,e.increment):Vr();e=ni.fromServerFormat(e.fieldPath);return new ns(e,r)}(e,t)}):[];if(t.update){t.update.name;var i=da(e,t.update.name),o=new Oi({mapValue:{fields:t.update.fields}});if(t.updateMask){var s=(s=t.updateMask.fieldPaths||[],new ri(s.map(function(t){return ni.fromServerFormat(t)})));return new fs(i,o,s,n,r)}return new ls(i,o,n,r)}if(t.delete){r=da(e,t.delete);return new Ts(r,n)}if(t.verify){t=da(e,t.verify);return new Is(t,n)}return Vr()}function Ta(t,e){return{documents:[pa(t,e.path)]}}function Ia(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=pa(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=pa(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);r=function(t){if(0!==t.length){t=t.map(function(t){if(\"==\"===t.op){if(Ri(t.value))return{unaryFilter:{field:Na(t.field),op:\"IS_NAN\"}};if(ki(t.value))return{unaryFilter:{field:Na(t.field),op:\"IS_NULL\"}}}else if(\"!=\"===t.op){if(Ri(t.value))return{unaryFilter:{field:Na(t.field),op:\"IS_NOT_NAN\"}};if(ki(t.value))return{unaryFilter:{field:Na(t.field),op:\"IS_NOT_NULL\"}}}return{fieldFilter:{field:Na(t.field),op:(e=t.op,oa[e]),value:t.value}};var e});return 1===t.length?t[0]:{compositeFilter:{op:\"AND\",filters:t}}}}(e.filters);r&&(n.structuredQuery.where=r);r=function(t){if(0!==t.length)return t.map(function(t){return{field:Na((t=t).field),direction:(t=t.dir,ia[t])}})}(e.orderBy);r&&(n.structuredQuery.orderBy=r);r=e.limit,r=t.I||gi(r)?r:{value:r};return null!==r&&(n.structuredQuery.limit=r),e.startAt&&(n.structuredQuery.startAt=Sa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Sa(e.endAt)),n}function _a(t){var e=ya(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;0<r&&(Ur(1===r),(a=n.from[0]).allDescendants?i=a.collectionId:e=e.child(a.collectionId));var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[ka(t)]:void 0!==t.fieldFilter?[Ca(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(t,e){return t.concat(e)}):Vr():[]}(n.where));var s=[],t=null,r=null,a=null;return wo(e,i,s=n.orderBy?n.orderBy.map(function(t){return new go(Da((e=t).field),function(){switch(e.direction){case\"ASCENDING\":return\"asc\";case\"DESCENDING\":return\"desc\";default:return}}());var e}):s,o,t=n.limit?gi(o=\"object\"==typeof(o=n.limit)?o.value:o)?null:o:t,\"F\",r=n.startAt?Aa(n.startAt):r,a=n.endAt?Aa(n.endAt):a)}function Sa(t){return{before:t.before,values:t.position}}function Aa(t){var e=!!t.before,t=t.values||[];return new co(t,e)}function Na(t){return{fieldPath:t.canonicalString()}}function Da(t){return ni.fromServerFormat(t.fieldPath)}function Ca(t){return Ki.create(Da(t.fieldFilter.field),function(){switch(t.fieldFilter.op){case\"EQUAL\":return\"==\";case\"NOT_EQUAL\":return\"!=\";case\"GREATER_THAN\":return\">\";case\"GREATER_THAN_OR_EQUAL\":return\">=\";case\"LESS_THAN\":return\"<\";case\"LESS_THAN_OR_EQUAL\":return\"<=\";case\"ARRAY_CONTAINS\":return\"array-contains\";case\"IN\":return\"in\";case\"NOT_IN\":return\"not-in\";case\"ARRAY_CONTAINS_ANY\":return\"array-contains-any\";case\"OPERATOR_UNSPECIFIED\":default:return Vr()}}(),t.fieldFilter.value)}function ka(t){switch(t.unaryFilter.op){case\"IS_NAN\":var e=Da(t.unaryFilter.field);return Ki.create(e,\"==\",{doubleValue:NaN});case\"IS_NULL\":e=Da(t.unaryFilter.field);return Ki.create(e,\"==\",{nullValue:\"NULL_VALUE\"});case\"IS_NOT_NAN\":var n=Da(t.unaryFilter.field);return Ki.create(n,\"!=\",{doubleValue:NaN});case\"IS_NOT_NULL\":n=Da(t.unaryFilter.field);return Ki.create(n,\"!=\",{nullValue:\"NULL_VALUE\"});case\"OPERATOR_UNSPECIFIED\":default:return Vr()}}function Ra(t){return 4<=t.length&&\"projects\"===t.get(0)&&\"databases\"===t.get(2)}function xa(t){for(var e=\"\",n=0;n<t.length;n++)0<e.length&&(e=Oa(e)),e=function(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case\"\\0\":n+=\"\\x01\\x10\";break;case\"\\x01\":n+=\"\\x01\\x11\";break;default:n+=o}}return n}(t.get(n),e);return Oa(e)}function Oa(t){return t+\"\\x01\\x01\"}function La(t){var e=t.length;if(Ur(2<=e),2===e)return Ur(\"\\x01\"===t.charAt(0)&&\"\\x01\"===t.charAt(1)),ti.emptyPath();for(var n=e-2,r=[],i=\"\",o=0;o<e;){var s=t.indexOf(\"\\x01\",o);switch((s<0||n<s)&&Vr(),t.charAt(s+1)){case\"\\x01\":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=\"\"),r.push(u);break;case\"\\x10\":i+=t.substring(o,s),i+=\"\\0\";break;case\"\\x11\":i+=t.substring(o,s+1);break;default:Vr()}o=s+2}return new ti(r)}function Pa(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}var Ma=function(t,e){this.seconds=t,this.nanoseconds=e};Pa.store=\"owner\",Pa.key=\"owner\";function Fa(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}Fa.store=\"mutationQueues\",Fa.keyPath=\"userId\";function Va(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}Va.store=\"mutations\",Va.keyPath=\"batchId\",Va.userMutationsIndex=\"userMutationsIndex\",Va.userMutationsKeyPath=[\"userId\",\"batchId\"];var Ua=(qa.prefixForUser=function(t){return[t]},qa.prefixForPath=function(t,e){return[t,xa(e)]},qa.key=function(t,e,n){return[t,xa(e),n]},qa);function qa(){}Ua.store=\"documentMutations\",Ua.PLACEHOLDER=new Ua;function Ba(t,e){this.path=t,this.readTime=e}function ja(t,e){this.path=t,this.version=e}var Ka=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ka.store=\"remoteDocuments\",Ka.readTimeIndex=\"readTimeIndex\",Ka.readTimeIndexPath=\"readTime\",Ka.collectionReadTimeIndex=\"collectionReadTimeIndex\",Ka.collectionReadTimeIndexPath=[\"parentPath\",\"readTime\"];function Ga(t){this.byteSize=t}Ga.store=\"remoteDocumentGlobal\",Ga.key=\"remoteDocumentGlobalKey\";function Qa(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}Qa.store=\"targets\",Qa.keyPath=\"targetId\",Qa.queryTargetsIndexName=\"queryTargetsIndex\",Qa.queryTargetsKeyPath=[\"canonicalId\",\"targetId\"];var za=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};za.store=\"targetDocuments\",za.keyPath=[\"targetId\",\"path\"],za.documentTargetsIndex=\"documentTargetsIndex\",za.documentTargetsKeyPath=[\"path\",\"targetId\"];function Ha(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}Ha.key=\"targetGlobalKey\",Ha.store=\"targetGlobal\";function Wa(t,e){this.collectionId=t,this.parent=e}Wa.store=\"collectionParents\",Wa.keyPath=[\"collectionId\",\"parent\"];function Ya(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}Ya.store=\"clientMetadata\",Ya.keyPath=\"clientId\";function Xa(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}Xa.store=\"bundles\",Xa.keyPath=\"bundleId\";function Ja(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}Ja.store=\"namedQueries\",Ja.keyPath=\"name\";var $a,Za=s(s([],s(s([],s(s([],s(s([],[Fa.store,Va.store,Ua.store,Ka.store,Qa.store,Pa.store,Ha.store,za.store]),[Ya.store])),[Ga.store])),[Wa.store])),[Xa.store,Ja.store]),tu=\"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.\",Se=(fu.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},fu.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},fu),eu=function(){var n=this;this.promise=new Promise(function(t,e){n.resolve=t,n.reject=e})},nu=(lu.prototype.catch=function(t){return this.next(void 0,t)},lu.prototype.next=function(r,i){var o=this;return this.callbackAttached&&Vr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new lu(function(e,n){o.nextCallback=function(t){o.wrapSuccess(r,t).next(e,n)},o.catchCallback=function(t){o.wrapFailure(i,t).next(e,n)}})},lu.prototype.toPromise=function(){var n=this;return new Promise(function(t,e){n.next(t,e)})},lu.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof lu?e:lu.resolve(e)}catch(t){return lu.reject(t)}},lu.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):lu.resolve(e)},lu.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):lu.reject(e)},lu.resolve=function(n){return new lu(function(t,e){t(n)})},lu.reject=function(n){return new lu(function(t,e){e(n)})},lu.waitFor=function(t){return new lu(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(t){return n(t)})}),o=!0,i===r&&e()})},lu.or=function(t){for(var n=lu.resolve(!1),e=0,r=t;e<r.length;e++)!function(e){n=n.next(function(t){return t?lu.resolve(t):e()})}(r[e]);return n},lu.forEach=function(t,n){var r=this,i=[];return t.forEach(function(t,e){i.push(n.call(r,t,e))}),this.waitFor(i)},lu),ru=(hu.open=function(t,e,n,r){try{return new hu(e,t.transaction(r,n))}catch(t){throw new su(e,t)}},Object.defineProperty(hu.prototype,\"dt\",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),hu.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Lr(\"SimpleDb\",\"Aborting transaction:\",t?t.message:\"Client-initiated abort\"),this.aborted=!0,this.transaction.abort())},hu.prototype.store=function(t){t=this.transaction.objectStore(t);return new pu(t)},hu),iu=(cu.delete=function(t){return Lr(\"SimpleDb\",\"Removing database:\",t),gu(window.indexedDB.deleteDatabase(t)).toPromise()},cu.yt=function(){if(\"undefined\"==typeof indexedDB)return!1;if(cu.gt())return!0;var t=h(),e=cu._t(t),n=0<e&&e<10,e=cu.Et(t),e=0<e&&e<4.5;return!(0<t.indexOf(\"MSIE \")||0<t.indexOf(\"Trident/\")||0<t.indexOf(\"Edge/\")||n||e)},cu.gt=function(){var t;return\"undefined\"!=typeof process&&\"YES\"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},cu.It=function(t,e){return t.store(e)},cu._t=function(t){t=t.match(/i(?:phone|pad|pod) os ([\\d_]+)/i),t=t?t[1].split(\"_\").slice(0,2).join(\".\"):\"-1\";return Number(t)},cu.Et=function(t){t=t.match(/Android ([\\d.]+)/i),t=t?t[1].split(\".\").slice(0,2).join(\".\"):\"-1\";return Number(t)},cu.prototype.At=function(o){return y(this,void 0,void 0,function(){var e,i=this;return g(this,function(t){switch(t.label){case 0:return this.db?[3,2]:(Lr(\"SimpleDb\",\"Opening database:\",this.name),e=this,[4,new Promise(function(e,n){var r=indexedDB.open(i.name,i.version);r.onsuccess=function(t){t=t.target.result;e(t)},r.onblocked=function(){n(new su(o,\"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed.\"))},r.onerror=function(t){t=t.target.error;\"VersionError\"===t.name?n(new kr(Cr.FAILED_PRECONDITION,\"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.\")):n(new su(o,t))},r.onupgradeneeded=function(t){Lr(\"SimpleDb\",'Database \"'+i.name+'\" requires upgrade from version:',t.oldVersion);var e=t.target.result;i.wt.Rt(e,r.transaction,t.oldVersion,i.version).next(function(){Lr(\"SimpleDb\",\"Database upgrade to version \"+i.version+\" complete\")})}})]);case 1:e.db=t.sent(),t.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return i.bt(t)}),this.db)]}})})},cu.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},cu.prototype.runTransaction=function(a,n,u,c){return y(this,void 0,void 0,function(){var i,o,s,e;return g(this,function(t){switch(t.label){case 0:i=\"readonly\"===n,o=0,e=function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:++o,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,s.At(a)];case 2:return s.db=t.sent(),e=ru.open(s.db,a,i?\"readonly\":\"readwrite\",u),n=c(e).catch(function(t){return e.abort(t),nu.reject(t)}).toPromise(),r={},n.catch(function(){}),[4,e.dt];case 3:return[2,(r.value=(t.sent(),n),r)];case 4:return n=t.sent(),r=\"FirebaseError\"!==n.name&&o<3,Lr(\"SimpleDb\",\"Transaction failed with error:\",n.message,\"Retrying:\",r),s.close(),r?[3,5]:[2,{value:Promise.reject(n)}];case 5:return[2]}})},s=this,t.label=1;case 1:return[5,e()];case 2:if(\"object\"==typeof(e=t.sent()))return[2,e.value];t.label=3;case 3:return[3,1];case 4:return[2]}})})},cu.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},cu),ou=(Object.defineProperty(uu.prototype,\"isDone\",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(uu.prototype,\"Dt\",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(uu.prototype,\"cursor\",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),uu.prototype.done=function(){this.Vt=!0},uu.prototype.Ct=function(t){this.St=t},uu.prototype.delete=function(){return gu(this.Pt.delete())},uu),su=(n(au,$a=kr),au);function au(t,e){var n=this;return(n=$a.call(this,Cr.UNAVAILABLE,\"IndexedDB transaction '\"+t+\"' failed: \"+e)||this).name=\"IndexedDbTransactionError\",n}function uu(t){this.Pt=t,this.Vt=!1,this.St=null}function cu(t,e,n){this.name=t,this.version=e,this.wt=n,12.2===cu._t(h())&&Pr(\"Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\")}function hu(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new eu,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new su(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=vu(t.target.error);n.ft.reject(new su(e,t))}}function lu(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}function fu(){this.onCommittedListeners=[]}function du(t){return\"IndexedDbTransactionError\"===t.name}var pu=(yu.prototype.put=function(t,e){t=void 0!==e?(Lr(\"SimpleDb\",\"PUT\",this.store.name,t,e),this.store.put(e,t)):(Lr(\"SimpleDb\",\"PUT\",this.store.name,\"<auto-key>\",t),this.store.put(t));return gu(t)},yu.prototype.add=function(t){return Lr(\"SimpleDb\",\"ADD\",this.store.name,t,t),gu(this.store.add(t))},yu.prototype.get=function(e){var n=this;return gu(this.store.get(e)).next(function(t){return void 0===t&&(t=null),Lr(\"SimpleDb\",\"GET\",n.store.name,e,t),t})},yu.prototype.delete=function(t){return Lr(\"SimpleDb\",\"DELETE\",this.store.name,t),gu(this.store.delete(t))},yu.prototype.count=function(){return Lr(\"SimpleDb\",\"COUNT\",this.store.name),gu(this.store.count())},yu.prototype.Nt=function(t,e){var e=this.cursor(this.options(t,e)),n=[];return this.xt(e,function(t,e){n.push(e)}).next(function(){return n})},yu.prototype.Ft=function(t,e){Lr(\"SimpleDb\",\"DELETE ALL\",this.store.name);e=this.options(t,e);e.kt=!1;e=this.cursor(e);return this.xt(e,function(t,e,n){return n.delete()})},yu.prototype.Ot=function(t,e){e?n=t:(n={},e=t);var n=this.cursor(n);return this.xt(n,e)},yu.prototype.$t=function(r){var t=this.cursor({});return new nu(function(n,e){t.onerror=function(t){t=vu(t.target.error);e(t)},t.onsuccess=function(t){var e=t.target.result;e?r(e.primaryKey,e.value).next(function(t){t?e.continue():n()}):n()}})},yu.prototype.xt=function(t,i){var o=[];return new nu(function(r,e){t.onerror=function(t){e(t.target.error)},t.onsuccess=function(t){var e,n=t.target.result;n?(e=new ou(n),(t=i(n.primaryKey,n.value,e))instanceof nu&&(t=t.catch(function(t){return e.done(),nu.reject(t)}),o.push(t)),e.isDone?r():null===e.Dt?n.continue():n.continue(e.Dt)):r()}}).next(function(){return nu.waitFor(o)})},yu.prototype.options=function(t,e){var n;return void 0!==t&&(\"string\"==typeof t?n=t:e=t),{index:n,range:e}},yu.prototype.cursor=function(t){var e=\"next\";if(t.reverse&&(e=\"prev\"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},yu);function yu(t){this.store=t}function gu(t){return new nu(function(e,n){t.onsuccess=function(t){t=t.target.result;e(t)},t.onerror=function(t){t=vu(t.target.error);n(t)}})}var mu=!1;function vu(t){var e=iu._t(h());if(12.2<=e&&e<13){e=\"An internal error was encountered in the Indexed Database server\";if(0<=t.message.indexOf(e)){var n=new kr(\"internal\",\"IOS_INDEXEDDB_BUG1: IndexedDb has thrown '\"+e+\"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.\");return mu||(mu=!0,setTimeout(function(){throw n},0)),n}}return t}var bu,wu=(n(Eu,bu=Se),Eu);function Eu(t,e){var n=this;return(n=bu.call(this)||this).Mt=t,n.currentSequenceNumber=e,n}function Tu(t,e){return iu.It(t.Mt,e)}var Iu=(Cu.prototype.applyToRemoteDocument=function(t,e){for(var n,r,i,o,s,a,u=e.mutationResults,c=0;c<this.mutations.length;c++){var h=this.mutations[c];h.key.isEqual(t.key)&&(n=h,r=t,i=u[c],h=a=s=o=void 0,n instanceof ls?(s=r,a=i,h=(o=n).value.clone(),o=gs(o.fieldTransforms,s,a.transformResults),h.setAll(o),s.convertToFoundDocument(a.version,h).setHasCommittedMutations()):n instanceof fs?(o=r,s=i,os((a=n).precondition,o)?(h=gs(a.fieldTransforms,o,s.transformResults),(n=o.data).setAll(ys(a)),n.setAll(h),o.convertToFoundDocument(s.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(s.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},Cu.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(r=n[e]).key.isEqual(t.key)&&ss(r,t,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(t.key)&&ss(r,t,this.localWriteTime)},Cu.prototype.applyToLocalDocumentSet=function(n){var r=this;this.mutations.forEach(function(t){var e=n.get(t.key),t=e;r.applyToLocalView(t),e.isValidDocument()||t.convertToNoDocument(zr.min())})},Cu.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ks())},Cu.prototype.isEqual=function(t){return this.batchId===t.batchId&&Kr(this.mutations,t.mutations,as)&&Kr(this.baseMutations,t.baseMutations,as)},Cu),_u=(Du.from=function(t,e,n){Ur(t.mutations.length===n.length);for(var r=Bs,i=t.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Du(t,e,n,r)},Du),Su=(Nu.prototype.withSequenceNumber=function(t){return new Nu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},Nu.prototype.withResumeToken=function(t,e){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},Nu.prototype.withLastLimboFreeSnapshotVersion=function(t){return new Nu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},Nu),Au=function(t){this.Lt=t};function Nu(t,e,n,r,i,o,s){void 0===i&&(i=zr.min()),void 0===o&&(o=zr.min()),void 0===s&&(s=ii.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}function Du(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}function Cu(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}function ku(t,e){if(e.document)return ba(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bi.fromSegments(e.noDocument.path),r=Pu(e.noDocument.readTime),n=Pi.newNoDocument(n,r);return e.hasCommittedMutations?n.setHasCommittedMutations():n}if(e.unknownDocument){n=bi.fromSegments(e.unknownDocument.path),r=Pu(e.unknownDocument.version);return Pi.newUnknownDocument(n,r)}return Vr()}function Ru(t,e,n){var r=xu(n),n=e.key.path.popLast().toArray();if(e.isFoundDocument()){var i={name:fa(o=t.Lt,(s=e).key),fields:s.data.toProto().mapValue.fields,updateTime:aa(o,s.version.toTimestamp())},o=e.hasCommittedMutations;return new Ka(null,null,i,o,r,n)}if(e.isNoDocument()){var s=e.key.path.toArray(),i=Lu(e.version),o=e.hasCommittedMutations;return new Ka(null,new Ba(s,i),null,o,r,n)}if(e.isUnknownDocument()){o=e.key.path.toArray(),e=Lu(e.version);return new Ka(new ja(o,e),null,null,!0,r,n)}return Vr()}function xu(t){t=t.toTimestamp();return[t.seconds,t.nanoseconds]}function Ou(t){t=new Qr(t[0],t[1]);return zr.fromTimestamp(t)}function Lu(t){t=t.toTimestamp();return new Ma(t.seconds,t.nanoseconds)}function Pu(t){t=new Qr(t.seconds,t.nanoseconds);return zr.fromTimestamp(t)}function Mu(e,t){for(var n=(t.baseMutations||[]).map(function(t){return Ea(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var s=t.mutations.map(function(t){return Ea(e.Lt,t)}),a=Qr.fromMillis(t.localWriteTimeMs);return new Iu(t.batchId,a,n,s)}function Fu(t){var e=Pu(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Pu(t.lastLimboFreeSnapshotVersion):zr.min(),r=void 0!==t.query.documents?(Ur(1===(r=t.query).documents.length),Do(Eo(ya(r.documents[0])))):Do(_a(t.query));return new Su(r,t.targetId,0,t.lastListenSequenceNumber,e,n,ii.fromBase64String(t.resumeToken))}function Vu(t,e){var n=Lu(e.snapshotVersion),r=Lu(e.lastLimboFreeSnapshotVersion),i=(Bi(e.target)?Ta:Ia)(t.Lt,e.target),t=e.resumeToken.toBase64();return new Qa(e.targetId,Ui(e.target),n,t,e.sequenceNumber,r,i)}function Uu(t){var e=_a({parent:t.parent,structuredQuery:t.structuredQuery});return\"LAST\"===t.limitType?Co(e,e.limit,\"L\"):e}var qu=(Bu.prototype.getBundleMetadata=function(t,e){return ju(t).get(e).next(function(t){if(t)return{id:(t=t).bundleId,createTime:Pu(t.createTime),version:t.version}})},Bu.prototype.saveBundleMetadata=function(t,e){return ju(t).put({bundleId:(e=e).id,createTime:Lu(ca(e.createTime)),version:e.version})},Bu.prototype.getNamedQuery=function(t,e){return Ku(t).get(e).next(function(t){if(t)return{name:(t=t).name,query:Uu(t.bundledQuery),readTime:Pu(t.readTime)}})},Bu.prototype.saveNamedQuery=function(t,e){return Ku(t).put({name:(e=e).name,readTime:Lu(ca(e.readTime)),bundledQuery:e.bundledQuery})},Bu);function Bu(){}function ju(t){return Tu(t,Xa.store)}function Ku(t){return Tu(t,Ja.store)}var Gu=(Yu.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),nu.resolve()},Yu.prototype.getCollectionParents=function(t,e){return nu.resolve(this.Bt.getEntries(e))},Yu),Qu=(Wu.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ps(ti.comparator),t=!r.has(n);return this.index[e]=r.add(n),t},Wu.prototype.has=function(t){var e=t.lastSegment(),t=t.popLast(),e=this.index[e];return e&&e.has(t)},Wu.prototype.getEntries=function(t){return(this.index[t]||new Ps(ti.comparator)).toArray()},Wu),zu=(Hu.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(this.qt.has(e))return nu.resolve();var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});i={collectionId:r,parent:xa(i)};return Xu(t).put(i)},Hu.prototype.getCollectionParents=function(t,i){var o=[],e=IDBKeyRange.bound([i,\"\"],[Gr(i),\"\"],!1,!0);return Xu(t).Nt(e).next(function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(r.collectionId!==i)break;o.push(La(r.parent))}return o})},Hu);function Hu(){this.qt=new Qu}function Wu(){this.index={}}function Yu(){this.Bt=new Qu}function Xu(t){return Tu(t,Wa.store)}var Ju={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$u=(Zu.withCacheSize=function(t){return new Zu(t,Zu.DEFAULT_COLLECTION_PERCENTILE,Zu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},Zu);function Zu(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}function tc(t,e,n){var r=t.store(Va.store),i=t.store(Ua.store),o=[],t=IDBKeyRange.only(n.batchId),s=0,t=r.Ot({range:t},function(t,e,n){return s++,n.delete()});o.push(t.next(function(){Ur(1===s)}));for(var a=[],u=0,c=n.mutations;u<c.length;u++){var h=c[u],l=Ua.key(e,h.key.path,n.batchId);o.push(i.delete(l)),a.push(h.key)}return nu.waitFor(o).next(function(){return a})}function ec(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Vr();e=t.noDocument}return JSON.stringify(e).length}$u.DEFAULT_COLLECTION_PERCENTILE=10,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$u.DEFAULT=new $u(41943040,$u.DEFAULT_COLLECTION_PERCENTILE,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$u.DISABLED=new $u(-1,0,0);var nc=(rc.Kt=function(t,e,n,r){return Ur(\"\"!==t.uid),new rc(t.isAuthenticated()?t.uid:\"\",e,n,r)},rc.prototype.checkEmpty=function(t){var r=!0,e=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return oc(t).Ot({index:Va.userMutationsIndex,range:e},function(t,e,n){r=!1,n.done()}).next(function(){return r})},rc.prototype.addMutationBatch=function(p,y,g,m){var v=this,b=sc(p),w=oc(p);return w.add({}).next(function(t){Ur(\"number\"==typeof t);for(var e,n,r,i,o,s=new Iu(t,y,g,m),a=(e=v.R,n=v.userId,i=(r=s).baseMutations.map(function(t){return wa(e.Lt,t)}),o=r.mutations.map(function(t){return wa(e.Lt,t)}),new Va(n,r.batchId,r.localWriteTime.toMillis(),i,o)),u=[],c=new Ps(function(t,e){return jr(t.canonicalString(),e.canonicalString())}),h=0,l=m;h<l.length;h++){var f=l[h],d=Ua.key(v.userId,f.key.path,t),c=c.add(f.key.path.popLast());u.push(w.put(a)),u.push(b.put(d,Ua.PLACEHOLDER))}return c.forEach(function(t){u.push(v.Ut.addToCollectionParentIndex(p,t))}),p.addOnCommittedListener(function(){v.Qt[t]=s.keys()}),nu.waitFor(u).next(function(){return s})})},rc.prototype.lookupMutationBatch=function(t,e){var n=this;return oc(t).get(e).next(function(t){return t?(Ur(t.userId===n.userId),Mu(n.R,t)):null})},rc.prototype.jt=function(t,e){var n=this;return this.Qt[e]?nu.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){t=t.keys();return n.Qt[e]=t}return null})},rc.prototype.getNextMutationBatchAfterBatchId=function(t,e){var r=this,i=e+1,e=IDBKeyRange.lowerBound([this.userId,i]),o=null;return oc(t).Ot({index:Va.userMutationsIndex,range:e},function(t,e,n){e.userId===r.userId&&(Ur(e.batchId>=i),o=Mu(r.R,e)),n.done()}).next(function(){return o})},rc.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return oc(t).Ot({index:Va.userMutationsIndex,range:e,reverse:!0},function(t,e,n){r=e.batchId,n.done()}).next(function(){return r})},rc.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return oc(t).Nt(Va.userMutationsIndex,n).next(function(t){return t.map(function(t){return Mu(e.R,t)})})},rc.prototype.getAllMutationBatchesAffectingDocumentKey=function(o,s){var a=this,t=Ua.prefixForPath(this.userId,s.path),t=IDBKeyRange.lowerBound(t),u=[];return sc(o).Ot({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=La(i);if(r===a.userId&&s.path.isEqual(i))return oc(o).get(t).next(function(t){if(!t)throw Vr();Ur(t.userId===a.userId),u.push(Mu(a.R,t))});n.done()}).next(function(){return u})},rc.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var s=this,a=new Ps(jr),n=[];return t.forEach(function(o){var t=Ua.prefixForPath(s.userId,o.path),t=IDBKeyRange.lowerBound(t),t=sc(e).Ot({range:t},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=La(i);r===s.userId&&o.path.isEqual(i)?a=a.add(t):n.done()});n.push(t)}),nu.waitFor(n).next(function(){return s.Wt(e,a)})},rc.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,s=e.path,a=s.length+1,e=Ua.prefixForPath(this.userId,s),e=IDBKeyRange.lowerBound(e),u=new Ps(jr);return sc(t).Ot({range:e},function(t,e,n){var r=t[0],i=t[1],t=t[2],i=La(i);r===o.userId&&s.isPrefixOf(i)?i.length===a&&(u=u.add(t)):n.done()}).next(function(){return o.Wt(t,u)})},rc.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(oc(e).get(t).next(function(t){if(null===t)throw Vr();Ur(t.userId===n.userId),r.push(Mu(n.R,t))}))}),nu.waitFor(i).next(function(){return r})},rc.prototype.removeMutationBatch=function(e,n){var r=this;return tc(e.Mt,this.userId,n).next(function(t){return e.addOnCommittedListener(function(){r.Gt(n.batchId)}),nu.forEach(t,function(t){return r.referenceDelegate.markPotentiallyOrphaned(e,t)})})},rc.prototype.Gt=function(t){delete this.Qt[t]},rc.prototype.performConsistencyCheck=function(e){var i=this;return this.checkEmpty(e).next(function(t){if(!t)return nu.resolve();var t=IDBKeyRange.lowerBound(Ua.prefixForUser(i.userId)),r=[];return sc(e).Ot({range:t},function(t,e,n){t[0]===i.userId?(t=La(t[1]),r.push(t)):n.done()}).next(function(){Ur(0===r.length)})})},rc.prototype.containsKey=function(t,e){return ic(t,this.userId,e)},rc.prototype.zt=function(t){var e=this;return ac(t).get(this.userId).next(function(t){return t||new Fa(e.userId,-1,\"\")})},rc);function rc(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}function ic(t,o,e){var e=Ua.prefixForPath(o,e.path),s=e[1],e=IDBKeyRange.lowerBound(e),a=!1;return sc(t).Ot({range:e,kt:!0},function(t,e,n){var r=t[0],i=t[1];t[2],r===o&&i===s&&(a=!0),n.done()}).next(function(){return a})}function oc(t){return Tu(t,Va.store)}function sc(t){return Tu(t,Ua.store)}function ac(t){return Tu(t,Fa.store)}var uc=(lc.prototype.next=function(){return this.Ht+=2,this.Ht},lc.Jt=function(){return new lc(0)},lc.Yt=function(){return new lc(-1)},lc),cc=(hc.prototype.allocateTargetId=function(n){var r=this;return this.Xt(n).next(function(t){var e=new uc(t.highestTargetId);return t.highestTargetId=e.next(),r.Zt(n,t).next(function(){return t.highestTargetId})})},hc.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return zr.fromTimestamp(new Qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},hc.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},hc.prototype.setTargetsMetadata=function(e,n,r){var i=this;return this.Xt(e).next(function(t){return t.highestListenSequenceNumber=n,r&&(t.lastRemoteSnapshotVersion=r.toTimestamp()),n>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=n),i.Zt(e,t)})},hc.prototype.addTargetData=function(e,n){var r=this;return this.te(e,n).next(function(){return r.Xt(e).next(function(t){return t.targetCount+=1,r.ee(n,t),r.Zt(e,t)})})},hc.prototype.updateTargetData=function(t,e){return this.te(t,e)},hc.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return fc(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return Ur(0<t.targetCount),--t.targetCount,n.Zt(e,t)})},hc.prototype.removeTargets=function(n,r,i){var o=this,s=0,a=[];return fc(n).Ot(function(t,e){e=Fu(e);e.sequenceNumber<=r&&null===i.get(e.targetId)&&(s++,a.push(o.removeTargetData(n,e)))}).next(function(){return nu.waitFor(a)}).next(function(){return s})},hc.prototype.forEachTarget=function(t,n){return fc(t).Ot(function(t,e){e=Fu(e);n(e)})},hc.prototype.Xt=function(t){return dc(t).get(Ha.key).next(function(t){return Ur(null!==t),t})},hc.prototype.Zt=function(t,e){return dc(t).put(Ha.key,e)},hc.prototype.te=function(t,e){return fc(t).put(Vu(this.R,e))},hc.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},hc.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},hc.prototype.getTargetData=function(t,r){var e=Ui(r),e=IDBKeyRange.bound([e,Number.NEGATIVE_INFINITY],[e,Number.POSITIVE_INFINITY]),i=null;return fc(t).Ot({range:e,index:Qa.queryTargetsIndexName},function(t,e,n){e=Fu(e);qi(r,e.target)&&(i=e,n.done())}).next(function(){return i})},hc.prototype.addMatchingKeys=function(n,t,r){var i=this,o=[],s=pc(n);return t.forEach(function(t){var e=xa(t.path);o.push(s.put(new za(r,e))),o.push(i.referenceDelegate.addReference(n,r,t))}),nu.waitFor(o)},hc.prototype.removeMatchingKeys=function(n,t,r){var i=this,o=pc(n);return nu.forEach(t,function(t){var e=xa(t.path);return nu.waitFor([o.delete([r,e]),i.referenceDelegate.removeReference(n,r,t)])})},hc.prototype.removeMatchingKeysForTargetId=function(t,e){t=pc(t),e=IDBKeyRange.bound([e],[e+1],!1,!0);return t.delete(e)},hc.prototype.getMatchingKeysForTargetId=function(t,e){var e=IDBKeyRange.bound([e],[e+1],!1,!0),t=pc(t),r=Ks();return t.Ot({range:e,kt:!0},function(t,e,n){t=La(t[1]),t=new bi(t);r=r.add(t)}).next(function(){return r})},hc.prototype.containsKey=function(t,e){var e=xa(e.path),e=IDBKeyRange.bound([e],[Gr(e)],!1,!0),i=0;return pc(t).Ot({index:za.documentTargetsIndex,kt:!0,range:e},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return 0<i})},hc.prototype.lt=function(t,e){return fc(t).get(e).next(function(t){return t?Fu(t):null})},hc);function hc(t,e){this.referenceDelegate=t,this.R=e}function lc(t){this.Ht=t}function fc(t){return Tu(t,Qa.store)}function dc(t){return Tu(t,Ha.store)}function pc(t){return Tu(t,za.store)}function yc(e){return y(this,void 0,void 0,function(){return g(this,function(t){if(e.code!==Cr.FAILED_PRECONDITION||e.message!==tu)throw e;return Lr(\"LocalStore\",\"Unexpectedly lost primary lease\"),[2]})})}function gc(t,e){var n=t[0],r=t[1],t=e[0],e=e[1],t=jr(n,t);return 0===t?jr(r,e):t}var mc=(_c.prototype.ie=function(){return++this.se},_c.prototype.re=function(t){var e=[t,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(e):gc(e,t=this.buffer.last())<0&&(this.buffer=this.buffer.delete(t).add(e))},Object.defineProperty(_c.prototype,\"maxValue\",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),_c),vc=(Ic.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},Ic.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(Ic.prototype,\"started\",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),Ic.prototype.ae=function(n){var t=this,e=this.oe?3e5:6e4;Lr(\"LruGarbageCollector\",\"Garbage collection scheduled in \"+e+\"ms\"),this.ce=this.asyncQueue.enqueueAfterDelay(\"lru_garbage_collection\",e,function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:this.ce=null,this.oe=!0,t.label=1;case 1:return t.trys.push([1,3,,7]),[4,n.collectGarbage(this.garbageCollector)];case 2:return t.sent(),[3,7];case 3:return du(e=t.sent())?(Lr(\"LruGarbageCollector\",\"Ignoring IndexedDB error during garbage collection: \",e),[3,6]):[3,4];case 4:return[4,yc(e)];case 5:t.sent(),t.label=6;case 6:return[3,7];case 7:return[4,this.ae(n)];case 8:return t.sent(),[2]}})})})},Ic),bc=(Tc.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next(function(t){return Math.floor(e/100*t)})},Tc.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return nu.resolve(Ar.o);var r=new mc(e);return this.ue.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ue.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},Tc.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},Tc.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},Tc.prototype.collect=function(e,n){var r=this;return-1===this.params.cacheSizeCollectionThreshold?(Lr(\"LruGarbageCollector\",\"Garbage collection skipped; disabled\"),nu.resolve(Ju)):this.getCacheSize(e).next(function(t){return t<r.params.cacheSizeCollectionThreshold?(Lr(\"LruGarbageCollector\",\"Garbage collection skipped; Cache size \"+t+\" is lower than threshold \"+r.params.cacheSizeCollectionThreshold),Ju):r.fe(e,n)})},Tc.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},Tc.prototype.fe=function(e,n){var r,i,o,s,a,u,c,h=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return i=t>h.params.maximumSequenceNumbersToCollect?(Lr(\"LruGarbageCollector\",\"Capping sequence numbers to collect down to the maximum of \"+h.params.maximumSequenceNumbersToCollect+\" from \"+t),h.params.maximumSequenceNumbersToCollect):t,s=Date.now(),h.nthSequenceNumber(e,i)}).next(function(t){return r=t,a=Date.now(),h.removeTargets(e,r,n)}).next(function(t){return o=t,u=Date.now(),h.removeOrphanedDocuments(e,r)}).next(function(t){return c=Date.now(),Or()<=p.DEBUG&&Lr(\"LruGarbageCollector\",\"LRU Garbage Collection\\n\\tCounted targets in \"+(s-l)+\"ms\\n\\tDetermined least recently used \"+i+\" in \"+(a-s)+\"ms\\n\\tRemoved \"+o+\" targets in \"+(u-a)+\"ms\\n\\tRemoved \"+t+\" documents in \"+(c-u)+\"ms\\nTotal Duration: \"+(c-l)+\"ms\"),nu.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:t})})},Tc),wc=(Ec.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(e){return n.next(function(t){return e+t})})},Ec.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},Ec.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},Ec.prototype.le=function(t,n){return this.we(t,function(t,e){return n(e)})},Ec.prototype.addReference=function(t,e,n){return Sc(t,n)},Ec.prototype.removeReference=function(t,e,n){return Sc(t,n)},Ec.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},Ec.prototype.markPotentiallyOrphaned=Sc,Ec.prototype._e=function(t,e){return r=e,i=!1,ac(n=t).$t(function(t){return ic(n,t,r).next(function(t){return t&&(i=!0),nu.resolve(!t)})}).next(function(){return i});var n,r,i},Ec.prototype.removeOrphanedDocuments=function(n,r){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(n,function(e,t){t<=r&&(t=i._e(n,e).next(function(t){if(!t)return a++,o.getEntry(n,e).next(function(){return o.removeEntry(e),pc(n).delete([0,xa(e.path)])})}),s.push(t))}).next(function(){return nu.waitFor(s)}).next(function(){return o.apply(n)}).next(function(){return a})},Ec.prototype.removeTarget=function(t,e){e=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,e)},Ec.prototype.updateLimboDocument=Sc,Ec.prototype.we=function(t,r){var i,t=pc(t),o=Ar.o;return t.Ot({index:za.documentTargetsIndex},function(t,e){var n=t[0],t=(t[1],e.path),e=e.sequenceNumber;0===n?(o!==Ar.o&&r(new bi(La(i)),o),o=e,i=t):o=Ar.o}).next(function(){o!==Ar.o&&r(new bi(La(i)),o)})},Ec.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},Ec);function Ec(t,e){this.db=t,this.garbageCollector=new bc(this,e)}function Tc(t,e){this.ue=t,this.params=e}function Ic(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}function _c(t){this.ne=t,this.buffer=new Ps(gc),this.se=0}function Sc(t,e){return pc(t).put((t=t.currentSequenceNumber,new za(0,xa(e.path),t)))}var Ac,Nc=(Oc.prototype.get=function(t){var e=this.mapKeyFn(t),e=this.inner[e];if(void 0!==e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];if(this.equalsFn(o,t))return i}},Oc.prototype.has=function(t){return void 0!==this.get(t)},Oc.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},Oc.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},Oc.prototype.forEach=function(s){Xr(this.inner,function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i[0],i=i[1];s(o,i)}})},Oc.prototype.isEmpty=function(){return Jr(this.inner)},Oc),I=(xc.prototype.getReadTime=function(t){t=this.changes.get(t);return t?t.readTime:zr.min()},xc.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},xc.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Pi.newInvalidDocument(t),readTime:e})},xc.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?nu.resolve(n.document):this.getFromCache(t,e)},xc.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},xc.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},xc.prototype.assertNotApplied=function(){},xc),Dc=(Rc.prototype.addEntry=function(t,e,n){return Pc(t).put(Mc(e),n)},Rc.prototype.removeEntry=function(t,e){t=Pc(t),e=Mc(e);return t.delete(e)},Rc.prototype.updateMetadata=function(e,n){var r=this;return this.getMetadata(e).next(function(t){return t.byteSize+=n,r.me(e,t)})},Rc.prototype.getEntry=function(t,e){var n=this;return Pc(t).get(Mc(e)).next(function(t){return n.ye(e,t)})},Rc.prototype.ge=function(t,e){var n=this;return Pc(t).get(Mc(e)).next(function(t){return{document:n.ye(e,t),size:ec(t)}})},Rc.prototype.getEntries=function(t,e){var n=this,r=Fs;return this.pe(t,e,function(t,e){e=n.ye(t,e);r=r.insert(t,e)}).next(function(){return r})},Rc.prototype.Ee=function(t,e){var r=this,i=Fs,o=new Ds(bi.comparator);return this.pe(t,e,function(t,e){var n=r.ye(t,e);i=i.insert(t,n),o=o.insert(t,ec(e))}).next(function(){return{documents:i,Te:o}})},Rc.prototype.pe=function(t,e,i){if(e.isEmpty())return nu.resolve();var n=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),o=e.getIterator(),s=o.getNext();return Pc(t).Ot({range:n},function(t,e,n){for(var r=bi.fromSegments(t);s&&bi.comparator(s,r)<0;)i(s,null),s=o.getNext();s&&s.isEqual(r)&&(i(s,e),s=o.hasNext()?o.getNext():null),s?n.Ct(s.path.toArray()):n.done()}).next(function(){for(;s;)i(s,null),s=o.hasNext()?o.getNext():null})},Rc.prototype.getDocumentsMatchingQuery=function(t,r,e){var n,i=this,o=Fs,s=r.path.length+1,a={};return e.isEqual(zr.min())?(n=r.path.toArray(),a.range=IDBKeyRange.lowerBound(n)):(n=r.path.toArray(),e=xu(e),a.range=IDBKeyRange.lowerBound([n,e],!0),a.index=Ka.collectionReadTimeIndex),Pc(t).Ot(a,function(t,e,n){t.length===s&&(e=ku(i.R,e),r.path.isPrefixOf(e.key.path)?Oo(r,e)&&(o=o.insert(e.key,e)):n.done())}).next(function(){return o})},Rc.prototype.newChangeBuffer=function(t){return new Cc(this,!!t&&t.trackRemovals)},Rc.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},Rc.prototype.getMetadata=function(t){return Lc(t).get(Ga.key).next(function(t){return Ur(!!t),t})},Rc.prototype.me=function(t,e){return Lc(t).put(Ga.key,e)},Rc.prototype.ye=function(t,e){if(e){e=ku(this.R,e);if(!e.isNoDocument()||!e.version.isEqual(zr.min()))return e}return Pi.newInvalidDocument(t)},Rc),Cc=(n(kc,Ac=I),kc.prototype.applyChanges=function(i){var o=this,s=[],a=0,u=new Ps(function(t,e){return jr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(t,e){var n,r=o.Ae.get(t);e.document.isValidDocument()?(n=Ru(o.Ie.R,e.document,o.getReadTime(t)),u=u.add(t.path.popLast()),e=ec(n),a+=e-r,s.push(o.Ie.addEntry(i,t,n))):(a-=r,o.trackRemovals?(r=Ru(o.Ie.R,Pi.newNoDocument(t,zr.min()),o.getReadTime(t)),s.push(o.Ie.addEntry(i,t,r))):s.push(o.Ie.removeEntry(i,t)))}),u.forEach(function(t){s.push(o.Ie.Ut.addToCollectionParentIndex(i,t))}),s.push(this.Ie.updateMetadata(i,a)),nu.waitFor(s)},kc.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},kc.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},kc);function kc(t,e){var n=this;return(n=Ac.call(this)||this).Ie=t,n.trackRemovals=e,n.Ae=new Nc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),n}function Rc(t,e){this.R=t,this.Ut=e}function xc(){this.changes=new Nc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}function Oc(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}function Lc(t){return Tu(t,Ga.store)}function Pc(t){return Tu(t,Ka.store)}function Mc(t){return t.path.toArray()}var Fc=(Vc.prototype.Rt=function(e,n,t,r){var i=this;Ur(t<r&&0<=t&&r<=11);var o=new ru(\"createOrUpgrade\",n);t<1&&1<=r&&(e.createObjectStore(Pa.store),(s=e).createObjectStore(Fa.store,{keyPath:Fa.keyPath}),s.createObjectStore(Va.store,{keyPath:Va.keyPath,autoIncrement:!0}).createIndex(Va.userMutationsIndex,Va.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Ua.store),Uc(e),e.createObjectStore(Ka.store));var s,a=nu.resolve();return t<3&&3<=r&&(0!==t&&((s=e).deleteObjectStore(za.store),s.deleteObjectStore(Qa.store),s.deleteObjectStore(Ha.store),Uc(e)),a=a.next(function(){return t=o.store(Ha.store),e=new Ha(0,0,zr.min().toTimestamp(),0),t.put(Ha.key,e);var t,e})),t<4&&4<=r&&(a=(a=0!==t?a.next(function(){return n=e,(r=o).store(Va.store).Nt().next(function(t){n.deleteObjectStore(Va.store),n.createObjectStore(Va.store,{keyPath:Va.keyPath,autoIncrement:!0}).createIndex(Va.userMutationsIndex,Va.userMutationsKeyPath,{unique:!0});var e=r.store(Va.store),t=t.map(function(t){return e.put(t)});return nu.waitFor(t)});var n,r}):a).next(function(){e.createObjectStore(Ya.store,{keyPath:Ya.keyPath})})),t<5&&5<=r&&(a=a.next(function(){return i.Re(o)})),t<6&&6<=r&&(a=a.next(function(){return e.createObjectStore(Ga.store),i.be(o)})),t<7&&7<=r&&(a=a.next(function(){return i.ve(o)})),t<8&&8<=r&&(a=a.next(function(){return i.Pe(e,o)})),t<9&&9<=r&&(a=a.next(function(){var t;(t=e).objectStoreNames.contains(\"remoteDocumentChanges\")&&t.deleteObjectStore(\"remoteDocumentChanges\"),(t=n.objectStore(Ka.store)).createIndex(Ka.readTimeIndex,Ka.readTimeIndexPath,{unique:!1}),t.createIndex(Ka.collectionReadTimeIndex,Ka.collectionReadTimeIndexPath,{unique:!1})})),t<10&&10<=r&&(a=a.next(function(){return i.Ve(o)})),a=t<11&&11<=r?a.next(function(){e.createObjectStore(Xa.store,{keyPath:Xa.keyPath}),e.createObjectStore(Ja.store,{keyPath:Ja.keyPath})}):a},Vc.prototype.be=function(e){var n=0;return e.store(Ka.store).Ot(function(t,e){n+=ec(e)}).next(function(){var t=new Ga(n);return e.store(Ga.store).put(Ga.key,t)})},Vc.prototype.Re=function(n){var r=this,t=n.store(Fa.store),i=n.store(Va.store);return t.Nt().next(function(t){return nu.forEach(t,function(e){var t=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return i.Nt(Va.userMutationsIndex,t).next(function(t){return nu.forEach(t,function(t){Ur(t.userId===e.userId);t=Mu(r.R,t);return tc(n,e.userId,t).next(function(){})})})})})},Vc.prototype.ve=function(t){var o=t.store(za.store),e=t.store(Ka.store);return t.store(Ha.store).get(Ha.key).next(function(r){var i=[];return e.Ot(function(t,e){var n=new ti(t),t=[0,xa(n)];i.push(o.get(t).next(function(t){return t?nu.resolve():o.put(new za(0,xa(n),r.highestListenSequenceNumber))}))}).next(function(){return nu.waitFor(i)})})},Vc.prototype.Pe=function(t,e){t.createObjectStore(Wa.store,{keyPath:Wa.keyPath});function r(t){if(i.add(t)){var e=t.lastSegment(),t=t.popLast();return n.put({collectionId:e,parent:xa(t)})}}var n=e.store(Wa.store),i=new Qu;return e.store(Ka.store).Ot({kt:!0},function(t,e){t=new ti(t);return r(t.popLast())}).next(function(){return e.store(Ua.store).Ot({kt:!0},function(t,e){t[0];var n=t[1],n=(t[2],La(n));return r(n.popLast())})})},Vc.prototype.Ve=function(t){var n=this,r=t.store(Qa.store);return r.Ot(function(t,e){e=Fu(e),e=Vu(n.R,e);return r.put(e)})},Vc);function Vc(t){this.R=t}function Uc(t){t.createObjectStore(za.store,{keyPath:za.keyPath}).createIndex(za.documentTargetsIndex,za.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Qa.store,{keyPath:Qa.keyPath}).createIndex(Qa.queryTargetsIndexName,Qa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ha.store)}var qc=\"Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.\",Bc=(jc.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new kr(Cr.FAILED_PRECONDITION,qc);return e.We(),e.Ge(),e.ze(),e.runTransaction(\"getHighestListenSequenceNumber\",\"readonly\",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new Ar(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},jc.prototype.He=function(n){var t=this;return this.Me=function(e){return y(t,void 0,void 0,function(){return g(this,function(t){return this.started?[2,n(e)]:[2]})})},n(this.isPrimary)},jc.prototype.setDatabaseDeletedListener=function(n){var t=this;this.Be.vt(function(e){return y(t,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return null===e.newVersion?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},jc.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return y(e,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},jc.prototype.je=function(){var n=this;return this.runTransaction(\"updateClientMetadataAndTryBecomePrimary\",\"readwrite\",function(e){return Gc(e).put(new Ya(n.clientId,Date.now(),n.networkEnabled,n.inForeground)).next(function(){if(n.isPrimary)return n.Je(e).next(function(t){t||(n.isPrimary=!1,n.Se.enqueueRetryable(function(){return n.Me(!1)}))})}).next(function(){return n.Ye(e)}).next(function(t){return n.isPrimary&&!t?n.Xe(e).next(function(){return!1}):!!t&&n.Ze(e).next(function(){return!0})})}).catch(function(t){if(du(t))return Lr(\"IndexedDbPersistence\",\"Failed to extend owner lease: \",t),n.isPrimary;if(!n.allowTabSynchronization)throw t;return Lr(\"IndexedDbPersistence\",\"Releasing owner lease after error during lease refresh\",t),!1}).then(function(t){n.isPrimary!==t&&n.Se.enqueueRetryable(function(){return n.Me(t)}),n.isPrimary=t})},jc.prototype.Je=function(t){var e=this;return Kc(t).get(Pa.key).next(function(t){return nu.resolve(e.tn(t))})},jc.prototype.en=function(t){return Gc(t).delete(this.clientId)},jc.prototype.nn=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o=this;return g(this,function(t){switch(t.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction(\"maybeGarbageCollectMultiClientState\",\"readwrite-primary\",function(t){var r=Tu(t,Ya.store);return r.Nt().next(function(t){var e=o.rn(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)});return nu.forEach(n,function(t){return r.delete(t.clientId)}).next(function(){return n})})}).catch(function(){return[]})]);case 1:if(e=t.sent(),this.Ke)for(n=0,r=e;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));t.label=2;case 2:return[2]}})})},jc.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay(\"client_metadata_refresh\",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},jc.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},jc.prototype.Ye=function(e){var r=this;return this.Ce?nu.resolve(!0):Kc(e).get(Pa.key).next(function(t){if(null!==t&&r.sn(t.leaseTimestampMs,5e3)&&!r.cn(t.ownerId)){if(r.tn(t)&&r.networkEnabled)return!0;if(!r.tn(t)){if(!t.allowTabSynchronization)throw new kr(Cr.FAILED_PRECONDITION,qc);return!1}}return!(!r.networkEnabled||!r.inForeground)||Gc(e).Nt().next(function(t){return void 0===r.rn(t,5e3).find(function(t){if(r.clientId!==t.clientId){var e=!r.networkEnabled&&t.networkEnabled,n=!r.inForeground&&t.inForeground,t=r.networkEnabled===t.networkEnabled;if(e||n&&t)return!0}return!1})})}).next(function(t){return r.isPrimary!==t&&Lr(\"IndexedDbPersistence\",\"Client \"+(t?\"is\":\"is not\")+\" eligible for a primary lease.\"),t})},jc.prototype.shutdown=function(){return y(this,void 0,void 0,function(){var n=this;return g(this,function(t){switch(t.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction(\"shutdown\",\"readwrite\",[Pa.store,Ya.store],function(t){var e=new wu(t,Ar.o);return n.Xe(e).next(function(){return n.en(e)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},jc.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},jc.prototype.fn=function(){var e=this;return this.runTransaction(\"getActiveClients\",\"readonly\",function(t){return Gc(t).Nt().next(function(t){return e.rn(t,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(jc.prototype,\"started\",{get:function(){return this.xe},enumerable:!1,configurable:!0}),jc.prototype.getMutationQueue=function(t){return nc.Kt(t,this.R,this.Ut,this.referenceDelegate)},jc.prototype.getTargetCache=function(){return this.qe},jc.prototype.getRemoteDocumentCache=function(){return this.Ue},jc.prototype.getIndexManager=function(){return this.Ut},jc.prototype.getBundleCache=function(){return this.Qe},jc.prototype.runTransaction=function(e,n,r){var i=this;Lr(\"IndexedDbPersistence\",\"Starting transaction:\",e);var o,t=\"readonly\"===n?\"readonly\":\"readwrite\";return this.Be.runTransaction(e,t,Za,function(t){return o=new wu(t,i.Ne?i.Ne.next():Ar.o),\"readwrite-primary\"===n?i.Je(o).next(function(t){return!!t||i.Ye(o)}).next(function(t){if(!t)throw Pr(\"Failed to obtain primary lease for action '\"+e+\"'.\"),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new kr(Cr.FAILED_PRECONDITION,tu);return r(o)}).next(function(t){return i.Ze(o).next(function(){return t})}):i.dn(o).next(function(){return r(o)})}).then(function(t){return o.raiseOnCommittedEvent(),t})},jc.prototype.dn=function(t){var e=this;return Kc(t).get(Pa.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new kr(Cr.FAILED_PRECONDITION,qc)})},jc.prototype.Ze=function(t){var e=new Pa(this.clientId,this.allowTabSynchronization,Date.now());return Kc(t).put(Pa.key,e)},jc.yt=function(){return iu.yt()},jc.prototype.Xe=function(t){var e=this,n=Kc(t);return n.get(Pa.key).next(function(t){return e.tn(t)?(Lr(\"IndexedDbPersistence\",\"Releasing primary lease.\"),n.delete(Pa.key)):nu.resolve()})},jc.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||n<t&&(Pr(\"Detected an update time that is in the future: \"+t+\" > \"+n),1))},jc.prototype.We=function(){var t=this;null!==this.document&&\"function\"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=\"visible\"===t.document.visibilityState,t.je()})},this.document.addEventListener(\"visibilitychange\",this.ke),this.inForeground=\"visible\"===this.document.visibilityState)},jc.prototype.un=function(){this.ke&&(this.document.removeEventListener(\"visibilitychange\",this.ke),this.ke=null)},jc.prototype.Ge=function(){var t,e=this;\"function\"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener(\"pagehide\",this.Fe))},jc.prototype.hn=function(){this.Fe&&(this.window.removeEventListener(\"pagehide\",this.Fe),this.Fe=null)},jc.prototype.cn=function(t){try{var e=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Lr(\"IndexedDbPersistence\",\"Client '\"+t+\"' \"+(e?\"is\":\"is not\")+\" zombied in LocalStorage\"),e}catch(t){return Pr(\"IndexedDbPersistence\",\"Failed to get zombied client id.\",t),!1}},jc.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Pr(\"Failed to set zombie client id.\",t)}},jc.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},jc.prototype.on=function(t){return\"firestore_zombie_\"+this.persistenceKey+\"_\"+t},jc);function jc(t,e,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Se=i,this.window=o,this.document=s,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!jc.yt())throw new kr(Cr.UNIMPLEMENTED,\"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.\");this.referenceDelegate=new wc(this,r),this.Le=e+\"main\",this.R=new Au(a),this.Be=new iu(this.Le,11,new Fc(this.R)),this.qe=new cc(this.referenceDelegate,this.R),this.Ut=new zu,this.Ue=(e=this.R,a=this.Ut,new Dc(e,a)),this.Qe=new qu,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===c&&Pr(\"IndexedDbPersistence\",\"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page.\"))}function Kc(t){return Tu(t,Pa.store)}function Gc(t){return Tu(t,Ya.store)}function Qc(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+=\".\"+t.database),\"firestore/\"+e+\"/\"+n+\"/\"}function zc(t,e){this.progress=t,this.wn=e}var Hc=(th.prototype.mn=function(e,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(t){return r.yn(e,n,t)})},th.prototype.yn=function(t,e,r){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,n=r;e<n.length;e++)n[e].applyToLocalView(t);return t})},th.prototype.gn=function(t,i){t.forEach(function(t,e){for(var n=0,r=i;n<r.length;n++)r[n].applyToLocalView(e)})},th.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},th.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},th.prototype.getDocumentsMatchingQuery=function(t,e,n){return r=e,bi.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(t,e.path):Ao(e)?this.In(t,e,n):this.An(t,e,n);var r},th.prototype.Tn=function(t,e){return this.mn(t,new bi(e)).next(function(t){var e=qs;return e=t.isFoundDocument()?e.insert(t.key,t):e})},th.prototype.In=function(n,r,i){var o=this,s=r.collectionGroup,a=qs;return this.Ut.getCollectionParents(n,s).next(function(t){return nu.forEach(t,function(t){var e,e=(e=r,t=t.child(s),new bo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt));return o.An(n,e,i).next(function(t){t.forEach(function(t,e){a=a.insert(t,e)})})}).next(function(){return a})})},th.prototype.An=function(e,n,t){var c,h,r=this;return this.Ue.getDocumentsMatchingQuery(e,n,t).next(function(t){return c=t,r._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(t){return h=t,r.Rn(e,h,c).next(function(t){c=t;for(var e=0,n=h;e<n.length;e++)for(var r=n[e],i=0,o=r.mutations;i<o.length;i++){var s=o[i],a=s.key,u=c.get(a);null==u&&(u=Pi.newInvalidDocument(a),c=c.insert(a,u)),ss(s,u,r.localWriteTime),u.isFoundDocument()||(c=c.remove(a))}})}).next(function(){return c.forEach(function(t,e){Oo(n,e)||(c=c.remove(t))}),c})},th.prototype.Rn=function(t,e,n){for(var r=Ks(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof fs&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},th),Wc=(Zc.Pn=function(t,e){for(var n=Ks(),r=Ks(),i=0,o=e.docChanges;i<o.length;i++){var s=o[i];switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}}return new Zc(t,e.fromCache,n,r)},Zc),Yc=($c.prototype.Vn=function(t){this.Sn=t},$c.prototype.getDocumentsMatchingQuery=function(e,r,i,o){var s=this;return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())||i.isEqual(zr.min())?this.Dn(e,r):this.Sn.pn(e,o).next(function(t){var n=s.Cn(r,t);return(To(r)||Io(r))&&s.Nn(r.limitType,n,o,i)?s.Dn(e,r):(Or()<=p.DEBUG&&Lr(\"QueryEngine\",\"Re-using previous result from %s to execute query: %s\",i.toString(),xo(r)),s.Sn.getDocumentsMatchingQuery(e,r,i).next(function(e){return n.forEach(function(t){e=e.insert(t.key,t)}),e}))})},$c.prototype.Cn=function(n,t){var r=new Ps(Lo(n));return t.forEach(function(t,e){Oo(n,e)&&(r=r.add(e))}),r},$c.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;e=\"F\"===t?e.last():e.first();return!!e&&(e.hasPendingWrites||0<e.version.compareTo(r))},$c.prototype.Dn=function(t,e){return Or()<=p.DEBUG&&Lr(\"QueryEngine\",\"Using full collection scan to execute query:\",xo(e)),this.Sn.getDocumentsMatchingQuery(t,e,zr.min())},$c),Xc=(Jc.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction(\"Collect garbage\",\"readwrite-primary\",function(t){return e.collect(t,n.Fn)})},Jc);function Jc(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Ds(jr),this.kn=new Nc(Ui,qi),this.On=zr.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Hc(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}function $c(){}function Zc(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}function th(t,e,n){this.Ue=t,this._n=e,this.Ut=n}function eh(t,e,n,r){return new Xc(t,e,n,r)}function nh(i,o){return y(this,void 0,void 0,function(){var e,n,v,r;return g(this,function(t){switch(t.label){case 0:return n=(e=i)._n,v=e.Mn,[4,e.persistence.runTransaction(\"Handle user change\",\"readonly\",function(g){var m;return e._n.getAllMutationBatches(g).next(function(t){return m=t,n=e.persistence.getMutationQueue(o),v=new Hc(e.$n,n,e.persistence.getIndexManager()),n.getAllMutationBatches(g)}).next(function(t){for(var e=[],n=[],r=Ks(),i=0,o=m;i<o.length;i++){var s=o[i];e.push(s.batchId);for(var a=0,u=s.mutations;a<u.length;a++)var c=u[a],r=r.add(c.key)}for(var h=0,l=t;h<l.length;h++){var f=l[h];n.push(f.batchId);for(var d=0,p=f.mutations;d<p.length;d++){var y=p[d];r=r.add(y.key)}}return v.pn(g,r).next(function(t){return{Ln:t,removedBatchIds:e,addedBatchIds:n}})})})];case 1:return r=t.sent(),[2,(e._n=n,e.Mn=v,e.xn.Vn(e.Mn),r)]}})})}function rh(t,h){var l=t;return l.persistence.runTransaction(\"Acknowledge batch\",\"readwrite-primary\",function(t){var e,r,i,o,s,n,a,u=h.batch.keys(),c=l.$n.newChangeBuffer({trackRemovals:!0});return e=l,r=t,o=c,s=(i=h).batch,n=s.keys(),a=nu.resolve(),n.forEach(function(n){a=a.next(function(){return o.getEntry(r,n)}).next(function(t){var e=i.docVersions.get(n);Ur(null!==e),t.version.compareTo(e)<0&&(s.applyToRemoteDocument(t,i),t.isValidDocument()&&o.addEntry(t,i.commitVersion))})}),a.next(function(){return e._n.removeMutationBatch(r,s)}).next(function(){return c.apply(t)}).next(function(){return l._n.performConsistencyCheck(t)}).next(function(){return l.Mn.pn(t,u)})})}function ih(t){var e=t;return e.persistence.runTransaction(\"Get last remote snapshot version\",\"readonly\",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function oh(t,r){var u=t,c=r.snapshotVersion,h=u.Fn;return u.persistence.runTransaction(\"Apply remote event\",\"readwrite-primary\",function(s){var t=u.$n.newChangeBuffer({trackRemovals:!0});h=u.Fn;var a=[];r.targetChanges.forEach(function(t,e){var n,r,i,o=h.get(e);o&&(a.push(u.qe.removeMatchingKeys(s,t.removedDocuments,e).next(function(){return u.qe.addMatchingKeys(s,t.addedDocuments,e)})),0<(i=t.resumeToken).approximateByteSize()&&(n=o.withResumeToken(i,c).withSequenceNumber(s.currentSequenceNumber),h=h.insert(e,n),r=o,i=t,Ur(0<(o=n).resumeToken.approximateByteSize()),(0===r.resumeToken.approximateByteSize()||3e8<=o.snapshotVersion.toMicroseconds()-r.snapshotVersion.toMicroseconds()||0<i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size)&&a.push(u.qe.updateTargetData(s,n))))});var e,n=Fs;return r.documentUpdates.forEach(function(t,e){r.resolvedLimboDocuments.has(t)&&a.push(u.persistence.referenceDelegate.updateLimboDocument(s,t))}),a.push(sh(s,t,r.documentUpdates,c,void 0).next(function(t){n=t})),c.isEqual(zr.min())||(e=u.qe.getLastRemoteSnapshotVersion(s).next(function(t){return u.qe.setTargetsMetadata(s,s.currentSequenceNumber,c)}),a.push(e)),nu.waitFor(a).next(function(){return t.apply(s)}).next(function(){return u.Mn.En(s,n)}).next(function(){return n})}).then(function(t){return u.Fn=h,t})}function sh(t,s,e,a,u){var n=Ks();return e.forEach(function(t){return n=n.add(t)}),s.getEntries(t,n).next(function(i){var o=Fs;return e.forEach(function(t,e){var n=i.get(t),r=(null==u?void 0:u.get(t))||a;e.isNoDocument()&&e.version.isEqual(zr.min())?(s.removeEntry(t,r),o=o.insert(t,e)):!n.isValidDocument()||0<e.version.compareTo(n.version)||0===e.version.compareTo(n.version)&&n.hasPendingWrites?(s.addEntry(e,r),o=o.insert(t,e)):Lr(\"LocalStore\",\"Ignoring outdated watch update for \",t,\". Current version:\",n.version,\" Watch version:\",e.version)}),o})}function ah(t,r){var i=t;return i.persistence.runTransaction(\"Allocate target\",\"readwrite\",function(e){var n;return i.qe.getTargetData(e,r).next(function(t){return t?(n=t,nu.resolve(n)):i.qe.allocateTargetId(e).next(function(t){return n=new Su(r,t,0,e.currentSequenceNumber),i.qe.addTargetData(e,n).next(function(){return n})})})}).then(function(t){var e=i.Fn.get(t.targetId);return(null===e||0<t.snapshotVersion.compareTo(e.snapshotVersion))&&(i.Fn=i.Fn.insert(t.targetId,t),i.kn.set(r,t.targetId)),t})}function uh(i,o,s){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:n=(e=i).Fn.get(o),r=s?\"readwrite\":\"readwrite-primary\",t.label=1;case 1:return t.trys.push([1,4,,5]),s?[3,3]:[4,e.persistence.runTransaction(\"Release target\",r,function(t){return e.persistence.referenceDelegate.removeTarget(t,n)})];case 2:t.sent(),t.label=3;case 3:return[3,5];case 4:if(!du(r=t.sent()))throw r;return Lr(\"LocalStore\",\"Failed to update sequence numbers for target \"+o+\": \"+r),[3,5];case 5:return e.Fn=e.Fn.remove(o),e.kn.delete(n.target),[2]}})})}function ch(t,o,s){var a=t,u=zr.min(),c=Ks();return a.persistence.runTransaction(\"Execute query\",\"readonly\",function(e){return t=a,n=e,r=Do(o),(void 0!==(t=(i=t).kn.get(r))?nu.resolve(i.Fn.get(t)):i.qe.getTargetData(n,r)).next(function(t){if(t)return u=t.lastLimboFreeSnapshotVersion,a.qe.getMatchingKeysForTargetId(e,t.targetId).next(function(t){c=t})}).next(function(){return a.xn.getDocumentsMatchingQuery(e,o,s?u:zr.min(),s?c:Ks())}).next(function(t){return{documents:t,Bn:c}});var t,n,r,i})}function hh(t,e){var n=t,r=n.qe,t=n.Fn.get(e);return t?Promise.resolve(t.target):n.persistence.runTransaction(\"Get target data\",\"readonly\",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function lh(t){var s=t;return s.persistence.runTransaction(\"Get new document changes\",\"readonly\",function(t){return e=s.$n,n=t,t=s.On,r=e,i=Fs,o=xu(t),t=Pc(n),n=IDBKeyRange.lowerBound(o,!0),t.Ot({index:Ka.readTimeIndex,range:n},function(t,e){var n=ku(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Ou(o)}});var e,n,r,i,o}).then(function(t){var e=t.wn,t=t.readTime;return s.On=t,e})}function fh(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return[2,(e=n).persistence.runTransaction(\"Synchronize last document change read time\",\"readonly\",function(t){return t=Pc(t),r=zr.min(),t.Ot({index:Ka.readTimeIndex,reverse:!0},function(t,e,n){e.readTime&&(r=Ou(e.readTime)),n.done()}).next(function(){return r});var r}).then(function(t){e.On=t})]})})}var dh,ph,yh=(Mh.prototype.getBundleMetadata=function(t,e){return nu.resolve(this.Kn.get(e))},Mh.prototype.saveBundleMetadata=function(t,e){return this.Kn.set(e.id,{id:e.id,version:e.version,createTime:ca(e.createTime)}),nu.resolve()},Mh.prototype.getNamedQuery=function(t,e){return nu.resolve(this.jn.get(e))},Mh.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(e=e).name,query:Uu(e.bundledQuery),readTime:ca(e.readTime)}),nu.resolve()},Mh),gh=(Ph.prototype.isEmpty=function(){return this.Wn.isEmpty()},Ph.prototype.addReference=function(t,e){e=new mh(t,e);this.Wn=this.Wn.add(e),this.zn=this.zn.add(e)},Ph.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},Ph.prototype.removeReference=function(t,e){this.Yn(new mh(t,e))},Ph.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},Ph.prototype.Zn=function(t){var e=this,n=new bi(new ti([])),r=new mh(n,t),t=new mh(n,t+1),i=[];return this.zn.forEachInRange([r,t],function(t){e.Yn(t),i.push(t.key)}),i},Ph.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},Ph.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},Ph.prototype.es=function(t){var e=new bi(new ti([])),n=new mh(e,t),t=new mh(e,t+1),r=Ks();return this.zn.forEachInRange([n,t],function(t){r=r.add(t.key)}),r},Ph.prototype.containsKey=function(t){var e=new mh(t,0),e=this.Wn.firstAfterOrEqual(e);return null!==e&&t.isEqual(e.key)},Ph),mh=(Lh.Gn=function(t,e){return bi.comparator(t.key,e.key)||jr(t.ns,e.ns)},Lh.Hn=function(t,e){return jr(t.ns,e.ns)||bi.comparator(t.key,e.key)},Lh),vh=(Oh.prototype.checkEmpty=function(t){return nu.resolve(0===this._n.length)},Oh.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1];n=new Iu(i,e,n,r);this._n.push(n);for(var o=0,s=r;o<s.length;o++){var a=s[o];this.rs=this.rs.add(new mh(a.key,i)),this.Ut.addToCollectionParentIndex(t,a.key.path.popLast())}return nu.resolve(n)},Oh.prototype.lookupMutationBatch=function(t,e){return nu.resolve(this.os(e))},Oh.prototype.getNextMutationBatchAfterBatchId=function(t,e){e+=1,e=this.cs(e),e=e<0?0:e;return nu.resolve(this._n.length>e?this._n[e]:null)},Oh.prototype.getHighestUnacknowledgedBatchId=function(){return nu.resolve(0===this._n.length?-1:this.ss-1)},Oh.prototype.getAllMutationBatches=function(t){return nu.resolve(this._n.slice())},Oh.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new mh(e,0),e=new mh(e,Number.POSITIVE_INFINITY),i=[];return this.rs.forEachInRange([r,e],function(t){t=n.os(t.ns);i.push(t)}),nu.resolve(i)},Oh.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ps(jr);return e.forEach(function(t){var e=new mh(t,0),t=new mh(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,t],function(t){r=r.add(t.ns)})}),nu.resolve(this.us(r))},Oh.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,e=n;bi.isDocumentKey(e)||(e=e.child(\"\"));var e=new mh(new bi(e),0),i=new Ps(jr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(i=i.add(t.ns)),!0)},e),nu.resolve(this.us(i))},Oh.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){t=e.os(t);null!==t&&n.push(t)}),n},Oh.prototype.removeMutationBatch=function(n,r){var i=this;Ur(0===this.hs(r.batchId,\"removed\")),this._n.shift();var o=this.rs;return nu.forEach(r.mutations,function(t){var e=new mh(t.key,r.batchId);return o=o.delete(e),i.referenceDelegate.markPotentiallyOrphaned(n,t.key)}).next(function(){i.rs=o})},Oh.prototype.Gt=function(t){},Oh.prototype.containsKey=function(t,e){var n=new mh(e,0),n=this.rs.firstAfterOrEqual(n);return nu.resolve(e.isEqual(n&&n.key))},Oh.prototype.performConsistencyCheck=function(t){return this._n.length,nu.resolve()},Oh.prototype.hs=function(t,e){return this.cs(t)},Oh.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},Oh.prototype.os=function(t){t=this.cs(t);return t<0||t>=this._n.length?null:this._n[t]},Oh),bh=(xh.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,i=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:i,readTime:n}),this.size+=i-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},xh.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},xh.prototype.getEntry=function(t,e){var n=this.docs.get(e);return nu.resolve(n?n.document.clone():Pi.newInvalidDocument(e))},xh.prototype.getEntries=function(t,e){var n=this,r=Fs;return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Pi.newInvalidDocument(t))}),nu.resolve(r)},xh.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Fs,i=new bi(e.path.child(\"\")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,s=u.document,u=u.readTime;if(!e.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||Oo(e,s)&&(r=r.insert(s.key,s.clone()))}return nu.resolve(r)},xh.prototype.fs=function(t,e){return nu.forEach(this.docs,function(t){return e(t)})},xh.prototype.newChangeBuffer=function(t){return new wh(this)},xh.prototype.getSize=function(t){return nu.resolve(this.size)},xh),wh=(n(Rh,ph=I),Rh.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(t,e){e.document.isValidDocument()?i.push(r.Ie.addEntry(n,e.document,r.getReadTime(t))):r.Ie.removeEntry(t)}),nu.waitFor(i)},Rh.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},Rh.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},Rh),Eh=(kh.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(t,e){return n(e)}),nu.resolve()},kh.prototype.getLastRemoteSnapshotVersion=function(t){return nu.resolve(this.lastRemoteSnapshotVersion)},kh.prototype.getHighestSequenceNumber=function(t){return nu.resolve(this.ws)},kh.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),nu.resolve(this.highestTargetId)},kh.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),nu.resolve()},kh.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new uc(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},kh.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,nu.resolve()},kh.prototype.updateTargetData=function(t,e){return this.te(e),nu.resolve()},kh.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),--this.targetCount,nu.resolve()},kh.prototype.removeTargets=function(n,r,i){var o=this,s=0,a=[];return this.ds.forEach(function(t,e){e.sequenceNumber<=r&&null===i.get(e.targetId)&&(o.ds.delete(t),a.push(o.removeMatchingKeysForTargetId(n,e.targetId)),s++)}),nu.waitFor(a).next(function(){return s})},kh.prototype.getTargetCount=function(t){return nu.resolve(this.targetCount)},kh.prototype.getTargetData=function(t,e){e=this.ds.get(e)||null;return nu.resolve(e)},kh.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),nu.resolve()},kh.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),nu.waitFor(i)},kh.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),nu.resolve()},kh.prototype.getMatchingKeysForTargetId=function(t,e){e=this._s.es(e);return nu.resolve(e)},kh.prototype.containsKey=function(t,e){return nu.resolve(this._s.containsKey(e))},kh),Th=(Ch.prototype.start=function(){return Promise.resolve()},Ch.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(Ch.prototype,\"started\",{get:function(){return this.xe},enumerable:!1,configurable:!0}),Ch.prototype.setDatabaseDeletedListener=function(){},Ch.prototype.setNetworkEnabled=function(){},Ch.prototype.getIndexManager=function(){return this.Ut},Ch.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new vh(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},Ch.prototype.getTargetCache=function(){return this.qe},Ch.prototype.getRemoteDocumentCache=function(){return this.Ue},Ch.prototype.getBundleCache=function(){return this.Qe},Ch.prototype.runTransaction=function(t,e,n){var r=this;Lr(\"MemoryPersistence\",\"Starting transaction:\",t);var i=new Ih(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},Ch.prototype.Is=function(e,n){return nu.or(Object.values(this.gs).map(function(t){return function(){return t.containsKey(e,n)}}))},Ch),Ih=(n(Dh,dh=Se),Dh),_h=(Nh.bs=function(t){return new Nh(t)},Object.defineProperty(Nh.prototype,\"vs\",{get:function(){if(this.Rs)return this.Rs;throw Vr()},enumerable:!1,configurable:!0}),Nh.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),nu.resolve()},Nh.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),nu.resolve()},Nh.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),nu.resolve()},Nh.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},Nh.prototype.Es=function(){this.Rs=new Set},Nh.prototype.Ts=function(n){var r=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nu.forEach(this.vs,function(t){var e=bi.fromPath(t);return r.Ps(n,e).next(function(t){t||i.removeEntry(e)})}).next(function(){return r.Rs=null,i.apply(n)})},Nh.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},Nh.prototype.ps=function(t){return 0},Nh.prototype.Ps=function(t,e){var n=this;return nu.or([function(){return nu.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},Nh),Sh=(Ah.prototype.isAuthenticated=function(){return null!=this.uid},Ah.prototype.toKey=function(){return this.isAuthenticated()?\"uid:\"+this.uid:\"anonymous-user\"},Ah.prototype.isEqual=function(t){return t.uid===this.uid},Ah);function Ah(t){this.uid=t}function Nh(t){this.persistence=t,this.As=new gh,this.Rs=null}function Dh(t){var e=this;return(e=dh.call(this)||this).currentSequenceNumber=t,e}function Ch(t,e){var n=this;this.gs={},this.Ne=new Ar(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Eh(this),this.Ut=new Gu,this.Ue=(t=this.Ut,new bh(t,function(t){return n.referenceDelegate.ps(t)})),this.R=new Au(e),this.Qe=new yh(this.R)}function kh(t){this.persistence=t,this.ds=new Nc(Ui,qi),this.lastRemoteSnapshotVersion=zr.min(),this.highestTargetId=0,this.ws=0,this._s=new gh,this.targetCount=0,this.ys=uc.Jt()}function Rh(t){var e=this;return(e=ph.call(this)||this).Ie=t,e}function xh(t,e){this.Ut=t,this.ls=e,this.docs=new Ds(bi.comparator),this.size=0}function Oh(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Ps(mh.Gn)}function Lh(t,e){this.key=t,this.ns=e}function Ph(){this.Wn=new Ps(mh.Gn),this.zn=new Ps(mh.Hn)}function Mh(t){this.R=t,this.Kn=new Map,this.jn=new Map}function Fh(t,e){return\"firestore_clients_\"+t+\"_\"+e}function Vh(t,e,n){n=\"firestore_mutations_\"+t+\"_\"+n;return e.isAuthenticated()&&(n+=\"_\"+e.uid),n}function Uh(t,e){return\"firestore_targets_\"+t+\"_\"+e}Sh.UNAUTHENTICATED=new Sh(null),Sh.GOOGLE_CREDENTIALS=new Sh(\"google-credentials-uid\"),Sh.FIRST_PARTY=new Sh(\"first-party-uid\");var qh,Bh=(hl.Vs=function(t,e,n){var r,i=JSON.parse(n),o=\"object\"==typeof i&&-1!==[\"pending\",\"acknowledged\",\"rejected\"].indexOf(i.state)&&(void 0===i.error||\"object\"==typeof i.error);return o&&i.error&&(o=\"string\"==typeof i.error.message&&\"string\"==typeof i.error.code)&&(r=new kr(i.error.code,i.error.message)),o?new hl(t,e,i.state,r):(Pr(\"SharedClientState\",\"Failed to parse mutation state for ID '\"+e+\"': \"+n),null)},hl.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},hl),jh=(cl.Vs=function(t,e){var n,r=JSON.parse(e),i=\"object\"==typeof r&&-1!==[\"not-current\",\"current\",\"rejected\"].indexOf(r.state)&&(void 0===r.error||\"object\"==typeof r.error);return i&&r.error&&(i=\"string\"==typeof r.error.message&&\"string\"==typeof r.error.code)&&(n=new kr(r.error.code,r.error.message)),i?new cl(t,r.state,n):(Pr(\"SharedClientState\",\"Failed to parse target state for ID '\"+t+\"': \"+e),null)},cl.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},cl),Kh=(ul.Vs=function(t,e){for(var n=JSON.parse(e),r=\"object\"==typeof n&&n.activeTargetIds instanceof Array,i=Gs,o=0;r&&o<n.activeTargetIds.length;++o)r=vi(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new ul(t,i):(Pr(\"SharedClientState\",\"Failed to parse client data for instance '\"+t+\"': \"+e),null)},ul),Gh=(al.Vs=function(t){var e=JSON.parse(t);return\"object\"==typeof e&&-1!==[\"Unknown\",\"Online\",\"Offline\"].indexOf(e.onlineState)&&\"string\"==typeof e.clientId?new al(e.clientId,e.onlineState):(Pr(\"SharedClientState\",\"Failed to parse online state: \"+t),null)},al),Qh=(sl.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},sl.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},sl.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},sl),zh=(ol.yt=function(t){return!(!t||!t.localStorage)},ol.prototype.start=function(){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l=this;return g(this,function(t){switch(t.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=t.sent(),e=0,n=s;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Fh(this.persistenceKey,r)))&&(o=Kh.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)h=c[u],this.Fs(h);return this.Os=[],this.window.addEventListener(\"pagehide\",function(){return l.shutdown()}),this.started=!0,[2]}})})},ol.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},ol.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},ol.prototype.isActiveQueryTarget=function(n){var r=!1;return this.ks.forEach(function(t,e){e.activeTargetIds.has(n)&&(r=!0)}),r},ol.prototype.addPendingMutation=function(t){this.zs(t,\"pending\")},ol.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},ol.prototype.addLocalQueryTarget=function(t){var e,n=\"not-current\";return this.isActiveQueryTarget(t)&&(!(e=this.storage.getItem(Uh(this.persistenceKey,t)))||(e=jh.Vs(t,e))&&(n=e.state)),this.Js.Ds(t),this.Ks(),n},ol.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},ol.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},ol.prototype.clearQueryState=function(t){this.removeItem(Uh(this.persistenceKey,t))},ol.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},ol.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},ol.prototype.setOnlineState=function(t){this.Xs(t)},ol.prototype.notifyBundleLoaded=function(){this.Zs()},ol.prototype.shutdown=function(){this.started&&(this.window.removeEventListener(\"storage\",this.xs),this.removeItem(this.$s),this.started=!1)},ol.prototype.getItem=function(t){var e=this.storage.getItem(t);return Lr(\"SharedClientState\",\"READ\",t,e),e},ol.prototype.setItem=function(t,e){Lr(\"SharedClientState\",\"SET\",t,e),this.storage.setItem(t,e)},ol.prototype.removeItem=function(t){Lr(\"SharedClientState\",\"REMOVE\",t),this.storage.removeItem(t)},ol.prototype.Fs=function(t){var e=this,o=t;o.storageArea===this.storage&&(Lr(\"SharedClientState\",\"EVENT\",o.key,o.newValue),o.key!==this.$s?this.Se.enqueueRetryable(function(){return y(e,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return e=this.ti(o.key),[2,this.ei(e,null)];if(e=this.ni(o.key,o.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(n=this.si(o.key,o.newValue)))return[2,this.ii(n)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(r=this.ri(o.key,o.newValue)))return[2,this.oi(r)]}else if(o.key===this.Us){if(null!==o.newValue&&(i=this.js(o.newValue)))return[2,this.Ws(i)]}else if(o.key===this.Ms)(i=function(t){var e=Ar.o;if(null!=t)try{var n=JSON.parse(t);Ur(\"number\"==typeof n),e=n}catch(t){Pr(\"SharedClientState\",\"Failed to read sequence number from WebStorage\",t)}return e}(o.newValue))!==Ar.o&&this.sequenceNumberHandler(i);else if(o.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(o);return[2]})})}):Pr(\"Received WebStorage notification for local change. Another client might have garbage-collected our state\"))},Object.defineProperty(ol.prototype,\"Js\",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),ol.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},ol.prototype.zs=function(t,e,n){n=new Bh(this.currentUser,t,e,n),t=Vh(this.persistenceKey,this.currentUser,t);this.setItem(t,n.Ss())},ol.prototype.Hs=function(t){t=Vh(this.persistenceKey,this.currentUser,t);this.removeItem(t)},ol.prototype.Xs=function(t){t={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(t))},ol.prototype.Ys=function(t,e,n){var r=Uh(this.persistenceKey,t),n=new jh(t,e,n);this.setItem(r,n.Ss())},ol.prototype.Zs=function(){this.setItem(this.Qs,\"value-not-used\")},ol.prototype.ti=function(t){t=this.Ls.exec(t);return t?t[1]:null},ol.prototype.ni=function(t,e){t=this.ti(t);return Kh.Vs(t,e)},ol.prototype.si=function(t,e){var n=this.Bs.exec(t),t=Number(n[1]),n=void 0!==n[2]?n[2]:null;return Bh.Vs(new Sh(n),t,e)},ol.prototype.ri=function(t,e){t=this.qs.exec(t),t=Number(t[1]);return jh.Vs(t,e)},ol.prototype.js=function(t){return Gh.Vs(t)},ol.prototype.ii=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(e.batchId,e.state,e.error)]:(Lr(\"SharedClientState\",\"Ignoring mutation for non-active user \"+e.user.uid),[2])})})},ol.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},ol.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},ol.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},ol.prototype.Gs=function(t){var n=Gs;return t.forEach(function(t,e){n=n.unionWith(e.activeTargetIds)}),n},ol),Hh=(il.prototype.addPendingMutation=function(t){},il.prototype.updateMutationState=function(t,e,n){},il.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||\"not-current\"},il.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},il.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},il.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},il.prototype.clearQueryState=function(t){delete this.fi[t]},il.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},il.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},il.prototype.start=function(){return this.li=new Qh,Promise.resolve()},il.prototype.handleUserChange=function(t,e,n){},il.prototype.setOnlineState=function(t){},il.prototype.shutdown=function(){},il.prototype.writeSequenceNumber=function(t){},il.prototype.notifyBundleLoaded=function(){},il),Wh=(rl.prototype.di=function(t){},rl.prototype.shutdown=function(){},rl),Yh=(nl.prototype.di=function(t){this.gi.push(t)},nl.prototype.shutdown=function(){window.removeEventListener(\"online\",this.wi),window.removeEventListener(\"offline\",this.mi)},nl.prototype.pi=function(){window.addEventListener(\"online\",this.wi),window.addEventListener(\"offline\",this.mi)},nl.prototype._i=function(){Lr(\"ConnectivityMonitor\",\"Network connectivity changed: AVAILABLE\");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},nl.prototype.yi=function(){Lr(\"ConnectivityMonitor\",\"Network connectivity changed: UNAVAILABLE\");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},nl.yt=function(){return\"undefined\"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},nl),Xh={BatchGetDocuments:\"batchGet\",Commit:\"commit\",RunQuery:\"runQuery\"},Jh=(el.prototype.Ii=function(t){this.Ai=t},el.prototype.Ri=function(t){this.bi=t},el.prototype.onMessage=function(t){this.vi=t},el.prototype.close=function(){this.Ti()},el.prototype.send=function(t){this.Ei(t)},el.prototype.Pi=function(){this.Ai()},el.prototype.Vi=function(t){this.bi(t)},el.prototype.Si=function(t){this.vi(t)},el),$h=(tl.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Lr(\"RestConnection\",\"Sending: \",i,n);t={};return this.Fi(t,r),this.ki(e,i,t,n).then(function(t){return Lr(\"RestConnection\",\"Received: \",t),t},function(t){throw Mr(\"RestConnection\",e+\" failed with error: \",t,\"url: \",i,\"request:\",n),t})},tl.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},tl.prototype.Fi=function(t,e){if(t[\"X-Goog-Api-Client\"]=\"gl-js/ fire/8.6.2\",t[\"Content-Type\"]=\"text/plain\",this.databaseInfo.appId&&(t[\"X-Firebase-GMPID\"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},tl.prototype.xi=function(t,e){t=Xh[t];return this.Di+\"/v1/\"+e+\":\"+t},n(Zh,qh=tl),Zh.prototype.ki=function(o,e,s,a){return new Promise(function(n,r){var i=new Sr;i.listenOnce(wr.COMPLETE,function(){try{switch(i.getLastErrorCode()){case br.NO_ERROR:var t=i.getResponseJson();Lr(\"Connection\",\"XHR received:\",JSON.stringify(t)),n(t);break;case br.TIMEOUT:Lr(\"Connection\",'RPC \"'+o+'\" timed out'),r(new kr(Cr.DEADLINE_EXCEEDED,\"Request time out\"));break;case br.HTTP_ERROR:var e=i.getStatus();Lr(\"Connection\",'RPC \"'+o+'\" failed with status:',e,\"response text:\",i.getResponseText()),0<e?(t=i.getResponseJson().error)&&t.status&&t.message?(e=t.status.toLowerCase().replace(/_/g,\"-\"),e=0<=Object.values(Cr).indexOf(e)?e:Cr.UNKNOWN,r(new kr(e,t.message))):r(new kr(Cr.UNKNOWN,\"Server responded with status \"+i.getStatus())):r(new kr(Cr.UNAVAILABLE,\"Connection failed.\"));break;default:Vr()}}finally{Lr(\"Connection\",'RPC \"'+o+'\" completed.')}});var t=JSON.stringify(a);i.send(e,\"POST\",t,s,15)})},Zh.prototype.$i=function(t,e){var n,r=[this.Di,\"/\",\"google.firestore.v1.Firestore\",\"/\",t,\"/channel\"],i=new dr,o=vr(),t={httpSessionIdParam:\"gsessionid\",initMessageHeaders:{},messageUrlParams:{database:\"projects/\"+this.databaseId.projectId+\"/databases/\"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(t.initMessageHeaders,e),\"undefined\"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())||\"object\"==typeof navigator&&\"ReactNative\"===navigator.product||0<=h().indexOf(\"Electron/\")||(0<=(n=h()).indexOf(\"MSIE \")||0<=n.indexOf(\"Trident/\"))||0<=h().indexOf(\"MSAppHost/\")||\"object\"==typeof(n=\"object\"==typeof chrome?chrome.runtime:\"object\"==typeof browser?browser.runtime:void 0)&&void 0!==n.id||(t.httpHeadersOverwriteParam=\"$httpHeaders\");r=r.join(\"\");Lr(\"Connection\",\"Creating WebChannel: \"+r,t);var s=i.createWebChannel(r,t),a=!1,u=!1,c=new Jh({Ei:function(t){u?Lr(\"Connection\",\"Not sending because WebChannel is closed:\",t):(a||(Lr(\"Connection\",\"Opening WebChannel transport.\"),s.open(),a=!0),Lr(\"Connection\",\"WebChannel sending:\",t),s.send(t))},Ti:function(){return s.close()}}),t=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return t(s,_r.EventType.OPEN,function(){u||Lr(\"Connection\",\"WebChannel transport opened.\")}),t(s,_r.EventType.CLOSE,function(){u||(u=!0,Lr(\"Connection\",\"WebChannel transport closed\"),c.Vi())}),t(s,_r.EventType.ERROR,function(t){u||(u=!0,Mr(\"Connection\",\"WebChannel transport errored:\",t),c.Vi(new kr(Cr.UNAVAILABLE,\"The operation could not be completed\")))}),t(s,_r.EventType.MESSAGE,function(t){var e,n,r,i;u||(Ur(!!(e=t.data[0])),(n=e.error||(null===(i=e[0])||void 0===i?void 0:i.error))?(Lr(\"Connection\",\"WebChannel received error:\",n),r=n.status,t=function(){var t=bs[r];if(void 0!==t)return Ns(t)}(),i=n.message,void 0===t&&(t=Cr.INTERNAL,i=\"Unknown error status: \"+r+\" with message \"+n.message),u=!0,c.Vi(new kr(t,i)),s.close()):(Lr(\"Connection\",\"WebChannel received:\",e),c.Si(e)))}),t(o,Er.STAT_EVENT,function(t){t.stat===Tr?Lr(\"Connection\",\"Detected buffering proxy\"):t.stat===Ir&&Lr(\"Connection\",\"Detected no buffering proxy\")}),setTimeout(function(){c.Pi()},0),c},Zh);function Zh(t){var e=this;return(e=qh.call(this,t)||this).forceLongPolling=t.forceLongPolling,e.autoDetectLongPolling=t.autoDetectLongPolling,e}function tl(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?\"https\":\"http\";this.Di=e+\"://\"+t.host,this.Ci=\"projects/\"+this.databaseId.projectId+\"/databases/\"+this.databaseId.database+\"/documents\"}function el(t){this.Ei=t.Ei,this.Ti=t.Ti}function nl(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}function rl(){}function il(){this.li=new Qh,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function ol(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ds(jr),this.started=!1,this.Os=[];n=n.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Fh(this.persistenceKey,this.Ns),this.Ms=\"firestore_sequence_number_\"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new Qh),this.Ls=new RegExp(\"^firestore_clients_\"+n+\"_([^_]*)$\"),this.Bs=new RegExp(\"^firestore_mutations_\"+n+\"_(\\\\d+)(?:_(.*))?$\"),this.qs=new RegExp(\"^firestore_targets_\"+n+\"_(\\\\d+)$\"),this.Us=\"firestore_online_state_\"+this.persistenceKey,this.Qs=\"firestore_bundle_loaded_\"+this.persistenceKey,this.window.addEventListener(\"storage\",this.xs)}function sl(){this.activeTargetIds=Gs}function al(t,e){this.clientId=t,this.onlineState=e}function ul(t,e){this.clientId=t,this.activeTargetIds=e}function cl(t,e,n){this.targetId=t,this.state=e,this.error=n}function hl(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}function ll(){return\"undefined\"!=typeof window?window:null}function fl(){return\"undefined\"!=typeof document?document:null}function dl(t){return new sa(t,!0)}function pl(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return y(o,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return Fl(this)?(Lr(\"RemoteStore\",\"Restarting streams for network reachability change.\"),[4,function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return(e=n).$r.add(4),[4,kl(e)];case 1:return t.sent(),e.Br.set(\"Unknown\"),e.$r.delete(4),[4,Cl(e)];case 2:return t.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Tl(n,r)}var yl,gl,ml,vl=(Dl.prototype.reset=function(){this.qi=0},Dl.prototype.Ki=function(){this.qi=this.Bi},Dl.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);0<i&&Lr(\"ExponentialBackoff\",\"Backing off for \"+i+\" ms (base delay: \"+this.qi+\" ms, delay with jitter: \"+n+\" ms, last attempt: \"+r+\" ms ago)\"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},Dl.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},Dl.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},Dl.prototype.Wi=function(){return(Math.random()-.5)*this.qi},Dl),I=(Nl.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},Nl.prototype.er=function(){return 2===this.state},Nl.prototype.start=function(){3!==this.state?this.auth():this.nr()},Nl.prototype.stop=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},Nl.prototype.sr=function(){this.state=0,this.Zi.reset()},Nl.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},Nl.prototype.cr=function(t){this.ar(),this.stream.send(t)},Nl.prototype.rr=function(){return y(this,void 0,void 0,function(){return g(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},Nl.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Nl.prototype.close=function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():n&&n.code===Cr.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr(\"Using maximum backoff delay to prevent overloading the backend.\"),this.Zi.Ki()):n&&n.code===Cr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return t.sent(),[2]}})})},Nl.prototype.ur=function(){},Nl.prototype.auth=function(){var n=this;this.state=1;var t=this.hr(this.Yi),e=this.Yi;this.Ji.getToken().then(function(t){n.Yi===e&&n.lr(t)},function(e){t(function(){var t=new kr(Cr.UNKNOWN,\"Fetching auth token failed: \"+e.message);return n.dr(t)})})},Nl.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},Nl.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return y(t,void 0,void 0,function(){return g(this,function(t){return this.state=0,this.start(),[2]})})})},Nl.prototype.dr=function(t){return Lr(\"PersistentStream\",\"close with error: \"+t),this.stream=null,this.close(3,t)},Nl.prototype.hr=function(e){var n=this;return function(t){n.Se.enqueueAndForget(function(){return n.Yi===e?t():(Lr(\"PersistentStream\",\"stream callback skipped by getCloseGuardedDispatcher.\"),Promise.resolve())})}},Nl),bl=(n(Al,ml=I),Al.prototype.wr=function(t){return this.Hi.$i(\"Listen\",t)},Al.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){if(\"targetChange\"in e){e.targetChange;var n=\"NO_CHANGE\"===(o=e.targetChange.targetChangeType||\"NO_CHANGE\")?0:\"ADD\"===o?1:\"REMOVE\"===o?2:\"CURRENT\"===o?3:\"RESET\"===o?4:Vr(),r=e.targetChange.targetIds||[],i=(s=e.targetChange.resumeToken,t.I?(Ur(void 0===s||\"string\"==typeof s),ii.fromBase64String(s||\"\")):(Ur(void 0===s||s instanceof Uint8Array),ii.fromUint8Array(s||new Uint8Array))),o=(a=e.targetChange.cause)&&(u=void 0===(c=a).code?Cr.UNKNOWN:Ns(c.code),new kr(u,c.message||\"\")),s=new Ys(n,r,i,o||null)}else if(\"documentChange\"in e){e.documentChange,(n=e.documentChange).document,n.document.name,n.document.updateTime;var r=da(t,n.document.name),i=ca(n.document.updateTime),a=new Oi({mapValue:{fields:n.document.fields}}),u=(o=Pi.newFoundDocument(r,i,a),n.targetIds||[]),c=n.removedTargetIds||[];s=new Hs(u,c,o.key,o)}else if(\"documentDelete\"in e)e.documentDelete,(n=e.documentDelete).document,r=da(t,n.document),i=n.readTime?ca(n.readTime):zr.min(),a=Pi.newNoDocument(r,i),o=n.removedTargetIds||[],s=new Hs([],o,a.key,a);else if(\"documentRemove\"in e)e.documentRemove,(n=e.documentRemove).document,r=da(t,n.document),i=n.removedTargetIds||[],s=new Hs([],i,r,null);else{if(!(\"filter\"in e))return Vr();e.filter;e=e.filter;e.targetId,n=e.count||0,r=new vs(n),i=e.targetId,s=new Ws(i,r)}return s}(this.R,t),t=function(t){if(!(\"targetChange\"in t))return zr.min();t=t.targetChange;return(!t.targetIds||!t.targetIds.length)&&t.readTime?ca(t.readTime):zr.min()}(t);return this.listener._r(e,t)},Al.prototype.mr=function(t){var e,n,r,i={};i.database=ga(this.R),i.addTarget=(e=this.R,(r=Bi(r=(n=t).target)?{documents:Ta(e,r)}:{query:Ia(e,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=ua(e,n.resumeToken):0<n.snapshotVersion.compareTo(zr.min())&&(r.readTime=aa(e,n.snapshotVersion.toTimestamp())),r);var o,t=(this.R,o=t,null==(t=function(){switch(o.purpose){case 0:return null;case 1:return\"existence-filter-mismatch\";case 2:return\"limbo-document\";default:return Vr()}}())?null:{\"goog-listen-tags\":t});t&&(i.labels=t),this.cr(i)},Al.prototype.yr=function(t){var e={};e.database=ga(this.R),e.removeTarget=t,this.cr(e)},Al),wl=(n(Sl,gl=I),Object.defineProperty(Sl.prototype,\"pr\",{get:function(){return this.gr},enumerable:!1,configurable:!0}),Sl.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,gl.prototype.start.call(this)},Sl.prototype.ur=function(){this.gr&&this.Er([])},Sl.prototype.wr=function(t){return this.Hi.$i(\"Write\",t)},Sl.prototype.onMessage=function(t){if(Ur(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=(n=t.writeResults,r=t.commitTime,n&&0<n.length?(Ur(void 0!==r),n.map(function(t){return n=r,(t=(e=t).updateTime?ca(e.updateTime):ca(n)).isEqual(zr.min())&&(t=ca(n)),new es(t,e.transformResults||[]);var e,n})):[]),n=ca(t.commitTime);return this.listener.Tr(n,e)}var n,r;return Ur(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},Sl.prototype.Ar=function(){var t={};t.database=ga(this.R),this.cr(t)},Sl.prototype.Er=function(t){var e=this,t={streamToken:this.lastStreamToken,writes:t.map(function(t){return wa(e.R,t)})};this.cr(t)},Sl),El=(n(_l,yl=function(){}),_l.prototype.br=function(){if(this.Rr)throw new kr(Cr.FAILED_PRECONDITION,\"The client has already been terminated.\")},_l.prototype.Ni=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(t){return i.Hi.Ni(e,n,r,t)}).catch(function(t){throw\"FirebaseError\"===t.name?(t.code===Cr.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new kr(Cr.UNKNOWN,t.toString())})},_l.prototype.Oi=function(e,n,r){var i=this;return this.br(),this.credentials.getToken().then(function(t){return i.Hi.Oi(e,n,r,t)}).catch(function(t){throw\"FirebaseError\"===t.name?(t.code===Cr.UNAUTHENTICATED&&i.credentials.invalidateToken(),t):new kr(Cr.UNKNOWN,t.toString())})},_l.prototype.terminate=function(){this.Rr=!0},_l),Tl=(Il.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr(\"Unknown\"),this.Pr=this.asyncQueue.enqueueAfterDelay(\"online_state_timeout\",1e4,function(){return t.Pr=null,t.Cr(\"Backend didn't respond within 10 seconds.\"),t.Dr(\"Offline\"),Promise.resolve()}))},Il.prototype.Nr=function(t){\"Online\"===this.state?this.Dr(\"Unknown\"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr(\"Connection failed 1 times. Most recent error: \"+t.toString()),this.Dr(\"Offline\")))},Il.prototype.set=function(t){this.Fr(),this.vr=0,\"Online\"===t&&(this.Vr=!1),this.Dr(t)},Il.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},Il.prototype.Cr=function(t){t=\"Could not reach Cloud Firestore backend. \"+t+\"\\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.\";this.Vr?(Pr(t),this.Vr=!1):Lr(\"OnlineStateTracker\",t)},Il.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},Il);function Il(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=\"Unknown\",this.vr=0,this.Pr=null,this.Vr=!0}function _l(t,e,n){var r=this;return(r=yl.call(this)||this).credentials=t,r.Hi=e,r.R=n,r.Rr=!1,r}function Sl(t,e,n,r,i){var o=this;return(o=gl.call(this,t,\"write_stream_connection_backoff\",\"write_stream_idle\",e,n,i)||this).R=r,o.gr=!1,o}function Al(t,e,n,r,i){var o=this;return(o=ml.call(this,t,\"listen_stream_connection_backoff\",\"listen_stream_idle\",e,n,i)||this).R=r,o}function Nl(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vl(t,e)}function Dl(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}function Cl(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:if(!Fl(r))return[3,4];e=0,n=r.Mr,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function kl(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:e=0,n=r.Mr,t.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Rl(t,e){t.Or.has(e.targetId)||(t.Or.set(e.targetId,e),Ml(t)?Pl(t):zl(t).er()&&Ol(t,e))}function xl(t,e){var n=t,t=zl(n);n.Or.delete(e),t.er()&&Ll(n,e),0===n.Or.size&&(t.er()?t.ir():Fl(n)&&n.Br.set(\"Unknown\"))}function Ol(t,e){t.qr.U(e.targetId),zl(t).mr(e)}function Ll(t,e){t.qr.U(e),zl(t).yr(e)}function Pl(e){e.qr=new Js({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),zl(e).start(),e.Br.Sr()}function Ml(t){return Fl(t)&&!zl(t).tr()&&0<t.Or.size}function Fl(t){return 0===t.$r.size}function Vl(t){t.qr=void 0}function Ul(s,a,u){return y(this,void 0,void 0,function(){var n,o;return g(this,function(t){switch(t.label){case 0:if(s.Br.set(\"Online\"),!(a instanceof Ys&&2===a.state&&a.cause))return[3,6];t.label=1;case 1:return t.trys.push([1,3,,5]),[4,function(o,s){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:e=s.cause,n=0,r=s.targetIds,t.label=1;case 1:return n<r.length?(i=r[n],o.Or.has(i)?[4,o.remoteSyncer.rejectListen(i,e)]:[3,3]):[3,5];case 2:t.sent(),o.Or.delete(i),o.qr.removeTarget(i),t.label=3;case 3:t.label=4;case 4:return n++,[3,1];case 5:return[2]}})})}(s,a)];case 2:return t.sent(),[3,5];case 3:return n=t.sent(),Lr(\"RemoteStore\",\"Failed to remove targets %s: %s \",a.targetIds.join(\",\"),n),[4,ql(s,n)];case 4:return t.sent(),[3,5];case 5:return[3,13];case 6:if(a instanceof Hs?s.qr.X(a):a instanceof Ws?s.qr.rt(a):s.qr.et(a),u.isEqual(zr.min()))return[3,13];t.label=7;case 7:return t.trys.push([7,11,,13]),[4,ih(s.localStore)];case 8:return o=t.sent(),0<=u.compareTo(o)?[4,(i=u,(e=(r=s).qr.at(i)).targetChanges.forEach(function(t,e){var n;0<t.resumeToken.approximateByteSize()&&((n=r.Or.get(e))&&r.Or.set(e,n.withResumeToken(t.resumeToken,i)))}),e.targetMismatches.forEach(function(t){var e=r.Or.get(t);e&&(r.Or.set(t,e.withResumeToken(ii.EMPTY_BYTE_STRING,e.snapshotVersion)),Ll(r,t),e=new Su(e.target,t,1,e.sequenceNumber),Ol(r,e))}),r.remoteSyncer.applyRemoteEvent(e))]:[3,10];case 9:t.sent(),t.label=10;case 10:return[3,13];case 11:return Lr(\"RemoteStore\",\"Failed to raise snapshot:\",o=t.sent()),[4,ql(s,o)];case 12:return t.sent(),[3,13];case 13:return[2]}var r,i,e})})}function ql(n,r,i){return y(this,void 0,void 0,function(){var e=this;return g(this,function(t){switch(t.label){case 0:if(!du(r))throw r;return n.$r.add(1),[4,kl(n)];case 1:return t.sent(),n.Br.set(\"Offline\"),i=i||function(){return ih(n.localStore)},n.asyncQueue.enqueueRetryable(function(){return y(e,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return Lr(\"RemoteStore\",\"Retrying IndexedDB access\"),[4,i()];case 1:return t.sent(),n.$r.delete(1),[4,Cl(n)];case 2:return t.sent(),[2]}})})}),[2]}})})}function Bl(e,n){return n().catch(function(t){return ql(e,t,n)})}function jl(u){return y(this,void 0,void 0,function(){var i,o,s,a;return g(this,function(t){switch(t.label){case 0:o=Hl(i=u),s=0<i.kr.length?i.kr[i.kr.length-1].batchId:-1,t.label=1;case 1:if(!(Fl(i)&&i.kr.length<10))return[3,7];t.label=2;case 2:return t.trys.push([2,4,,6]),[4,(e=i.localStore,n=s,(r=e).persistence.runTransaction(\"Get next mutation batch\",\"readonly\",function(t){return void 0===n&&(n=-1),r._n.getNextMutationBatchAfterBatchId(t,n)}))];case 3:return null===(a=t.sent())?(0===i.kr.length&&o.ir(),[3,7]):(s=a.batchId,function(t,e){t.kr.push(e);t=Hl(t);t.er()&&t.pr&&t.Er(e.mutations)}(i,a),[3,6]);case 4:return a=t.sent(),[4,ql(i,a)];case 5:return t.sent(),[3,6];case 6:return[3,1];case 7:return Kl(i)&&Gl(i),[2]}var e,n,r})})}function Kl(t){return Fl(t)&&!Hl(t).tr()&&0<t.kr.length}function Gl(t){Hl(t).start()}function Ql(n,r){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=n,r?(e.$r.delete(2),[4,Cl(e)]):[3,2];case 1:return t.sent(),[3,5];case 2:return r?[3,4]:(e.$r.add(2),[4,kl(e)]);case 3:t.sent(),e.Br.set(\"Unknown\"),t.label=4;case 4:t.label=5;case 5:return[2]}})})}function zl(n){var t,e,r,i=this;return n.Ur||(n.Ur=(t=n.datastore,e=n.asyncQueue,r={Ii:function(n){return y(this,void 0,void 0,function(){return g(this,function(t){return n.Or.forEach(function(t,e){Ol(n,t)}),[2]})})}.bind(null,n),Ri:function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){return Vl(e),Ml(e)?(e.Br.Nr(n),Pl(e)):e.Br.set(\"Unknown\"),[2]})})}.bind(null,n),_r:Ul.bind(null,n)},t.br(),new bl(e,t.Hi,t.credentials,t.R,r)),n.Mr.push(function(e){return y(i,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e?(n.Ur.sr(),Ml(n)?Pl(n):n.Br.set(\"Unknown\"),[3,3]):[3,1];case 1:return[4,n.Ur.stop()];case 2:t.sent(),Vl(n),t.label=3;case 3:return[2]}})})})),n.Ur}function Hl(n){var t,e,r,i=this;return n.Qr||(n.Qr=(t=n.datastore,e=n.asyncQueue,r={Ii:function(e){return y(this,void 0,void 0,function(){return g(this,function(t){return Hl(e).Ar(),[2]})})}.bind(null,n),Ri:function(e,n){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return n&&Hl(e).pr?[4,function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return As(n=i.code)&&n!==Cr.ABORTED?(e=r.kr.shift(),Hl(r).sr(),[4,Bl(r,function(){return r.remoteSyncer.rejectFailedWrite(e.batchId,i)})]):[3,3];case 1:return t.sent(),[4,jl(r)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}(e,n)]:[3,2];case 1:t.sent(),t.label=2;case 2:return Kl(e)&&Gl(e),[2]}})})}.bind(null,n),Ir:function(o){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){for(e=Hl(o),n=0,r=o.kr;n<r.length;n++)i=r[n],e.Er(i.mutations);return[2]})})}.bind(null,n),Tr:function(r,i,o){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return e=r.kr.shift(),n=_u.from(e,i,o),[4,Bl(r,function(){return r.remoteSyncer.applySuccessfulWrite(n)})];case 1:return t.sent(),[4,jl(r)];case 2:return t.sent(),[2]}})})}.bind(null,n)},t.br(),new wl(e,t.Hi,t.credentials,t.R,r)),n.Mr.push(function(e){return y(i,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e?(n.Qr.sr(),[4,jl(n)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,n.Qr.stop()];case 3:t.sent(),0<n.kr.length&&(Lr(\"RemoteStore\",\"Stopping write stream with \"+n.kr.length+\" pending writes\"),n.kr=[]),t.label=4;case 4:return[2]}})})})),n.Qr}var Wl=(Yl.createAndSchedule=function(t,e,n,r,i){i=new Yl(t,e,Date.now()+n,r,i);return i.start(n),i},Yl.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},Yl.prototype.skipDelay=function(){return this.handleDelayElapsed()},Yl.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kr(Cr.CANCELLED,\"Operation cancelled\"+(t?\": \"+t:\"\"))))},Yl.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},Yl.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},Yl);function Yl(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new eu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}function Xl(t,e){if(Pr(\"AsyncQueue\",e+\": \"+t),du(t))return new kr(Cr.UNAVAILABLE,e+\": \"+t);throw t}function Jl(){this.queries=new Nc(Ro,ko),this.onlineState=\"Unknown\",this.Gr=new Set}var $l=(of.emptySet=function(t){return new of(t.comparator)},of.prototype.has=function(t){return null!=this.keyedMap.get(t)},of.prototype.get=function(t){return this.keyedMap.get(t)},of.prototype.first=function(){return this.sortedSet.minKey()},of.prototype.last=function(){return this.sortedSet.maxKey()},of.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},of.prototype.indexOf=function(t){t=this.keyedMap.get(t);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(of.prototype,\"size\",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),of.prototype.forEach=function(n){this.sortedSet.inorderTraversal(function(t,e){return n(t),!1})},of.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},of.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},of.prototype.isEqual=function(t){if(!(t instanceof of))return!1;if(this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();e.hasNext();){var r=e.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},of.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?\"DocumentSet ()\":\"DocumentSet (\\n  \"+e.join(\"  \\n\")+\"\\n)\"},of.prototype.copy=function(t,e){var n=new of;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n},of),Zl=(rf.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);!n||0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):Vr()},rf.prototype.jr=function(){var n=[];return this.Kr.inorderTraversal(function(t,e){n.push(e)}),n},rf),tf=(nf.fromInitialDocuments=function(t,e,n,r){var i=[];return e.forEach(function(t){i.push({type:0,doc:t})}),new nf(t,e,$l.emptySet(e),i,n,r,!0,!1)},Object.defineProperty(nf.prototype,\"hasPendingWrites\",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),nf.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ko(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},nf),ef=function(){this.Wr=void 0,this.listeners=[]};function nf(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}function rf(){this.Kr=new Ds(bi.comparator)}function of(n){this.comparator=n?function(t,e){return n(t,e)||bi.comparator(t.key,e.key)}:function(t,e){return bi.comparator(t.key,e.key)},this.keyedMap=qs,this.sortedSet=new Ds(this.comparator)}function sf(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){switch(t.label){case 0:if(e=s,n=a.query,r=!1,(i=e.queries.get(n))||(r=!0,i=new ef),!r)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),o=i,[4,e.onListen(n)];case 2:return o.Wr=t.sent(),[3,4];case 3:return o=t.sent(),o=Xl(o,\"Initialization of query '\"+xo(a.query)+\"' failed\"),[2,void a.onError(o)];case 4:return e.queries.set(n,i),i.listeners.push(a),a.zr(e.onlineState),i.Wr&&a.Hr(i.Wr)&&uf(e),[2]}})})}function af(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){return e=s,n=a.query,r=!1,(i=e.queries.get(n))&&0<=(o=i.listeners.indexOf(a))&&(i.listeners.splice(o,1),r=0===i.listeners.length),r?[2,(e.queries.delete(n),e.onUnlisten(n))]:[2]})})}function uf(t){t.Gr.forEach(function(t){t.next()})}var cf=(gf.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new tf(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},gf.prototype.onError=function(t){this.Jr.error(t)},gf.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},gf.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n=\"Offline\"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&\"Offline\"!==e)},gf.prototype.Zr=function(t){if(0<t.docChanges.length)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},gf.prototype.no=function(t){t=tf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},gf),hf=(yf.prototype.io=function(){return\"metadata\"in this.payload},yf),lf=(pf.prototype.qn=function(t){return da(this.R,t)},pf.prototype.Un=function(t){return t.metadata.exists?ba(this.R,t.document,!1):Pi.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},pf.prototype.Qn=ca,pf),ff=(df.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},df.prototype.co=function(t){for(var e=new Map,n=new lf(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],h=(e.get(c)||Ks()).add(s);e.set(c,h)}}return e},df.prototype.complete=function(){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:return[4,function(l,f,d,p){return y(this,void 0,void 0,function(){var n,r,i,o,e,s,a,u,c,h;return g(this,function(t){switch(t.label){case 0:for(n=l,r=Ks(),i=Fs,o=Bs,e=0,s=d;e<s.length;e++)a=s[e],u=f.qn(a.metadata.name),a.document&&(r=r.add(u)),i=i.insert(u,f.Un(a)),o=o.insert(u,f.Qn(a.metadata.readTime));return c=n.$n.newChangeBuffer({trackRemovals:!0}),[4,ah(n,Do(Eo(ti.fromString(\"__bundle__/docs/\"+p))))];case 1:return h=t.sent(),[2,n.persistence.runTransaction(\"Apply bundle documents\",\"readwrite\",function(e){return sh(e,c,i,zr.min(),o).next(function(t){return c.apply(e),t}).next(function(t){return n.qe.removeMatchingKeysForTargetId(e,h.targetId).next(function(){return n.qe.addMatchingKeys(e,r,h.targetId)}).next(function(){return n.Mn.En(e,t)}).next(function(){return t})})})]}})})}(this.localStore,new lf(this.R),this.documents,this.ro.id)];case 1:e=t.sent(),n=this.co(this.documents),r=0,i=this.queries,t.label=2;case 2:return r<i.length?(i=i[r],[4,function(e,i,o){return void 0===o&&(o=Ks()),y(this,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return[4,ah(e,Do(Uu(i.bundledQuery)))];case 1:return n=t.sent(),[2,(r=e).persistence.runTransaction(\"Save named query\",\"readwrite\",function(t){var e=ca(i.readTime);if(0<=n.snapshotVersion.compareTo(e))return r.Qe.saveNamedQuery(t,i);e=n.withResumeToken(ii.EMPTY_BYTE_STRING,e);return r.Fn=r.Fn.insert(e.targetId,e),r.qe.updateTargetData(t,e).next(function(){return r.qe.removeMatchingKeysForTargetId(t,n.targetId)}).next(function(){return r.qe.addMatchingKeys(t,o,n.targetId)}).next(function(){return r.Qe.saveNamedQuery(t,i)})})]}})})}(this.localStore,i,n.get(i.name))]):[3,5];case 3:t.sent(),t.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState=\"Success\",new zc(Object.assign({},this.progress),e))]}})})},df);function df(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=mf(t)}function pf(t){this.R=t}function yf(t,e){this.payload=t,this.byteLength=e}function gf(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState=\"Unknown\",this.options=n||{}}function mf(t){return{taskState:\"Running\",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var vf=function(t){this.key=t},bf=function(t){this.key=t},wf=(Object.defineProperty(Sf.prototype,\"wo\",{get:function(){return this.ao},enumerable:!1,configurable:!0}),Sf.prototype._o=function(t,e){var s=this,a=e?e.mo:new Zl,u=(e||this).fo,c=(e||this).mutatedKeys,h=u,l=!1,f=To(this.query)&&u.size===this.query.limit?u.last():null,d=Io(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(t,e){var n=u.get(t),r=Oo(s.query,e)?e:null,i=!!n&&s.mutatedKeys.has(n.key),o=!!r&&(r.hasLocalMutations||s.mutatedKeys.has(r.key)&&r.hasCommittedMutations),e=!1;n&&r?n.data.isEqual(r.data)?i!==o&&(a.track({type:3,doc:r}),e=!0):s.yo(n,r)||(a.track({type:2,doc:r}),e=!0,(f&&0<s.lo(r,f)||d&&s.lo(r,d)<0)&&(l=!0)):!n&&r?(a.track({type:0,doc:r}),e=!0):n&&!r&&(a.track({type:1,doc:n}),e=!0,(f||d)&&(l=!0)),e&&(c=r?(h=h.add(r),o?c.add(t):c.delete(t)):(h=h.delete(t),c.delete(t)))}),To(this.query)||Io(this.query))for(;h.size>this.query.limit;){var n=To(this.query)?h.last():h.first(),h=h.delete(n.key),c=c.delete(n.key);a.track({type:1,doc:n})}return{fo:h,mo:a,Nn:l,mutatedKeys:c}},Sf.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},Sf.prototype.applyChanges=function(t,e,n){var o=this,r=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var i=t.mo.jr();i.sort(function(t,e){return r=t.type,i=e.type,n(r)-n(i)||o.lo(t.doc,e.doc);function n(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vr()}}var r,i}),this.po(n);var s=e?this.Eo():[],n=0===this.ho.size&&this.current?1:0,e=n!==this.uo;return this.uo=n,0!==i.length||e?{snapshot:new tf(this.query,t.fo,r,i,t.mutatedKeys,0==n,e,!1),To:s}:{To:s}},Sf.prototype.zr=function(t){return this.current&&\"Offline\"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Zl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},Sf.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},Sf.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.ao=e.ao.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.ao=e.ao.delete(t)}),this.current=t.current)},Sf.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=Ks(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var r=[];return n.forEach(function(t){e.ho.has(t)||r.push(new bf(t))}),this.ho.forEach(function(t){n.has(t)||r.push(new vf(t))}),r},Sf.prototype.Ao=function(t){this.ao=t.Bn,this.ho=Ks();t=this._o(t.documents);return this.applyChanges(t,!0)},Sf.prototype.Ro=function(){return tf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},Sf),Ef=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Tf=function(t){this.key=t,this.bo=!1},If=(Object.defineProperty(_f.prototype,\"isPrimaryClient\",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),_f);function _f(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Nc(Ro,ko),this.Vo=new Map,this.So=new Set,this.Do=new Ds(bi.comparator),this.Co=new Map,this.No=new gh,this.xo={},this.Fo=new Map,this.ko=uc.Yt(),this.onlineState=\"Unknown\",this.Oo=void 0}function Sf(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=Ks(),this.mutatedKeys=Ks(),this.lo=Lo(t),this.fo=new $l(this.lo)}function Af(i,o,s,a){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return i.$o=function(t,e,n){return function(r,i,o,s){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return(e=i.view._o(o)).Nn?[4,ch(r.localStore,i.query,!1).then(function(t){t=t.documents;return i.view._o(t,e)})]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return n=s&&s.targetChanges.get(i.targetId),n=i.view.applyChanges(e,r.isPrimaryClient,n),[2,(Mf(r,i.targetId,n.To),n.snapshot)]}})})}(i,t,e,n)},[4,ch(i.localStore,o,!0)];case 1:return n=t.sent(),r=new wf(o,n.Bn),e=r._o(n.documents),n=zs.createSynthesizedTargetChangeForCurrentChange(s,a&&\"Offline\"!==i.onlineState),n=r.applyChanges(e,i.isPrimaryClient,n),Mf(i,s,n.To),r=new Ef(o,s,r),[2,(i.Po.set(o,r),i.Vo.has(s)?i.Vo.get(s).push(o):i.Vo.set(s,[o]),n.snapshot)]}})})}function Nf(f,d,p){return y(this,void 0,void 0,function(){var s,l;return g(this,function(t){switch(t.label){case 0:l=Qf(f),t.label=1;case 1:return t.trys.push([1,5,,6]),[4,(i=l.localStore,a=d,c=i,h=Qr.now(),o=a.reduce(function(t,e){return t.add(e.key)},Ks()),c.persistence.runTransaction(\"Locally write mutations\",\"readwrite\",function(s){return c.Mn.pn(s,o).next(function(t){u=t;for(var e=[],n=0,r=a;n<r.length;n++){var i=r[n],o=function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),s=Vo(o.transform,s||null);null!=s&&(n=null==n?Oi.empty():n).set(o.field,s)}return n||null}(i,u.get(i.key));null!=o&&e.push(new fs(i.key,o,function s(t){var a=[];return Xr(t.fields||{},function(t,e){var n=new ni([t]);if(xi(e))if(0===(e=s(e.mapValue).fields).length)a.push(n);else for(var r=0,i=e;r<i.length;r++){var o=i[r];a.push(n.child(o))}else a.push(n)}),new ri(a)}(o.toProto().mapValue),rs.exists(!0)))}return c._n.addMutationBatch(s,h,e,a)})}).then(function(t){return t.applyToLocalDocumentSet(u),{batchId:t.batchId,changes:u}}))];case 2:return s=t.sent(),l.sharedClientState.addPendingMutation(s.batchId),e=l,n=s.batchId,r=p,i=(i=(i=e.xo[e.currentUser.toKey()])||new Ds(jr)).insert(n,r),e.xo[e.currentUser.toKey()]=i,[4,Vf(l,s.changes)];case 3:return t.sent(),[4,jl(l.remoteStore)];case 4:return t.sent(),[3,6];case 5:return l=t.sent(),l=Xl(l,\"Failed to persist write\"),p.reject(l),[3,6];case 6:return[2]}var e,n,r,i,a,u,c,h,o})})}function Df(r,i){return y(this,void 0,void 0,function(){var n,e;return g(this,function(t){switch(t.label){case 0:n=r,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,oh(n.localStore,i)];case 2:return e=t.sent(),i.targetChanges.forEach(function(t,e){e=n.Co.get(e);e&&(Ur(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),0<t.addedDocuments.size?e.bo=!0:0<t.modifiedDocuments.size?Ur(e.bo):0<t.removedDocuments.size&&(Ur(e.bo),e.bo=!1))}),[4,Vf(n,e,i)];case 3:return t.sent(),[3,6];case 4:return[4,yc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}function Cf(t,n,e){var r,t=t;(t.isPrimaryClient&&0===e||!t.isPrimaryClient&&1===e)&&(r=[],t.Po.forEach(function(t,e){e=e.view.zr(n);e.snapshot&&r.push(e.snapshot)}),function(t,i){t.onlineState=i;var o=!1;t.queries.forEach(function(t,e){for(var n=0,r=e.listeners;n<r.length;n++)r[n].zr(i)&&(o=!0)}),o&&uf(t)}(t.eventManager,n),r.length&&t.vo._r(r),t.onlineState=n,t.isPrimaryClient&&t.sharedClientState.setOnlineState(n))}function kf(s,a,u){return y(this,void 0,void 0,function(){var n,o;return g(this,function(t){switch(t.label){case 0:n=s,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,(e=n.localStore,r=a,(i=e).persistence.runTransaction(\"Reject batch\",\"readwrite-primary\",function(e){var n;return i._n.lookupMutationBatch(e,r).next(function(t){return Ur(null!==t),n=t.keys(),i._n.removeMutationBatch(e,t)}).next(function(){return i._n.performConsistencyCheck(e)}).next(function(){return i.Mn.pn(e,n)})}))];case 2:return o=t.sent(),Of(n,a,u),xf(n,a),n.sharedClientState.updateMutationState(a,\"rejected\",u),[4,Vf(n,o)];case 3:return t.sent(),[3,6];case 4:return[4,yc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}var e,r,i})})}function Rf(o,s){return y(this,void 0,void 0,function(){var n,r,i;return g(this,function(t){switch(t.label){case 0:Fl((n=o).remoteStore)||Lr(\"SyncEngine\",\"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.\"),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(e=n.localStore).persistence.runTransaction(\"Get highest unacknowledged batch id\",\"readonly\",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})];case 2:return-1===(r=t.sent())?[2,void s.resolve()]:((i=n.Fo.get(r)||[]).push(s),n.Fo.set(r,i),[3,4]);case 3:return i=t.sent(),i=Xl(i,\"Initialization of waitForPendingWrites() operation failed\"),s.reject(i),[3,4];case 4:return[2]}var e})})}function xf(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Of(t,e,n){var r=t,i=r.xo[r.currentUser.toKey()];i&&((t=i.get(e))&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i)}function Lf(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||Pf(e,t)})}function Pf(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(xl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ff(t))}function Mf(t,e,n){for(var r,i,o,s=0,a=n;s<a.length;s++){var u=a[s];u instanceof vf?(t.No.addReference(u.key,e),r=t,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(Lr(\"SyncEngine\",\"New document in limbo: \"+o),r.So.add(i),Ff(r))):u instanceof bf?(Lr(\"SyncEngine\",\"Document no longer in limbo: \"+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||Pf(t,u.key)):Vr()}}function Ff(t){for(;0<t.So.size&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bi(ti.fromString(e)),e=t.ko.next();t.Co.set(e,new Tf(n)),t.Do=t.Do.insert(n,e),Rl(t.remoteStore,new Su(Do(Eo(n.path)),e,2,Ar.o))}}function Vf(e,s,a){return y(this,void 0,void 0,function(){var n,r,i,o;return g(this,function(t){switch(t.label){case 0:return r=[],i=[],o=[],(n=e).Po.isEmpty()?[3,3]:(n.Po.forEach(function(t,e){o.push(n.$o(e,s,a).then(function(t){t&&(n.isPrimaryClient&&n.sharedClientState.updateQueryState(e.targetId,t.fromCache?\"not-current\":\"current\"),r.push(t),t=Wc.Pn(e.targetId,t),i.push(t))}))}),[4,Promise.all(o)]);case 1:return t.sent(),n.vo._r(r),[4,function(u,c){return y(this,void 0,void 0,function(){var r,e,n,i,o,s,a;return g(this,function(t){switch(t.label){case 0:r=u,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,r.persistence.runTransaction(\"notifyLocalViewChanges\",\"readwrite\",function(n){return nu.forEach(c,function(e){return nu.forEach(e.bn,function(t){return r.persistence.referenceDelegate.addReference(n,e.targetId,t)}).next(function(){return nu.forEach(e.vn,function(t){return r.persistence.referenceDelegate.removeReference(n,e.targetId,t)})})})})];case 2:return t.sent(),[3,4];case 3:if(!du(e=t.sent()))throw e;return Lr(\"LocalStore\",\"Failed to update sequence numbers: \"+e),[3,4];case 4:for(n=0,i=c;n<i.length;n++)a=i[n],o=a.targetId,a.fromCache||(s=r.Fn.get(o),a=s.snapshotVersion,a=s.withLastLimboFreeSnapshotVersion(a),r.Fn=r.Fn.insert(o,a));return[2]}})})}(n.localStore,i)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}function Uf(i,o){return y(this,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return(n=i).currentUser.isEqual(o)?[3,3]:(Lr(\"SyncEngine\",\"User change. New user:\",o.toKey()),[4,nh(n.localStore,o)]);case 1:return r=t.sent(),n.currentUser=o,(e=n).Fo.forEach(function(t){t.forEach(function(t){t.reject(new kr(Cr.CANCELLED,\"'waitForPendingWrites' promise is rejected due to a user change.\"))})}),e.Fo.clear(),n.sharedClientState.handleUserChange(o,r.removedBatchIds,r.addedBatchIds),[4,Vf(n,r.Ln)];case 2:t.sent(),t.label=3;case 3:return[2]}var e})})}function qf(a,u,c,h){return y(this,void 0,void 0,function(){var o,s;return g(this,function(t){switch(t.label){case 0:return[4,(e=(o=a).localStore,n=u,i=(r=e)._n,r.persistence.runTransaction(\"Lookup mutation documents\",\"readonly\",function(e){return i.jt(e,n).next(function(t){return t?r.Mn.pn(e,t):nu.resolve(null)})}))];case 1:return null===(s=t.sent())?[3,6]:\"pending\"!==c?[3,3]:[4,jl(o.remoteStore)];case 2:return t.sent(),[3,4];case 3:\"acknowledged\"===c||\"rejected\"===c?(Of(o,u,h||null),xf(o,u),o.localStore._n.Gt(u)):Vr(),t.label=4;case 4:return[4,Vf(o,s)];case 5:return t.sent(),[3,7];case 6:Lr(\"SyncEngine\",\"Cannot apply mutation batch with id: \"+u),t.label=7;case 7:return[2]}var e,n,r,i})})}function Bf(h,l){return y(this,void 0,void 0,function(){var r,e,i,o,s,a,u,c;return g(this,function(t){switch(t.label){case 0:return Gf(r=h),Qf(r),!0!==l||!0===r.Oo?[3,3]:(e=r.sharedClientState.getAllActiveQueryTargets(),[4,jf(r,e.toArray())]);case 1:return i=t.sent(),r.Oo=!0,[4,Ql(r.remoteStore,!0)];case 2:for(t.sent(),o=0,s=i;o<s.length;o++)a=s[o],Rl(r.remoteStore,a);return[3,7];case 3:return!1!==l||!1===r.Oo?[3,7]:(u=[],c=Promise.resolve(),r.Vo.forEach(function(t,e){r.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return Lf(r,e),uh(r.localStore,e,!0)}),xl(r.remoteStore,e)}),[4,c]);case 4:return t.sent(),[4,jf(r,u)];case 5:return t.sent(),(n=r).Co.forEach(function(t,e){xl(n.remoteStore,e)}),n.No.ts(),n.Co=new Map,n.Do=new Ds(bi.comparator),r.Oo=!1,[4,Ql(r.remoteStore,!1)];case 6:t.sent(),t.label=7;case 7:return[2]}var n})})}function jf(d,p){return y(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,h,l,f;return g(this,function(t){switch(t.label){case 0:e=d,n=[],r=[],i=0,o=p,t.label=1;case 1:return i<o.length?(s=o[i],a=void 0,(u=e.Vo.get(s))&&0!==u.length?[4,ah(e.localStore,Do(u[0]))]:[3,7]):[3,13];case 2:a=t.sent(),c=0,h=u,t.label=3;case 3:return c<h.length?(l=h[c],l=e.Po.get(l),[4,function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,ch((e=r).localStore,i.query,!0)];case 1:return n=t.sent(),n=i.view.Ao(n),[2,(e.isPrimaryClient&&Mf(e,i.targetId,n.To),n)]}})})}(e,l)]):[3,6];case 4:(l=t.sent()).snapshot&&r.push(l.snapshot),t.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,hh(e.localStore,s)];case 8:return f=t.sent(),[4,ah(e.localStore,f)];case 9:return a=t.sent(),[4,Af(e,Kf(f),s,!1)];case 10:t.sent(),t.label=11;case 11:n.push(a),t.label=12;case 12:return i++,[3,1];case 13:return[2,(e.vo._r(r),n)]}})})}function Kf(t){return wo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,\"F\",t.startAt,t.endAt)}function Gf(t){return t.remoteStore.remoteSyncer.applyRemoteEvent=Df.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=t;if((t=n.Co.get(e))&&t.bo)return Ks().add(t.key);var r=Ks();if(!(e=n.Vo.get(e)))return r;for(var i=0,o=e;i<o.length;i++)var s=o[i],s=n.Po.get(s),r=r.unionWith(s.view.wo);return r}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(o,s,a){return y(this,void 0,void 0,function(){var e,n,r,i;return g(this,function(t){switch(t.label){case 0:return(e=o).sharedClientState.updateQueryState(s,\"rejected\",a),i=e.Co.get(s),(n=i&&i.key)?(r=(r=new Ds(bi.comparator)).insert(n,Pi.newNoDocument(n,zr.min())),i=Ks().add(n),i=new Qs(zr.min(),new Map,new Ps(jr),r,i),[4,Df(e,i)]):[3,2];case 1:return t.sent(),e.Do=e.Do.remove(n),e.Co.delete(s),Ff(e),[3,4];case 2:return[4,uh(e.localStore,s,!1).then(function(){return Lf(e,s,a)}).catch(yc)];case 3:t.sent(),t.label=4;case 4:return[2]}})})}.bind(null,t),t.vo._r=function(t,e){for(var n=t,r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,a=n.queries.get(a);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&uf(n)}.bind(null,t.eventManager),t.vo.Mo=function(t,e,n){var r=t;if(t=r.queries.get(e))for(var i=0,o=t.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(e)}.bind(null,t.eventManager),t}function Qf(t){return t.remoteStore.remoteSyncer.applySuccessfulWrite=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:e=i,n=o.batch.batchId,t.label=1;case 1:return t.trys.push([1,4,,6]),[4,rh(e.localStore,o)];case 2:return r=t.sent(),Of(e,n,null),xf(e,n),e.sharedClientState.updateMutationState(n,\"acknowledged\"),[4,Vf(e,r)];case 3:return t.sent(),[3,6];case 4:return[4,yc(t.sent())];case 5:return t.sent(),[3,6];case 6:return[2]}})})}.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kf.bind(null,t),t}function zf(t,e,n){var r=t;!function(f,d,p){return y(this,void 0,void 0,function(){var a,u,c,h,l;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,14,,15]),[4,d.getMetadata()];case 1:return a=t.sent(),[4,(r=f.localStore,o=r,s=ca((i=a).createTime),o.persistence.runTransaction(\"hasNewerBundle\",\"readonly\",function(t){return o.Qe.getBundleMetadata(t,i.id)}).then(function(t){return!!t&&0<=t.createTime.compareTo(s)}))];case 2:return t.sent()?[4,d.close()]:[3,4];case 3:return[2,(t.sent(),void p._completeWith({taskState:\"Success\",documentsLoaded:a.totalDocuments,bytesLoaded:a.totalBytes,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}))];case 4:return p._updateProgress(mf(a)),u=new ff(a,f.localStore,d.R),[4,d.Lo()];case 5:c=t.sent(),t.label=6;case 6:return c?[4,u.oo(c)]:[3,10];case 7:return(h=t.sent())&&p._updateProgress(h),[4,d.Lo()];case 8:c=t.sent(),t.label=9;case 9:return[3,6];case 10:return[4,u.complete()];case 11:return l=t.sent(),[4,Vf(f,l.wn,void 0)];case 12:return t.sent(),[4,(r=f.localStore,e=a,(n=r).persistence.runTransaction(\"Save bundle\",\"readwrite\",function(t){return n.Qe.saveBundleMetadata(t,e)}))];case 13:return t.sent(),p._completeWith(l.progress),[3,15];case 14:return Mr(\"SyncEngine\",\"Loading bundle failed with \"+(l=t.sent())),p._failWith(l),[3,15];case 15:return[2]}var e,n,r,i,o,s})})}(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Hf,Wf,Yf=(nd.prototype.initialize=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.R=dl(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}})})},nd.prototype.Uo=function(t){return null},nd.prototype.Qo=function(t){return eh(this.persistence,new Yc,t.initialUser,this.R)},nd.prototype.qo=function(t){return new Th(_h.bs,this.R)},nd.prototype.Bo=function(t){return new Hh},nd.prototype.terminate=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},nd),Xf=(n(ed,Wf=Yf),ed.prototype.initialize=function(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,Wf.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,fh(this.localStore)];case 2:return t.sent(),[4,this.Ko.initialize(this,e)];case 3:return t.sent(),[4,Qf(this.Ko.syncEngine)];case 4:return t.sent(),[4,jl(this.Ko.remoteStore)];case 5:return t.sent(),[2]}})})},ed.prototype.Qo=function(t){return eh(this.persistence,new Yc,t.initialUser,this.R)},ed.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new vc(e,t.asyncQueue)},ed.prototype.qo=function(t){var e=Qc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$u.withCacheSize(this.cacheSizeBytes):$u.DEFAULT;return new Bc(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ll(),fl(),this.R,this.sharedClientState,!!this.forceOwnership)},ed.prototype.Bo=function(t){return new Hh},ed),Jf=(n(td,Hf=Xf),td.prototype.initialize=function(r){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:return[4,Hf.prototype.initialize.call(this,r)];case 1:return t.sent(),e=this.Ko.syncEngine,this.sharedClientState instanceof zh?(this.sharedClientState.syncEngine={ai:qf.bind(null,e),ui:function(i,o,s,a){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return(e=i).Oo?(Lr(\"SyncEngine\",\"Ignoring unexpected query state notification.\"),[3,8]):[3,1];case 1:if(!e.Vo.has(o))return[3,8];switch(s){case\"current\":case\"not-current\":return[3,2];case\"rejected\":return[3,5]}return[3,7];case 2:return[4,lh(e.localStore)];case 3:return n=t.sent(),r=Qs.createSynthesizedRemoteEventForCurrentChange(o,\"current\"===s),[4,Vf(e,n,r)];case 4:return t.sent(),[3,8];case 5:return[4,uh(e.localStore,o,!0)];case 6:return t.sent(),Lf(e,o,a),[3,8];case 7:Vr(),t.label=8;case 8:return[2]}})})}.bind(null,e),hi:function(c,h,l){return y(this,void 0,void 0,function(){var n,e,r,i,o,s,a,u;return g(this,function(t){switch(t.label){case 0:if(!(n=Gf(c)).Oo)return[3,10];e=0,r=h,t.label=1;case 1:return e<r.length?(r=r[e],n.Vo.has(r)?(Lr(\"SyncEngine\",\"Adding an already active target \"+r),[3,5]):[4,hh(n.localStore,r)]):[3,6];case 2:return i=t.sent(),[4,ah(n.localStore,i)];case 3:return o=t.sent(),[4,Af(n,Kf(i),o.targetId,!1)];case 4:t.sent(),Rl(n.remoteStore,o),t.label=5;case 5:return e++,[3,1];case 6:s=function(e){return g(this,function(t){switch(t.label){case 0:return n.Vo.has(e)?[4,uh(n.localStore,e,!1).then(function(){xl(n.remoteStore,e),Lf(n,e)}).catch(yc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},a=0,u=l,t.label=7;case 7:return a<u.length?(u=u[a],[5,s(u)]):[3,10];case 8:t.sent(),t.label=9;case 9:return a++,[3,7];case 10:return[2]}})})}.bind(null,e),fn:function(t){return t.localStore.persistence.fn()}.bind(null,e),ci:function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return[2,lh((e=n).localStore).then(function(t){return Vf(e,t)})]})})}.bind(null,e)},[4,this.sharedClientState.start()]):[3,3];case 2:t.sent(),t.label=3;case 3:return[4,this.persistence.He(function(e){return y(n,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,Bf(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return t.sent(),[2]}})})},td.prototype.Bo=function(t){var e=ll();if(!zh.yt(e))throw new kr(Cr.UNIMPLEMENTED,\"IndexedDB persistence is only available on platforms that support LocalStorage.\");var n=Qc(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new zh(e,t.asyncQueue,n,t.clientId,t.initialUser)},td),$f=(Zf.prototype.initialize=function(n,r){return y(this,void 0,void 0,function(){var e=this;return g(this,function(t){switch(t.label){case 0:return this.localStore?[3,2]:(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Cf(e.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Uf.bind(null,this.syncEngine),[4,Ql(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:t.sent(),t.label=2;case 2:return[2]}})})},Zf.prototype.createEventManager=function(t){return new Jl},Zf.prototype.createDatastore=function(t){var e=dl(t.databaseInfo.databaseId),n=(n=t.databaseInfo,new $h(n));return t=t.credentials,new El(t,n,e)},Zf.prototype.createRemoteStore=function(t){var e=this,n=this.localStore,r=this.datastore,i=t.asyncQueue,o=function(t){return Cf(e.syncEngine,t,0)},t=new(Yh.yt()?Yh:Wh);return new pl(n,r,i,o,t)},Zf.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){o=new If(t,e,n,r,i,o);return s&&(o.Oo=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},Zf.prototype.terminate=function(){return function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=n,Lr(\"RemoteStore\",\"RemoteStore shutting down.\"),e.$r.add(5),[4,kl(e)];case 1:return t.sent(),e.Lr.shutdown(),e.Br.set(\"Unknown\"),[2]}})})}(this.remoteStore)},Zf);function Zf(){}function td(t,e){var n=this;return(n=Hf.call(this,t,e,!1)||this).Ko=t,n.cacheSizeBytes=e,n.synchronizeTabs=!0,n}function ed(t,e,n){var r=this;return(r=Wf.call(this)||this).Ko=t,r.cacheSizeBytes=e,r.forceOwnership=n,r.synchronizeTabs=!1,r}function nd(){this.synchronizeTabs=!1}function rd(n,r){void 0===r&&(r=10240);var i=0;return{read:function(){return y(this,void 0,void 0,function(){var e;return g(this,function(t){return i<n.byteLength?(e={value:n.slice(i,i+r),done:!1},[2,(i+=r,e)]):[2,{done:!0}]})})},cancel:function(){return y(this,void 0,void 0,function(){return g(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject(\"unimplemented\")}}var id=(dd.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},dd.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error(\"Uncaught Error in snapshot listener:\",t)},dd.prototype.Wo=function(){this.muted=!0},dd.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},dd),od=(fd.prototype.close=function(){return this.Go.cancel()},fd.prototype.getMetadata=function(){return y(this,void 0,void 0,function(){return g(this,function(t){return[2,this.metadata.promise]})})},fd.prototype.Lo=function(){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},fd.prototype.Ho=function(){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return[4,this.Jo()];case 1:return null===(e=t.sent())?[2,null]:(r=this.zo.decode(e),n=Number(r),isNaN(n)&&this.Yo(\"length string (\"+r+\") is not valid number\"),[4,this.Xo(n)]);case 2:return r=t.sent(),[2,new hf(JSON.parse(r),e.length+n)]}})})},fd.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t===\"{\".charCodeAt(0)})},fd.prototype.Jo=function(){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(t.sent())return[3,3];t.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo(\"Reached the end of bundle when a length string is expected.\"),n=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),n)])}})})},fd.prototype.Xo=function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return this.buffer.length<n?[4,this.tc()]:[3,3];case 1:t.sent()&&this.Yo(\"Reached the end of bundle when more is expected.\"),t.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,n)),[2,(this.buffer=this.buffer.slice(n),e)]}})})},fd.prototype.Yo=function(t){throw this.Go.cancel(),new Error(\"Invalid bundle format: \"+t)},fd.prototype.tc=function(){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,this.Go.read()];case 1:return(e=t.sent()).done||((n=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n),[2,e.done]}})})},fd),sd=(ld.prototype.lookup=function(r){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new kr(Cr.INVALID_ARGUMENT,\"Firestore transactions require all reads to be executed before all writes.\");return[4,function(s,a){return y(this,void 0,void 0,function(){var n,e,r,i,o;return g(this,function(t){switch(t.label){case 0:return e=ga((n=s).R)+\"/documents\",r={documents:a.map(function(t){return fa(n.R,t)})},[4,n.Oi(\"BatchGetDocuments\",e,r)];case 1:return r=t.sent(),i=new Map,r.forEach(function(t){var e,t=(e=n.R,\"found\"in(t=t)?function(t,e){Ur(!!e.found),e.found.name,e.found.updateTime;var n=da(t,e.found.name),t=ca(e.found.updateTime),e=new Oi({mapValue:{fields:e.found.fields}});return Pi.newFoundDocument(n,t,e)}(e,t):\"missing\"in t?function(t,e){Ur(!!e.missing),Ur(!!e.readTime);t=da(t,e.missing),e=ca(e.readTime);return Pi.newNoDocument(t,e)}(e,t):Vr());i.set(t.key.toString(),t)}),o=[],[2,(a.forEach(function(t){t=i.get(t.toString());Ur(!!t),o.push(t)}),o)]}})})}(this.datastore,r)];case 1:return[2,((e=t.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},ld.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},ld.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},ld.prototype.delete=function(t){this.write(new Ts(t,this.precondition(t))),this.writtenDocs.add(t.toString())},ld.prototype.commit=function(){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(t,e){e=bi.fromPath(e);n.mutations.push(new Is(e,n.precondition(e)))}),[4,function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return n=ga((e=i).R)+\"/documents\",r={writes:o.map(function(t){return wa(e.R,t)})},[4,e.Ni(\"Commit\",n,r)];case 1:return t.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return t.sent(),this.committed=!0,[2]}})})},ld.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Vr();e=zr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new kr(Cr.ABORTED,\"Document version changed between two reads.\")}else this.readVersions.set(t.key.toString(),e)},ld.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?rs.updateTime(e):rs.none()},ld.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(this.writtenDocs.has(t.toString())||!e)return rs.exists(!0);if(e.isEqual(zr.min()))throw new kr(Cr.INVALID_ARGUMENT,\"Can't update a document that doesn't exist.\");return rs.updateTime(e)},ld.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},ld.prototype.ensureCommitNotCalled=function(){},ld),ad=(hd.prototype.run=function(){this.nc()},hd.prototype.nc=function(){var t=this;this.Zi.ji(function(){return y(t,void 0,void 0,function(){var e,n,r=this;return g(this,function(t){return e=new sd(this.datastore),(n=this.sc(e))&&n.then(function(t){r.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){r.deferred.resolve(t)}).catch(function(t){r.ic(t)})})}).catch(function(t){r.ic(t)}),[2]})})})},hd.prototype.sc=function(t){try{var e=this.updateFunction(t);return!gi(e)&&e.catch&&e.then?e:(this.deferred.reject(Error(\"Transaction callback must return a Promise\")),null)}catch(t){return this.deferred.reject(t),null}},hd.prototype.ic=function(t){var e=this;0<this.ec&&this.rc(t)?(--this.ec,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},hd.prototype.rc=function(t){if(\"FirebaseError\"!==t.name)return!1;t=t.code;return\"aborted\"===t||\"failed-precondition\"===t||!As(t)},hd),ud=(cd.prototype.getConfiguration=function(){return y(this,void 0,void 0,function(){return g(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},cd.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},cd.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new kr(Cr.FAILED_PRECONDITION,\"The client has already been terminated.\")},cd.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new eu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:t.sent(),t.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return e=t.sent(),e=Xl(e,\"Failed to shutdown persistence\"),n.reject(e),[3,6];case 6:return[2]}})})}),n.promise},cd);function cd(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Sh.UNAUTHENTICATED,this.clientId=qr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(e){return y(r,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return Lr(\"FirestoreClient\",\"Received user=\",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}function hd(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new vl(this.asyncQueue,\"transaction_retry\")}function ld(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function fd(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new eu,this.buffer=new Uint8Array,this.zo=new TextDecoder(\"utf-8\"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error(\"The first element of the bundle is not a metadata, it is\\n             \"+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}function dd(t){this.observer=t,this.muted=!1}function pd(i,o){return y(this,void 0,void 0,function(){var e,n,r=this;return g(this,function(t){switch(t.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Lr(\"FirestoreClient\",\"Initializing OfflineComponentProvider\"),[4,i.getConfiguration()];case 1:return e=t.sent(),[4,o.initialize(e)];case 2:return t.sent(),n=e.initialUser,i.setCredentialChangeListener(function(e){return y(r,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return n.isEqual(e)?[3,2]:[4,nh(o.localStore,e)];case 1:t.sent(),n=e,t.label=2;case 2:return[2]}})})}),o.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=o,[2]}})})}function yd(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return r.asyncQueue.verifyOperationInProgress(),[4,gd(r)];case 1:return e=t.sent(),Lr(\"FirestoreClient\",\"Initializing OnlineComponentProvider\"),[4,r.getConfiguration()];case 2:return n=t.sent(),[4,i.initialize(e,n)];case 3:return t.sent(),r.setCredentialChangeListener(function(t){return function(r,i){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return(e=r).asyncQueue.verifyOperationInProgress(),Lr(\"RemoteStore\",\"RemoteStore received new credentials\"),n=Fl(e),e.$r.add(3),[4,kl(e)];case 1:return t.sent(),n&&e.Br.set(\"Unknown\"),[4,e.remoteSyncer.handleCredentialChange(i)];case 2:return t.sent(),e.$r.delete(3),[4,Cl(e)];case 3:return t.sent(),[2]}})})}(i.remoteStore,t)}),r.onlineComponents=i,[2]}})})}function gd(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Lr(\"FirestoreClient\",\"Using default OfflineComponentProvider\"),[4,pd(e,new Yf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function md(e){return y(this,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Lr(\"FirestoreClient\",\"Using default OnlineComponentProvider\"),[4,yd(e,new $f)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function vd(t){return gd(t).then(function(t){return t.persistence})}function bd(t){return gd(t).then(function(t){return t.localStore})}function wd(t){return md(t).then(function(t){return t.remoteStore})}function Ed(t){return md(t).then(function(t){return t.syncEngine})}function Td(r){return y(this,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,md(r)];case 1:return e=t.sent(),[2,((n=e.eventManager).onListen=function(s,a){return y(this,void 0,void 0,function(){var e,n,r,i,o;return g(this,function(t){switch(t.label){case 0:return e=Gf(s),(o=e.Po.get(a))?(n=o.targetId,e.sharedClientState.addLocalQueryTarget(n),r=o.view.Ro(),[3,4]):[3,1];case 1:return[4,ah(e.localStore,Do(a))];case 2:return i=t.sent(),o=e.sharedClientState.addLocalQueryTarget(i.targetId),n=i.targetId,[4,Af(e,a,n,\"current\"===o)];case 3:r=t.sent(),e.isPrimaryClient&&Rl(e.remoteStore,i),t.label=4;case 4:return[2,r]}})})}.bind(null,e.syncEngine),n.onUnlisten=function(i,o){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return n=(e=i).Po.get(o),1<(r=e.Vo.get(n.targetId)).length?[2,(e.Vo.set(n.targetId,r.filter(function(t){return!ko(t,o)})),void e.Po.delete(o))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(n.targetId),e.sharedClientState.isActiveQueryTarget(n.targetId)?[3,2]:[4,uh(e.localStore,n.targetId,!1).then(function(){e.sharedClientState.clearQueryState(n.targetId),xl(e.remoteStore,n.targetId),Lf(e,n.targetId)}).catch(yc)]):[3,3];case 1:t.sent(),t.label=2;case 2:return[3,5];case 3:return Lf(e,n.targetId),[4,uh(e.localStore,n.targetId,!0)];case 4:t.sent(),t.label=5;case 5:return[2]}})})}.bind(null,e.syncEngine),n)]}})})}function Id(n,r,i){var t=this;void 0===i&&(i={});var o=new eu;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(n,r,i,o,s){var t=new id({next:function(t){r.enqueueAndForget(function(){return af(n,a)});var e=t.docs.has(i);!e&&t.fromCache?s.reject(new kr(Cr.UNAVAILABLE,\"Failed to get document because the client is offline.\")):e&&t.fromCache&&o&&\"server\"===o.source?s.reject(new kr(Cr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to \"server\" to retrieve the cached document.)')):s.resolve(t)},error:function(t){return s.reject(t)}}),a=new cf(Eo(i.path),t,{includeMetadataChanges:!0,so:!0});return sf(n,a)},[4,Td(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.asyncQueue,r,i,o])]}})})}),o.promise}function _d(n,r,i){var t=this;void 0===i&&(i={});var o=new eu;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(e,n,t,r,i){var o=new id({next:function(t){n.enqueueAndForget(function(){return af(e,s)}),t.fromCache&&\"server\"===r.source?i.reject(new kr(Cr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to \"server\" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}}),s=new cf(t,o,{includeMetadataChanges:!0,so:!0});return sf(e,s)},[4,Td(n)];case 1:return[2,e.apply(void 0,[t.sent(),n.asyncQueue,r,i,o])]}})})}),o.promise}function Sd(t,e){this.user=e,this.type=\"OAuth\",this.authHeaders={},this.authHeaders.Authorization=\"Bearer \"+t}var Ad=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Nd=(Object.defineProperty(Ud.prototype,\"isDefaultDatabase\",{get:function(){return\"(default)\"===this.database},enumerable:!1,configurable:!0}),Ud.prototype.isEqual=function(t){return t instanceof Ud&&t.projectId===this.projectId&&t.database===this.database},Ud),Dd=new Map,Cd=(Vd.prototype.getToken=function(){return Promise.resolve(null)},Vd.prototype.invalidateToken=function(){},Vd.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Sh.UNAUTHENTICATED)})},Vd.prototype.removeChangeListener=function(){this.changeListener=null},Vd),kd=(Fd.prototype.getToken=function(){return Promise.resolve(this.token)},Fd.prototype.invalidateToken=function(){},Fd.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},Fd.prototype.removeChangeListener=function(){this.changeListener=null},Fd),Rd=(Md.prototype.getToken=function(){var e=this,n=this.cc,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(function(t){return e.cc!==n?(Lr(\"FirebaseCredentialsProvider\",\"getToken aborted due to token change.\"),e.getToken()):t?(Ur(\"string\"==typeof t.accessToken),new Sd(t.accessToken,e.currentUser)):null}):Promise.resolve(null)},Md.prototype.invalidateToken=function(){this.forceRefresh=!0},Md.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},Md.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},Md.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return Ur(null===t||\"string\"==typeof t),new Sh(t)},Md.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return y(t,void 0,void 0,function(){return g(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}})})}))},Md),xd=(Object.defineProperty(Pd.prototype,\"authHeaders\",{get:function(){var t={\"X-Goog-AuthUser\":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t[\"X-Goog-Iam-Authorization-Token\"]=this.wc),t},enumerable:!1,configurable:!0}),Pd),Od=(Ld.prototype.getToken=function(){return Promise.resolve(new xd(this.fc,this.dc,this.wc))},Ld.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Sh.FIRST_PARTY)})},Ld.prototype.removeChangeListener=function(){},Ld.prototype.invalidateToken=function(){},Ld);function Ld(t,e,n){this.fc=t,this.dc=e,this.wc=n}function Pd(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type=\"FirstParty\",this.user=Sh.FIRST_PARTY}function Md(e){var n=this;this.currentUser=Sh.UNAUTHENTICATED,this.oc=new eu,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.hc(),n.oc.resolve(),n.ac&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};function r(t){Lr(\"FirebaseCredentialsProvider\",\"Auth detected\"),n.auth=t,n.lc(),n.auth.addAuthTokenListener(n.uc)}e.onInit(r),setTimeout(function(){var t;n.auth||((t=e.getImmediate({optional:!0}))?r(t):n.ac&&(Lr(\"FirebaseCredentialsProvider\",\"Auth not yet detected\"),n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})))},0)}function Fd(t){this.token=t,this.changeListener=null}function Vd(){this.changeListener=null}function Ud(t,e){this.projectId=t,this.database=e||\"(default)\"}function qd(t,e,n){if(!n)throw new kr(Cr.INVALID_ARGUMENT,\"Function \"+t+\"() cannot be called with an empty \"+e+\".\")}function Bd(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid options passed to function \"+t+'(): You cannot specify both \"merge\" and \"mergeFields\".');return e}function jd(t,e,n,r){if(!0===e&&!0===r)throw new kr(Cr.INVALID_ARGUMENT,t+\" and \"+n+\" cannot be used together.\")}function Kd(t){if(!bi.isDocumentKey(t))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid document reference. Document references must have an even number of segments, but \"+t+\" has \"+t.length+\".\")}function Gd(t){if(bi.isDocumentKey(t))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid collection reference. Collection references must have an odd number of segments, but \"+t+\" has \"+t.length+\".\")}function Qd(e){if(void 0===e)return\"undefined\";if(null===e)return\"null\";if(\"string\"==typeof e)return 20<e.length&&(e=e.substring(0,20)+\"...\"),JSON.stringify(e);if(\"number\"==typeof e||\"boolean\"==typeof e)return\"\"+e;if(\"object\"!=typeof e)return\"function\"==typeof e?\"a function\":Vr();if(e instanceof Array)return\"an array\";var t=function(){if(e.constructor){var t=/function\\s+([^\\s(]+)\\s*\\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?\"a custom \"+t+\" object\":\"an object\"}function zd(t,e){if((t=\"_delegate\"in t?t._delegate:t)instanceof e)return t;if(e.name===t.constructor.name)throw new kr(Cr.INVALID_ARGUMENT,\"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?\");t=Qd(t);throw new kr(Cr.INVALID_ARGUMENT,\"Expected type '\"+e.name+\"', but it was: \"+t)}function Hd(t,e){if(e<=0)throw new kr(Cr.INVALID_ARGUMENT,\"Function \"+t+\"() requires a positive number, but it was: \"+e+\".\")}var Wd,Yd=(ip.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},ip),Xd=(Object.defineProperty(rp.prototype,\"app\",{get:function(){if(!this._app)throw new kr(Cr.FAILED_PRECONDITION,\"Firestore was not initialized using the Firebase SDK. 'app' is not available\");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(rp.prototype,\"_initialized\",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(rp.prototype,\"_terminated\",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),rp.prototype._setSettings=function(t){if(this._settingsFrozen)throw new kr(Cr.FAILED_PRECONDITION,\"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.\");this._settings=new Yd(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Cd;switch(t.type){case\"gapi\":var e=t.client;return Ur(!(\"object\"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Od(e,t.sessionIndex||\"0\",t.iamToken||null);case\"provider\":return t.client;default:throw new kr(Cr.INVALID_ARGUMENT,\"makeCredentialsProvider failed due to invalid credential type\")}}(t.credentials))},rp.prototype._getSettings=function(){return this._settings},rp.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},rp.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},rp.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},rp.prototype._terminate=function(){return(t=Dd.get(this))&&(Lr(\"ComponentProvider\",\"Removing Datastore\"),Dd.delete(this),t.terminate()),Promise.resolve();var t},rp),Jd=(Object.defineProperty(np.prototype,\"_path\",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(np.prototype,\"id\",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(np.prototype,\"path\",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(np.prototype,\"parent\",{get:function(){return new Zd(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),np.prototype.withConverter=function(t){return new np(this.firestore,t,this._key)},np),$d=(ep.prototype.withConverter=function(t){return new ep(this.firestore,t,this._query)},ep),Zd=(n(tp,Wd=$d),Object.defineProperty(tp.prototype,\"id\",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(tp.prototype,\"path\",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(tp.prototype,\"parent\",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Jd(this.firestore,null,new bi(t))},enumerable:!1,configurable:!0}),tp.prototype.withConverter=function(t){return new tp(this.firestore,t,this._path)},tp);function tp(t,e,n){var r=this;return(r=Wd.call(this,t,e,Eo(n))||this)._path=n,r.type=\"collection\",r}function ep(t,e,n){this.converter=e,this._query=n,this.type=\"query\",this.firestore=t}function np(t,e,n){this.converter=e,this._key=n,this.type=\"document\",this.firestore=t}function rp(t,e){this.type=\"firestore-lite\",this._persistenceKey=\"(lite)\",this._settings=new Yd({}),this._settingsFrozen=!1,t instanceof Nd?(this._databaseId=t,this._credentials=new Cd):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,[\"projectId\"]))throw new kr(Cr.INVALID_ARGUMENT,'\"projectId\" not provided in firebase.initializeApp.');return new Nd(t.options.projectId)}(t),this._credentials=new Rd(e))}function ip(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new kr(Cr.INVALID_ARGUMENT,\"Can't provide ssl option if host option is not set\");this.host=\"firestore.googleapis.com\",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kr(Cr.INVALID_ARGUMENT,\"cacheSizeBytes must be at least 1048576\");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,jd(\"experimentalForceLongPolling\",t.experimentalForceLongPolling,\"experimentalAutoDetectLongPolling\",t.experimentalAutoDetectLongPolling)}function op(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=v(t),qd(\"collection\",\"path\",e),t instanceof Xd)return Gd(n=ti.fromString.apply(ti,s([e],r))),new Zd(t,null,n);if(!(t instanceof Jd||t instanceof Zd))throw new kr(Cr.INVALID_ARGUMENT,\"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore\");return Gd(n=ti.fromString.apply(ti,s([t.path],r)).child(ti.fromString(e))),new Zd(t.firestore,null,n)}function sp(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=v(t),qd(\"doc\",\"path\",e=1===arguments.length?qr.u():e),t instanceof Xd)return Kd(n=ti.fromString.apply(ti,s([e],r))),new Jd(t,null,new bi(n));if(!(t instanceof Jd||t instanceof Zd))throw new kr(Cr.INVALID_ARGUMENT,\"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore\");return Kd(n=t._path.child(ti.fromString.apply(ti,s([e],r)))),new Jd(t.firestore,t instanceof Zd?t.converter:null,new bi(n))}function ap(t,e){return t=v(t),e=v(e),(t instanceof Jd||t instanceof Zd)&&(e instanceof Jd||e instanceof Zd)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function up(t,e){return t=v(t),e=v(e),t instanceof $d&&e instanceof $d&&t.firestore===e.firestore&&ko(t._query,e._query)&&t.converter===e.converter}var cp=(Object.defineProperty(hp.prototype,\"isShuttingDown\",{get:function(){return this.yc},enumerable:!1,configurable:!0}),hp.prototype.enqueueAndForget=function(t){this.enqueue(t)},hp.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},hp.prototype.enterRestrictedMode=function(){var t;this.yc||(this.yc=!0,(t=fl())&&\"function\"==typeof t.removeEventListener&&t.removeEventListener(\"visibilitychange\",this.Ac))},hp.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},hp.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},hp.prototype.vc=function(){return y(this,void 0,void 0,function(){var e,n=this;return g(this,function(t){switch(t.label){case 0:if(0===this.mc.length)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return t.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!du(e=t.sent()))throw e;return Lr(\"AsyncQueue\",\"Operation failed with retryable error: \"+e),[3,4];case 4:0<this.mc.length&&this.Zi.ji(function(){return n.vc()}),t.label=5;case 5:return[2]}})})},hp.prototype.bc=function(t){var r=this,e=this._c.then(function(){return r.Tc=!0,t().catch(function(t){throw r.Ec=t,r.Tc=!1,Pr(\"INTERNAL UNHANDLED ERROR: \",(n=(e=t).message||\"\",n=e.stack?e.stack.includes(e.message)?e.stack:e.message+\"\\n\"+e.stack:n)),t;var e,n}).then(function(t){return r.Tc=!1,t})});return this._c=e},hp.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),-1<this.Ic.indexOf(t)&&(e=0);n=Wl.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(n),n},hp.prototype.Rc=function(){this.Ec&&Vr()},hp.prototype.verifyOperationInProgress=function(){},hp.prototype.Vc=function(){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,e=this._c];case 1:t.sent(),t.label=2;case 2:if(e!==this._c)return[3,0];t.label=3;case 3:return[2]}})})},hp.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},hp.prototype.Dc=function(r){var i=this;return this.Vc().then(function(){i.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var t=0,e=i.gc;t<e.length;t++){var n=e[t];if(n.skipDelay(),\"all\"!==r&&n.timerId===r)break}return i.Vc()})},hp.prototype.Cc=function(t){this.Ic.push(t)},hp.prototype.Pc=function(t){t=this.gc.indexOf(t);this.gc.splice(t,1)},hp);function hp(){var e=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new vl(this,\"async_queue_retry\"),this.Ac=function(){var t=fl();t&&Lr(\"AsyncQueue\",\"Visibility state changed to \"+t.visibilityState),e.Zi.Gi()};var t=fl();t&&\"function\"==typeof t.addEventListener&&t.addEventListener(\"visibilitychange\",this.Ac)}function lp(i){return function(){if(\"object\"==typeof i&&null!==i)for(var t=i,e=0,n=[\"next\",\"error\",\"complete\"];e<n.length;e++){var r=n[e];if(r in t&&\"function\"==typeof t[r])return 1}}()}var fp,dp=(gp.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},gp.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},gp.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},gp.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},gp.prototype._failWith=function(t){this._lastProgress.taskState=\"Error\",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},gp.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},gp),pp=(n(yp,fp=Xd),yp.prototype._terminate=function(){return this._firestoreClient||vp(this),this._firestoreClient.terminate()},yp);function yp(t,e){var n=this;return(n=fp.call(this,t,e)||this).type=\"firestore\",n._queue=new cp,n._persistenceKey=\"name\"in t?t.name:\"[DEFAULT]\",n}function gp(){this._progressObserver={},this._taskCompletionResolver=new eu,this._lastProgress={taskState:\"Running\",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function mp(t){return t._firestoreClient||vp(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vp(t){var e,n,r,i=t._freezeSettings(),i=(e=t._databaseId,n=(null===(r=t._app)||void 0===r?void 0:r.options.appId)||\"\",r=t._persistenceKey,new Ad(e,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling));t._firestoreClient=new ud(t._credentials,t._queue,i)}function bp(r,i,o){var t=this,s=new eu;return r.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var n;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),[4,pd(r,o)];case 1:return t.sent(),[4,yd(r,i)];case 2:return t.sent(),s.resolve(),[3,4];case 3:if(!(\"FirebaseError\"===(e=n=t.sent()).name?e.code===Cr.FAILED_PRECONDITION||e.code===Cr.UNIMPLEMENTED:!(\"undefined\"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code))throw n;return console.warn(\"Error enabling offline persistence. Falling back to persistence disabled: \"+n),s.reject(n),[3,4];case 4:return[2]}var e})})}).then(function(){return s.promise})}function wp(t){if(t._initialized||t._terminated)throw new kr(Cr.FAILED_PRECONDITION,\"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.\")}var Ep=(xp.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},xp),Tp=(Rp.fromBase64String=function(t){try{return new Rp(ii.fromBase64String(t))}catch(t){throw new kr(Cr.INVALID_ARGUMENT,\"Failed to construct data from Base64 string: \"+t)}},Rp.fromUint8Array=function(t){return new Rp(ii.fromUint8Array(t))},Rp.prototype.toBase64=function(){return this._byteString.toBase64()},Rp.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},Rp.prototype.toString=function(){return\"Bytes(base64: \"+this.toBase64()+\")\"},Rp.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},Rp),Ip=function(t){this._methodName=t},_p=(Object.defineProperty(kp.prototype,\"latitude\",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(kp.prototype,\"longitude\",{get:function(){return this._long},enumerable:!1,configurable:!0}),kp.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},kp.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},kp.prototype._compareTo=function(t){return jr(this._lat,t._lat)||jr(this._long,t._long)},kp),Sp=/^__.*__$/,Ap=(Cp.prototype.toMutation=function(t,e){return null!==this.fieldMask?new fs(t,this.data,this.fieldMask,e,this.fieldTransforms):new ls(t,this.data,e,this.fieldTransforms)},Cp),Np=(Dp.prototype.toMutation=function(t,e){return new fs(t,this.data,this.fieldMask,e,this.fieldTransforms)},Dp);function Dp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function Cp(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}function kp(t,e){if(!isFinite(t)||t<-90||90<t)throw new kr(Cr.INVALID_ARGUMENT,\"Latitude must be a number between -90 and 90, but was: \"+t);if(!isFinite(e)||e<-180||180<e)throw new kr(Cr.INVALID_ARGUMENT,\"Longitude must be a number between -180 and 180, but was: \"+e);this._lat=t,this._long=e}function Rp(t){this._byteString=t}function xp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid field name at argument $(i + 1). Field names must not be empty.\");this._internalPath=new ni(t)}function Op(t){switch(t){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw Vr()}}var Lp=(Object.defineProperty(Fp.prototype,\"path\",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(Fp.prototype,\"xc\",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),Fp.prototype.Fc=function(t){return new Fp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},Fp.prototype.kc=function(t){var e=null===(e=this.path)||void 0===e?void 0:e.child(t),e=this.Fc({path:e,Oc:!1});return e.$c(t),e},Fp.prototype.Mc=function(t){var e,t=null===(e=this.path)||void 0===e?void 0:e.child(t),t=this.Fc({path:t,Oc:!1});return t.Nc(),t},Fp.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},Fp.prototype.Bc=function(t){return fy(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},Fp.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},Fp.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},Fp.prototype.$c=function(t){if(0===t.length)throw this.Bc(\"Document fields must not be empty\");if(Op(this.xc)&&Sp.test(t))throw this.Bc('Document fields cannot begin and end with \"__\"')},Fp),Pp=(Mp.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Lp({xc:t,methodName:e,Uc:n,path:ni.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},Mp);function Mp(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||dl(t)}function Fp(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function Vp(t){var e=t._freezeSettings(),n=dl(t._databaseId);return new Pp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Up(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);uy(\"Data must be an object, but it was:\",s,r);var a,u,r=sy(r,s);if(o.merge)a=new ri(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,l=o.mergeFields;h<l.length;h++){var f=cy(e,l[h],n);if(!s.contains(f))throw new kr(Cr.INVALID_ARGUMENT,\"Field '\"+f+\"' is specified in your field mask but missing from your input data.\");dy(c,f)||c.push(f)}a=new ri(c),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ap(new Oi(r),a,u)}var qp,Bp=(n(jp,qp=Ip),jp.prototype._toFieldTransform=function(t){if(2!==t.xc)throw 1===t.xc?t.Bc(this._methodName+\"() can only appear at the top level of your update data\"):t.Bc(this._methodName+\"() cannot be used with set() unless you pass {merge:true}\");return t.fieldMask.push(t.path),null},jp.prototype.isEqual=function(t){return t instanceof jp},jp);function jp(){return null!==qp&&qp.apply(this,arguments)||this}function Kp(t,e,n){return new Lp({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Gp,Qp,zp,Hp,Wp=(n(ey,Hp=Ip),ey.prototype._toFieldTransform=function(t){return new ns(t.path,new Bo)},ey.prototype.isEqual=function(t){return t instanceof ey},ey),Yp=(n(ty,zp=Ip),ty.prototype._toFieldTransform=function(t){var e=Kp(this,t,!0),n=this.Kc.map(function(t){return oy(t,e)}),n=new jo(n);return new ns(t.path,n)},ty.prototype.isEqual=function(t){return this===t},ty),Xp=(n(Zp,Qp=Ip),Zp.prototype._toFieldTransform=function(t){var e=Kp(this,t,!0),n=this.Kc.map(function(t){return oy(t,e)}),n=new Ho(n);return new ns(t.path,n)},Zp.prototype.isEqual=function(t){return this===t},Zp),Jp=(n($p,Gp=Ip),$p.prototype._toFieldTransform=function(t){var e=new Jo(t.R,Fo(t.R,this.jc));return new ns(t.path,e)},$p.prototype.isEqual=function(t){return this===t},$p);function $p(t,e){var n=this;return(n=Gp.call(this,t)||this).jc=e,n}function Zp(t,e){var n=this;return(n=Qp.call(this,t)||this).Kc=e,n}function ty(t,e){var n=this;return(n=zp.call(this,t)||this).Kc=e,n}function ey(){return null!==Hp&&Hp.apply(this,arguments)||this}function ny(t,r,i,e){var o=t.Qc(1,r,i);uy(\"Data must be an object, but it was:\",o,e);var s=[],a=Oi.empty();Xr(e,function(t,e){var n=ly(r,t,i);e=v(e);t=o.Mc(n);e instanceof Bp?s.push(n):null!=(t=oy(e,t))&&(s.push(n),a.set(n,t))});e=new ri(s);return new Np(a,e,o.fieldTransforms)}function ry(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[cy(e,r,n)],u=[i];if(o.length%2!=0)throw new kr(Cr.INVALID_ARGUMENT,\"Function \"+e+\"() needs to be called with an even number of arguments that alternate between field names and values.\");for(var c=0;c<o.length;c+=2)a.push(cy(e,o[c])),u.push(o[c+1]);for(var h,l,f,d=[],p=Oi.empty(),y=a.length-1;0<=y;--y)dy(d,a[y])||(h=a[y],l=v(l=u[y]),f=s.Mc(h),l instanceof Bp?d.push(h):null!=(f=oy(l,f))&&(d.push(h),p.set(h,f)));i=new ri(d);return new Np(p,i,s.fieldTransforms)}function iy(t,e,n,r){return void 0===r&&(r=!1),oy(n,t.Qc(r?4:3,e))}function oy(s,t){if(ay(s=v(s)))return uy(\"Unsupported field value:\",t,s),sy(s,t);if(s instanceof Ip)return function(t,e){if(!Op(e.xc))throw e.Bc(t._methodName+\"() can only be used with update() and set()\");if(!e.path)throw e.Bc(t._methodName+\"() is not currently supported inside arrays\");t=t._toFieldTransform(e);t&&e.fieldTransforms.push(t)}(s,t),null;if(void 0===s&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Oc&&4!==t.xc)throw t.Bc(\"Nested arrays are not supported\");return function(t){for(var e=[],n=0,r=0,i=s;r<i.length;r++){var o=oy(i[r],t.Lc(n));null==o&&(o={nullValue:\"NULL_VALUE\"}),e.push(o),n++}return{arrayValue:{values:e}}}(t)}return function(t,e){if(null===(t=v(t)))return{nullValue:\"NULL_VALUE\"};if(\"number\"==typeof t)return Fo(e.R,t);if(\"boolean\"==typeof t)return{booleanValue:t};if(\"string\"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Qr.fromDate(t);return{timestampValue:aa(e.R,n)}}if(t instanceof Qr)return n=new Qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:aa(e.R,n)};if(t instanceof _p)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tp)return{bytesValue:ua(e.R,t._byteString)};if(t instanceof Jd){var n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Bc(\"Document reference is for database \"+r.projectId+\"/\"+r.database+\" but should be for database \"+n.projectId+\"/\"+n.database);return{referenceValue:ha(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc(\"Unsupported field value: \"+Qd(t))}(s,t)}function sy(t,n){var r={};return Jr(t)?n.path&&0<n.path.length&&n.fieldMask.push(n.path):Xr(t,function(t,e){e=oy(e,n.kc(t));null!=e&&(r[t]=e)}),{mapValue:{fields:r}}}function ay(t){return!(\"object\"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qr||t instanceof _p||t instanceof Tp||t instanceof Jd||t instanceof Ip)}function uy(t,e,n){if(!ay(n)||(\"object\"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){n=Qd(n);throw\"an object\"===n?e.Bc(t+\" a custom object\"):e.Bc(t+\" \"+n)}var r}function cy(t,e,n){if((e=v(e))instanceof Ep)return e._internalPath;if(\"string\"==typeof e)return ly(t,e);throw fy(\"Field path arguments must be of type string or FieldPath.\",t,!1,void 0,n)}var hy=new RegExp(\"[~\\\\*/\\\\[\\\\]]\");function ly(e,n,r){if(0<=n.search(hy))throw fy(\"Invalid field path (\"+n+\"). Paths must not contain '~', '*', '/', '[', or ']'\",e,!1,void 0,r);try{return(new(Ep.bind.apply(Ep,s([void 0],n.split(\".\")))))._internalPath}catch(t){throw fy(\"Invalid field path (\"+n+\"). Paths must not be empty, begin with '.', end with '.', or contain '..'\",e,!1,void 0,r)}}function fy(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,e=\"Function \"+e+\"() called with invalid data\";n&&(e+=\" (via `toFirestore()`)\");n=\"\";return(o||s)&&(n+=\" (found\",o&&(n+=\" in field \"+r),s&&(n+=\" in document \"+i),n+=\")\"),new kr(Cr.INVALID_ARGUMENT,(e+=\". \")+t+n)}function dy(t,e){return t.some(function(t){return t.isEqual(e)})}var py,yy=(Object.defineProperty(vy.prototype,\"id\",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(vy.prototype,\"ref\",{get:function(){return new Jd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),vy.prototype.exists=function(){return null!==this._document},vy.prototype.data=function(){if(this._document){if(this._converter){var t=new gy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},vy.prototype.get=function(t){if(this._document){t=this._document.data.field(by(\"DocumentSnapshot.get\",t));if(null!==t)return this._userDataWriter.convertValue(t)}},vy),gy=(n(my,py=yy),my.prototype.data=function(){return py.prototype.data.call(this)},my);function my(){return null!==py&&py.apply(this,arguments)||this}function vy(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}function by(t,e){return\"string\"==typeof e?ly(t,e):(e instanceof Ep?e:e._delegate)._internalPath}var wy,Ey,Ty=(Cy.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},Cy),Iy=(n(Dy,Ey=yy),Dy.prototype.exists=function(){return Ey.prototype.exists.call(this)},Dy.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new _y(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},Dy.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){t=this._document.data.field(by(\"DocumentSnapshot.get\",t));if(null!==t)return this._userDataWriter.convertValue(t,e.serverTimestamps)}},Dy),_y=(n(Ny,wy=Iy),Ny.prototype.data=function(t){return void 0===t&&(t={}),wy.prototype.data.call(this,t)},Ny),Sy=(Object.defineProperty(Ay.prototype,\"docs\",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(Ay.prototype,\"size\",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(Ay.prototype,\"empty\",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),Ay.prototype.forEach=function(e,n){var r=this;this._snapshot.docs.forEach(function(t){e.call(n,new _y(r._firestore,r._userDataWriter,t.key,t,new Ty(r._snapshot.mutatedKeys.has(t.key),r._snapshot.fromCache),r.query.converter))})},Ay.prototype.docChanges=function(t){t=!!(t=void 0===t?{}:t).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kr(Cr.INVALID_ARGUMENT,\"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().\");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,e){if(i._snapshot.oldDocs.isEmpty()){var n=0;return i._snapshot.docChanges.map(function(t){var e=new _y(i._firestore,i._userDataWriter,t.doc.key,t.doc,new Ty(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query.converter);return t.doc,{type:\"added\",doc:e,oldIndex:-1,newIndex:n++}})}var o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(t){var e=new _y(i._firestore,i._userDataWriter,t.doc.key,t.doc,new Ty(i._snapshot.mutatedKeys.has(t.doc.key),i._snapshot.fromCache),i.query.converter),n=-1,r=-1;return 0!==t.type&&(n=o.indexOf(t.doc.key),o=o.delete(t.doc.key)),1!==t.type&&(r=(o=o.add(t.doc)).indexOf(t.doc.key)),{type:function(t){switch(t){case 0:return\"added\";case 2:case 3:return\"modified\";case 1:return\"removed\";default:return Vr()}}(t.type),doc:e,oldIndex:n,newIndex:r}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},Ay);function Ay(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ty(r.hasPendingWrites,r.fromCache),this.query=n}function Ny(){return null!==wy&&wy.apply(this,arguments)||this}function Dy(t,e,n,r,i,o){var s=this;return(s=Ey.call(this,t,e,n,r,o)||this)._firestore=t,s._firestoreImpl=t,s.metadata=i,s}function Cy(t,e){this.hasPendingWrites=t,this.fromCache=e}function ky(t,e){return t instanceof Iy&&e instanceof Iy?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Sy&&e instanceof Sy&&t._firestore===e._firestore&&up(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Ry(t){if(Io(t)&&0===t.explicitOrderBy.length)throw new kr(Cr.UNIMPLEMENTED,\"limitToLast() queries require specifying at least one orderBy() clause\")}Se=function(){};function xy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++)t=i[r]._apply(t);return t}var Oy,Ly,Py,My,Fy,Vy=(n(Hy,Fy=Se),Hy.prototype._apply=function(t){var e=Vp(t.firestore),e=function(t,e,n,r,i,o){if(r.isKeyField()){if(\"array-contains\"===i||\"array-contains-any\"===i)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid Query. You can't perform '\"+i+\"' queries on FieldPath.documentId().\");if(\"in\"===i||\"not-in\"===i){Xy(o,i);for(var s=[],a=0,u=o;a<u.length;a++){var c=u[a];s.push(Yy(n,t,c))}h={arrayValue:{values:s}}}else h=Yy(n,t,o)}else\"in\"!==i&&\"not-in\"!==i&&\"array-contains-any\"!==i||Xy(o,i),h=iy(e,\"where\",o,\"in\"===i||\"not-in\"===i);var h=Ki.create(r,i,h);return function(t,e){if(e.g()){var n=So(t);if(null!==n&&!n.isEqual(e.field))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '\"+n.toString()+\"' and '\"+e.field.toString()+\"'\");n=_o(t);null!==n&&Jy(0,e.field,n)}t=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(0<=e.indexOf(i.op))return i.op}return null}(t,function(){switch(e.op){case\"!=\":return[\"!=\",\"not-in\"];case\"array-contains\":return[\"array-contains\",\"array-contains-any\",\"not-in\"];case\"in\":return[\"array-contains-any\",\"in\",\"not-in\"];case\"array-contains-any\":return[\"array-contains\",\"array-contains-any\",\"in\",\"not-in\"];case\"not-in\":return[\"array-contains\",\"array-contains-any\",\"in\",\"not-in\",\"!=\"];default:return[]}}());if(null!==t)throw t===e.op?new kr(Cr.INVALID_ARGUMENT,\"Invalid query. You cannot use more than one '\"+e.op.toString()+\"' filter.\"):new kr(Cr.INVALID_ARGUMENT,\"Invalid query. You cannot use '\"+e.op.toString()+\"' filters with '\"+t.toString()+\"' filters.\")}(t,h),h}(t._query,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new $d(t.firestore,t.converter,(t=t._query,e=t.filters.concat([e]),new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),e,t.limit,t.limitType,t.startAt,t.endAt)))},Hy),Uy=(n(zy,My=Se),zy.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. You must not call startAt() or startAfter() before calling orderBy().\");if(null!==t.endAt)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. You must not call endAt() or endBefore() before calling orderBy().\");var r=new go(e,n);return e=r,null!==_o(n=t)||null!==(t=So(n))&&Jy(0,t,e.field),r}(t._query,this.Wc,this.Hc);return new $d(t.firestore,t.converter,(t=t._query,e=t.explicitOrderBy.concat([e]),new bo(t.path,t.collectionGroup,e,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},zy),qy=(n(Qy,Py=Se),Qy.prototype._apply=function(t){return new $d(t.firestore,t.converter,Co(t._query,this.Jc,this.Yc))},Qy),By=(n(Gy,Ly=Se),Gy.prototype._apply=function(t){var e=Wy(t,this.type,this.Xc,this.Zc);return new $d(t.firestore,t.converter,(t=t._query,e=e,new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)))},Gy),jy=(n(Ky,Oy=Se),Ky.prototype._apply=function(t){var e=Wy(t,this.type,this.Xc,this.Zc);return new $d(t.firestore,t.converter,(t=t._query,e=e,new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)))},Ky);function Ky(t,e,n){var r=this;return(r=Oy.call(this)||this).type=t,r.Xc=e,r.Zc=n,r}function Gy(t,e,n){var r=this;return(r=Ly.call(this)||this).type=t,r.Xc=e,r.Zc=n,r}function Qy(t,e,n){var r=this;return(r=Py.call(this)||this).type=t,r.Jc=e,r.Yc=n,r}function zy(t,e){var n=this;return(n=My.call(this)||this).Wc=t,n.Hc=e,n.type=\"orderBy\",n}function Hy(t,e,n){var r=this;return(r=Fy.call(this)||this).Wc=t,r.Gc=e,r.zc=n,r.type=\"where\",r}function Wy(t,c,e,n){if(e[0]=v(e[0]),e[0]instanceof yy)return function(t,e,n,r){if(!n)throw new kr(Cr.NOT_FOUND,\"Can't use a DocumentSnapshot that doesn't exist for \"+c+\"().\");for(var i=[],o=0,s=No(t);o<s.length;o++){var a=s[o];if(a.field.isKeyField())i.push(Ni(e,n.key));else{var u=n.data.field(a.field);if(pi(u))throw new kr(Cr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field \"'+a.field+'\" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){a=a.field.canonicalString();throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. You are trying to start or end a query using a document for which the field '\"+a+\"' (used as the orderBy) does not exist.\")}i.push(u)}}return new co(i,r)}(t._query,t.firestore._databaseId,e[0]._document,n);var r=Vp(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new kr(Cr.INVALID_ARGUMENT,\"Too many arguments provided to \"+r+\"(). The number of arguments must be less than or equal to the number of orderBy() clauses\");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if(\"string\"!=typeof c)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. Expected a string for document ID in \"+r+\"(), but got a \"+typeof c);if(!Ao(t)&&-1!==c.indexOf(\"/\"))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to \"+r+\"() must be a plain document ID, but '\"+c+\"' contains a slash.\");var h=t.path.child(ti.fromString(c));if(!bi.isDocumentKey(h))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to \"+r+\"() must result in a valid document path, but '\"+h+\"' is not because it contains an odd number of segments.\");h=new bi(h);a.push(Ni(e,h))}else{c=iy(n,r,c);a.push(c)}}return new co(a,o)}(t._query,t.firestore._databaseId,r,c,e,n)}function Yy(t,e,n){if(\"string\"==typeof(n=v(n))){if(\"\"===n)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.\");if(!Ao(e)&&-1!==n.indexOf(\"/\"))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '\"+n+\"' contains a '/' character.\");e=e.path.child(ti.fromString(n));if(!bi.isDocumentKey(e))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '\"+e+\"' is not because it has an odd number of segments (\"+e.length+\").\");return Ni(t,new bi(e))}if(n instanceof Jd)return Ni(t,n._key);throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: \"+Qd(n)+\".\")}function Xy(t,e){if(!Array.isArray(t)||0===t.length)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid Query. A non-empty array is required for '\"+e.toString()+\"' filters.\");if(10<t.length)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid Query. '\"+e.toString()+\"' filters support a maximum of 10 elements in the value array.\")}function Jy(t,e,n){if(!n.isEqual(e))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '\"+e.toString()+\"' and so you must also use '\"+e.toString()+\"' as your first argument to orderBy(), but your first orderBy() is on field '\"+n.toString()+\"' instead.\")}$y.prototype.convertValue=function(t,e){switch(void 0===e&&(e=\"none\"),Ei(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(di(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Vr()}},$y.prototype.convertObject=function(t,n){var r=this,i={};return Xr(t.fields||{},function(t,e){i[t]=r.convertValue(e,n)}),i},$y.prototype.convertGeoPoint=function(t){return new _p(fi(t.latitude),fi(t.longitude))},$y.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},$y.prototype.convertServerTimestamp=function(t,e){switch(e){case\"previous\":var n=function t(e){e=e.mapValue.fields.__previous_value__;return pi(e)?t(e):e}(t);return null==n?null:this.convertValue(n,e);case\"estimate\":return this.convertTimestamp(yi(t));default:return null}},$y.prototype.convertTimestamp=function(t){t=li(t);return new Qr(t.seconds,t.nanos)},$y.prototype.convertDocumentKey=function(t,e){var n=ti.fromString(t);Ur(Ra(n));t=new Nd(n.get(1),n.get(3)),n=new bi(n.popFirst(5));return t.isEqual(e)||Pr(\"Document \"+n+\" contains a document reference within a different database (\"+t.projectId+\"/\"+t.database+\") which is not supported. It will be treated as a reference in the current database (\"+e.projectId+\"/\"+e.database+\") instead.\"),n},I=$y;function $y(){}function Zy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var tg,eg=(n(ig,tg=I),ig.prototype.convertBytes=function(t){return new Tp(t)},ig.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Jd(this.firestore,null,t)},ig),ng=(rg.prototype.set=function(t,e,n){this._verifyNotCommitted();t=og(t,this._firestore),e=Zy(t.converter,e,n),n=Up(this._dataReader,\"WriteBatch.set\",t._key,e,null!==t.converter,n);return this._mutations.push(n.toMutation(t._key,rs.none())),this},rg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();t=og(t,this._firestore),e=\"string\"==typeof(e=v(e))||e instanceof Ep?ry(this._dataReader,\"WriteBatch.update\",t._key,e,n,r):ny(this._dataReader,\"WriteBatch.update\",t._key,e);return this._mutations.push(e.toMutation(t._key,rs.exists(!0))),this},rg.prototype.delete=function(t){this._verifyNotCommitted();t=og(t,this._firestore);return this._mutations=this._mutations.concat(new Ts(t._key,rs.none())),this},rg.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},rg.prototype._verifyNotCommitted=function(){if(this._committed)throw new kr(Cr.FAILED_PRECONDITION,\"A write batch can no longer be used after commit() has been called.\")},rg);function rg(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Vp(t)}function ig(t){var e=this;return(e=tg.call(this)||this).firestore=t,e}function og(t,e){if((t=v(t)).firestore!==e)throw new kr(Cr.INVALID_ARGUMENT,\"Provided document reference is from a different Firestore instance.\");return t}var sg,ag=(n(ug,sg=I),ug.prototype.convertBytes=function(t){return new Tp(t)},ug.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return new Jd(this.firestore,null,t)},ug);function ug(t){var e=this;return(e=sg.call(this)||this).firestore=t,e}function cg(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=zd(t,Jd);var o=zd(t.firestore,pp),s=Vp(o);return lg(o,[(\"string\"==typeof(e=v(e))||e instanceof Ep?ry(s,\"updateDoc\",t._key,e,n,r):ny(s,\"updateDoc\",t._key,e)).toMutation(t._key,rs.exists(!0))])}function hg(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];e=v(e);var r={includeMetadataChanges:!1},i=0;\"object\"!=typeof n[i]||lp(n[i])||(r=n[i],i++);var o,s,a,u,c,h,l={includeMetadataChanges:r.includeMetadataChanges};return lp(n[i])&&(o=n[i],n[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),n[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),n[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof Jd?(a=zd(e.firestore,pp),u=Eo(e._key.path),h={next:function(t){n[i]&&n[i](fg(a,e,t))},error:n[i+1],complete:n[i+2]}):(s=zd(e,$d),a=zd(s.firestore,pp),u=s._query,c=new ag(a),h={next:function(t){n[i]&&n[i](new Sy(a,c,s,t))},error:n[i+1],complete:n[i+2]},Ry(e._query)),function(n,t,e){var r=this,i=new id(h),o=new cf(t,i,e);return n.asyncQueue.enqueueAndForget(function(){return y(r,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=sf,[4,Td(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})}),function(){i.Wo(),n.asyncQueue.enqueueAndForget(function(){return y(r,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=af,[4,Td(n)];case 1:return[2,e.apply(void 0,[t.sent(),o])]}})})})}}(mp(a),u,l)}function lg(t,e){return function(n,r){var t=this,i=new eu;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=Nf,[4,Ed(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(mp(t),e)}function fg(t,e,n){var r=n.docs.get(e._key),i=new ag(t);return new Iy(t,i,e._key,r,new Ty(n.hasPendingWrites,n.fromCache),e.converter)}var dg,pg=(gg.prototype.get=function(t){var e=this,n=og(t,this._firestore),r=new eg(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Vr();t=t[0];if(t.isFoundDocument())return new yy(e._firestore,r,t.key,t,n.converter);if(t.isNoDocument())return new yy(e._firestore,r,n._key,null,n.converter);throw Vr()})},gg.prototype.set=function(t,e,n){t=og(t,this._firestore),e=Zy(t.converter,e,n),n=Up(this._dataReader,\"Transaction.set\",t._key,e,null!==t.converter,n);return this._transaction.set(t._key,n),this},gg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=og(t,this._firestore),e=\"string\"==typeof(e=v(e))||e instanceof Ep?ry(this._dataReader,\"Transaction.update\",t._key,e,n,r):ny(this._dataReader,\"Transaction.update\",t._key,e);return this._transaction.update(t._key,e),this},gg.prototype.delete=function(t){t=og(t,this._firestore);return this._transaction.delete(t._key),this},n(yg,dg=gg),yg.prototype.get=function(t){var e=this,n=og(t,this._firestore),r=new ag(this._firestore);return dg.prototype.get.call(this,t).then(function(t){return new Iy(e._firestore,r,n._key,t._document,new Ty(!1,!1),n.converter)})},yg);function yg(t,e){var n=this;return(n=dg.call(this,t,e)||this)._firestore=t,n}function gg(t,e){this._firestore=t,this._transaction=e,this._dataReader=Vp(t)}function mg(){if(\"undefined\"==typeof Uint8Array)throw new kr(Cr.UNIMPLEMENTED,\"Uint8Arrays are not available in this environment.\")}function vg(){if(\"undefined\"==typeof atob)throw new kr(Cr.UNIMPLEMENTED,\"Blobs are unavailable in Firestore in this environment.\")}var bg,wg=(Ng.fromBase64String=function(t){return vg(),new Ng(Tp.fromBase64String(t))},Ng.fromUint8Array=function(t){return mg(),new Ng(Tp.fromUint8Array(t))},Ng.prototype.toBase64=function(){return vg(),this._delegate.toBase64()},Ng.prototype.toUint8Array=function(){return mg(),this._delegate.toUint8Array()},Ng.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},Ng.prototype.toString=function(){return\"Blob(base64: \"+this.toBase64()+\")\"},Ng),Eg=(Ag.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){wp(t=zd(t,pp));var n=mp(t),r=t._freezeSettings(),t=new $f;return bp(n,t,new Xf(t,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},Ag.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){wp(t=zd(t,pp));var e=mp(t),n=t._freezeSettings(),t=new $f;return bp(e,t,new Jf(t,n.cacheSizeBytes))}(t._delegate)},Ag.prototype.clearIndexedDbPersistence=function(t){return function(n){var t=this;if(n._initialized&&!n._terminated)throw new kr(Cr.FAILED_PRECONDITION,\"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.\");var r=new eu;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return iu.yt()?(e=n+\"main\",[4,iu.delete(e)]):[2,Promise.resolve()];case 1:return t.sent(),[2]}})})}(Qc(n._databaseId,n._persistenceKey))];case 1:return t.sent(),r.resolve(),[3,3];case 2:return e=t.sent(),r.reject(e),[3,3];case 3:return[2]}})})}),r.promise}(t._delegate)},Ag),Tg=(Object.defineProperty(Sg.prototype,\"_databaseId\",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),Sg.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},Sg.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=zd(t,Xd))._getSettings();if(\"firestore.googleapis.com\"!==i.host&&i.host!==e&&Mr(\"Host has been set in both settings() and useEmulator(), emulator host will be used\"),t._setSettings(Object.assign(Object.assign({},i),{host:e+\":\"+n,ssl:!1})),r.mockUserToken){n=function(t,e){if(t.uid)throw new Error('The \"uid\" field is no longer supported by mockUserToken. Please use \"sub\" instead for Firebase Auth User ID.');var n=e||\"demo-project\",r=t.iat||0;if(!(e=t.sub||t.user_id))throw new Error(\"mockUserToken must contain 'sub' or 'user_id' field!\");return t=o({iss:\"https://securetoken.google.com/\"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:e,user_id:e,firebase:{sign_in_provider:\"custom\",identities:{}}},t),[a.encodeString(JSON.stringify({alg:\"none\",type:\"JWT\"}),!1),a.encodeString(JSON.stringify(t),!1),\"\"].join(\".\")}(r.mockUserToken),r=r.mockUserToken.sub||r.mockUserToken.user_id;if(!r)throw new kr(Cr.INVALID_ARGUMENT,\"mockUserToken must contain 'sub' or 'user_id' field!\");t._credentials=new kd(new Sd(n,new Sh(r)))}}(this._delegate,t,e,n)},Sg.prototype.enableNetwork=function(){return function(i){var t=this;return i.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var n,r;return g(this,function(t){switch(t.label){case 0:return[4,vd(i)];case 1:return n=t.sent(),[4,wd(i)];case 2:return r=t.sent(),[2,(n.setNetworkEnabled(!0),(e=r).$r.delete(0),Cl(e))]}var e})})})}(mp(zd(this._delegate,pp)))},Sg.prototype.disableNetwork=function(){return function(r){var t=this;return r.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var e,n;return g(this,function(t){switch(t.label){case 0:return[4,vd(r)];case 1:return e=t.sent(),[4,wd(r)];case 2:return n=t.sent(),[2,(e.setNetworkEnabled(!1),function(n){return y(this,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return(e=n).$r.add(0),[4,kl(e)];case 1:return t.sent(),e.Br.set(\"Offline\"),[2]}})})}(n))]}})})})}(mp(zd(this._delegate,pp)))},Sg.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&jd(\"synchronizeTabs\",e=!!t.synchronizeTabs,\"experimentalForceOwningTab\",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},Sg.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},Sg.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance(\"firestore\"),this.ea._removeServiceInstance(\"firestore-exp\")),this._delegate._delete()},Sg.prototype.waitForPendingWrites=function(){return function(n){var t=this,r=new eu;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=Rf,[4,Ed(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),r.promise}(mp(zd(this._delegate,pp)))},Sg.prototype.onSnapshotsInSync=function(t){return e=this._delegate,t=t,function(n,t){var e=this,r=new id(t);return n.asyncQueue.enqueueAndForget(function(){return y(e,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){t.Gr.add(e),e.next()},[4,Td(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})}),function(){r.Wo(),n.asyncQueue.enqueueAndForget(function(){return y(e,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){t.Gr.delete(e)},[4,Td(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})})}}(mp(zd(e,pp)),lp(t)?t:{next:t});var e},Object.defineProperty(Sg.prototype,\"app\",{get:function(){if(!this.ea)throw new kr(Cr.FAILED_PRECONDITION,\"Firestore was not initialized using the Firebase SDK. 'app' is not available\");return this.ea},enumerable:!1,configurable:!0}),Sg.prototype.collection=function(t){try{return new zg(this,op(this._delegate,t))}catch(t){throw Mg(t,\"collection()\",\"Firestore.collection()\")}},Sg.prototype.doc=function(t){try{return new Lg(this,sp(this._delegate,t))}catch(t){throw Mg(t,\"doc()\",\"Firestore.doc()\")}},Sg.prototype.collectionGroup=function(t){try{return new Kg(this,function(t,e){if(t=zd(t,Xd),qd(\"collectionGroup\",\"collection id\",e),0<=e.indexOf(\"/\"))throw new kr(Cr.INVALID_ARGUMENT,\"Invalid collection ID '\"+e+\"' passed to function collectionGroup(). Collection IDs must not contain '/'.\");return new $d(t,null,(e=e,new bo(ti.emptyPath(),e)))}(this._delegate,t))}catch(t){throw Mg(t,\"collectionGroup()\",\"Firestore.collectionGroup()\")}},Sg.prototype.runTransaction=function(e){var n,r=this;return function(n,r){var t=this,i=new eu;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return[4,md(n).then(function(t){return t.datastore})];case 1:return e=t.sent(),new ad(n.asyncQueue,e,r,i).run(),[2]}})})}),i.promise}(mp(n=this._delegate),function(t){return t=new pg(n,t),e(new Dg(r,t))})},Sg.prototype.batch=function(){var e=this;return mp(this._delegate),new Cg(new ng(this._delegate,function(t){return lg(e._delegate,t)}))},Sg.prototype.loadBundle=function(t){throw new kr(Cr.FAILED_PRECONDITION,'\"loadBundle()\" does not exist, have you imported \"firebase/firestore/bundle\"?')},Sg.prototype.namedQuery=function(t){throw new kr(Cr.FAILED_PRECONDITION,'\"namedQuery()\" does not exist, have you imported \"firebase/firestore/bundle\"?')},Sg),Ig=(n(_g,bg=I),_g.prototype.convertBytes=function(t){return new wg(new Tp(t))},_g.prototype.convertReference=function(t){t=this.convertDocumentKey(t,this.firestore._databaseId);return Lg.na(t,this.firestore,null)},_g);function _g(t){var e=this;return(e=bg.call(this)||this).firestore=t,e}function Sg(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Nd||(this.ea=t)}function Ag(){}function Ng(t){this._delegate=t}var Dg=(Og.prototype.get=function(t){var e=this,n=Zg(t);return this._delegate.get(n).then(function(t){return new Bg(e._firestore,new Iy(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},Og.prototype.set=function(t,e,n){t=Zg(t);return n?(Bd(\"Transaction.set\",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},Og.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Zg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},Og.prototype.delete=function(t){t=Zg(t);return this._delegate.delete(t),this},Og),Cg=(xg.prototype.set=function(t,e,n){t=Zg(t);return n?(Bd(\"WriteBatch.set\",n),this._delegate.set(t,e,n)):this._delegate.set(t,e),this},xg.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Zg(t);return 2===arguments.length?this._delegate.update(o,e):(t=this._delegate).update.apply(t,s([o,e,n],r)),this},xg.prototype.delete=function(t){t=Zg(t);return this._delegate.delete(t),this},xg.prototype.commit=function(){return this._delegate.commit()},xg),kg=(Rg.prototype.fromFirestore=function(t,e){t=new _y(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jg(this._firestore,t),null!=e?e:{})},Rg.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},Rg.sa=function(t,e){var n=Rg.ia,r=n.get(t);r||(r=new WeakMap,n.set(t,r));n=r.get(e);return n||(n=new Rg(t,new Ig(t),e),r.set(e,n)),n},Rg);function Rg(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}function xg(t){this._delegate=t}function Og(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Ig(t)}kg.ia=new WeakMap;var Lg=(Pg.ra=function(t,e,n){if(t.length%2!=0)throw new kr(Cr.INVALID_ARGUMENT,\"Invalid document reference. Document references must have an even number of segments, but \"+t.canonicalString()+\" has \"+t.length);return new Pg(e,new Jd(e._delegate,n,new bi(t)))},Pg.na=function(t,e,n){return new Pg(e,new Jd(e._delegate,n,t))},Object.defineProperty(Pg.prototype,\"id\",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Pg.prototype,\"parent\",{get:function(){return new zg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(Pg.prototype,\"path\",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Pg.prototype.collection=function(t){try{return new zg(this.firestore,op(this._delegate,t))}catch(t){throw Mg(t,\"collection()\",\"DocumentReference.collection()\")}},Pg.prototype.isEqual=function(t){return(t=v(t))instanceof Jd&&ap(this._delegate,t)},Pg.prototype.set=function(t,e){e=Bd(\"DocumentReference.set\",e);try{return function(t,e,n){t=zd(t,Jd);var r=zd(t.firestore,pp),e=Zy(t.converter,e,n);return lg(r,[Up(Vp(r),\"setDoc\",t._key,e,null!==t.converter,n).toMutation(t._key,rs.none())])}(this._delegate,t,e)}catch(t){throw Mg(t,\"setDoc()\",\"DocumentReference.set()\")}},Pg.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?cg(this._delegate,t):cg.apply(void 0,s([this._delegate,t,e],n))}catch(t){throw Mg(t,\"updateDoc()\",\"DocumentReference.update()\")}},Pg.prototype.delete=function(){return lg(zd((t=this._delegate).firestore,pp),[new Ts(t._key,rs.none())]);var t},Pg.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fg(t),i=Vg(t,function(t){return new Bg(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return hg(this._delegate,r,i)},Pg.prototype.get=function(t){var e=this;return(\"cache\"===(null==t?void 0:t.source)?function(e){e=zd(e,Jd);var n=zd(e.firestore,pp),t=mp(n),r=new ag(n);return function(n,r){var t=this,i=new eu;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(o,s,a){return y(this,void 0,void 0,function(){var r,i;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(e=s,(n=o).persistence.runTransaction(\"read document\",\"readonly\",function(t){return n.Mn.mn(t,e)}))];case 1:return(i=t.sent()).isFoundDocument()?a.resolve(i):i.isNoDocument()?a.resolve(null):a.reject(new kr(Cr.UNAVAILABLE,\"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)\")),[3,3];case 2:return r=t.sent(),i=Xl(r,\"Failed to get document '\"+s+\" from cache\"),a.reject(i),[3,3];case 3:return[2]}var e,n})})},[4,bd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e._key).then(function(t){return new Iy(n,r,e._key,t,new Ty(null!==t&&t.hasLocalMutations,!0),e.converter)})}:\"server\"===(null==t?void 0:t.source)?function(e){e=zd(e,Jd);var n=zd(e.firestore,pp);return Id(mp(n),e._key,{source:\"server\"}).then(function(t){return fg(n,e,t)})}:function(e){e=zd(e,Jd);var n=zd(e.firestore,pp);return Id(mp(n),e._key).then(function(t){return fg(n,e,t)})})(this._delegate).then(function(t){return new Bg(e.firestore,new Iy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},Pg.prototype.withConverter=function(t){return new Pg(this.firestore,t?this._delegate.withConverter(kg.sa(this.firestore,t)):this._delegate.withConverter(null))},Pg);function Pg(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ig(t)}function Mg(t,e,n){return t.message=t.message.replace(e,n),t}function Fg(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(\"object\"==typeof r&&!lp(r))return r}return{}}function Vg(t,e){var n;return{next:function(t){n.next&&n.next(e(t))},error:null===(t=(n=lp(t[0])?t[0]:lp(t[1])?t[1]:\"function\"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===t?void 0:t.bind(n),complete:null===(t=n.complete)||void 0===t?void 0:t.bind(n)}}var Ug,qg,Bg=(Object.defineProperty($g.prototype,\"ref\",{get:function(){return new Lg(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,\"id\",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,\"metadata\",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty($g.prototype,\"exists\",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),$g.prototype.data=function(t){return this._delegate.data(t)},$g.prototype.get=function(t,e){return this._delegate.get(t,e)},$g.prototype.isEqual=function(t){return ky(this._delegate,t._delegate)},$g),jg=(n(Jg,qg=Bg),Jg.prototype.data=function(t){return this._delegate.data(t)},Jg),Kg=(Xg.prototype.where=function(t,e,n){try{return new Xg(this.firestore,xy(this._delegate,(r=n,i=e,o=by(\"where\",t),new Vy(o,i,r))))}catch(t){throw Mg(t,/(orderBy|where)\\(\\)/,\"Query.$1()\")}var r,i,o},Xg.prototype.orderBy=function(t,e){try{return new Xg(this.firestore,xy(this._delegate,(n=void 0===e?\"asc\":e,r=by(\"orderBy\",t),new Uy(r,n))))}catch(t){throw Mg(t,/(orderBy|where)\\(\\)/,\"Query.$1()\")}var n,r},Xg.prototype.limit=function(t){try{return new Xg(this.firestore,xy(this._delegate,(Hd(\"limit\",e=t),new qy(\"limit\",e,\"F\"))))}catch(t){throw Mg(t,\"limit()\",\"Query.limit()\")}var e},Xg.prototype.limitToLast=function(t){try{return new Xg(this.firestore,xy(this._delegate,(Hd(\"limitToLast\",e=t),new qy(\"limitToLast\",e,\"L\"))))}catch(t){throw Mg(t,\"limitToLast()\",\"Query.limitToLast()\")}var e},Xg.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,xy(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new By(\"startAt\",t,!0)}.apply(void 0,t)))}catch(t){throw Mg(t,\"startAt()\",\"Query.startAt()\")}},Xg.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,xy(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new By(\"startAfter\",t,!1)}.apply(void 0,t)))}catch(t){throw Mg(t,\"startAfter()\",\"Query.startAfter()\")}},Xg.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,xy(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jy(\"endBefore\",t,!0)}.apply(void 0,t)))}catch(t){throw Mg(t,\"endBefore()\",\"Query.endBefore()\")}},Xg.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new Xg(this.firestore,xy(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jy(\"endAt\",t,!1)}.apply(void 0,t)))}catch(t){throw Mg(t,\"endAt()\",\"Query.endAt()\")}},Xg.prototype.isEqual=function(t){return up(this._delegate,t._delegate)},Xg.prototype.get=function(t){var e=this;return(\"cache\"===(null==t?void 0:t.source)?function(e){e=zd(e,$d);var n=zd(e.firestore,pp),t=mp(n),r=new ag(n);return function(n,r){var t=this,i=new eu;return n.asyncQueue.enqueueAndForget(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(i,o,s){return y(this,void 0,void 0,function(){var e,n,r;return g(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,ch(i,o,!0)];case 1:return r=t.sent(),e=new wf(o,r.Bn),n=e._o(r.documents),n=e.applyChanges(n,!1),s.resolve(n.snapshot),[3,3];case 2:return n=t.sent(),r=Xl(n,\"Failed to execute query '\"+o+\" against cache\"),s.reject(r),[3,3];case 3:return[2]}})})},[4,bd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r,i])]}})})}),i.promise}(t,e._query).then(function(t){return new Sy(n,r,e,t)})}:\"server\"===(null==t?void 0:t.source)?function(e){e=zd(e,$d);var n=zd(e.firestore,pp),t=mp(n),r=new ag(n);return _d(t,e._query,{source:\"server\"}).then(function(t){return new Sy(n,r,e,t)})}:function(e){e=zd(e,$d);var n=zd(e.firestore,pp),t=mp(n),r=new ag(n);return Ry(e._query),_d(t,e._query).then(function(t){return new Sy(n,r,e,t)})})(this._delegate).then(function(t){return new Qg(e.firestore,new Sy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},Xg.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Fg(t),i=Vg(t,function(t){return new Qg(e.firestore,new Sy(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return hg(this._delegate,r,i)},Xg.prototype.withConverter=function(t){return new Xg(this.firestore,t?this._delegate.withConverter(kg.sa(this.firestore,t)):this._delegate.withConverter(null))},Xg),Gg=(Object.defineProperty(Yg.prototype,\"type\",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(Yg.prototype,\"doc\",{get:function(){return new jg(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(Yg.prototype,\"oldIndex\",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(Yg.prototype,\"newIndex\",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),Yg),Qg=(Object.defineProperty(Wg.prototype,\"query\",{get:function(){return new Kg(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,\"metadata\",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,\"size\",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,\"empty\",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(Wg.prototype,\"docs\",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new jg(e._firestore,t)})},enumerable:!1,configurable:!0}),Wg.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Gg(e._firestore,t)})},Wg.prototype.forEach=function(e,n){var r=this;this._delegate.forEach(function(t){e.call(n,new jg(r._firestore,t))})},Wg.prototype.isEqual=function(t){return ky(this._delegate,t._delegate)},Wg),zg=(n(Hg,Ug=Kg),Object.defineProperty(Hg.prototype,\"id\",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(Hg.prototype,\"path\",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(Hg.prototype,\"parent\",{get:function(){var t=this._delegate.parent;return t?new Lg(this.firestore,t):null},enumerable:!1,configurable:!0}),Hg.prototype.doc=function(t){try{return new Lg(this.firestore,void 0===t?sp(this._delegate):sp(this._delegate,t))}catch(t){throw Mg(t,\"doc()\",\"CollectionReference.doc()\")}},Hg.prototype.add=function(t){var e,n,r,i=this;return e=this._delegate,n=t,t=zd(e.firestore,pp),r=sp(e),n=Zy(e.converter,n),lg(t,[Up(Vp(e.firestore),\"addDoc\",r._key,n,null!==e.converter,{}).toMutation(r._key,rs.exists(!1))]).then(function(){return r}).then(function(t){return new Lg(i.firestore,t)})},Hg.prototype.isEqual=function(t){return ap(this._delegate,t._delegate)},Hg.prototype.withConverter=function(t){return new Hg(this.firestore,t?this._delegate.withConverter(kg.sa(this.firestore,t)):this._delegate.withConverter(null))},Hg);function Hg(t,e){var n=this;return(n=Ug.call(this,t,e)||this).firestore=t,n._delegate=e,n}function Wg(t,e){this._firestore=t,this._delegate=e}function Yg(t,e){this._firestore=t,this._delegate=e}function Xg(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Ig(t)}function Jg(){return null!==qg&&qg.apply(this,arguments)||this}function $g(t,e){this._firestore=t,this._delegate=e}function Zg(t){return zd(t,Jd)}em.documentId=function(){return new em(ni.keyField().canonicalString())},em.prototype.isEqual=function(t){return(t=v(t))instanceof Ep&&this._delegate._internalPath.isEqual(t._internalPath)},Se=em,tm.serverTimestamp=function(){var t=new Wp(\"serverTimestamp\");return t._methodName=\"FieldValue.serverTimestamp\",new tm(t)},tm.delete=function(){var t=new Bp(\"deleteField\");return t._methodName=\"FieldValue.delete\",new tm(t)},tm.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Yp(\"arrayUnion\",t)}.apply(void 0,t);return n._methodName=\"FieldValue.arrayUnion\",new tm(n)},tm.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xp(\"arrayRemove\",t)}.apply(void 0,t);return n._methodName=\"FieldValue.arrayRemove\",new tm(n)},tm.increment=function(t){t=new Jp(\"increment\",t);return t._methodName=\"FieldValue.increment\",new tm(t)},tm.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},I=tm;function tm(t){this._delegate=t}function em(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Ep.bind.apply(Ep,s([void 0],t)))}function nm(t){return e=this._delegate,s=t,n=mp(e=zd(e,pp)),t=new dp,function(n,t,r){var e,i=this,o=(e=s,t=dl(t),e=function(t){if(t instanceof Uint8Array)return rd(t,void 0);if(t instanceof ArrayBuffer)return rd(new Uint8Array(t),void 0);if(t instanceof ReadableStream)return t.getReader();throw new Error(\"Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream\")}(\"string\"==typeof e?(new TextEncoder).encode(e):e),new od(e,t));n.asyncQueue.enqueueAndForget(function(){return y(i,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=zf,[4,Ed(n)];case 1:return e.apply(void 0,[t.sent(),o,r]),[2]}})})})}(n,e._databaseId,t),t;var e,s,n}function rm(t){var e=this,n=this._delegate,t=t;return function(n,r){var t=this;return n.asyncQueue.enqueue(function(){return y(t,void 0,void 0,function(){var e;return g(this,function(t){switch(t.label){case 0:return e=function(t,e){var n=t;return n.persistence.runTransaction(\"Get named query\",\"readonly\",function(t){return n.Qe.getNamedQuery(t,e)})},[4,bd(n)];case 1:return[2,e.apply(void 0,[t.sent(),r])]}})})})}(mp(n=zd(n,pp)),t).then(function(t){return t?new $d(n,null,t.query):null}).then(function(t){return t?new Kg(e,t):null})}var im=(om.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},om.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},om.prototype.setServiceProps=function(t){return this.serviceProps=t,this},om.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},om);function om(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=\"LAZY\",this.onInstanceCreated=null}var sm,am,um={Firestore:Tg,GeoPoint:_p,Timestamp:Qr,Blob:wg,Transaction:Dg,WriteBatch:Cg,DocumentReference:Lg,DocumentSnapshot:Bg,Query:Kg,QueryDocumentSnapshot:jg,QuerySnapshot:Qg,CollectionReference:zg,FieldPath:Se,FieldValue:I,setLogLevel:function(t){Rr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(sm=e.default).INTERNAL.registerComponent(new im(\"firestore\",function(t){var e=t.getProvider(\"app\").getImmediate();return e=e,t=t.getProvider(\"auth-internal\"),new Tg(e,new pp(e,t),new Eg)},\"PUBLIC\").setServiceProps(Object.assign({},um))),sm.registerVersion(\"@firebase/firestore\",\"2.3.1\"),(am=Tg).prototype.loadBundle=nm,am.prototype.namedQuery=rm}.apply(this,arguments)}catch(t){throw console.error(t),new Error(\"Cannot instantiate firebase-firestore.js - be sure to load firebase-app.js first.\")}});\n//# sourceMappingURL=firebase-firestore.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2ZpcmViYXNlL2ZpcmViYXNlLWZpcmVzdG9yZS5qcz9lZTY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxlQUFlLEtBQW9ELEdBQUcsbUJBQU8sQ0FBQyxxRUFBZSxHQUFHLENBQW1JLENBQUMsbUJBQW1CLGFBQWEsSUFBSSxZQUFZLGNBQWMsK0NBQStDLFdBQVcsNEJBQTRCLGlDQUFpQyxhQUFhLGdDQUFnQyxjQUFjLGdCQUFnQixzRUFBc0UsUUFBUSxnQkFBZ0Isd0hBQXdILGFBQWEsbUJBQW1CLDZFQUE2RSxpQkFBaUIsb0NBQW9DLGlDQUFpQyxJQUFJLHVGQUF1RixTQUFTLHlCQUF5QixvQkFBb0IsdUNBQXVDLGNBQWMsSUFBSSxhQUFhLFNBQVMsTUFBTSxjQUFjLElBQUksY0FBYyxTQUFTLE1BQU0sY0FBYyxNQUFNLCtEQUErRCxLQUFLLGFBQWEsK0JBQStCLEVBQUUsZ0JBQWdCLGFBQWEsd0JBQXdCLHFCQUFxQixZQUFZLGdCQUFnQixJQUFJLGtDQUFrQyxnRUFBZ0UsWUFBWSxJQUFJLGNBQWMsbUJBQW1CLG1CQUFtQiw0REFBNEQsS0FBSyxFQUFFLEtBQUssa0hBQWtILHdDQUF3QyxrQkFBa0IsTUFBTSx5QkFBeUIsb0JBQW9CLDhCQUE4QixTQUFTLGtDQUFrQyxTQUFTLDBFQUEwRSxJQUFJLFNBQVMseUNBQXlDLGFBQWEsTUFBTSwyQkFBMkIsaUJBQWlCLE1BQU0sb0JBQW9CLDJCQUEyQixNQUFNLCtCQUErQixTQUFTLGNBQWMsU0FBUyxZQUFZLFFBQVEsTUFBTSxxQkFBcUIsT0FBTyxnQ0FBZ0MsVUFBVSxnQkFBZ0Isa0NBQWtDLElBQUksa0JBQWtCLFNBQVMsT0FBTyxvTUFBb00sb0NBQW9DLDRCQUE0QixvQ0FBb0MsMEVBQTBFLGtGQUFrRixhQUFhLG9FQUFvRSxXQUFXLE1BQU0sa0hBQWtILGdEQUFnRCxrQkFBa0IsNEJBQTRCLDRFQUE0RSxxQkFBcUIsV0FBVyxLQUFLLHNC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Q29udGVudCI6WyIhZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9lKHJlcXVpcmUoXCJAZmlyZWJhc2UvYXBwXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcIkBmaXJlYmFzZS9hcHBcIl0sZSk6ZSgodD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOnR8fHNlbGYpLmZpcmViYXNlKX0odGhpcyxmdW5jdGlvbihjbSl7XCJ1c2Ugc3RyaWN0XCI7dHJ5eyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZcImRlZmF1bHRcImluIHQ/dDp7ZGVmYXVsdDp0fX12YXIgZT10KGNtKSxyPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHI9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJih0W25dPWVbbl0pfSkodCxlKX07ZnVuY3Rpb24gbih0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJm51bGwhPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiK1N0cmluZyhlKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9cih0LGUpLHQucHJvdG90eXBlPW51bGw9PT1lP09iamVjdC5jcmVhdGUoZSk6KG4ucHJvdG90eXBlPWUucHJvdG90eXBlLG5ldyBuKX12YXIgbz1mdW5jdGlvbigpe3JldHVybihvPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxuPTEscj1hcmd1bWVudHMubGVuZ3RoO248cjtuKyspZm9yKHZhciBpIGluIGU9YXJndW1lbnRzW25dKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLGkpJiYodFtpXT1lW2ldKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24geSh0LHMsYSx1KXtyZXR1cm4gbmV3KGE9YXx8UHJvbWlzZSkoZnVuY3Rpb24obixlKXtmdW5jdGlvbiByKHQpe3RyeXtvKHUubmV4dCh0KSl9Y2F0Y2godCl7ZSh0KX19ZnVuY3Rpb24gaSh0KXt0cnl7byh1LnRocm93KHQpKX1jYXRjaCh0KXtlKHQpfX1mdW5jdGlvbiBvKHQpe3ZhciBlO3QuZG9uZT9uKHQudmFsdWUpOigoZT10LnZhbHVlKWluc3RhbmNlb2YgYT9lOm5ldyBhKGZ1bmN0aW9uKHQpe3QoZSl9KSkudGhlbihyLGkpfW8oKHU9dS5hcHBseSh0LHN8fFtdKSkubmV4dCgpKX0pfWZ1bmN0aW9uIGcobixyKXt2YXIgaSxvLHMsYT17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZzWzBdKXRocm93IHNbMV07cmV0dXJuIHNbMV19LHRyeXM6W10sb3BzOltdfSx0PXtuZXh0OmUoMCksdGhyb3c6ZSgxKSxyZXR1cm46ZSgyKX07cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYodFtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSx0O2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7YTspdHJ5e2lmKGk9MSxvJiYocz0yJmVbMF0/by5yZXR1cm46ZVswXT9vLnRocm93fHwoKHM9by5yZXR1cm4pJiZzLmNhbGwobyksMCk6by5uZXh0KSYmIShzPXMuY2FsbChvLGVbMV0pKS5kb25lKXJldHVybiBzO3N3aXRjaChvPTAsKGU9cz9bMiZlWzBdLHMudmFsdWVdOmUpWzBdKXtjYXNlIDA6Y2FzZSAxOnM9ZTticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6ZVsxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG89ZVsxXSxlPVswXTtjb250aW51ZTtjYXNlIDc6ZT1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHM9MDwocz1hLnRyeXMpLmxlbmd0aCYmc1tzLmxlbmd0aC0xXSkmJig2PT09ZVswXXx8Mj09PWVbMF0pKXthPTA7Y29udGludWV9aWYoMz09PWVbMF0mJighc3x8ZVsxXT5zWzBdJiZlWzFdPHNbM10pKXthLmxhYmVsPWVbMV07YnJlYWt9aWYoNj09PWVbMF0mJmEubGFiZWw8c1sxXSl7YS5sYWJlbD1zWzFdLHM9ZTticmVha31pZihzJiZhLmxhYmVsPHNbMl0pe2EubGFiZWw9c1syXSxhLm9wcy5wdXNoKGUpO2JyZWFrfXNbMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1lPXIuY2FsbChuLGEpfWNhdGNoKHQpe2U9WzYsdF0sbz0wfWZpbmFsbHl7aT1zPTB9aWYoNSZlWzBdKXRocm93IGVbMV07cmV0dXJue3ZhbHVlOmVbMF0/ZVsxXTp2b2lkIDAsZG9uZTohMH19KFtlLHRdKX19fWZ1bmN0aW9uIHModCxlKXtmb3IodmFyIG49MCxyPWUubGVuZ3RoLGk9dC5sZW5ndGg7bjxyO24rKyxpKyspdFtpXT1lW25dO3JldHVybiB0fXZhciBhPXtieXRlVG9DaGFyTWFwXzpudWxsLGNoYXJUb0J5dGVNYXBfOm51bGwsYnl0ZVRvQ2hhck1hcFdlYlNhZmVfOm51bGwsY2hhclRvQnl0ZU1hcFdlYlNhZmVfOm51bGwsRU5DT0RFRF9WQUxTX0JBU0U6XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLGdldCBFTkNPREVEX1ZBTFMoKXtyZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRStcIisvPVwifSxnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKXtyZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRStcIi1fLlwifSxIQVNfTkFUSVZFX1NVUFBPUlQ6XCJmdW5jdGlvblwiPT10eXBlb2YgYXRvYixlbmNvZGVCeXRlQXJyYXk6ZnVuY3Rpb24odCxlKXtpZighQXJyYXkuaXNBcnJheSh0KSl0aHJvdyBFcnJvcihcImVuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlclwiKTt0aGlzLmluaXRfKCk7Zm9yKHZhciBuPWU/dGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV86dGhpcy5ieXRlVG9DaGFyTWFwXyxyPVtdLGk9MDtpPHQubGVuZ3RoO2krPTMpe3ZhciBvPXRbaV0scz1pKzE8dC5sZW5ndGgsYT1zP3RbaSsxXTowLHU9aSsyPHQubGVuZ3RoLGM9dT90W2krMl06MCxoPW8+PjIsbz0oMyZvKTw8NHxhPj40LGE9KDE1JmEpPDwyfGM+PjYsYz02MyZjO3V8fChjPTY0LHN8fChhPTY0KSksci5wdXNoKG5baF0sbltvXSxuW2FdLG5bY10pfXJldHVybiByLmpvaW4oXCJcIil9LGVuY29kZVN0cmluZzpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCYmIWU/YnRvYSh0KTp0aGlzLmVuY29kZUJ5dGVBcnJheShmdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj0wLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dC5jaGFyQ29kZUF0KHIpO2k8MTI4P2VbbisrXT1pOihpPDIwNDg/ZVtuKytdPWk+PjZ8MTkyOig1NTI5Nj09KDY0NTEyJmkpJiZyKzE8dC5sZW5ndGgmJjU2MzIwPT0oNjQ1MTImdC5jaGFyQ29kZUF0KHIrMSkpPyhpPTY1NTM2KygoMTAyMyZpKTw8MTApKygxMDIzJnQuY2hhckNvZGVBdCgrK3IpKSxlW24rK109aT4+MTh8MjQwLGVbbisrXT1pPj4xMiY2M3wxMjgpOmVbbisrXT1pPj4xMnwyMjQsZVtuKytdPWk+PjYmNjN8MTI4KSxlW24rK109NjMmaXwxMjgpfXJldHVybiBlfSh0KSxlKX0sZGVjb2RlU3RyaW5nOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuSEFTX05BVElWRV9TVVBQT1JUJiYhZT9hdG9iKHQpOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTAscj0wO248dC5sZW5ndGg7KXt2YXIgaSxvLHMsYT10W24rK107YTwxMjg/ZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoYSk6MTkxPGEmJmE8MjI0PyhvPXRbbisrXSxlW3IrK109U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmYSk8PDZ8NjMmbykpOjIzOTxhJiZhPDM2NT8oaT0oKDcmYSk8PDE4fCg2MyYobz10W24rK10pKTw8MTJ8KDYzJihzPXRbbisrXSkpPDw2fDYzJnRbbisrXSktNjU1MzYsZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGk+PjEwKSksZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoNTYzMjArKDEwMjMmaSkpKToobz10W24rK10scz10W24rK10sZVtyKytdPVN0cmluZy5mcm9tQ2hhckNvZGUoKDE1JmEpPDwxMnwoNjMmbyk8PDZ8NjMmcykpfXJldHVybiBlLmpvaW4oXCJcIil9KHRoaXMuZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkodCxlKSl9LGRlY29kZVN0cmluZ1RvQnl0ZUFycmF5OmZ1bmN0aW9uKHQsZSl7dGhpcy5pbml0XygpO2Zvcih2YXIgbj1lP3RoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfOnRoaXMuY2hhclRvQnl0ZU1hcF8scj1bXSxpPTA7aTx0Lmxlbmd0aDspe3ZhciBvPW5bdC5jaGFyQXQoaSsrKV0scz1pPHQubGVuZ3RoP25bdC5jaGFyQXQoaSldOjAsYT0rK2k8dC5sZW5ndGg/blt0LmNoYXJBdChpKV06NjQsdT0rK2k8dC5sZW5ndGg/blt0LmNoYXJBdChpKV06NjQ7aWYoKytpLG51bGw9PW98fG51bGw9PXN8fG51bGw9PWF8fG51bGw9PXUpdGhyb3cgRXJyb3IoKTtvPW88PDJ8cz4+NDtyLnB1c2gobyksNjQhPT1hJiYocz1zPDw0JjI0MHxhPj4yLHIucHVzaChzKSw2NCE9PXUmJih1PWE8PDYmMTkyfHUsci5wdXNoKHUpKSl9cmV0dXJuIHJ9LGluaXRfOmZ1bmN0aW9uKCl7aWYoIXRoaXMuYnl0ZVRvQ2hhck1hcF8pe3RoaXMuYnl0ZVRvQ2hhck1hcF89e30sdGhpcy5jaGFyVG9CeXRlTWFwXz17fSx0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlXz17fSx0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlXz17fTtmb3IodmFyIHQ9MDt0PHRoaXMuRU5DT0RFRF9WQUxTLmxlbmd0aDt0KyspdGhpcy5ieXRlVG9DaGFyTWFwX1t0XT10aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQodCksdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLmJ5dGVUb0NoYXJNYXBfW3RdXT10LHRoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW3RdPXRoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KHQpLCh0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1t0XV09dCk+PXRoaXMuRU5DT0RFRF9WQUxTX0JBU0UubGVuZ3RoJiYodGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdCh0KV09dCx0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlX1t0aGlzLkVOQ09ERURfVkFMUy5jaGFyQXQodCldPXQpfX19O2Z1bmN0aW9uIGgoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZcInN0cmluZ1wiPT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCJ9dmFyIGksdT1cIkZpcmViYXNlRXJyb3JcIixjPShuKGwsaT1FcnJvciksbCk7ZnVuY3Rpb24gbCh0LGUsbil7ZT1pLmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gZS5jb2RlPXQsZS5jdXN0b21EYXRhPW4sZS5uYW1lPXUsT2JqZWN0LnNldFByb3RvdHlwZU9mKGUsbC5wcm90b3R5cGUpLEVycm9yLmNhcHR1cmVTdGFja1RyYWNlJiZFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlLGYucHJvdG90eXBlLmNyZWF0ZSksZX12YXIgZj0oZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyllW24tMV09YXJndW1lbnRzW25dO3ZhciByLGk9ZVswXXx8e30sbz10aGlzLnNlcnZpY2UrXCIvXCIrdCx0PXRoaXMuZXJyb3JzW3RdLHQ9dD8ocj1pLHQucmVwbGFjZShtLGZ1bmN0aW9uKHQsZSl7dmFyIG49cltlXTtyZXR1cm4gbnVsbCE9bj9TdHJpbmcobik6XCI8XCIrZStcIj8+XCJ9KSk6XCJFcnJvclwiLHQ9dGhpcy5zZXJ2aWNlTmFtZStcIjogXCIrdCtcIiAoXCIrbytcIikuXCI7cmV0dXJuIG5ldyBjKG8sdCxpKX0sZCk7ZnVuY3Rpb24gZCh0LGUsbil7dGhpcy5zZXJ2aWNlPXQsdGhpcy5zZXJ2aWNlTmFtZT1lLHRoaXMuZXJyb3JzPW59dmFyIHAsbT0vXFx7XFwkKFtefV0rKX0vZztmdW5jdGlvbiB2KHQpe3JldHVybiB0JiZ0Ll9kZWxlZ2F0ZT90Ll9kZWxlZ2F0ZTp0fShfZT1wPXB8fHt9KVtfZS5ERUJVRz0wXT1cIkRFQlVHXCIsX2VbX2UuVkVSQk9TRT0xXT1cIlZFUkJPU0VcIixfZVtfZS5JTkZPPTJdPVwiSU5GT1wiLF9lW19lLldBUk49M109XCJXQVJOXCIsX2VbX2UuRVJST1I9NF09XCJFUlJPUlwiLF9lW19lLlNJTEVOVD01XT1cIlNJTEVOVFwiO2Z1bmN0aW9uIGIodCxlKXtmb3IodmFyIG49W10scj0yO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTtpZighKGU8dC5sb2dMZXZlbCkpe3ZhciBpPShuZXcgRGF0ZSkudG9JU09TdHJpbmcoKSxvPVRbZV07aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGxvZyBhIG1lc3NhZ2Ugd2l0aCBhbiBpbnZhbGlkIGxvZ1R5cGUgKHZhbHVlOiBcIitlK1wiKVwiKTtjb25zb2xlW29dLmFwcGx5KGNvbnNvbGUscyhbXCJbXCIraStcIl0gIFwiK3QubmFtZStcIjpcIl0sbikpfX12YXIgdz17ZGVidWc6cC5ERUJVRyx2ZXJib3NlOnAuVkVSQk9TRSxpbmZvOnAuSU5GTyx3YXJuOnAuV0FSTixlcnJvcjpwLkVSUk9SLHNpbGVudDpwLlNJTEVOVH0sRT1wLklORk8sVD0oKFNlPXt9KVtwLkRFQlVHXT1cImxvZ1wiLFNlW3AuVkVSQk9TRV09XCJsb2dcIixTZVtwLklORk9dPVwiaW5mb1wiLFNlW3AuV0FSTl09XCJ3YXJuXCIsU2VbcC5FUlJPUl09XCJlcnJvclwiLFNlKSxJPShPYmplY3QuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsXCJsb2dMZXZlbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9nTGV2ZWx9LHNldDpmdW5jdGlvbih0KXtpZighKHQgaW4gcCkpdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCB2YWx1ZSBcIicrdCsnXCIgYXNzaWduZWQgdG8gYGxvZ0xldmVsYCcpO3RoaXMuX2xvZ0xldmVsPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksXy5wcm90b3R5cGUuc2V0TG9nTGV2ZWw9ZnVuY3Rpb24odCl7dGhpcy5fbG9nTGV2ZWw9XCJzdHJpbmdcIj09dHlwZW9mIHQ/d1t0XTp0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXy5wcm90b3R5cGUsXCJsb2dIYW5kbGVyXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2dIYW5kbGVyfSxzZXQ6ZnVuY3Rpb24odCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVmFsdWUgYXNzaWduZWQgdG8gYGxvZ0hhbmRsZXJgIG11c3QgYmUgYSBmdW5jdGlvblwiKTt0aGlzLl9sb2dIYW5kbGVyPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8ucHJvdG90eXBlLFwidXNlckxvZ0hhbmRsZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZXJMb2dIYW5kbGVyfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXNlckxvZ0hhbmRsZXI9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxfLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl91c2VyTG9nSGFuZGxlciYmdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLHAuREVCVUddLHQpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxwLkRFQlVHXSx0KSl9LF8ucHJvdG90eXBlLmxvZz1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl91c2VyTG9nSGFuZGxlciYmdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLHAuVkVSQk9TRV0sdCkpLHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcyxzKFt0aGlzLHAuVkVSQk9TRV0sdCkpfSxfLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX3VzZXJMb2dIYW5kbGVyJiZ0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMscC5JTkZPXSx0KSksdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMscC5JTkZPXSx0KSl9LF8ucHJvdG90eXBlLndhcm49ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxwLldBUk5dLHQpKSx0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxwLldBUk5dLHQpKX0sXy5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dGhpcy5fdXNlckxvZ0hhbmRsZXImJnRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMscyhbdGhpcyxwLkVSUk9SXSx0KSksdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLHMoW3RoaXMscC5FUlJPUl0sdCkpfSxfKTtmdW5jdGlvbiBfKHQpe3RoaXMubmFtZT10LHRoaXMuX2xvZ0xldmVsPUUsdGhpcy5fbG9nSGFuZGxlcj1iLHRoaXMuX3VzZXJMb2dIYW5kbGVyPW51bGx9dmFyIFM9ZnVuY3Rpb24odCxlKXtyZXR1cm4oUz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxlKXt0Ll9fcHJvdG9fXz1lfXx8ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSl9KSh0LGUpfTtmdW5jdGlvbiBBKHQpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yLG49ZSYmdFtlXSxyPTA7aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aClyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybnt2YWx1ZToodD10JiZyPj10Lmxlbmd0aD92b2lkIDA6dCkmJnRbcisrXSxkb25lOiF0fX19O3Rocm93IG5ldyBUeXBlRXJyb3IoZT9cIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCI6XCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpfXZhciBOLEQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LEM9e30saz1EfHxzZWxmO2Z1bmN0aW9uIFIoKXt9ZnVuY3Rpb24geCh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm5cImFycmF5XCI9PShlPVwib2JqZWN0XCIhPWU/ZTp0P0FycmF5LmlzQXJyYXkodCk/XCJhcnJheVwiOmU6XCJudWxsXCIpfHxcIm9iamVjdFwiPT1lJiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGh9ZnVuY3Rpb24gTyh0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm5cIm9iamVjdFwiPT1lJiZudWxsIT10fHxcImZ1bmN0aW9uXCI9PWV9dmFyIEw9XCJjbG9zdXJlX3VpZF9cIisoMWU5Kk1hdGgucmFuZG9tKCk+Pj4wKSxQPTA7ZnVuY3Rpb24gTSh0LGUsbil7cmV0dXJuIHQuY2FsbC5hcHBseSh0LmJpbmQsYXJndW1lbnRzKX1mdW5jdGlvbiBGKGUsbix0KXtpZighZSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIHI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KHQsciksZS5hcHBseShuLHQpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseShuLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFYodCxlLG4pe3JldHVybihWPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kJiYtMSE9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIik/TTpGKS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gVShlKXt2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9bi5zbGljZSgpO3JldHVybiB0LnB1c2guYXBwbHkodCxhcmd1bWVudHMpLGUuYXBwbHkodGhpcyx0KX19ZnVuY3Rpb24gcSgpe3JldHVybiBEYXRlLm5vdygpfWZ1bmN0aW9uIEIodCxvKXtmdW5jdGlvbiBlKCl7fWUucHJvdG90eXBlPW8ucHJvdG90eXBlLHQuWD1vLnByb3RvdHlwZSx0LnByb3RvdHlwZT1uZXcgZSwodC5wcm90b3R5cGUuY29uc3RydWN0b3I9dCkuS2I9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0yXT1hcmd1bWVudHNbaV07cmV0dXJuIG8ucHJvdG90eXBlW2VdLmFwcGx5KHQscil9fWZ1bmN0aW9uIGooKXt0aGlzLmo9dGhpcy5qLHRoaXMuaT10aGlzLml9ai5wcm90b3R5cGUuaj0hMSxqLnByb3RvdHlwZS5qYT1mdW5jdGlvbigpe3ZhciB0OyF0aGlzLmomJih0aGlzLmo9ITAsdGhpcy5HKCksMCkmJih0PXRoaXMsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsTCkmJnRbTF18fCh0W0xdPSsrUCkpfSxqLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7aWYodGhpcy5pKWZvcig7dGhpcy5pLmxlbmd0aDspdGhpcy5pLnNoaWZ0KCkoKX07dmFyIEs9QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24odCxlKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbCh0LGUsdm9pZCAwKX06ZnVuY3Rpb24odCxlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgZXx8MSE9ZS5sZW5ndGg/LTE6dC5pbmRleE9mKGUsMCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspaWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbjtyZXR1cm4tMX0sRz1BcnJheS5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbih0LGUsbil7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh0LGUsbil9OmZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9dC5sZW5ndGgsaT1cInN0cmluZ1wiPT10eXBlb2YgdD90LnNwbGl0KFwiXCIpOnQsbz0wO288cjtvKyspbyBpbiBpJiZlLmNhbGwobixpW29dLG8sdCl9O2Z1bmN0aW9uIFEoKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxhcmd1bWVudHMpfWZ1bmN0aW9uIHoodCl7dmFyIGU9dC5sZW5ndGg7aWYoMDxlKXtmb3IodmFyIG49QXJyYXkoZSkscj0wO3I8ZTtyKyspbltyXT10W3JdO3JldHVybiBufXJldHVybltdfWZ1bmN0aW9uIEgodCl7cmV0dXJuL15bXFxzXFx4YTBdKiQvLnRlc3QodCl9dmFyIFcsWT1TdHJpbmcucHJvdG90eXBlLnRyaW0/ZnVuY3Rpb24odCl7cmV0dXJuIHQudHJpbSgpfTpmdW5jdGlvbih0KXtyZXR1cm4vXltcXHNcXHhhMF0qKFtcXHNcXFNdKj8pW1xcc1xceGEwXSokLy5leGVjKHQpWzFdfTtmdW5jdGlvbiBYKHQsZSl7cmV0dXJuLTEhPXQuaW5kZXhPZihlKX1mdW5jdGlvbiBKKHQsZSl7cmV0dXJuIHQ8ZT8tMTplPHQ/MTowfXQ6e3ZhciAkPWsubmF2aWdhdG9yO2lmKCQpeyQ9JC51c2VyQWdlbnQ7aWYoJCl7Vz0kO2JyZWFrIHR9fVc9XCJcIn1mdW5jdGlvbiBaKHQsZSxuKXtmb3IodmFyIHIgaW4gdCllLmNhbGwobix0W3JdLHIsdCl9ZnVuY3Rpb24gdHQodCl7dmFyIGUsbj17fTtmb3IoZSBpbiB0KW5bZV09dFtlXTtyZXR1cm4gbn12YXIgZXQ9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gbnQodCl7Zm9yKHZhciBlLG4scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe2ZvcihlIGluIG49YXJndW1lbnRzW3JdKXRbZV09bltlXTtmb3IodmFyIGk9MDtpPGV0Lmxlbmd0aDtpKyspZT1ldFtpXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixlKSYmKHRbZV09bltlXSl9fWZ1bmN0aW9uIHJ0KHQpe3JldHVybiBydFtcIiBcIl0odCksdH1ydFtcIiBcIl09Ujt2YXIgaXQsb3Q9WChXLFwiT3BlcmFcIiksc3Q9WChXLFwiVHJpZGVudFwiKXx8WChXLFwiTVNJRVwiKSxhdD1YKFcsXCJFZGdlXCIpLHV0PWF0fHxzdCxjdD1YKFcsXCJHZWNrb1wiKSYmIShYKFcudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIVgoVyxcIkVkZ2VcIikpJiYhKFgoVyxcIlRyaWRlbnRcIil8fFgoVyxcIk1TSUVcIikpJiYhWChXLFwiRWRnZVwiKSxodD1YKFcudG9Mb3dlckNhc2UoKSxcIndlYmtpdFwiKSYmIVgoVyxcIkVkZ2VcIik7ZnVuY3Rpb24gbHQoKXt2YXIgdD1rLmRvY3VtZW50O3JldHVybiB0P3QuZG9jdW1lbnRNb2RlOnZvaWQgMH10Ont2YXIgZnQ9XCJcIixkdD0oZHQ9VyxjdD8vcnY6KFteXFwpO10rKShcXCl8OykvLmV4ZWMoZHQpOmF0Py9FZGdlXFwvKFtcXGRcXC5dKykvLmV4ZWMoZHQpOnN0Py9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS8uZXhlYyhkdCk6aHQ/L1dlYktpdFxcLyhcXFMrKS8uZXhlYyhkdCk6b3Q/Lyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyhkdCk6dm9pZCAwKTtpZihkdCYmKGZ0PWR0P2R0WzFdOlwiXCIpLHN0KXtkdD1sdCgpO2lmKG51bGwhPWR0JiZkdD5wYXJzZUZsb2F0KGZ0KSl7aXQ9U3RyaW5nKGR0KTticmVhayB0fX1pdD1mdH12YXIgcHQ9e307ZnVuY3Rpb24geXQoYSl7cmV0dXJuIHQ9YSxlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAsZT1ZKFN0cmluZyhpdCkpLnNwbGl0KFwiLlwiKSxuPVkoU3RyaW5nKGEpKS5zcGxpdChcIi5cIikscj1NYXRoLm1heChlLmxlbmd0aCxuLmxlbmd0aCksaT0wOzA9PXQmJmk8cjtpKyspZm9yKHZhciBvPWVbaV18fFwiXCIscz1uW2ldfHxcIlwiO289LyhcXGQqKShcXEQqKSguKikvLmV4ZWMobyl8fFtcIlwiLFwiXCIsXCJcIixcIlwiXSxzPS8oXFxkKikoXFxEKikoLiopLy5leGVjKHMpfHxbXCJcIixcIlwiLFwiXCIsXCJcIl0sKDAhPW9bMF0ubGVuZ3RofHwwIT1zWzBdLmxlbmd0aCkmJih0PUooMD09b1sxXS5sZW5ndGg/MDpwYXJzZUludChvWzFdLDEwKSwwPT1zWzFdLmxlbmd0aD8wOnBhcnNlSW50KHNbMV0sMTApKXx8SigwPT1vWzJdLmxlbmd0aCwwPT1zWzJdLmxlbmd0aCl8fEoob1syXSxzWzJdKSxvPW9bM10scz1zWzNdLDA9PXQpOyk7cmV0dXJuIDA8PXR9LG49cHQsT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCk/blt0XTpuW3RdPWUodCk7dmFyIHQsZSxufXZhciBndD1rLmRvY3VtZW50JiZzdCYmKGx0KCl8fHBhcnNlSW50KGl0LDEwKSl8fHZvaWQgMCxtdD0hc3R8fDk8PU51bWJlcihndCksdnQ9c3QmJiF5dChcIjlcIiksYnQ9ZnVuY3Rpb24oKXtpZighay5hZGRFdmVudExpc3RlbmVyfHwhT2JqZWN0LmRlZmluZVByb3BlcnR5KXJldHVybiExO3ZhciB0PSExLGU9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LFwicGFzc2l2ZVwiLHtnZXQ6ZnVuY3Rpb24oKXt0PSEwfX0pO3RyeXtrLmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsUixlKSxrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsUixlKX1jYXRjaCh0KXt9cmV0dXJuIHR9KCk7ZnVuY3Rpb24gd3QodCxlKXt0aGlzLnR5cGU9dCx0aGlzLmE9dGhpcy50YXJnZXQ9ZSx0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITF9ZnVuY3Rpb24gRXQodCxlKXtpZih3dC5jYWxsKHRoaXMsdD90LnR5cGU6XCJcIiksdGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuYT10aGlzLnRhcmdldD1udWxsLHRoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wLHRoaXMua2V5PVwiXCIsdGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExLHRoaXMucG9pbnRlcklkPTAsdGhpcy5wb2ludGVyVHlwZT1cIlwiLHRoaXMuYz1udWxsLHQpe3ZhciBuPXRoaXMudHlwZT10LnR5cGUscj10LmNoYW5nZWRUb3VjaGVzJiZ0LmNoYW5nZWRUb3VjaGVzLmxlbmd0aD90LmNoYW5nZWRUb3VjaGVzWzBdOm51bGw7aWYodGhpcy50YXJnZXQ9dC50YXJnZXR8fHQuc3JjRWxlbWVudCx0aGlzLmE9ZSxlPXQucmVsYXRlZFRhcmdldCl7aWYoY3Qpe3Q6e3RyeXtydChlLm5vZGVOYW1lKTt2YXIgaT0hMDticmVhayB0fWNhdGNoKHQpe31pPSExfWl8fChlPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09bj9lPXQuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1uJiYoZT10LnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWUscj8odGhpcy5jbGllbnRYPXZvaWQgMCE9PXIuY2xpZW50WD9yLmNsaWVudFg6ci5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09ci5jbGllbnRZP3IuY2xpZW50WTpyLnBhZ2VZLHRoaXMuc2NyZWVuWD1yLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPXIuc2NyZWVuWXx8MCk6KHRoaXMuY2xpZW50WD12b2lkIDAhPT10LmNsaWVudFg/dC5jbGllbnRYOnQucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PXQuY2xpZW50WT90LmNsaWVudFk6dC5wYWdlWSx0aGlzLnNjcmVlblg9dC5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT10LnNjcmVlbll8fDApLHRoaXMuYnV0dG9uPXQuYnV0dG9uLHRoaXMua2V5PXQua2V5fHxcIlwiLHRoaXMuY3RybEtleT10LmN0cmxLZXksdGhpcy5hbHRLZXk9dC5hbHRLZXksdGhpcy5zaGlmdEtleT10LnNoaWZ0S2V5LHRoaXMubWV0YUtleT10Lm1ldGFLZXksdGhpcy5wb2ludGVySWQ9dC5wb2ludGVySWR8fDAsdGhpcy5wb2ludGVyVHlwZT1cInN0cmluZ1wiPT10eXBlb2YgdC5wb2ludGVyVHlwZT90LnBvaW50ZXJUeXBlOlR0W3QucG9pbnRlclR5cGVdfHxcIlwiLCh0aGlzLmM9dCkuZGVmYXVsdFByZXZlbnRlZCYmdGhpcy5iKCl9fXd0LnByb3RvdHlwZS5iPWZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxCKEV0LHd0KTt2YXIgVHQ9ezI6XCJ0b3VjaFwiLDM6XCJwZW5cIiw0OlwibW91c2VcIn07RXQucHJvdG90eXBlLmI9ZnVuY3Rpb24oKXtFdC5YLmIuY2FsbCh0aGlzKTt2YXIgdD10aGlzLmM7aWYodC5wcmV2ZW50RGVmYXVsdCl0LnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0LnJldHVyblZhbHVlPSExLHZ0KXRyeXsodC5jdHJsS2V5fHwxMTI8PXQua2V5Q29kZSYmdC5rZXlDb2RlPD0xMjMpJiYodC5rZXlDb2RlPS0xKX1jYXRjaCh0KXt9fTt2YXIgSXQ9XCJjbG9zdXJlX2xpc3RlbmFibGVfXCIrKDFlNipNYXRoLnJhbmRvbSgpfDApLF90PTA7ZnVuY3Rpb24gU3QodCxlLG4scixpKXt0aGlzLmxpc3RlbmVyPXQsdGhpcy5wcm94eT1udWxsLHRoaXMuc3JjPWUsdGhpcy50eXBlPW4sdGhpcy5jYXB0dXJlPSEhcix0aGlzLmNhPWksdGhpcy5rZXk9KytfdCx0aGlzLlk9dGhpcy5aPSExfWZ1bmN0aW9uIEF0KHQpe3QuWT0hMCx0Lmxpc3RlbmVyPW51bGwsdC5wcm94eT1udWxsLHQuc3JjPW51bGwsdC5jYT1udWxsfWZ1bmN0aW9uIE50KHQpe3RoaXMuc3JjPXQsdGhpcy5hPXt9LHRoaXMuYj0wfWZ1bmN0aW9uIER0KHQsZSl7dmFyIG4scixpLG89ZS50eXBlO28gaW4gdC5hJiYobj10LmFbb10sKGk9MDw9KHI9SyhuLGUpKSkmJkFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChuLHIsMSksaSYmKEF0KGUpLDA9PXQuYVtvXS5sZW5ndGgmJihkZWxldGUgdC5hW29dLHQuYi0tKSkpfWZ1bmN0aW9uIEN0KHQsZSxuLHIpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7KytpKXt2YXIgbz10W2ldO2lmKCFvLlkmJm8ubGlzdGVuZXI9PWUmJm8uY2FwdHVyZT09ISFuJiZvLmNhPT1yKXJldHVybiBpfXJldHVybi0xfU50LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCxlLG4scixpKXt2YXIgbz10LnRvU3RyaW5nKCk7KHQ9dGhpcy5hW29dKXx8KHQ9dGhpcy5hW29dPVtdLHRoaXMuYisrKTt2YXIgcz1DdCh0LGUscixpKTtyZXR1cm4tMTxzPyhlPXRbc10sbnx8KGUuWj0hMSkpOigoZT1uZXcgU3QoZSx0aGlzLnNyYyxvLCEhcixpKSkuWj1uLHQucHVzaChlKSksZX07dmFyIGt0PVwiY2xvc3VyZV9sbV9cIisoMWU2Kk1hdGgucmFuZG9tKCl8MCksUnQ9e307ZnVuY3Rpb24geHQodCxlLG4scixpKXtpZihyJiZyLm9uY2UpcmV0dXJuIGZ1bmN0aW9uIHQoZSxuLHIsaSxvKXtpZihBcnJheS5pc0FycmF5KG4pKXtmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl0KGUsbltzXSxyLGksbyk7cmV0dXJuIG51bGx9cj1xdChyKTtyZXR1cm4gZSYmZVtJdF0/ZS53YShuLHIsTyhpKT8hIWkuY2FwdHVyZTohIWksbyk6T3QoZSxuLHIsITAsaSxvKX0odCxlLG4scixpKTtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rKyl4dCh0LGVbb10sbixyLGkpO3JldHVybiBudWxsfXJldHVybiBuPXF0KG4pLHQmJnRbSXRdP3QudmEoZSxuLE8ocik/ISFyLmNhcHR1cmU6ISFyLGkpOk90KHQsZSxuLCExLHIsaSl9ZnVuY3Rpb24gT3QodCxlLG4scixpLG8pe2lmKCFlKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBzPU8oaSk/ISFpLmNhcHR1cmU6ISFpO2lmKHMmJiFtdClyZXR1cm4gbnVsbDt2YXIgYSx1LGM9VnQodCk7aWYoY3x8KHRba3RdPWM9bmV3IE50KHQpKSwobj1jLmFkZChlLG4scixzLG8pKS5wcm94eSlyZXR1cm4gbjtpZihhPUZ0LHI9dT1tdD9mdW5jdGlvbih0KXtyZXR1cm4gYS5jYWxsKHUuc3JjLHUubGlzdGVuZXIsdCl9OmZ1bmN0aW9uKHQpe2lmKCEodD1hLmNhbGwodS5zcmMsdS5saXN0ZW5lcix0KSkpcmV0dXJuIHR9LChuLnByb3h5PXIpLnNyYz10LHIubGlzdGVuZXI9bix0LmFkZEV2ZW50TGlzdGVuZXIpdm9pZCAwPT09KGk9IWJ0P3M6aSkmJihpPSExKSx0LmFkZEV2ZW50TGlzdGVuZXIoZS50b1N0cmluZygpLHIsaSk7ZWxzZSBpZih0LmF0dGFjaEV2ZW50KXQuYXR0YWNoRXZlbnQoUHQoZS50b1N0cmluZygpKSxyKTtlbHNle2lmKCF0LmFkZExpc3RlbmVyfHwhdC5yZW1vdmVMaXN0ZW5lcil0aHJvdyBFcnJvcihcImFkZEV2ZW50TGlzdGVuZXIgYW5kIGF0dGFjaEV2ZW50IGFyZSB1bmF2YWlsYWJsZS5cIik7dC5hZGRMaXN0ZW5lcihyKX1yZXR1cm4gbn1mdW5jdGlvbiBMdCh0KXt2YXIgZSxuLHI7XCJudW1iZXJcIiE9dHlwZW9mIHQmJnQmJiF0LlkmJigoZT10LnNyYykmJmVbSXRdP0R0KGUuYyx0KToobj10LnR5cGUscj10LnByb3h5LGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj9lLnJlbW92ZUV2ZW50TGlzdGVuZXIobixyLHQuY2FwdHVyZSk6ZS5kZXRhY2hFdmVudD9lLmRldGFjaEV2ZW50KFB0KG4pLHIpOmUuYWRkTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXIociksKG49VnQoZSkpPyhEdChuLHQpLDA9PW4uYiYmKG4uc3JjPW51bGwsZVtrdF09bnVsbCkpOkF0KHQpKSl9ZnVuY3Rpb24gUHQodCl7cmV0dXJuIHQgaW4gUnQ/UnRbdF06UnRbdF09XCJvblwiK3R9ZnVuY3Rpb24gTXQodCxlKXt2YXIgbj10Lmxpc3RlbmVyLHI9dC5jYXx8dC5zcmM7cmV0dXJuIHQuWiYmTHQodCksbi5jYWxsKHIsZSl9ZnVuY3Rpb24gRnQodCxlKXtpZih0LlkpcmV0dXJuITA7aWYobXQpcmV0dXJuIE10KHQsbmV3IEV0KGUsdGhpcykpO2lmKCFlKXQ6e2U9W1wid2luZG93XCIsXCJldmVudFwiXTtmb3IodmFyIG49ayxyPTA7cjxlLmxlbmd0aDtyKyspaWYobnVsbD09KG49bltlW3JdXSkpe2U9bnVsbDticmVhayB0fWU9bn1yZXR1cm4gTXQodCxlPW5ldyBFdChlLHRoaXMpKX1mdW5jdGlvbiBWdCh0KXtyZXR1cm4odD10W2t0XSlpbnN0YW5jZW9mIE50P3Q6bnVsbH12YXIgVXQ9XCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApO2Z1bmN0aW9uIHF0KGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTooZVtVdF18fChlW1V0XT1mdW5jdGlvbih0KXtyZXR1cm4gZS5oYW5kbGVFdmVudCh0KX0pLGVbVXRdKX1mdW5jdGlvbiBCdCgpe2ouY2FsbCh0aGlzKSx0aGlzLmM9bmV3IE50KHRoaXMpLCh0aGlzLko9dGhpcykuQz1udWxsfWZ1bmN0aW9uIGp0KHQsZSl7dmFyIG4scj10LkM7aWYocilmb3Iobj1bXTtyO3I9ci5DKW4ucHVzaChyKTtpZih0PXQuSixyPWUudHlwZXx8ZSxcInN0cmluZ1wiPT10eXBlb2YgZT9lPW5ldyB3dChlLHQpOmUgaW5zdGFuY2VvZiB3dD9lLnRhcmdldD1lLnRhcmdldHx8dDoocz1lLG50KGU9bmV3IHd0KHIsdCkscykpLHM9ITAsbilmb3IodmFyIGk9bi5sZW5ndGgtMTswPD1pO2ktLSl2YXIgbz1lLmE9bltpXSxzPUt0KG8sciwhMCxlKSYmcztpZihzPUt0KG89ZS5hPXQsciwhMCxlKSYmcyxzPUt0KG8sciwhMSxlKSYmcyxuKWZvcihpPTA7aTxuLmxlbmd0aDtpKyspcz1LdChvPWUuYT1uW2ldLHIsITEsZSkmJnN9ZnVuY3Rpb24gS3QodCxlLG4scil7aWYoIShlPXQuYy5hW1N0cmluZyhlKV0pKXJldHVybiEwO2U9ZS5jb25jYXQoKTtmb3IodmFyIGk9ITAsbz0wO288ZS5sZW5ndGg7KytvKXt2YXIgcyxhLHU9ZVtvXTt1JiYhdS5ZJiZ1LmNhcHR1cmU9PW4mJihzPXUubGlzdGVuZXIsYT11LmNhfHx1LnNyYyx1LlomJkR0KHQuYyx1KSxpPSExIT09cy5jYWxsKGEscikmJmkpfXJldHVybiBpJiYhci5kZWZhdWx0UHJldmVudGVkfUIoQnQsaiksQnQucHJvdG90eXBlW0l0XT0hMCwoTj1CdC5wcm90b3R5cGUpLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24odCxlLG4scil7eHQodGhpcyx0LGUsbixyKX0sTi5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxuLHIpeyFmdW5jdGlvbiB0KGUsbixyLGksbyl7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIHM9MDtzPG4ubGVuZ3RoO3MrKyl0KGUsbltzXSxyLGksbyk7ZWxzZSBpPU8oaSk/ISFpLmNhcHR1cmU6ISFpLHI9cXQociksZSYmZVtJdF0/KGU9ZS5jLChuPVN0cmluZyhuKS50b1N0cmluZygpKWluIGUuYSYmLTE8KHI9Q3Qocz1lLmFbbl0scixpLG8pKSYmKEF0KHNbcl0pLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChzLHIsMSksMD09cy5sZW5ndGgmJihkZWxldGUgZS5hW25dLGUuYi0tKSkpOihlPWUmJlZ0KGUpKSYmKG49ZS5hW24udG9TdHJpbmcoKV0sKHI9KGU9LTEpPChlPW4/Q3QobixyLGksbyk6ZSk/bltlXTpudWxsKSYmTHQocikpfSh0aGlzLHQsZSxuLHIpfSxOLkc9ZnVuY3Rpb24oKXtpZihCdC5YLkcuY2FsbCh0aGlzKSx0aGlzLmMpe3ZhciB0LGU9dGhpcy5jO2Zvcih0IGluIGUuYSl7Zm9yKHZhciBuPWUuYVt0XSxyPTA7cjxuLmxlbmd0aDtyKyspQXQobltyXSk7ZGVsZXRlIGUuYVt0XSxlLmItLX19dGhpcy5DPW51bGx9LE4udmE9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHRoaXMuYy5hZGQoU3RyaW5nKHQpLGUsITEsbixyKX0sTi53YT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5jLmFkZChTdHJpbmcodCksZSwhMCxuLHIpfTt2YXIgR3Q9ay5KU09OLnN0cmluZ2lmeTtmdW5jdGlvbiBRdCgpe3RoaXMuYj10aGlzLmE9bnVsbH12YXIgenQsSHQ9KFd0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gMDx0aGlzLmI/KHRoaXMuYi0tLHQ9dGhpcy5hLHRoaXMuYT10Lm5leHQsdC5uZXh0PW51bGwpOnQ9dGhpcy5jKCksdH0sbmV3IFd0KGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBZdH0sZnVuY3Rpb24odCl7dC5yZXNldCgpfSkpO2Z1bmN0aW9uIFd0KHQsZSl7dGhpcy5jPXQsdGhpcy5mPWUsdGhpcy5iPTAsdGhpcy5hPW51bGx9ZnVuY3Rpb24gWXQoKXt0aGlzLm5leHQ9dGhpcy5iPXRoaXMuYT1udWxsfWZ1bmN0aW9uIFh0KHQsZSl7dmFyIG47enR8fChuPWsuUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCksenQ9ZnVuY3Rpb24oKXtuLnRoZW4oWnQpfSksSnR8fCh6dCgpLEp0PSEwKSwkdC5hZGQodCxlKX1RdC5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQsZSl7dmFyIG49SHQuZ2V0KCk7bi5zZXQodCxlKSx0aGlzLmI/dGhpcy5iLm5leHQ9bjp0aGlzLmE9bix0aGlzLmI9bn0sWXQucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUpe3RoaXMuYT10LHRoaXMuYj1lLHRoaXMubmV4dD1udWxsfTt2YXIgSnQ9IShZdC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm5leHQ9dGhpcy5iPXRoaXMuYT1udWxsfSksJHQ9bmV3IFF0O2Z1bmN0aW9uIFp0KCl7Zm9yKHZhciB0LGU7bj1lPXZvaWQgMCxuPW51bGwsKGU9JHQpLmEmJihuPWUuYSxlLmE9ZS5hLm5leHQsZS5hfHwoZS5iPW51bGwpLG4ubmV4dD1udWxsKSx0PW47KXt0cnl7dC5hLmNhbGwodC5iKX1jYXRjaCh0KXshZnVuY3Rpb24odCl7ay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdH0sMCl9KHQpfXZhciBuPUh0O24uZih0KSxuLmI8MTAwJiYobi5iKyssdC5uZXh0PW4uYSxuLmE9dCl9SnQ9ITF9ZnVuY3Rpb24gdGUodCxlKXtCdC5jYWxsKHRoaXMpLHRoaXMuYj10fHwxLHRoaXMuYT1lfHxrLHRoaXMuZj1WKHRoaXMuWmEsdGhpcyksdGhpcy5nPXEoKX1mdW5jdGlvbiBlZSh0KXt0LmFhPSExLHQuTSYmKHQuYS5jbGVhclRpbWVvdXQodC5NKSx0Lk09bnVsbCl9ZnVuY3Rpb24gbmUodCxlLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpbiYmKHQ9Vih0LG4pKTtlbHNle2lmKCF0fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmhhbmRsZUV2ZW50KXRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTt0PVYodC5oYW5kbGVFdmVudCx0KX1yZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoZSk/LTE6ay5zZXRUaW1lb3V0KHQsZXx8MCl9Qih0ZSxCdCksKE49dGUucHJvdG90eXBlKS5hYT0hMSxOLk09bnVsbCxOLlphPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5hYSYmKDA8KHQ9cSgpLXRoaXMuZykmJnQ8LjgqdGhpcy5iP3RoaXMuTT10aGlzLmEuc2V0VGltZW91dCh0aGlzLmYsdGhpcy5iLXQpOih0aGlzLk0mJih0aGlzLmEuY2xlYXJUaW1lb3V0KHRoaXMuTSksdGhpcy5NPW51bGwpLGp0KHRoaXMsXCJ0aWNrXCIpLHRoaXMuYWEmJihlZSh0aGlzKSx0aGlzLnN0YXJ0KCkpKSl9LE4uc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmFhPSEwLHRoaXMuTXx8KHRoaXMuTT10aGlzLmEuc2V0VGltZW91dCh0aGlzLmYsdGhpcy5iKSx0aGlzLmc9cSgpKX0sTi5HPWZ1bmN0aW9uKCl7dGUuWC5HLmNhbGwodGhpcyksZWUodGhpcyksZGVsZXRlIHRoaXMuYX07dmFyIHJlLGllLG9lLHNlPShTKGllPXVlLG9lPXJlPWopLGllLnByb3RvdHlwZT1udWxsPT09b2U/T2JqZWN0LmNyZWF0ZShvZSk6KGFlLnByb3RvdHlwZT1vZS5wcm90b3R5cGUsbmV3IGFlKSx1ZS5wcm90b3R5cGUuZj1mdW5jdGlvbih0KXt0aGlzLmI9YXJndW1lbnRzLHRoaXMuYT90aGlzLmM9ITA6ZnVuY3Rpb24gdChlKXtlLmE9bmUoZnVuY3Rpb24oKXtlLmE9bnVsbCxlLmMmJihlLmM9ITEsdChlKSl9LGUuaCk7dmFyIG49ZS5iO2UuYj1udWxsLGUuZy5hcHBseShudWxsLG4pfSh0aGlzKX0sdWUucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtyZS5wcm90b3R5cGUuRy5jYWxsKHRoaXMpLHRoaXMuYSYmKGsuY2xlYXJUaW1lb3V0KHRoaXMuYSksdGhpcy5hPW51bGwsdGhpcy5jPSExLHRoaXMuYj1udWxsKX0sdWUpO2Z1bmN0aW9uIGFlKCl7dGhpcy5jb25zdHJ1Y3Rvcj1pZX1mdW5jdGlvbiB1ZSh0LGUpe3ZhciBuPXJlLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG4uZz10LG4uaD1lLG4uYj1udWxsLG4uYz0hMSxuLmE9bnVsbCxufWZ1bmN0aW9uIGNlKHQpe2ouY2FsbCh0aGlzKSx0aGlzLmI9dCx0aGlzLmE9e319QihjZSxqKTt2YXIgaGU9W107ZnVuY3Rpb24gbGUodCxlLG4scil7QXJyYXkuaXNBcnJheShuKXx8KG4mJihoZVswXT1uLnRvU3RyaW5nKCkpLG49aGUpO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz14dChlLG5baV0scnx8dC5oYW5kbGVFdmVudCwhMSx0LmJ8fHQpO2lmKCFvKWJyZWFrO3QuYVtvLmtleV09b319ZnVuY3Rpb24gZmUodCl7Wih0LmEsZnVuY3Rpb24odCxlKXt0aGlzLmEuaGFzT3duUHJvcGVydHkoZSkmJkx0KHQpfSx0KSx0LmE9e319ZnVuY3Rpb24gZGUoKXt0aGlzLmE9ITB9ZnVuY3Rpb24gcGUodCxlLG4scil7dC5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIVFRQIFRFWFQgKFwiK2UrXCIpOiBcIitmdW5jdGlvbih0LGUpe2lmKCF0LmEpcmV0dXJuIGU7aWYoIWUpcmV0dXJuIG51bGw7dHJ5e3ZhciBuPUpTT04ucGFyc2UoZSk7aWYobilmb3IodD0wO3Q8bi5sZW5ndGg7dCsrKWlmKEFycmF5LmlzQXJyYXkoblt0XSkpe3ZhciByPW5bdF07aWYoIShyLmxlbmd0aDwyKSl7dmFyIGk9clsxXTtpZihBcnJheS5pc0FycmF5KGkpJiYhKGkubGVuZ3RoPDEpKXtyPWlbMF07aWYoXCJub29wXCIhPXImJlwic3RvcFwiIT1yJiZcImNsb3NlXCIhPXIpZm9yKHZhciBvPTE7bzxpLmxlbmd0aDtvKyspaVtvXT1cIlwifX19cmV0dXJuIEd0KG4pfWNhdGNoKHQpe3JldHVybiBlfX0odCxuKSsocj9cIiBcIityOlwiXCIpfSl9Y2UucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXtjZS5YLkcuY2FsbCh0aGlzKSxmZSh0aGlzKX0sY2UucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkXCIpfSxkZS5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe307dmFyIHllPXt9LGdlPW51bGw7ZnVuY3Rpb24gbWUoKXtyZXR1cm4gZ2U9Z2V8fG5ldyBCdH1mdW5jdGlvbiB2ZSh0KXt3dC5jYWxsKHRoaXMseWUuRmEsdCl9ZnVuY3Rpb24gYmUodCl7dmFyIGU9bWUoKTtqdChlLG5ldyB2ZShlKSl9ZnVuY3Rpb24gd2UodCxlKXt3dC5jYWxsKHRoaXMseWUuU1RBVF9FVkVOVCx0KSx0aGlzLnN0YXQ9ZX1mdW5jdGlvbiBFZSh0KXt2YXIgZT1tZSgpO2p0KGUsbmV3IHdlKGUsdCkpfWZ1bmN0aW9uIFRlKHQpe3d0LmNhbGwodGhpcyx5ZS5HYSx0KX1mdW5jdGlvbiBJZSh0LGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQpdGhyb3cgRXJyb3IoXCJGbiBtdXN0IG5vdCBiZSBudWxsIGFuZCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIGsuc2V0VGltZW91dChmdW5jdGlvbigpe3QoKX0sZSl9eWUuRmE9XCJzZXJ2ZXJyZWFjaGFiaWxpdHlcIixCKHZlLHd0KSx5ZS5TVEFUX0VWRU5UPVwic3RhdGV2ZW50XCIsQih3ZSx3dCkseWUuR2E9XCJ0aW1pbmdldmVudFwiLEIoVGUsd3QpO3ZhciBfZT17Tk9fRVJST1I6MCwkYToxLG5iOjIsbWI6MyxoYjo0LGxiOjUsb2I6NixEYTo3LFRJTUVPVVQ6OCxyYjo5fSxTZT17ZmI6XCJjb21wbGV0ZVwiLEJiOlwic3VjY2Vzc1wiLEVhOlwiZXJyb3JcIixEYTpcImFib3J0XCIsdGI6XCJyZWFkeVwiLHViOlwicmVhZHlzdGF0ZWNoYW5nZVwiLFRJTUVPVVQ6XCJ0aW1lb3V0XCIscGI6XCJpbmNyZW1lbnRhbGRhdGFcIixzYjpcInByb2dyZXNzXCIsaWI6XCJkb3dubG9hZHByb2dyZXNzXCIsSmI6XCJ1cGxvYWRwcm9ncmVzc1wifTtmdW5jdGlvbiBBZSgpe31mdW5jdGlvbiBOZSh0KXt2YXIgZTtyZXR1cm4gZT0hKGU9dC5hKT90LmE9e306ZX1mdW5jdGlvbiBEZSgpe31BZS5wcm90b3R5cGUuYT1udWxsO0Q9e09QRU46XCJhXCIsZWI6XCJiXCIsRWE6XCJjXCIscWI6XCJkXCJ9O2Z1bmN0aW9uIENlKCl7d3QuY2FsbCh0aGlzLFwiZFwiKX1mdW5jdGlvbiBrZSgpe3d0LmNhbGwodGhpcyxcImNcIil9ZnVuY3Rpb24gUmUoKXt9ZnVuY3Rpb24geGUodCxlLG4scil7dGhpcy5nPXQsdGhpcy5jPWUsdGhpcy5mPW4sdGhpcy5TPXJ8fDEsdGhpcy5KPW5ldyBjZSh0aGlzKSx0aGlzLlA9TGUsdD11dD8xMjU6dm9pZCAwLHRoaXMuUj1uZXcgdGUodCksdGhpcy5CPW51bGwsdGhpcy5iPSExLHRoaXMuaj10aGlzLmw9dGhpcy5pPXRoaXMuSD10aGlzLnU9dGhpcy5UPXRoaXMubz1udWxsLHRoaXMucz1bXSx0aGlzLmE9bnVsbCx0aGlzLkQ9MCx0aGlzLmg9dGhpcy5tPW51bGwsdGhpcy5OPS0xLHRoaXMuQT0hMSx0aGlzLk89MCx0aGlzLkY9bnVsbCx0aGlzLlY9dGhpcy5DPXRoaXMuVT10aGlzLkk9ITF9QihDZSx3dCksQihrZSx3dCksQihSZSxBZSk7dmFyIE9lPW5ldyBSZSxMZT00NWUzLFBlPXt9LE1lPXt9O2Z1bmN0aW9uIEZlKHQsZSxuKXt0Lkg9MSx0Lmk9b24oJGUoZSkpLHQuaj1uLHQuST0hMCxWZSh0LG51bGwpfWZ1bmN0aW9uIFZlKHQsZSl7dC51PXEoKSxxZSh0KSx0Lmw9JGUodC5pKTt2YXIgcyxhLHUsYyxoLGwsbj10Lmwscj10LlM7QXJyYXkuaXNBcnJheShyKXx8KHI9W1N0cmluZyhyKV0pLHZuKG4uYixcInRcIixyKSx0LkQ9MCx0LmE9bHIodC5nLHQuZy5DP2U6bnVsbCksMDx0Lk8mJih0LkY9bmV3IHNlKFYodC5DYSx0LHQuYSksdC5PKSksbGUodC5KLHQuYSxcInJlYWR5c3RhdGVjaGFuZ2VcIix0LlhhKSxlPXQuQj90dCh0LkIpOnt9LHQuaj8odC5tfHwodC5tPVwiUE9TVFwiKSxlW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsdC5hLmJhKHQubCx0Lm0sdC5qLGUpKToodC5tPVwiR0VUXCIsdC5hLmJhKHQubCx0Lm0sbnVsbCxlKSksYmUoMSkscz10LmMsYT10Lm0sdT10LmwsYz10LmYsaD10LlMsbD10Lmoscy5pbmZvKGZ1bmN0aW9uKCl7aWYocy5hKWlmKGwpZm9yKHZhciB0PVwiXCIsZT1sLnNwbGl0KFwiJlwiKSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciByLGksbz1lW25dLnNwbGl0KFwiPVwiKTsxPG8ubGVuZ3RoJiYocj1vWzBdLG89b1sxXSx0PTI8PShpPXIuc3BsaXQoXCJfXCIpKS5sZW5ndGgmJlwidHlwZVwiPT1pWzFdP3QrKHIrXCI9XCIpK28rXCImXCI6dCsocitcIj1yZWRhY3RlZCZcIikpfWVsc2UgdD1udWxsO2Vsc2UgdD1sO3JldHVyblwiWE1MSFRUUCBSRVEgKFwiK2MrXCIpIFthdHRlbXB0IFwiK2grXCJdOiBcIithK1wiXFxuXCIrdStcIlxcblwiK3R9KX1mdW5jdGlvbiBVZSh0LGUsbil7Zm9yKHZhciByLGksbyxzPSEwOyF0LkEmJnQuRDxuLmxlbmd0aDspe3ZhciBhPShhPW4sbz1pPXZvaWQgMCxpPShyPXQpLkQsLTE9PShvPWEuaW5kZXhPZihcIlxcblwiLGkpKT9NZTooaT1OdW1iZXIoYS5zdWJzdHJpbmcoaSxvKSksaXNOYU4oaSk/UGU6KG8rPTEpK2k+YS5sZW5ndGg/TWU6KGE9YS5zdWJzdHIobyxpKSxyLkQ9bytpLGEpKSk7aWYoYT09TWUpezQ9PWUmJih0Lmg9NCxFZSgxNCkscz0hMSkscGUodC5jLHQuZixudWxsLFwiW0luY29tcGxldGUgUmVzcG9uc2VdXCIpO2JyZWFrfWlmKGE9PVBlKXt0Lmg9NCxFZSgxNSkscGUodC5jLHQuZixuLFwiW0ludmFsaWQgQ2h1bmtdXCIpLHM9ITE7YnJlYWt9cGUodC5jLHQuZixhLG51bGwpLFFlKHQsYSl9ND09ZSYmMD09bi5sZW5ndGgmJih0Lmg9MSxFZSgxNikscz0hMSksdC5iPXQuYiYmcyxzPzA8bi5sZW5ndGgmJiF0LlYmJih0LlY9ITAsKGU9dC5nKS5hPT10JiZlLlUmJiFlLkYmJihlLmMuaW5mbyhcIkdyZWF0LCBubyBidWZmZXJpbmcgcHJveHkgZGV0ZWN0ZWQuIEJ5dGVzIHJlY2VpdmVkOiBcIituLmxlbmd0aCkscnIoZSksZS5GPSEwLEVlKDExKSkpOihwZSh0LmMsdC5mLG4sXCJbSW52YWxpZCBDaHVua2VkIFJlc3BvbnNlXVwiKSxHZSh0KSxLZSh0KSl9ZnVuY3Rpb24gcWUodCl7dC5UPXEoKSt0LlAsQmUodCx0LlApfWZ1bmN0aW9uIEJlKHQsZSl7aWYobnVsbCE9dC5vKXRocm93IEVycm9yKFwiV2F0Y2hEb2cgdGltZXIgbm90IG51bGxcIik7dC5vPUllKFYodC5WYSx0KSxlKX1mdW5jdGlvbiBqZSh0KXt0Lm8mJihrLmNsZWFyVGltZW91dCh0Lm8pLHQubz1udWxsKX1mdW5jdGlvbiBLZSh0KXswPT10Lmcudnx8dC5BfHxzcih0LmcsdCl9ZnVuY3Rpb24gR2UodCl7amUodCk7dmFyIGU9dC5GO2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuamEmJmUuamEoKSx0LkY9bnVsbCxlZSh0LlIpLGZlKHQuSiksdC5hJiYoZT10LmEsdC5hPW51bGwsZS5hYm9ydCgpLGUuamEoKSl9ZnVuY3Rpb24gUWUodCxlKXt0cnl7dmFyIG4scixpLG8scyxhPXQuZztpZigwIT1hLnYmJihhLmE9PXR8fFNuKGEuYix0KSkpaWYoYS5JPXQuTiwhdC5DJiZTbihhLmIsdCkmJjM9PWEudil7dHJ5e3ZhciB1PWEua2EuYS5wYXJzZShlKX1jYXRjaCh0KXt1PW51bGx9aWYoQXJyYXkuaXNBcnJheSh1KSYmMz09dS5sZW5ndGgpe3ZhciBjPXU7aWYoMD09Y1swXSl7dDppZighYS5qKXtpZihhLmEpe2lmKCEoYS5hLnUrM2UzPHQudSkpYnJlYWsgdDtvcihhKSxXbihhKX1ucihhKSxFZSgxOCl9fWVsc2UgYS5vYT1jWzFdLDA8YS5vYS1hLlAmJmNbMl08Mzc1MDAmJmEuSCYmMD09YS5vJiYhYS5tJiYoYS5tPUllKFYoYS5TYSxhKSw2ZTMpKTtpZihfbihhLmIpPD0xJiZhLmVhKXt0cnl7YS5lYSgpfWNhdGNoKHQpe31hLmVhPXZvaWQgMH19ZWxzZSB1cihhLDExKX1lbHNlIGlmKCF0LkMmJmEuYSE9dHx8b3IoYSksIUgoZSkpZm9yKGU9dT1hLmthLmEucGFyc2UoZSksdT0wO3U8ZS5sZW5ndGg7dSsrKWM9ZVt1XSxhLlA9Y1swXSxjPWNbMV0sMj09YS52P1wiY1wiPT1jWzBdPyhhLko9Y1sxXSxhLmdhPWNbMl0sbnVsbCE9KHI9Y1szXSkmJihhLmhhPXIsYS5jLmluZm8oXCJWRVI9XCIrYS5oYSkpLG51bGwhPShvPWNbNF0pJiYoYS5wYT1vLGEuYy5pbmZvKFwiU1ZFUj1cIithLnBhKSksbnVsbCE9KHI9Y1s1XSkmJlwibnVtYmVyXCI9PXR5cGVvZiByJiYwPHImJihuPTEuNSpyLGEuRD1uLGEuYy5pbmZvKFwiYmFja0NoYW5uZWxSZXF1ZXN0VGltZW91dE1zXz1cIituKSksbj1hLChvPXQuYSkmJighKHI9by5hP28uYS5nZXRSZXNwb25zZUhlYWRlcihcIlgtQ2xpZW50LVdpcmUtUHJvdG9jb2xcIik6bnVsbCl8fCEoaT1uLmIpLmEmJihYKHIsXCJzcGR5XCIpfHxYKHIsXCJxdWljXCIpfHxYKHIsXCJoMlwiKSkmJihpLmY9aS5nLGkuYT1uZXcgU2V0LGkuYiYmKEFuKGksaS5iKSxpLmI9bnVsbCkpLCFuLkF8fChzPW8uYT9vLmEuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLUhUVFAtU2Vzc2lvbi1JZFwiKTpudWxsKSYmKG4ubmE9cyxybihuLkIsbi5BLHMpKSksYS52PTMsYS5mJiZhLmYudGEoKSxhLlUmJihhLk49cSgpLXQudSxhLmMuaW5mbyhcIkhhbmRzaGFrZSBSVFQ6IFwiK2EuTitcIm1zXCIpKSxpPXQsKG49YSkubGE9aHIobixuLkM/bi5nYTpudWxsLG4uZmEpLGkuQz8oTm4obi5iLGkpLG89aSwocz1uLkQpJiZvLnNldFRpbWVvdXQocyksby5vJiYoamUobykscWUobykpLG4uYT1pKTplcihuKSwwPGEuZy5sZW5ndGgmJkpuKGEpKTpcInN0b3BcIiE9Y1swXSYmXCJjbG9zZVwiIT1jWzBdfHx1cihhLDcpOjM9PWEudiYmKFwic3RvcFwiPT1jWzBdfHxcImNsb3NlXCI9PWNbMF0/XCJzdG9wXCI9PWNbMF0/dXIoYSw3KTpIbihhKTpcIm5vb3BcIiE9Y1swXSYmYS5mJiZhLmYuc2EoYyksYS5vPTApO2JlKDQpfWNhdGNoKHQpe319ZnVuY3Rpb24gemUodCxlKXtpZih0LmZvckVhY2gmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZm9yRWFjaCl0LmZvckVhY2goZSx2b2lkIDApO2Vsc2UgaWYoeCh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpRyh0LGUsdm9pZCAwKTtlbHNle2lmKHQuTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5MKXZhciBuPXQuTCgpO2Vsc2UgaWYodC5LJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lkspbj12b2lkIDA7ZWxzZSBpZih4KHQpfHxcInN0cmluZ1wiPT10eXBlb2YgdClmb3IodmFyIG49W10scj10Lmxlbmd0aCxpPTA7aTxyO2krKyluLnB1c2goaSk7ZWxzZSBmb3IoaSBpbiBuPVtdLHI9MCx0KW5bcisrXT1pO2Zvcih2YXIgaT0ocj1mdW5jdGlvbih0KXtpZih0LksmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuSylyZXR1cm4gdC5LKCk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIHQuc3BsaXQoXCJcIik7aWYoeCh0KSl7Zm9yKHZhciBlPVtdLG49dC5sZW5ndGgscj0wO3I8bjtyKyspZS5wdXNoKHRbcl0pO3JldHVybiBlfWZvcihyIGluIGU9W10sbj0wLHQpZVtuKytdPXRbcl07cmV0dXJuIGV9KHQpKS5sZW5ndGgsbz0wO288aTtvKyspZS5jYWxsKHZvaWQgMCxyW29dLG4mJm5bb10sdCl9fWZ1bmN0aW9uIEhlKHQsZSl7dGhpcy5iPXt9LHRoaXMuYT1bXSx0aGlzLmM9MDt2YXIgbj1hcmd1bWVudHMubGVuZ3RoO2lmKDE8bil7aWYobiUyKXRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7Zm9yKHZhciByPTA7cjxuO3IrPTIpdGhpcy5zZXQoYXJndW1lbnRzW3JdLGFyZ3VtZW50c1tyKzFdKX1lbHNlIGlmKHQpaWYodCBpbnN0YW5jZW9mIEhlKWZvcihuPXQuTCgpLHI9MDtyPG4ubGVuZ3RoO3IrKyl0aGlzLnNldChuW3JdLHQuZ2V0KG5bcl0pKTtlbHNlIGZvcihyIGluIHQpdGhpcy5zZXQocix0W3JdKX1mdW5jdGlvbiBXZSh0KXtpZih0LmMhPXQuYS5sZW5ndGgpe2Zvcih2YXIgZT0wLG49MDtlPHQuYS5sZW5ndGg7KXt2YXIgcj10LmFbZV07WWUodC5iLHIpJiYodC5hW24rK109ciksZSsrfXQuYS5sZW5ndGg9bn1pZih0LmMhPXQuYS5sZW5ndGgpe2Zvcih2YXIgaT17fSxuPWU9MDtlPHQuYS5sZW5ndGg7KVllKGkscj10LmFbZV0pfHwoaVt0LmFbbisrXT1yXT0xKSxlKys7dC5hLmxlbmd0aD1ufX1mdW5jdGlvbiBZZSh0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0oTj14ZS5wcm90b3R5cGUpLnNldFRpbWVvdXQ9ZnVuY3Rpb24odCl7dGhpcy5QPXR9LE4uWGE9ZnVuY3Rpb24odCl7dD10LnRhcmdldDt2YXIgZT10aGlzLkY7ZSYmMz09S24odCk/ZS5mKCk6dGhpcy5DYSh0KX0sTi5DYT1mdW5jdGlvbih0KXt0cnl7aWYodD09dGhpcy5hKXQ6e3ZhciBlPUtuKHRoaXMuYSksbj10aGlzLmEudWEoKSxyPXRoaXMuYS5XKCk7aWYoIShlPDN8fDM9PWUmJiF1dCYmIXRoaXMuYS4kKCkpKXt0aGlzLkF8fDQhPWV8fDc9PW58fGJlKDg9PW58fHI8PTA/MzoyKSxqZSh0aGlzKTt2YXIgaT10aGlzLmEuVygpO3RoaXMuTj1pO3ZhciBvPXRoaXMuYS4kKCk7aWYodGhpcy5iPTIwMD09aSxyPXRoaXMuYyx1PXRoaXMubSxjPXRoaXMubCxoPXRoaXMuZixsPXRoaXMuUyxmPWUsZD1pLHIuaW5mbyhmdW5jdGlvbigpe3JldHVyblwiWE1MSFRUUCBSRVNQIChcIitoK1wiKSBbIGF0dGVtcHQgXCIrbCtcIl06IFwiK3UrXCJcXG5cIitjK1wiXFxuXCIrZitcIiBcIitkfSksdGhpcy5iKXtpZih0aGlzLlUmJiF0aGlzLkMpe2U6e2lmKHRoaXMuYSl7dmFyIHM9dGhpcy5hO2lmKChzPXMuYT9zLmEuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLUhUVFAtSW5pdGlhbC1SZXNwb25zZVwiKTpudWxsKSYmIUgocykpe3ZhciBhPXM7YnJlYWsgZX19YT1udWxsfWlmKCFhKXt0aGlzLmI9ITEsdGhpcy5oPTMsRWUoMTIpLEdlKHRoaXMpLEtlKHRoaXMpO2JyZWFrIHR9cGUodGhpcy5jLHRoaXMuZixhLFwiSW5pdGlhbCBoYW5kc2hha2UgcmVzcG9uc2UgdmlhIFgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlXCIpLHRoaXMuQz0hMCxRZSh0aGlzLGEpfXRoaXMuST8oVWUodGhpcyxlLG8pLHV0JiZ0aGlzLmImJjM9PWUmJihsZSh0aGlzLkosdGhpcy5SLFwidGlja1wiLHRoaXMuV2EpLHRoaXMuUi5zdGFydCgpKSk6KHBlKHRoaXMuYyx0aGlzLmYsbyxudWxsKSxRZSh0aGlzLG8pKSw0PT1lJiZHZSh0aGlzKSx0aGlzLmImJiF0aGlzLkEmJig0PT1lP3NyKHRoaXMuZyx0aGlzKToodGhpcy5iPSExLHFlKHRoaXMpKSl9ZWxzZSA0MDA9PWkmJjA8by5pbmRleE9mKFwiVW5rbm93biBTSURcIik/KHRoaXMuaD0zLEVlKDEyKSk6KHRoaXMuaD0wLEVlKDEzKSksR2UodGhpcyksS2UodGhpcyl9fX1jYXRjaCh0KXt9dmFyIHUsYyxoLGwsZixkfSxOLldhPWZ1bmN0aW9uKCl7dmFyIHQsZTt0aGlzLmEmJih0PUtuKHRoaXMuYSksZT10aGlzLmEuJCgpLHRoaXMuRDxlLmxlbmd0aCYmKGplKHRoaXMpLFVlKHRoaXMsdCxlKSx0aGlzLmImJjQhPXQmJnFlKHRoaXMpKSl9LE4uY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5BPSEwLEdlKHRoaXMpfSxOLlZhPWZ1bmN0aW9uKCl7dGhpcy5vPW51bGw7dmFyIHQsZSxuPXEoKTswPD1uLXRoaXMuVD8odD10aGlzLmMsZT10aGlzLmwsdC5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJUSU1FT1VUOiBcIitlfSksMiE9dGhpcy5IJiYoYmUoMyksRWUoMTcpKSxHZSh0aGlzKSx0aGlzLmg9MixLZSh0aGlzKSk6QmUodGhpcyx0aGlzLlQtbil9LChOPUhlLnByb3RvdHlwZSkuSz1mdW5jdGlvbigpe1dlKHRoaXMpO2Zvcih2YXIgdD1bXSxlPTA7ZTx0aGlzLmEubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5iW3RoaXMuYVtlXV0pO3JldHVybiB0fSxOLkw9ZnVuY3Rpb24oKXtyZXR1cm4gV2UodGhpcyksdGhpcy5hLmNvbmNhdCgpfSxOLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiBZZSh0aGlzLmIsdCk/dGhpcy5iW3RdOmV9LE4uc2V0PWZ1bmN0aW9uKHQsZSl7WWUodGhpcy5iLHQpfHwodGhpcy5jKyssdGhpcy5hLnB1c2godCkpLHRoaXMuYlt0XT1lfSxOLmZvckVhY2g9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5MKCkscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdLG89dGhpcy5nZXQoaSk7dC5jYWxsKGUsbyxpLHRoaXMpfX07dmFyIFhlPS9eKD86KFteOi8/Iy5dKyk6KT8oPzpcXC9cXC8oPzooW15cXFxcLz8jXSopQCk/KFteXFxcXC8/I10qPykoPzo6KFswLTldKykpPyg/PVtcXFxcLz8jXXwkKSk/KFtePyNdKyk/KD86XFw/KFteI10qKSk/KD86IyhbXFxzXFxTXSopKT8kLztmdW5jdGlvbiBKZSh0LGUpe3ZhciBuO3RoaXMuYz10aGlzLmo9dGhpcy5mPVwiXCIsdGhpcy5oPW51bGwsdGhpcy5pPXRoaXMuZz1cIlwiLHRoaXMuYT0hMSx0IGluc3RhbmNlb2YgSmU/KHRoaXMuYT12b2lkIDAhPT1lP2U6dC5hLFplKHRoaXMsdC5mKSx0aGlzLmo9dC5qLHRuKHRoaXMsdC5jKSxlbih0aGlzLHQuaCksdGhpcy5nPXQuZyxlPXQuYiwobj1uZXcgcG4pLmM9ZS5jLGUuYSYmKG4uYT1uZXcgSGUoZS5hKSxuLmI9ZS5iKSxubih0aGlzLG4pLHRoaXMuaT10LmkpOnQmJihuPVN0cmluZyh0KS5tYXRjaChYZSkpPyh0aGlzLmE9ISFlLFplKHRoaXMsblsxXXx8XCJcIiwhMCksdGhpcy5qPXNuKG5bMl18fFwiXCIpLHRuKHRoaXMsblszXXx8XCJcIiwhMCksZW4odGhpcyxuWzRdKSx0aGlzLmc9c24obls1XXx8XCJcIiwhMCksbm4odGhpcyxuWzZdfHxcIlwiLCEwKSx0aGlzLmk9c24obls3XXx8XCJcIikpOih0aGlzLmE9ISFlLHRoaXMuYj1uZXcgcG4obnVsbCx0aGlzLmEpKX1mdW5jdGlvbiAkZSh0KXtyZXR1cm4gbmV3IEplKHQpfWZ1bmN0aW9uIFplKHQsZSxuKXt0LmY9bj9zbihlLCEwKTplLHQuZiYmKHQuZj10LmYucmVwbGFjZSgvOiQvLFwiXCIpKX1mdW5jdGlvbiB0bih0LGUsbil7dC5jPW4/c24oZSwhMCk6ZX1mdW5jdGlvbiBlbih0LGUpe2lmKGUpe2lmKGU9TnVtYmVyKGUpLGlzTmFOKGUpfHxlPDApdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrZSk7dC5oPWV9ZWxzZSB0Lmg9bnVsbH1mdW5jdGlvbiBubih0LGUsbil7dmFyIHIsaTtlIGluc3RhbmNlb2YgcG4/KHQuYj1lLHI9dC5iLChpPXQuYSkmJiFyLmYmJih5bihyKSxyLmM9bnVsbCxyLmEuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPWUudG9Mb3dlckNhc2UoKTtlIT1uJiYoZ24odGhpcyxlKSx2bih0aGlzLG4sdCkpfSxyKSksci5mPWkpOihufHwoZT1hbihlLGZuKSksdC5iPW5ldyBwbihlLHQuYSkpfWZ1bmN0aW9uIHJuKHQsZSxuKXt0LmIuc2V0KGUsbil9ZnVuY3Rpb24gb24odCl7cmV0dXJuIHJuKHQsXCJ6eFwiLE1hdGguZmxvb3IoMjE0NzQ4MzY0OCpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikrTWF0aC5hYnMoTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpXnEoKSkudG9TdHJpbmcoMzYpKSx0fWZ1bmN0aW9uIHNuKHQsZSl7cmV0dXJuIHQ/ZT9kZWNvZGVVUkkodC5yZXBsYWNlKC8lMjUvZyxcIiUyNTI1XCIpKTpkZWNvZGVVUklDb21wb25lbnQodCk6XCJcIn1mdW5jdGlvbiBhbih0LGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/KHQ9ZW5jb2RlVVJJKHQpLnJlcGxhY2UoZSx1biksdD1uP3QucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpOnQpOm51bGx9ZnVuY3Rpb24gdW4odCl7cmV0dXJuXCIlXCIrKCh0PXQuY2hhckNvZGVBdCgwKSk+PjQmMTUpLnRvU3RyaW5nKDE2KSsoMTUmdCkudG9TdHJpbmcoMTYpfUplLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PVtdLGU9dGhpcy5mO2UmJnQucHVzaChhbihlLGNuLCEwKSxcIjpcIik7dmFyIG49dGhpcy5jO3JldHVybiFuJiZcImZpbGVcIiE9ZXx8KHQucHVzaChcIi8vXCIpLChlPXRoaXMuaikmJnQucHVzaChhbihlLGNuLCEwKSxcIkBcIiksdC5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcobikpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksbnVsbCE9KG49dGhpcy5oKSYmdC5wdXNoKFwiOlwiLFN0cmluZyhuKSkpLChuPXRoaXMuZykmJih0aGlzLmMmJlwiL1wiIT1uLmNoYXJBdCgwKSYmdC5wdXNoKFwiL1wiKSx0LnB1c2goYW4obixcIi9cIj09bi5jaGFyQXQoMCk/bG46aG4sITApKSksKG49dGhpcy5iLnRvU3RyaW5nKCkpJiZ0LnB1c2goXCI/XCIsbiksKG49dGhpcy5pKSYmdC5wdXNoKFwiI1wiLGFuKG4sZG4pKSx0LmpvaW4oXCJcIil9O3ZhciBjbj0vWyNcXC9cXD9AXS9nLGhuPS9bI1xcPzpdL2csbG49L1sjXFw/XS9nLGZuPS9bI1xcP0BdL2csZG49LyMvZztmdW5jdGlvbiBwbih0LGUpe3RoaXMuYj10aGlzLmE9bnVsbCx0aGlzLmM9dHx8bnVsbCx0aGlzLmY9ISFlfWZ1bmN0aW9uIHluKG4pe24uYXx8KG4uYT1uZXcgSGUsbi5iPTAsbi5jJiZmdW5jdGlvbih0LGUpe2lmKHQpe3Q9dC5zcGxpdChcIiZcIik7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciByLGk9dFtuXS5pbmRleE9mKFwiPVwiKSxvPW51bGw7MDw9aT8ocj10W25dLnN1YnN0cmluZygwLGkpLG89dFtuXS5zdWJzdHJpbmcoaSsxKSk6cj10W25dLGUocixvP2RlY29kZVVSSUNvbXBvbmVudChvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSk6XCJcIil9fX0obi5jLGZ1bmN0aW9uKHQsZSl7bi5hZGQoZGVjb2RlVVJJQ29tcG9uZW50KHQucmVwbGFjZSgvXFwrL2csXCIgXCIpKSxlKX0pKX1mdW5jdGlvbiBnbih0LGUpe3luKHQpLGU9Ym4odCxlKSxZZSh0LmEuYixlKSYmKHQuYz1udWxsLHQuYi09dC5hLmdldChlKS5sZW5ndGgsWWUoKHQ9dC5hKS5iLGUpJiYoZGVsZXRlIHQuYltlXSx0LmMtLSx0LmEubGVuZ3RoPjIqdC5jJiZXZSh0KSkpfWZ1bmN0aW9uIG1uKHQsZSl7cmV0dXJuIHluKHQpLGU9Ym4odCxlKSxZZSh0LmEuYixlKX1mdW5jdGlvbiB2bih0LGUsbil7Z24odCxlKSwwPG4ubGVuZ3RoJiYodC5jPW51bGwsdC5hLnNldChibih0LGUpLHoobikpLHQuYis9bi5sZW5ndGgpfWZ1bmN0aW9uIGJuKHQsZSl7cmV0dXJuIGU9U3RyaW5nKGUpLGU9dC5mP2UudG9Mb3dlckNhc2UoKTplfShOPXBuLnByb3RvdHlwZSkuYWRkPWZ1bmN0aW9uKHQsZSl7eW4odGhpcyksdGhpcy5jPW51bGwsdD1ibih0aGlzLHQpO3ZhciBuPXRoaXMuYS5nZXQodCk7cmV0dXJuIG58fHRoaXMuYS5zZXQodCxuPVtdKSxuLnB1c2goZSksdGhpcy5iKz0xLHRoaXN9LE4uZm9yRWFjaD1mdW5jdGlvbihuLHIpe3luKHRoaXMpLHRoaXMuYS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7Ryh0LGZ1bmN0aW9uKHQpe24uY2FsbChyLHQsZSx0aGlzKX0sdGhpcyl9LHRoaXMpfSxOLkw9ZnVuY3Rpb24oKXt5bih0aGlzKTtmb3IodmFyIHQ9dGhpcy5hLksoKSxlPXRoaXMuYS5MKCksbj1bXSxyPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBpPXRbcl0sbz0wO288aS5sZW5ndGg7bysrKW4ucHVzaChlW3JdKTtyZXR1cm4gbn0sTi5LPWZ1bmN0aW9uKHQpe3luKHRoaXMpO3ZhciBlPVtdO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KW1uKHRoaXMsdCkmJihlPVEoZSx0aGlzLmEuZ2V0KGJuKHRoaXMsdCkpKSk7ZWxzZXt0PXRoaXMuYS5LKCk7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspZT1RKGUsdFtuXSl9cmV0dXJuIGV9LE4uc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHluKHRoaXMpLHRoaXMuYz1udWxsLG1uKHRoaXMsdD1ibih0aGlzLHQpKSYmKHRoaXMuYi09dGhpcy5hLmdldCh0KS5sZW5ndGgpLHRoaXMuYS5zZXQodCxbZV0pLHRoaXMuYis9MSx0aGlzfSxOLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0JiYwPCh0PXRoaXMuSyh0KSkubGVuZ3RoP1N0cmluZyh0WzBdKTplfSxOLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXJldHVybiB0aGlzLmM7aWYoIXRoaXMuYSlyZXR1cm5cIlwiO2Zvcih2YXIgdD1bXSxlPXRoaXMuYS5MKCksbj0wO248ZS5sZW5ndGg7bisrKWZvcih2YXIgcj1lW25dLGk9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhyKSkscj10aGlzLksociksbz0wO288ci5sZW5ndGg7bysrKXt2YXIgcz1pO1wiXCIhPT1yW29dJiYocys9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhyW29dKSkpLHQucHVzaChzKX1yZXR1cm4gdGhpcy5jPXQuam9pbihcIiZcIil9O3ZhciB3bj1mdW5jdGlvbih0LGUpe3RoaXMuYj10LHRoaXMuYT1lfTtmdW5jdGlvbiBFbih0KXt0aGlzLmc9dHx8VG4sdD1rLlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZz8wPCh0PWsucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIikpLmxlbmd0aCYmKFwiaHFcIj09dFswXS5uZXh0SG9wUHJvdG9jb2x8fFwiaDJcIj09dFswXS5uZXh0SG9wUHJvdG9jb2wpOiEhKGsuaWEmJmsuaWEueWEmJmsuaWEueWEoKSYmay5pYS55YSgpLkxiKSx0aGlzLmY9dD90aGlzLmc6MSx0aGlzLmE9bnVsbCwxPHRoaXMuZiYmKHRoaXMuYT1uZXcgU2V0KSx0aGlzLmI9bnVsbCx0aGlzLmM9W119dmFyIFRuPTEwO2Z1bmN0aW9uIEluKHQpe3JldHVybiB0LmJ8fHQuYSYmdC5hLnNpemU+PXQuZn1mdW5jdGlvbiBfbih0KXtyZXR1cm4gdC5iPzE6dC5hP3QuYS5zaXplOjB9ZnVuY3Rpb24gU24odCxlKXtyZXR1cm4gdC5iP3QuYj09ZTp0LmEmJnQuYS5oYXMoZSl9ZnVuY3Rpb24gQW4odCxlKXt0LmE/dC5hLmFkZChlKTp0LmI9ZX1mdW5jdGlvbiBObih0LGUpe3QuYiYmdC5iPT1lP3QuYj1udWxsOnQuYSYmdC5hLmhhcyhlKSYmdC5hLmRlbGV0ZShlKX1mdW5jdGlvbiBEbih0KXt2YXIgZSxuO2lmKG51bGwhPXQuYilyZXR1cm4gdC5jLmNvbmNhdCh0LmIucyk7aWYobnVsbD09dC5hfHwwPT09dC5hLnNpemUpcmV0dXJuIHoodC5jKTt2YXIgcj10LmM7dHJ5e2Zvcih2YXIgaT1BKHQuYS52YWx1ZXMoKSksbz1pLm5leHQoKTshby5kb25lO289aS5uZXh0KCkpdmFyIHM9by52YWx1ZSxyPXIuY29uY2F0KHMucyl9Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7byYmIW8uZG9uZSYmKG49aS5yZXR1cm4pJiZuLmNhbGwoaSl9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fXJldHVybiByfWZ1bmN0aW9uIENuKCl7fWZ1bmN0aW9uIGtuKCl7dGhpcy5hPW5ldyBDbn1mdW5jdGlvbiBSbih0LGUsbixyLGkpe3RyeXtlLm9ubG9hZD1udWxsLGUub25lcnJvcj1udWxsLGUub25hYm9ydD1udWxsLGUub250aW1lb3V0PW51bGwsaShyKX1jYXRjaCh0KXt9fUVuLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKHRoaXMuYz1Ebih0aGlzKSx0aGlzLmIpdGhpcy5iLmNhbmNlbCgpLHRoaXMuYj1udWxsO2Vsc2UgaWYodGhpcy5hJiYwIT09dGhpcy5hLnNpemUpe3RyeXtmb3IodmFyIG49QSh0aGlzLmEudmFsdWVzKCkpLHI9bi5uZXh0KCk7IXIuZG9uZTtyPW4ubmV4dCgpKXIudmFsdWUuY2FuY2VsKCl9Y2F0Y2godCl7ZT17ZXJyb3I6dH19ZmluYWxseXt0cnl7ciYmIXIuZG9uZSYmKHQ9bi5yZXR1cm4pJiZ0LmNhbGwobil9ZmluYWxseXtpZihlKXRocm93IGUuZXJyb3J9fXRoaXMuYS5jbGVhcigpfX0sQ24ucHJvdG90eXBlLnN0cmluZ2lmeT1mdW5jdGlvbih0KXtyZXR1cm4gay5KU09OLnN0cmluZ2lmeSh0LHZvaWQgMCl9LENuLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbih0KXtyZXR1cm4gay5KU09OLnBhcnNlKHQsdm9pZCAwKX07dmFyIHhuPWsuSlNPTi5wYXJzZTtmdW5jdGlvbiBPbih0KXtCdC5jYWxsKHRoaXMpLHRoaXMuaGVhZGVycz1uZXcgSGUsdGhpcy5IPXR8fG51bGwsdGhpcy5iPSExLHRoaXMucz10aGlzLmE9bnVsbCx0aGlzLkI9XCJcIix0aGlzLmg9MCx0aGlzLmY9XCJcIix0aGlzLmc9dGhpcy5BPXRoaXMubD10aGlzLnU9ITEsdGhpcy5vPTAsdGhpcy5tPW51bGwsdGhpcy5JPUxuLHRoaXMuRD10aGlzLkY9ITF9QihPbixCdCk7dmFyIExuPVwiXCIsUG49L15odHRwcz8kL2ksTW49W1wiUE9TVFwiLFwiUFVUXCJdO2Z1bmN0aW9uIEZuKHQpe3JldHVyblwiY29udGVudC10eXBlXCI9PXQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBWbih0LGUpe3QuYj0hMSx0LmEmJih0Lmc9ITAsdC5hLmFib3J0KCksdC5nPSExKSx0LmY9ZSx0Lmg9NSxVbih0KSxCbih0KX1mdW5jdGlvbiBVbih0KXt0LnV8fCh0LnU9ITAsanQodCxcImNvbXBsZXRlXCIpLGp0KHQsXCJlcnJvclwiKSl9ZnVuY3Rpb24gcW4odCl7aWYodC5iJiZ2b2lkIDAhPT1DJiYoIXQuc1sxXXx8NCE9S24odCl8fDIhPXQuVygpKSlpZih0LmwmJjQ9PUtuKHQpKW5lKHQuemEsMCx0KTtlbHNlIGlmKGp0KHQsXCJyZWFkeXN0YXRlY2hhbmdlXCIpLDQ9PUtuKHQpKXt0LmI9ITE7dHJ5e3ZhciBlLG4scixpLG89dC5XKCk7dDpzd2l0Y2gobyl7Y2FzZSAyMDA6Y2FzZSAyMDE6Y2FzZSAyMDI6Y2FzZSAyMDQ6Y2FzZSAyMDY6Y2FzZSAzMDQ6Y2FzZSAxMjIzOnZhciBzPSEwO2JyZWFrIHQ7ZGVmYXVsdDpzPSExfShlPXMpfHwoKG49MD09PW8pJiYoIShpPVN0cmluZyh0LkIpLm1hdGNoKFhlKVsxXXx8bnVsbCkmJmsuc2VsZiYmay5zZWxmLmxvY2F0aW9uJiYoaT0ocj1rLnNlbGYubG9jYXRpb24ucHJvdG9jb2wpLnN1YnN0cigwLHIubGVuZ3RoLTEpKSxuPSFQbi50ZXN0KGk/aS50b0xvd2VyQ2FzZSgpOlwiXCIpKSxlPW4pO2lmKGUpanQodCxcImNvbXBsZXRlXCIpLGp0KHQsXCJzdWNjZXNzXCIpO2Vsc2V7dC5oPTY7dHJ5e3ZhciBhPTI8S24odCk/dC5hLnN0YXR1c1RleHQ6XCJcIn1jYXRjaChvKXthPVwiXCJ9dC5mPWErXCIgW1wiK3QuVygpK1wiXVwiLFVuKHQpfX1maW5hbGx5e0JuKHQpfX19ZnVuY3Rpb24gQm4odCxlKXtpZih0LmEpe2puKHQpO3ZhciBuPXQuYSxyPXQuc1swXT9SOm51bGw7dC5hPW51bGwsdC5zPW51bGwsZXx8anQodCxcInJlYWR5XCIpO3RyeXtuLm9ucmVhZHlzdGF0ZWNoYW5nZT1yfWNhdGNoKHQpe319fWZ1bmN0aW9uIGpuKHQpe3QuYSYmdC5EJiYodC5hLm9udGltZW91dD1udWxsKSx0Lm0mJihrLmNsZWFyVGltZW91dCh0Lm0pLHQubT1udWxsKX1mdW5jdGlvbiBLbih0KXtyZXR1cm4gdC5hP3QuYS5yZWFkeVN0YXRlOjB9ZnVuY3Rpb24gR24odCxlLG4pe3Q6e2ZvcihyIGluIG4pe3ZhciByPSExO2JyZWFrIHR9cj0hMH12YXIgaTtyfHwoaT1cIlwiLFoobixmdW5jdGlvbih0LGUpe2krPWUsaSs9XCI6XCIsaSs9dCxpKz1cIlxcclxcblwifSksbj1pLFwic3RyaW5nXCI9PXR5cGVvZiB0P251bGwhPW4mJmVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcobikpOnJuKHQsZSxuKSl9ZnVuY3Rpb24gUW4odCxlLG4pe3JldHVybiBuJiZuLmludGVybmFsQ2hhbm5lbFBhcmFtcyYmbi5pbnRlcm5hbENoYW5uZWxQYXJhbXNbdF18fGV9ZnVuY3Rpb24gem4odCl7dGhpcy5wYT0wLHRoaXMuZz1bXSx0aGlzLmM9bmV3IGRlLHRoaXMuZ2E9dGhpcy5sYT10aGlzLkI9dGhpcy5mYT10aGlzLmE9dGhpcy5uYT10aGlzLkE9dGhpcy5WPXRoaXMuaT10aGlzLk89dGhpcy5sPW51bGwsdGhpcy5PYT10aGlzLlI9MCx0aGlzLkxhPVFuKFwiZmFpbEZhc3RcIiwhMSx0KSx0aGlzLkg9dGhpcy5tPXRoaXMuaj10aGlzLmg9dGhpcy5mPW51bGwsdGhpcy5TPSEwLHRoaXMuST10aGlzLm9hPXRoaXMuUD0tMSx0aGlzLlQ9dGhpcy5vPXRoaXMudT0wLHRoaXMuSGE9UW4oXCJiYXNlUmV0cnlEZWxheU1zXCIsNWUzLHQpLHRoaXMuUmE9UW4oXCJyZXRyeURlbGF5U2VlZE1zXCIsMWU0LHQpLHRoaXMuTWE9UW4oXCJmb3J3YXJkQ2hhbm5lbE1heFJldHJpZXNcIiwyLHQpLHRoaXMubWE9UW4oXCJmb3J3YXJkQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNcIiwyZTQsdCksdGhpcy5OYT10JiZ0Lmd8fHZvaWQgMCx0aGlzLkQ9dm9pZCAwLHRoaXMuQz10JiZ0LnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExLHRoaXMuSj1cIlwiLHRoaXMuYj1uZXcgRW4odCYmdC5jb25jdXJyZW50UmVxdWVzdExpbWl0KSx0aGlzLmthPW5ldyBrbix0aGlzLmRhPXQmJnQuZmFzdEhhbmRzaGFrZXx8ITEsdGhpcy5JYT10JiZ0LmJ8fCExLHQmJnQuZiYmKHRoaXMuYy5hPSExKSx0JiZ0LmZvcmNlTG9uZ1BvbGxpbmcmJih0aGlzLlM9ITEpLHRoaXMuVT0hdGhpcy5kYSYmdGhpcy5TJiZ0JiZ0LmRldGVjdEJ1ZmZlcmluZ1Byb3h5fHwhMSx0aGlzLmVhPXZvaWQgMCx0aGlzLk49MCx0aGlzLkY9ITEsdGhpcy5zPW51bGwsKHRoaXMuS2E9dCYmdC5jfHwhMSkmJnRoaXMuYy5pbmZvKFwiT3B0LWluIHRvIGVuYWJsZSBDaHJvbWUgT3JpZ2luIFRyaWFscy5cIil9ZnVuY3Rpb24gSG4odCl7dmFyIGUsbjtZbih0KSwzPT10LnYmJihlPXQuUisrLHJuKG49JGUodC5CKSxcIlNJRFwiLHQuSikscm4obixcIlJJRFwiLGUpLHJuKG4sXCJUWVBFXCIsXCJ0ZXJtaW5hdGVcIiksWm4odCxuKSwoZT1uZXcgeGUodCx0LmMsZSx2b2lkIDApKS5IPTIsZS5pPW9uKCRlKG4pKSxuPSExLCEobj1rLm5hdmlnYXRvciYmay5uYXZpZ2F0b3Iuc2VuZEJlYWNvbj9rLm5hdmlnYXRvci5zZW5kQmVhY29uKGUuaS50b1N0cmluZygpLFwiXCIpOm4pJiZrLkltYWdlJiYoKG5ldyBJbWFnZSkuc3JjPWUuaSxuPSEwKSxufHwoZS5hPWxyKGUuZyxudWxsKSxlLmEuYmEoZS5pKSksZS51PXEoKSxxZShlKSksY3IodCl9ZnVuY3Rpb24gV24odCl7dC5hJiYocnIodCksdC5hLmNhbmNlbCgpLHQuYT1udWxsKX1mdW5jdGlvbiBZbih0KXtXbih0KSx0LmomJihrLmNsZWFyVGltZW91dCh0LmopLHQuaj1udWxsKSxvcih0KSx0LmIuY2FuY2VsKCksdC5oJiYoXCJudW1iZXJcIj09dHlwZW9mIHQuaCYmay5jbGVhclRpbWVvdXQodC5oKSx0Lmg9bnVsbCl9ZnVuY3Rpb24gWG4odCxlKXt0LmcucHVzaChuZXcgd24odC5PYSsrLGUpKSwzPT10LnYmJkpuKHQpfWZ1bmN0aW9uIEpuKHQpe0luKHQuYil8fHQuaHx8KHQuaD0hMCxYdCh0LkJhLHQpLHQudT0wKX1mdW5jdGlvbiAkbih0LGUpe3ZhciBuPWU/ZS5mOnQuUisrLHI9JGUodC5CKTtybihyLFwiU0lEXCIsdC5KKSxybihyLFwiUklEXCIsbikscm4ocixcIkFJRFwiLHQuUCksWm4odCxyKSx0LmkmJnQubCYmR24ocix0LmksdC5sKSxuPW5ldyB4ZSh0LHQuYyxuLHQudSsxKSxudWxsPT09dC5pJiYobi5CPXQubCksZSYmKHQuZz1lLnMuY29uY2F0KHQuZykpLGU9dHIodCxuLDFlMyksbi5zZXRUaW1lb3V0KE1hdGgucm91bmQoLjUqdC5tYSkrTWF0aC5yb3VuZCguNSp0Lm1hKk1hdGgucmFuZG9tKCkpKSxBbih0LmIsbiksRmUobixyLGUpfWZ1bmN0aW9uIFpuKHQsbil7dC5mJiZ6ZSh7fSxmdW5jdGlvbih0LGUpe3JuKG4sZSx0KX0pfWZ1bmN0aW9uIHRyKHQsZSxuKXtuPU1hdGgubWluKHQuZy5sZW5ndGgsbik7dmFyIHI9dC5mP1YodC5mLkphLHQuZix0KTpudWxsO3Q6Zm9yKHZhciBpPXQuZyxvPS0xOzspe3ZhciBzPVtcImNvdW50PVwiK25dOy0xPT1vPzA8bj8obz1pWzBdLmIscy5wdXNoKFwib2ZzPVwiK28pKTpvPTA6cy5wdXNoKFwib2ZzPVwiK28pO2Zvcih2YXIgYT0hMCx1PTA7dTxuO3UrKyl7dmFyIGM9aVt1XS5iLGg9aVt1XS5hO2lmKChjLT1vKTwwKW89TWF0aC5tYXgoMCxpW3VdLmItMTAwKSxhPSExO2Vsc2UgdHJ5eyFmdW5jdGlvbih0LHIsZSl7dmFyIGk9ZXx8XCJcIjt0cnl7emUodCxmdW5jdGlvbih0LGUpe3ZhciBuPXQ7Tyh0KSYmKG49R3QodCkpLHIucHVzaChpK2UrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKX0pfWNhdGNoKHQpe3Rocm93IHIucHVzaChpK1widHlwZT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJfYmFkbWFwXCIpKSx0fX0oaCxzLFwicmVxXCIrYytcIl9cIil9Y2F0Y2godCl7ciYmcihoKX19aWYoYSl7cj1zLmpvaW4oXCImXCIpO2JyZWFrIHR9fXJldHVybiB0PXQuZy5zcGxpY2UoMCxuKSxlLnM9dCxyfWZ1bmN0aW9uIGVyKHQpe3QuYXx8dC5qfHwodC5UPTEsWHQodC5BYSx0KSx0Lm89MCl9ZnVuY3Rpb24gbnIodCl7cmV0dXJuISh0LmF8fHQuanx8Mzw9dC5vKSYmKHQuVCsrLHQuaj1JZShWKHQuQWEsdCksYXIodCx0Lm8pKSx0Lm8rKywxKX1mdW5jdGlvbiBycih0KXtudWxsIT10LnMmJihrLmNsZWFyVGltZW91dCh0LnMpLHQucz1udWxsKX1mdW5jdGlvbiBpcih0KXt0LmE9bmV3IHhlKHQsdC5jLFwicnBjXCIsdC5UKSxudWxsPT09dC5pJiYodC5hLkI9dC5sKSx0LmEuTz0wO3ZhciBlPSRlKHQubGEpO3JuKGUsXCJSSURcIixcInJwY1wiKSxybihlLFwiU0lEXCIsdC5KKSxybihlLFwiQ0lcIix0Lkg/XCIwXCI6XCIxXCIpLHJuKGUsXCJBSURcIix0LlApLFpuKHQsZSkscm4oZSxcIlRZUEVcIixcInhtbGh0dHBcIiksdC5pJiZ0LmwmJkduKGUsdC5pLHQubCksdC5EJiZ0LmEuc2V0VGltZW91dCh0LkQpO3ZhciBuPXQuYTt0PXQuZ2Esbi5IPTEsbi5pPW9uKCRlKGUpKSxuLmo9bnVsbCxuLkk9ITAsVmUobix0KX1mdW5jdGlvbiBvcih0KXtudWxsIT10Lm0mJihrLmNsZWFyVGltZW91dCh0Lm0pLHQubT1udWxsKX1mdW5jdGlvbiBzcih0LGUpe3ZhciBuLHIsaSxvPW51bGw7aWYodC5hPT1lKXtvcih0KSxycih0KSx0LmE9bnVsbDt2YXIgcz0yfWVsc2V7aWYoIVNuKHQuYixlKSlyZXR1cm47bz1lLnMsTm4odC5iLGUpLHM9MX1pZih0Lkk9ZS5OLDAhPXQudilpZihlLmIpMT09cz8obz1lLmo/ZS5qLmxlbmd0aDowLGU9cSgpLWUudSxuPXQudSxqdChzPW1lKCksbmV3IFRlKHMpKSxKbih0KSk6ZXIodCk7ZWxzZSBpZigzPT0obj1lLmgpfHwwPT1uJiYwPHQuSXx8KDEhPXN8fChpPWUsX24oKHI9dCkuYik+PXIuYi5mLShyLmg/MTowKXx8KHIuaD8oci5nPWkucy5jb25jYXQoci5nKSwwKToxPT1yLnZ8fDI9PXIudnx8ci51Pj0oci5MYT8wOnIuTWEpfHwoci5oPUllKFYoci5CYSxyLGkpLGFyKHIsci51KSksci51KyssMCkpKSkmJigyIT1zfHwhbnIodCkpKXN3aXRjaChvJiYwPG8ubGVuZ3RoJiYoZT10LmIsZS5jPWUuYy5jb25jYXQobykpLG4pe2Nhc2UgMTp1cih0LDUpO2JyZWFrO2Nhc2UgNDp1cih0LDEwKTticmVhaztjYXNlIDM6dXIodCw2KTticmVhaztkZWZhdWx0OnVyKHQsMil9fWZ1bmN0aW9uIGFyKHQsZSl7dmFyIG49dC5IYStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5SYSk7cmV0dXJuIHQuZnx8KG4qPTIpLG4qZX1mdW5jdGlvbiB1cih0LGUpe3ZhciBuLHIsaSxvO3QuYy5pbmZvKFwiRXJyb3IgY29kZSBcIitlKSwyPT1lPyhyPW51bGwsdC5mJiYocj1udWxsKSxvPVYodC5ZYSx0KSxyfHwocj1uZXcgSmUoXCIvL3d3dy5nb29nbGUuY29tL2ltYWdlcy9jbGVhcmRvdC5naWZcIiksay5sb2NhdGlvbiYmXCJodHRwXCI9PWsubG9jYXRpb24ucHJvdG9jb2x8fFplKHIsXCJodHRwc1wiKSxvbihyKSksbj1yLnRvU3RyaW5nKCkscj1vLG89bmV3IGRlLGsuSW1hZ2U/KChpPW5ldyBJbWFnZSkub25sb2FkPVUoUm4sbyxpLFwiVGVzdExvYWRJbWFnZTogbG9hZGVkXCIsITAsciksaS5vbmVycm9yPVUoUm4sbyxpLFwiVGVzdExvYWRJbWFnZTogZXJyb3JcIiwhMSxyKSxpLm9uYWJvcnQ9VShSbixvLGksXCJUZXN0TG9hZEltYWdlOiBhYm9ydFwiLCExLHIpLGkub250aW1lb3V0PVUoUm4sbyxpLFwiVGVzdExvYWRJbWFnZTogdGltZW91dFwiLCExLHIpLGsuc2V0VGltZW91dChmdW5jdGlvbigpe2kub250aW1lb3V0JiZpLm9udGltZW91dCgpfSwxZTQpLGkuc3JjPW4pOnIoITEpKTpFZSgyKSx0LnY9MCx0LmYmJnQuZi5yYShlKSxjcih0KSxZbih0KX1mdW5jdGlvbiBjcih0KXt0LnY9MCx0Lkk9LTEsdC5mJiYoMD09RG4odC5iKS5sZW5ndGgmJjA9PXQuZy5sZW5ndGh8fCh0LmIuYy5sZW5ndGg9MCx6KHQuZyksdC5nLmxlbmd0aD0wKSx0LmYucWEoKSl9ZnVuY3Rpb24gaHIodCxlLG4pe3ZhciByLGksbyxzLGEsdT0ocz1uKWluc3RhbmNlb2YgSmU/JGUocyk6bmV3IEplKHMsdm9pZCAwKTtyZXR1cm5cIlwiIT11LmM/KGUmJnRuKHUsZStcIi5cIit1LmMpLGVuKHUsdS5oKSk6KGE9ay5sb2NhdGlvbixyPWEucHJvdG9jb2wsaT1lP2UrXCIuXCIrYS5ob3N0bmFtZTphLmhvc3RuYW1lLG89K2EucG9ydCxzPW4sYT1uZXcgSmUobnVsbCx2b2lkIDApLHImJlplKGEsciksaSYmdG4oYSxpKSxvJiZlbihhLG8pLHMmJihhLmc9cyksdT1hKSx0LlYmJloodC5WLGZ1bmN0aW9uKHQsZSl7cm4odSxlLHQpfSksZT10LkEsbj10Lm5hLGUmJm4mJnJuKHUsZSxuKSxybih1LFwiVkVSXCIsdC5oYSksWm4odCx1KSx1fWZ1bmN0aW9uIGxyKHQsZSl7aWYoZSYmIXQuQyl0aHJvdyBFcnJvcihcIkNhbid0IGNyZWF0ZSBzZWNvbmRhcnkgZG9tYWluIGNhcGFibGUgWGhySW8gb2JqZWN0LlwiKTtyZXR1cm4oZT1uZXcgT24odC5OYSkpLkY9dC5DLGV9ZnVuY3Rpb24gZnIoKXt9ZnVuY3Rpb24gZHIoKXtpZihzdCYmISgxMDw9TnVtYmVyKGd0KSkpdGhyb3cgRXJyb3IoXCJFbnZpcm9ubWVudGFsIGVycm9yOiBubyBhdmFpbGFibGUgdHJhbnNwb3J0LlwiKX1mdW5jdGlvbiBwcih0LGUpe0J0LmNhbGwodGhpcyksdGhpcy5hPW5ldyB6bihlKSx0aGlzLm89dCx0aGlzLmI9ZSYmZS5tZXNzYWdlVXJsUGFyYW1zfHxudWxsLHQ9ZSYmZS5tZXNzYWdlSGVhZGVyc3x8bnVsbCxlJiZlLmNsaWVudFByb3RvY29sSGVhZGVyUmVxdWlyZWQmJih0P3RbXCJYLUNsaWVudC1Qcm90b2NvbFwiXT1cIndlYmNoYW5uZWxcIjp0PXtcIlgtQ2xpZW50LVByb3RvY29sXCI6XCJ3ZWJjaGFubmVsXCJ9KSx0aGlzLmEubD10LHQ9ZSYmZS5pbml0TWVzc2FnZUhlYWRlcnN8fG51bGwsZSYmZS5tZXNzYWdlQ29udGVudFR5cGUmJih0P3RbXCJYLVdlYkNoYW5uZWwtQ29udGVudC1UeXBlXCJdPWUubWVzc2FnZUNvbnRlbnRUeXBlOnQ9e1wiWC1XZWJDaGFubmVsLUNvbnRlbnQtVHlwZVwiOmUubWVzc2FnZUNvbnRlbnRUeXBlfSksZSYmZS5hJiYodD90W1wiWC1XZWJDaGFubmVsLUNsaWVudC1Qcm9maWxlXCJdPWUuYTp0PXtcIlgtV2ViQ2hhbm5lbC1DbGllbnQtUHJvZmlsZVwiOmUuYX0pLHRoaXMuYS5PPXQsKHQ9ZSYmZS5odHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtKSYmIUgodCkmJih0aGlzLmEuaT10KSx0aGlzLm09ZSYmZS5zdXBwb3J0c0Nyb3NzRG9tYWluWGhyfHwhMSx0aGlzLmw9ZSYmZS5zZW5kUmF3SnNvbnx8ITEsKGU9ZSYmZS5odHRwU2Vzc2lvbklkUGFyYW0pJiYhSChlKSYmKHRoaXMuYS5BPWUsbnVsbCE9PSh0PXRoaXMuYikmJmUgaW4gdCYmKGUgaW4odD10aGlzLmIpJiZkZWxldGUgdFtlXSkpLHRoaXMuZj1uZXcgbXIodGhpcyl9ZnVuY3Rpb24geXIodCl7Q2UuY2FsbCh0aGlzKTt2YXIgZT10Ll9fc21fXztpZihlKXt0Ontmb3IodmFyIG4gaW4gZSl7dD1uO2JyZWFrIHR9dD12b2lkIDB9KHRoaXMuYz10KT8odD10aGlzLmMsdGhpcy5kYXRhPW51bGwhPT1lJiZ0IGluIGU/ZVt0XTp2b2lkIDApOnRoaXMuZGF0YT1lfWVsc2UgdGhpcy5kYXRhPXR9ZnVuY3Rpb24gZ3IoKXtrZS5jYWxsKHRoaXMpLHRoaXMuc3RhdHVzPTF9ZnVuY3Rpb24gbXIodCl7dGhpcy5hPXR9KE49T24ucHJvdG90eXBlKS5iYT1mdW5jdGlvbih0LGUsbixyKXtpZih0aGlzLmEpdGhyb3cgRXJyb3IoXCJbZ29vZy5uZXQuWGhySW9dIE9iamVjdCBpcyBhY3RpdmUgd2l0aCBhbm90aGVyIHJlcXVlc3Q9XCIrdGhpcy5CK1wiOyBuZXdVcmk9XCIrdCk7ZT1lP2UudG9VcHBlckNhc2UoKTpcIkdFVFwiLHRoaXMuQj10LHRoaXMuZj1cIlwiLHRoaXMuaD0wLHRoaXMudT0hMSx0aGlzLmI9ITAsdGhpcy5hPW5ldyBYTUxIdHRwUmVxdWVzdCx0aGlzLnM9dGhpcy5IP05lKHRoaXMuSCk6TmUoT2UpLHRoaXMuYS5vbnJlYWR5c3RhdGVjaGFuZ2U9Vih0aGlzLnphLHRoaXMpO3RyeXt0aGlzLkE9ITAsdGhpcy5hLm9wZW4oZSxTdHJpbmcodCksITApLHRoaXMuQT0hMX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBWbih0aGlzLHQpfXQ9bnx8XCJcIjt2YXIgaSxvPW5ldyBIZSh0aGlzLmhlYWRlcnMpO3ImJnplKHIsZnVuY3Rpb24odCxlKXtvLnNldChlLHQpfSkscj1mdW5jdGlvbih0KXt0Ontmb3IodmFyIGU9Rm4sbj10Lmxlbmd0aCxyPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Quc3BsaXQoXCJcIik6dCxpPTA7aTxuO2krKylpZihpIGluIHImJmUuY2FsbCh2b2lkIDAscltpXSxpLHQpKXtlPWk7YnJlYWsgdH1lPS0xfXJldHVybiBlPDA/bnVsbDpcInN0cmluZ1wiPT10eXBlb2YgdD90LmNoYXJBdChlKTp0W2VdfShvLkwoKSksbj1rLkZvcm1EYXRhJiZ0IGluc3RhbmNlb2Ygay5Gb3JtRGF0YSwwPD1LKE1uLGUpJiYhciYmIW4mJm8uc2V0KFwiQ29udGVudC1UeXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiKSxvLmZvckVhY2goZnVuY3Rpb24odCxlKXt0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSx0aGlzKSx0aGlzLkkmJih0aGlzLmEucmVzcG9uc2VUeXBlPXRoaXMuSSksXCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuYSYmdGhpcy5hLndpdGhDcmVkZW50aWFscyE9PXRoaXMuRiYmKHRoaXMuYS53aXRoQ3JlZGVudGlhbHM9dGhpcy5GKTt0cnl7am4odGhpcyksMDx0aGlzLm8mJigodGhpcy5EPShpPXRoaXMuYSxzdCYmeXQoOSkmJlwibnVtYmVyXCI9PXR5cGVvZiBpLnRpbWVvdXQmJnZvaWQgMCE9PWkub250aW1lb3V0KSk/KHRoaXMuYS50aW1lb3V0PXRoaXMubyx0aGlzLmEub250aW1lb3V0PVYodGhpcy54YSx0aGlzKSk6dGhpcy5tPW5lKHRoaXMueGEsdGhpcy5vLHRoaXMpKSx0aGlzLmw9ITAsdGhpcy5hLnNlbmQodCksdGhpcy5sPSExfWNhdGNoKHQpe1ZuKHRoaXMsdCl9fSxOLnhhPWZ1bmN0aW9uKCl7dm9pZCAwIT09QyYmdGhpcy5hJiYodGhpcy5mPVwiVGltZWQgb3V0IGFmdGVyIFwiK3RoaXMubytcIm1zLCBhYm9ydGluZ1wiLHRoaXMuaD04LGp0KHRoaXMsXCJ0aW1lb3V0XCIpLHRoaXMuYWJvcnQoOCkpfSxOLmFib3J0PWZ1bmN0aW9uKHQpe3RoaXMuYSYmdGhpcy5iJiYodGhpcy5iPSExLHRoaXMuZz0hMCx0aGlzLmEuYWJvcnQoKSx0aGlzLmc9ITEsdGhpcy5oPXR8fDcsanQodGhpcyxcImNvbXBsZXRlXCIpLGp0KHRoaXMsXCJhYm9ydFwiKSxCbih0aGlzKSl9LE4uRz1mdW5jdGlvbigpe3RoaXMuYSYmKHRoaXMuYiYmKHRoaXMuYj0hMSx0aGlzLmc9ITAsdGhpcy5hLmFib3J0KCksdGhpcy5nPSExKSxCbih0aGlzLCEwKSksT24uWC5HLmNhbGwodGhpcyl9LE4uemE9ZnVuY3Rpb24oKXt0aGlzLmp8fCh0aGlzLkF8fHRoaXMubHx8dGhpcy5nP3FuKHRoaXMpOnRoaXMuVWEoKSl9LE4uVWE9ZnVuY3Rpb24oKXtxbih0aGlzKX0sTi5XPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiAyPEtuKHRoaXMpP3RoaXMuYS5zdGF0dXM6LTF9Y2F0Y2godCl7cmV0dXJuLTF9fSxOLiQ9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHRoaXMuYT90aGlzLmEucmVzcG9uc2VUZXh0OlwiXCJ9Y2F0Y2godCl7cmV0dXJuXCJcIn19LE4uUGE9ZnVuY3Rpb24odCl7aWYodGhpcy5hKXt2YXIgZT10aGlzLmEucmVzcG9uc2VUZXh0O3JldHVybiB0JiYwPT1lLmluZGV4T2YodCkmJihlPWUuc3Vic3RyaW5nKHQubGVuZ3RoKSkseG4oZSl9fSxOLnVhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaH0sTi5RYT1mdW5jdGlvbigpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmY/dGhpcy5mOlN0cmluZyh0aGlzLmYpfSwoTj16bi5wcm90b3R5cGUpLmhhPTgsTi52PTEsTi5CYT1mdW5jdGlvbih0KXtpZih0aGlzLmgpaWYodGhpcy5oPW51bGwsMT09dGhpcy52KXtpZighdCl7dGhpcy5SPU1hdGguZmxvb3IoMWU1Kk1hdGgucmFuZG9tKCkpLHQ9dGhpcy5SKys7dmFyIGUsbj1uZXcgeGUodGhpcyx0aGlzLmMsdCx2b2lkIDApLHI9dGhpcy5sO2lmKHRoaXMuTyYmKHI/bnQocj10dChyKSx0aGlzLk8pOnI9dGhpcy5PKSxudWxsPT09dGhpcy5pJiYobi5CPXIpLHRoaXMuZGEpdDp7Zm9yKHZhciBpPWU9MDtpPHRoaXMuZy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzLmdbaV07aWYoXCJfX2RhdGFfX1wiaW4gby5hJiZcInN0cmluZ1wiPT10eXBlb2Yobz1vLmEuX19kYXRhX18pP289by5sZW5ndGg6bz12b2lkIDAsdm9pZCAwPT09bylicmVhaztpZig0MDk2PChlKz1vKSl7ZT1pO2JyZWFrIHR9aWYoNDA5Nj09PWV8fGk9PT10aGlzLmcubGVuZ3RoLTEpe2U9aSsxO2JyZWFrIHR9fWU9MWUzfWVsc2UgZT0xZTM7ZT10cih0aGlzLG4sZSkscm4oaT0kZSh0aGlzLkIpLFwiUklEXCIsdCkscm4oaSxcIkNWRVJcIiwyMiksdGhpcy5BJiZybihpLFwiWC1IVFRQLVNlc3Npb24tSWRcIix0aGlzLkEpLFpuKHRoaXMsaSksdGhpcy5pJiZyJiZHbihpLHRoaXMuaSxyKSxBbih0aGlzLmIsbiksdGhpcy5JYSYmcm4oaSxcIlRZUEVcIixcImluaXRcIiksdGhpcy5kYT8ocm4oaSxcIiRyZXFcIixlKSxybihpLFwiU0lEXCIsXCJudWxsXCIpLG4uVT0hMCxGZShuLGksbnVsbCkpOkZlKG4saSxlKSx0aGlzLnY9Mn19ZWxzZSAzPT10aGlzLnYmJih0PyRuKHRoaXMsdCk6MD09dGhpcy5nLmxlbmd0aHx8SW4odGhpcy5iKXx8JG4odGhpcykpfSxOLkFhPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5qPW51bGwsaXIodGhpcyksdGhpcy5VJiYhKHRoaXMuRnx8bnVsbD09dGhpcy5hfHx0aGlzLk48PTApJiYodD0yKnRoaXMuTix0aGlzLmMuaW5mbyhcIkJQIGRldGVjdGlvbiB0aW1lciBlbmFibGVkOiBcIit0KSx0aGlzLnM9SWUoVih0aGlzLlRhLHRoaXMpLHQpKX0sTi5UYT1mdW5jdGlvbigpe3RoaXMucyYmKHRoaXMucz1udWxsLHRoaXMuYy5pbmZvKFwiQlAgZGV0ZWN0aW9uIHRpbWVvdXQgcmVhY2hlZC5cIiksdGhpcy5jLmluZm8oXCJCdWZmZXJpbmcgcHJveHkgZGV0ZWN0ZWQgYW5kIHN3aXRjaCB0byBsb25nLXBvbGxpbmchXCIpLHRoaXMuSD0hMSx0aGlzLkY9ITAsRWUoMTApLFduKHRoaXMpLGlyKHRoaXMpKX0sTi5TYT1mdW5jdGlvbigpe251bGwhPXRoaXMubSYmKHRoaXMubT1udWxsLFduKHRoaXMpLG5yKHRoaXMpLEVlKDE5KSl9LE4uWWE9ZnVuY3Rpb24odCl7dD8odGhpcy5jLmluZm8oXCJTdWNjZXNzZnVsbHkgcGluZ2VkIGdvb2dsZS5jb21cIiksRWUoMikpOih0aGlzLmMuaW5mbyhcIkZhaWxlZCB0byBwaW5nIGdvb2dsZS5jb21cIiksRWUoMSkpfSwoTj1mci5wcm90b3R5cGUpLnRhPWZ1bmN0aW9uKCl7fSxOLnNhPWZ1bmN0aW9uKCl7fSxOLnJhPWZ1bmN0aW9uKCl7fSxOLnFhPWZ1bmN0aW9uKCl7fSxOLkphPWZ1bmN0aW9uKCl7fSxkci5wcm90b3R5cGUuYT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgcHIodCxlKX0sQihwcixCdCkscHIucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXt0aGlzLmEuZj10aGlzLmYsdGhpcy5tJiYodGhpcy5hLkM9ITApO3ZhciB0PXRoaXMuYSxlPXRoaXMubyxuPXRoaXMuYnx8dm9pZCAwO0VlKDApLHQuZmE9ZSx0LlY9bnx8e30sdC5IPXQuUyx0LkI9aHIodCxudWxsLHQuZmEpLEpuKHQpfSxwci5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtIbih0aGlzLmEpfSxwci5wcm90b3R5cGUuaD1mdW5jdGlvbih0KXt2YXIgZTtcInN0cmluZ1wiPT10eXBlb2YgdD8oKGU9e30pLl9fZGF0YV9fPXQsWG4odGhpcy5hLGUpKTp0aGlzLmw/KChlPXt9KS5fX2RhdGFfXz1HdCh0KSxYbih0aGlzLmEsZSkpOlhuKHRoaXMuYSx0KX0scHIucHJvdG90eXBlLkc9ZnVuY3Rpb24oKXt0aGlzLmEuZj1udWxsLGRlbGV0ZSB0aGlzLmYsSG4odGhpcy5hKSxkZWxldGUgdGhpcy5hLHByLlguRy5jYWxsKHRoaXMpfSxCKHlyLENlKSxCKGdyLGtlKSxCKG1yLGZyKSxtci5wcm90b3R5cGUudGE9ZnVuY3Rpb24oKXtqdCh0aGlzLmEsXCJhXCIpfSxtci5wcm90b3R5cGUuc2E9ZnVuY3Rpb24odCl7anQodGhpcy5hLG5ldyB5cih0KSl9LG1yLnByb3RvdHlwZS5yYT1mdW5jdGlvbih0KXtqdCh0aGlzLmEsbmV3IGdyKX0sbXIucHJvdG90eXBlLnFhPWZ1bmN0aW9uKCl7anQodGhpcy5hLFwiYlwiKX0sZHIucHJvdG90eXBlLmNyZWF0ZVdlYkNoYW5uZWw9ZHIucHJvdG90eXBlLmEscHIucHJvdG90eXBlLnNlbmQ9cHIucHJvdG90eXBlLmgscHIucHJvdG90eXBlLm9wZW49cHIucHJvdG90eXBlLmcsX2UuTk9fRVJST1I9MCxfZS5USU1FT1VUPTgsX2UuSFRUUF9FUlJPUj02LFNlLkNPTVBMRVRFPVwiY29tcGxldGVcIiwoRGUuRXZlbnRUeXBlPUQpLk9QRU49XCJhXCIsRC5DTE9TRT1cImJcIixELkVSUk9SPVwiY1wiLEQuTUVTU0FHRT1cImRcIixCdC5wcm90b3R5cGUubGlzdGVuPUJ0LnByb3RvdHlwZS52YSxPbi5wcm90b3R5cGUubGlzdGVuT25jZT1Pbi5wcm90b3R5cGUud2EsT24ucHJvdG90eXBlLmdldExhc3RFcnJvcj1Pbi5wcm90b3R5cGUuUWEsT24ucHJvdG90eXBlLmdldExhc3RFcnJvckNvZGU9T24ucHJvdG90eXBlLnVhLE9uLnByb3RvdHlwZS5nZXRTdGF0dXM9T24ucHJvdG90eXBlLlcsT24ucHJvdG90eXBlLmdldFJlc3BvbnNlSnNvbj1Pbi5wcm90b3R5cGUuUGEsT24ucHJvdG90eXBlLmdldFJlc3BvbnNlVGV4dD1Pbi5wcm90b3R5cGUuJCxPbi5wcm90b3R5cGUuc2VuZD1Pbi5wcm90b3R5cGUuYmE7dmFyIHZyPW1lLGJyPV9lLHdyPVNlLEVyPXllLFRyPTEwLElyPTExLF9yPURlLFNyPU9uLEFyPShOci5wcm90b3R5cGUudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5wcmV2aW91c1ZhbHVlPU1hdGgubWF4KHQsdGhpcy5wcmV2aW91c1ZhbHVlKSx0aGlzLnByZXZpb3VzVmFsdWV9LE5yLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9Kyt0aGlzLnByZXZpb3VzVmFsdWU7cmV0dXJuIHRoaXMuaSYmdGhpcy5pKHQpLHR9LE5yKTtmdW5jdGlvbiBOcih0LGUpe3ZhciBuPXRoaXM7dGhpcy5wcmV2aW91c1ZhbHVlPXQsZSYmKGUuc2VxdWVuY2VOdW1iZXJIYW5kbGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuLnQodCl9LHRoaXMuaT1mdW5jdGlvbih0KXtyZXR1cm4gZS53cml0ZVNlcXVlbmNlTnVtYmVyKHQpfSl9QXIubz0tMTt2YXIgRHIsQ3I9e09LOlwib2tcIixDQU5DRUxMRUQ6XCJjYW5jZWxsZWRcIixVTktOT1dOOlwidW5rbm93blwiLElOVkFMSURfQVJHVU1FTlQ6XCJpbnZhbGlkLWFyZ3VtZW50XCIsREVBRExJTkVfRVhDRUVERUQ6XCJkZWFkbGluZS1leGNlZWRlZFwiLE5PVF9GT1VORDpcIm5vdC1mb3VuZFwiLEFMUkVBRFlfRVhJU1RTOlwiYWxyZWFkeS1leGlzdHNcIixQRVJNSVNTSU9OX0RFTklFRDpcInBlcm1pc3Npb24tZGVuaWVkXCIsVU5BVVRIRU5USUNBVEVEOlwidW5hdXRoZW50aWNhdGVkXCIsUkVTT1VSQ0VfRVhIQVVTVEVEOlwicmVzb3VyY2UtZXhoYXVzdGVkXCIsRkFJTEVEX1BSRUNPTkRJVElPTjpcImZhaWxlZC1wcmVjb25kaXRpb25cIixBQk9SVEVEOlwiYWJvcnRlZFwiLE9VVF9PRl9SQU5HRTpcIm91dC1vZi1yYW5nZVwiLFVOSU1QTEVNRU5URUQ6XCJ1bmltcGxlbWVudGVkXCIsSU5URVJOQUw6XCJpbnRlcm5hbFwiLFVOQVZBSUxBQkxFOlwidW5hdmFpbGFibGVcIixEQVRBX0xPU1M6XCJkYXRhLWxvc3NcIn0sa3I9KG4oeHIsRHI9RXJyb3IpLHhyKSxScj1uZXcgSShcIkBmaXJlYmFzZS9maXJlc3RvcmVcIik7ZnVuY3Rpb24geHIodCxlKXt2YXIgbj10aGlzO3JldHVybihuPURyLmNhbGwodGhpcyxlKXx8dGhpcykuY29kZT10LG4ubWVzc2FnZT1lLG4ubmFtZT1cIkZpcmViYXNlRXJyb3JcIixuLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIG4ubmFtZStcIjogW2NvZGU9XCIrbi5jb2RlK1wiXTogXCIrbi5tZXNzYWdlfSxufWZ1bmN0aW9uIE9yKCl7cmV0dXJuIFJyLmxvZ0xldmVsfWZ1bmN0aW9uIExyKHQpe2Zvcih2YXIgZSxuPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0xXT1hcmd1bWVudHNbcl07UnIubG9nTGV2ZWw8PXAuREVCVUcmJihlPW4ubWFwKEZyKSxSci5kZWJ1Zy5hcHBseShScixzKFtcIkZpcmVzdG9yZSAoOC42LjIpOiBcIit0XSxlKSkpfWZ1bmN0aW9uIFByKHQpe2Zvcih2YXIgZSxuPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0xXT1hcmd1bWVudHNbcl07UnIubG9nTGV2ZWw8PXAuRVJST1ImJihlPW4ubWFwKEZyKSxSci5lcnJvci5hcHBseShScixzKFtcIkZpcmVzdG9yZSAoOC42LjIpOiBcIit0XSxlKSkpfWZ1bmN0aW9uIE1yKHQpe2Zvcih2YXIgZSxuPVtdLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0xXT1hcmd1bWVudHNbcl07UnIubG9nTGV2ZWw8PXAuV0FSTiYmKGU9bi5tYXAoRnIpLFJyLndhcm4uYXBwbHkoUnIscyhbXCJGaXJlc3RvcmUgKDguNi4yKTogXCIrdF0sZSkpKX1mdW5jdGlvbiBGcihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZTt0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpfWNhdGNoKHQpe3JldHVybiBlfX1mdW5jdGlvbiBWcih0KXt0PVwiRklSRVNUT1JFICg4LjYuMikgSU5URVJOQUwgQVNTRVJUSU9OIEZBSUxFRDogXCIrKHQ9dm9pZCAwPT09dD9cIlVuZXhwZWN0ZWQgc3RhdGVcIjp0KTt0aHJvdyBQcih0KSxuZXcgRXJyb3IodCl9ZnVuY3Rpb24gVXIodCl7dHx8VnIoKX12YXIgcXI9KEJyLnU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLGU9TWF0aC5mbG9vcigyNTYvdC5sZW5ndGgpKnQubGVuZ3RoLG49XCJcIjtuLmxlbmd0aDwyMDspZm9yKHZhciByPWZ1bmN0aW9uKHQpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYoc2VsZi5jcnlwdG98fHNlbGYubXNDcnlwdG8pLG49bmV3IFVpbnQ4QXJyYXkodCk7aWYoZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXRSYW5kb21WYWx1ZXMpZS5nZXRSYW5kb21WYWx1ZXMobik7ZWxzZSBmb3IodmFyIHI9MDtyPHQ7cisrKW5bcl09TWF0aC5mbG9vcigyNTYqTWF0aC5yYW5kb20oKSk7cmV0dXJuIG59KDQwKSxpPTA7aTxyLmxlbmd0aDsrK2kpbi5sZW5ndGg8MjAmJnJbaV08ZSYmKG4rPXQuY2hhckF0KHJbaV0ldC5sZW5ndGgpKTtyZXR1cm4gbn0sQnIpO2Z1bmN0aW9uIEJyKCl7fWZ1bmN0aW9uIGpyKHQsZSl7cmV0dXJuIHQ8ZT8tMTplPHQ/MTowfWZ1bmN0aW9uIEtyKHQsbixyKXtyZXR1cm4gdC5sZW5ndGg9PT1uLmxlbmd0aCYmdC5ldmVyeShmdW5jdGlvbih0LGUpe3JldHVybiByKHQsbltlXSl9KX1mdW5jdGlvbiBHcih0KXtyZXR1cm4gdCtcIlxcMFwifXZhciBRcj0oV3Iubm93PWZ1bmN0aW9uKCl7cmV0dXJuIFdyLmZyb21NaWxsaXMoRGF0ZS5ub3coKSl9LFdyLmZyb21EYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBXci5mcm9tTWlsbGlzKHQuZ2V0VGltZSgpKX0sV3IuZnJvbU1pbGxpcz1mdW5jdGlvbih0KXt2YXIgZT1NYXRoLmZsb29yKHQvMWUzKTtyZXR1cm4gbmV3IFdyKGUsTWF0aC5mbG9vcigxZTYqKHQtMWUzKmUpKSl9LFdyLnByb3RvdHlwZS50b0RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IERhdGUodGhpcy50b01pbGxpcygpKX0sV3IucHJvdG90eXBlLnRvTWlsbGlzPWZ1bmN0aW9uKCl7cmV0dXJuIDFlMyp0aGlzLnNlY29uZHMrdGhpcy5uYW5vc2Vjb25kcy8xZTZ9LFdyLnByb3RvdHlwZS5fY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlY29uZHM9PT10LnNlY29uZHM/anIodGhpcy5uYW5vc2Vjb25kcyx0Lm5hbm9zZWNvbmRzKTpqcih0aGlzLnNlY29uZHMsdC5zZWNvbmRzKX0sV3IucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc2Vjb25kcz09PXRoaXMuc2Vjb25kcyYmdC5uYW5vc2Vjb25kcz09PXRoaXMubmFub3NlY29uZHN9LFdyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiVGltZXN0YW1wKHNlY29uZHM9XCIrdGhpcy5zZWNvbmRzK1wiLCBuYW5vc2Vjb25kcz1cIit0aGlzLm5hbm9zZWNvbmRzK1wiKVwifSxXci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3NlY29uZHM6dGhpcy5zZWNvbmRzLG5hbm9zZWNvbmRzOnRoaXMubmFub3NlY29uZHN9fSxXci5wcm90b3R5cGUudmFsdWVPZj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuc2Vjb25kcy0gLTYyMTM1NTk2ODAwO3JldHVybiBTdHJpbmcodCkucGFkU3RhcnQoMTIsXCIwXCIpK1wiLlwiK1N0cmluZyh0aGlzLm5hbm9zZWNvbmRzKS5wYWRTdGFydCg5LFwiMFwiKX0sV3IpLHpyPShIci5mcm9tVGltZXN0YW1wPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgSHIodCl9LEhyLm1pbj1mdW5jdGlvbigpe3JldHVybiBuZXcgSHIobmV3IFFyKDAsMCkpfSxIci5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRpbWVzdGFtcC5fY29tcGFyZVRvKHQudGltZXN0YW1wKX0sSHIucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudGltZXN0YW1wLmlzRXF1YWwodC50aW1lc3RhbXApfSxIci5wcm90b3R5cGUudG9NaWNyb3NlY29uZHM9ZnVuY3Rpb24oKXtyZXR1cm4gMWU2KnRoaXMudGltZXN0YW1wLnNlY29uZHMrdGhpcy50aW1lc3RhbXAubmFub3NlY29uZHMvMWUzfSxIci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlNuYXBzaG90VmVyc2lvbihcIit0aGlzLnRpbWVzdGFtcC50b1N0cmluZygpK1wiKVwifSxIci5wcm90b3R5cGUudG9UaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aW1lc3RhbXB9LEhyKTtmdW5jdGlvbiBIcih0KXt0aGlzLnRpbWVzdGFtcD10fWZ1bmN0aW9uIFdyKHQsZSl7aWYodGhpcy5zZWNvbmRzPXQsKHRoaXMubmFub3NlY29uZHM9ZSk8MCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiK2UpO2lmKDFlOTw9ZSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiK2UpO2lmKHQ8LTYyMTM1NTk2ODAwKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiBcIit0KTtpZigyNTM0MDIzMDA4MDA8PXQpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJUaW1lc3RhbXAgc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiK3QpfWZ1bmN0aW9uIFlyKHQpe3ZhciBlLG49MDtmb3IoZSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZuKys7cmV0dXJuIG59ZnVuY3Rpb24gWHIodCxlKXtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmZShuLHRbbl0pfWZ1bmN0aW9uIEpyKHQpe2Zvcih2YXIgZSBpbiB0KWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpKXJldHVybiExO3JldHVybiEwfXZhciAkcixacixTZT0oT2JqZWN0LmRlZmluZVByb3BlcnR5KGNpLnByb3RvdHlwZSxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksY2kucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1jaS5jb21wYXJhdG9yKHRoaXMsdCl9LGNpLnByb3RvdHlwZS5jaGlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnNlZ21lbnRzLnNsaWNlKHRoaXMub2Zmc2V0LHRoaXMubGltaXQoKSk7cmV0dXJuIHQgaW5zdGFuY2VvZiBjaT90LmZvckVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSk6ZS5wdXNoKHQpLHRoaXMuY29uc3RydWN0KGUpfSxjaS5wcm90b3R5cGUubGltaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vZmZzZXQrdGhpcy5sZW5ndGh9LGNpLnByb3RvdHlwZS5wb3BGaXJzdD1mdW5jdGlvbih0KXtyZXR1cm4gdD12b2lkIDA9PT10PzE6dCx0aGlzLmNvbnN0cnVjdCh0aGlzLnNlZ21lbnRzLHRoaXMub2Zmc2V0K3QsdGhpcy5sZW5ndGgtdCl9LGNpLnByb3RvdHlwZS5wb3BMYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0KHRoaXMuc2VnbWVudHMsdGhpcy5vZmZzZXQsdGhpcy5sZW5ndGgtMSl9LGNpLnByb3RvdHlwZS5maXJzdFNlZ21lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWdtZW50c1t0aGlzLm9mZnNldF19LGNpLnByb3RvdHlwZS5sYXN0U2VnbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCh0aGlzLmxlbmd0aC0xKX0sY2kucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zZWdtZW50c1t0aGlzLm9mZnNldCt0XX0sY2kucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMubGVuZ3RofSxjaS5wcm90b3R5cGUuaXNQcmVmaXhPZj1mdW5jdGlvbih0KXtpZih0Lmxlbmd0aDx0aGlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPHRoaXMubGVuZ3RoO2UrKylpZih0aGlzLmdldChlKSE9PXQuZ2V0KGUpKXJldHVybiExO3JldHVybiEwfSxjaS5wcm90b3R5cGUuaXNJbW1lZGlhdGVQYXJlbnRPZj1mdW5jdGlvbih0KXtpZih0aGlzLmxlbmd0aCsxIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBlPTA7ZTx0aGlzLmxlbmd0aDtlKyspaWYodGhpcy5nZXQoZSkhPT10LmdldChlKSlyZXR1cm4hMTtyZXR1cm4hMH0sY2kucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMub2Zmc2V0LG49dGhpcy5saW1pdCgpO2U8bjtlKyspdCh0aGlzLnNlZ21lbnRzW2VdKX0sY2kucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWdtZW50cy5zbGljZSh0aGlzLm9mZnNldCx0aGlzLmxpbWl0KCkpfSxjaS5jb21wYXJhdG9yPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPU1hdGgubWluKHQubGVuZ3RoLGUubGVuZ3RoKSxyPTA7cjxuO3IrKyl7dmFyIGk9dC5nZXQociksbz1lLmdldChyKTtpZihpPG8pcmV0dXJuLTE7aWYobzxpKXJldHVybiAxfXJldHVybiB0Lmxlbmd0aDxlLmxlbmd0aD8tMTp0Lmxlbmd0aD5lLmxlbmd0aD8xOjB9LGNpKSx0aT0obih1aSxacj1TZSksdWkucHJvdG90eXBlLmNvbnN0cnVjdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyB1aSh0LGUsbil9LHVpLnByb3RvdHlwZS5jYW5vbmljYWxTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b0FycmF5KCkuam9pbihcIi9cIil9LHVpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpfSx1aS5mcm9tU3RyaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2Zvcih2YXIgbj1bXSxyPTAsaT10O3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2lmKDA8PW8uaW5kZXhPZihcIi8vXCIpKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBzZWdtZW50IChcIitvK1wiKS4gUGF0aHMgbXVzdCBub3QgY29udGFpbiAvLyBpbiB0aGVtLlwiKTtuLnB1c2guYXBwbHkobixvLnNwbGl0KFwiL1wiKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIDA8dC5sZW5ndGh9KSl9cmV0dXJuIG5ldyB1aShuKX0sdWkuZW1wdHlQYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB1aShbXSl9LHVpKSxlaT0vXltfYS16QS1aXVtfYS16QS1aMC05XSokLyxuaT0obihhaSwkcj1TZSksYWkucHJvdG90eXBlLmNvbnN0cnVjdD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBhaSh0LGUsbil9LGFpLmlzVmFsaWRJZGVudGlmaWVyPWZ1bmN0aW9uKHQpe3JldHVybiBlaS50ZXN0KHQpfSxhaS5wcm90b3R5cGUuY2Fub25pY2FsU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9BcnJheSgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdD10LnJlcGxhY2UoL1xcXFwvZyxcIlxcXFxcXFxcXCIpLnJlcGxhY2UoL2AvZyxcIlxcXFxgXCIpLHQ9IWFpLmlzVmFsaWRJZGVudGlmaWVyKHQpP1wiYFwiK3QrXCJgXCI6dH0pLmpvaW4oXCIuXCIpfSxhaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYW5vbmljYWxTdHJpbmcoKX0sYWkucHJvdG90eXBlLmlzS2V5RmllbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMubGVuZ3RoJiZcIl9fbmFtZV9fXCI9PT10aGlzLmdldCgwKX0sYWkua2V5RmllbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGFpKFtcIl9fbmFtZV9fXCJdKX0sYWkuZnJvbVNlcnZlckZvcm1hdD1mdW5jdGlvbih0KXtmb3IodmFyIGU9W10sbj1cIlwiLHI9MCxpPWZ1bmN0aW9uKCl7aWYoMD09PW4ubGVuZ3RoKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBmaWVsZCBwYXRoIChcIit0K1wiKS4gUGF0aHMgbXVzdCBub3QgYmUgZW1wdHksIGJlZ2luIHdpdGggJy4nLCBlbmQgd2l0aCAnLicsIG9yIGNvbnRhaW4gJy4uJ1wiKTtlLnB1c2gobiksbj1cIlwifSxvPSExO3I8dC5sZW5ndGg7KXt2YXIgcz10W3JdO2lmKFwiXFxcXFwiPT09cyl7aWYocisxPT09dC5sZW5ndGgpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJQYXRoIGhhcyB0cmFpbGluZyBlc2NhcGUgY2hhcmFjdGVyOiBcIit0KTt2YXIgYT10W3IrMV07aWYoXCJcXFxcXCIhPT1hJiZcIi5cIiE9PWEmJlwiYFwiIT09YSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIlBhdGggaGFzIGludmFsaWQgZXNjYXBlIHNlcXVlbmNlOiBcIit0KTtuKz1hLHIrPTJ9ZWxzZVwiYFwiPT09cz9vPSFvOlwiLlwiIT09c3x8bz9uKz1zOmkoKSxyKyt9aWYoaSgpLG8pdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJVbnRlcm1pbmF0ZWQgYCBpbiBwYXRoOiBcIit0KTtyZXR1cm4gbmV3IGFpKGUpfSxhaS5lbXB0eVBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGFpKFtdKX0sYWkpLHJpPShzaS5wcm90b3R5cGUuY292ZXJzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5maWVsZHM7ZTxuLmxlbmd0aDtlKyspaWYobltlXS5pc1ByZWZpeE9mKHQpKXJldHVybiEwO3JldHVybiExfSxzaS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gS3IodGhpcy5maWVsZHMsdC5maWVsZHMsZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pc0VxdWFsKGUpfSl9LHNpKSxpaT0ob2kuZnJvbUJhc2U2NFN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG9pKGF0b2IodCkpfSxvaS5mcm9tVWludDhBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG9pKGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1cIlwiLG49MDtuPHQubGVuZ3RoOysrbillKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHRbbl0pO3JldHVybiBlfSh0KSl9LG9pLnByb3RvdHlwZS50b0Jhc2U2ND1mdW5jdGlvbigpe3JldHVybiB0PXRoaXMuYmluYXJ5U3RyaW5nLGJ0b2EodCk7dmFyIHR9LG9pLnByb3RvdHlwZS50b1VpbnQ4QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPW5ldyBVaW50OEFycmF5KHQubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDtuKyspZVtuXT10LmNoYXJDb2RlQXQobik7cmV0dXJuIGV9KHRoaXMuYmluYXJ5U3RyaW5nKX0sb2kucHJvdG90eXBlLmFwcHJveGltYXRlQnl0ZVNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gMip0aGlzLmJpbmFyeVN0cmluZy5sZW5ndGh9LG9pLnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7cmV0dXJuIGpyKHRoaXMuYmluYXJ5U3RyaW5nLHQuYmluYXJ5U3RyaW5nKX0sb2kucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmluYXJ5U3RyaW5nPT09dC5iaW5hcnlTdHJpbmd9LG9pKTtmdW5jdGlvbiBvaSh0KXt0aGlzLmJpbmFyeVN0cmluZz10fWZ1bmN0aW9uIHNpKHQpeyh0aGlzLmZpZWxkcz10KS5zb3J0KG5pLmNvbXBhcmF0b3IpfWZ1bmN0aW9uIGFpKCl7cmV0dXJuIG51bGwhPT0kciYmJHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWZ1bmN0aW9uIHVpKCl7cmV0dXJuIG51bGwhPT1aciYmWnIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWZ1bmN0aW9uIGNpKHQsZSxuKXt2b2lkIDA9PT1lP2U9MDplPnQubGVuZ3RoJiZWcigpLHZvaWQgMD09PW4/bj10Lmxlbmd0aC1lOm4+dC5sZW5ndGgtZSYmVnIoKSx0aGlzLnNlZ21lbnRzPXQsdGhpcy5vZmZzZXQ9ZSx0aGlzLmxlbj1ufWlpLkVNUFRZX0JZVEVfU1RSSU5HPW5ldyBpaShcIlwiKTt2YXIgaGk9bmV3IFJlZ0V4cCgvXlxcZHs0fS1cXGRcXGQtXFxkXFxkVFxcZFxcZDpcXGRcXGQ6XFxkXFxkKD86XFwuKFxcZCspKT9aJC8pO2Z1bmN0aW9uIGxpKHQpe2lmKFVyKCEhdCksXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJue3NlY29uZHM6ZmkodC5zZWNvbmRzKSxuYW5vczpmaSh0Lm5hbm9zKX07dmFyIGU9MCxuPWhpLmV4ZWModCk7VXIoISFuKSxuWzFdJiYobj0oKG49blsxXSkrXCIwMDAwMDAwMDBcIikuc3Vic3RyKDAsOSksZT1OdW1iZXIobikpO3Q9bmV3IERhdGUodCk7cmV0dXJue3NlY29uZHM6TWF0aC5mbG9vcih0LmdldFRpbWUoKS8xZTMpLG5hbm9zOmV9fWZ1bmN0aW9uIGZpKHQpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6XCJzdHJpbmdcIj09dHlwZW9mIHQ/TnVtYmVyKHQpOjB9ZnVuY3Rpb24gZGkodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/aWkuZnJvbUJhc2U2NFN0cmluZyh0KTppaS5mcm9tVWludDhBcnJheSh0KX1mdW5jdGlvbiBwaSh0KXtyZXR1cm5cInNlcnZlcl90aW1lc3RhbXBcIj09PShudWxsPT09KHQ9KChudWxsPT09KHQ9bnVsbD09dD92b2lkIDA6dC5tYXBWYWx1ZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZmllbGRzKXx8e30pLl9fdHlwZV9fKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdHJpbmdWYWx1ZSl9ZnVuY3Rpb24geWkodCl7dD1saSh0Lm1hcFZhbHVlLmZpZWxkcy5fX2xvY2FsX3dyaXRlX3RpbWVfXy50aW1lc3RhbXBWYWx1ZSk7cmV0dXJuIG5ldyBRcih0LnNlY29uZHMsdC5uYW5vcyl9ZnVuY3Rpb24gZ2kodCl7cmV0dXJuIG51bGw9PXR9ZnVuY3Rpb24gbWkodCl7cmV0dXJuIDA9PT10JiYxL3Q9PS0xLzB9ZnVuY3Rpb24gdmkodCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJk51bWJlci5pc0ludGVnZXIodCkmJiFtaSh0KSYmdDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVImJnQ+PU51bWJlci5NSU5fU0FGRV9JTlRFR0VSfXZhciBiaT0od2kuZnJvbVBhdGg9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB3aSh0aS5mcm9tU3RyaW5nKHQpKX0sd2kuZnJvbU5hbWU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB3aSh0aS5mcm9tU3RyaW5nKHQpLnBvcEZpcnN0KDUpKX0sd2kucHJvdG90eXBlLmhhc0NvbGxlY3Rpb25JZD1mdW5jdGlvbih0KXtyZXR1cm4gMjw9dGhpcy5wYXRoLmxlbmd0aCYmdGhpcy5wYXRoLmdldCh0aGlzLnBhdGgubGVuZ3RoLTIpPT09dH0sd2kucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPT10JiYwPT09dGkuY29tcGFyYXRvcih0aGlzLnBhdGgsdC5wYXRoKX0sd2kucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0aC50b1N0cmluZygpfSx3aS5jb21wYXJhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRpLmNvbXBhcmF0b3IodC5wYXRoLGUucGF0aCl9LHdpLmlzRG9jdW1lbnRLZXk9ZnVuY3Rpb24odCl7cmV0dXJuIHQubGVuZ3RoJTI9PTB9LHdpLmZyb21TZWdtZW50cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHdpKG5ldyB0aSh0LnNsaWNlKCkpKX0sd2kpO2Z1bmN0aW9uIHdpKHQpe3RoaXMucGF0aD10fWZ1bmN0aW9uIEVpKHQpe3JldHVyblwibnVsbFZhbHVlXCJpbiB0PzA6XCJib29sZWFuVmFsdWVcImluIHQ/MTpcImludGVnZXJWYWx1ZVwiaW4gdHx8XCJkb3VibGVWYWx1ZVwiaW4gdD8yOlwidGltZXN0YW1wVmFsdWVcImluIHQ/MzpcInN0cmluZ1ZhbHVlXCJpbiB0PzU6XCJieXRlc1ZhbHVlXCJpbiB0PzY6XCJyZWZlcmVuY2VWYWx1ZVwiaW4gdD83OlwiZ2VvUG9pbnRWYWx1ZVwiaW4gdD84OlwiYXJyYXlWYWx1ZVwiaW4gdD85OlwibWFwVmFsdWVcImluIHQ/cGkodCk/NDoxMDpWcigpfWZ1bmN0aW9uIFRpKHIsaSl7dmFyIHQsZSxuPUVpKHIpO2lmKG4hPT1FaShpKSlyZXR1cm4hMTtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiEwO2Nhc2UgMTpyZXR1cm4gci5ib29sZWFuVmFsdWU9PT1pLmJvb2xlYW5WYWx1ZTtjYXNlIDQ6cmV0dXJuIHlpKHIpLmlzRXF1YWwoeWkoaSkpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIudGltZXN0YW1wVmFsdWUmJlwic3RyaW5nXCI9PXR5cGVvZiB0LnRpbWVzdGFtcFZhbHVlJiZyLnRpbWVzdGFtcFZhbHVlLmxlbmd0aD09PXQudGltZXN0YW1wVmFsdWUubGVuZ3RoKXJldHVybiByLnRpbWVzdGFtcFZhbHVlPT09dC50aW1lc3RhbXBWYWx1ZTt2YXIgZT1saShyLnRpbWVzdGFtcFZhbHVlKSx0PWxpKHQudGltZXN0YW1wVmFsdWUpO3JldHVybiBlLnNlY29uZHM9PT10LnNlY29uZHMmJmUubmFub3M9PT10Lm5hbm9zfShpKTtjYXNlIDU6cmV0dXJuIHIuc3RyaW5nVmFsdWU9PT1pLnN0cmluZ1ZhbHVlO2Nhc2UgNjpyZXR1cm4gZT1pLGRpKHIuYnl0ZXNWYWx1ZSkuaXNFcXVhbChkaShlLmJ5dGVzVmFsdWUpKTtjYXNlIDc6cmV0dXJuIHIucmVmZXJlbmNlVmFsdWU9PT1pLnJlZmVyZW5jZVZhbHVlO2Nhc2UgODpyZXR1cm4gdD1pLGZpKChlPXIpLmdlb1BvaW50VmFsdWUubGF0aXR1ZGUpPT09ZmkodC5nZW9Qb2ludFZhbHVlLmxhdGl0dWRlKSYmZmkoZS5nZW9Qb2ludFZhbHVlLmxvbmdpdHVkZSk9PT1maSh0Lmdlb1BvaW50VmFsdWUubG9uZ2l0dWRlKTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJpbnRlZ2VyVmFsdWVcImluIHQmJlwiaW50ZWdlclZhbHVlXCJpbiBlKXJldHVybiBmaSh0LmludGVnZXJWYWx1ZSk9PT1maShlLmludGVnZXJWYWx1ZSk7aWYoXCJkb3VibGVWYWx1ZVwiaW4gdCYmXCJkb3VibGVWYWx1ZVwiaW4gZSl7dD1maSh0LmRvdWJsZVZhbHVlKSxlPWZpKGUuZG91YmxlVmFsdWUpO3JldHVybiB0PT09ZT9taSh0KT09PW1pKGUpOmlzTmFOKHQpJiZpc05hTihlKX1yZXR1cm4hMX0ocixpKTtjYXNlIDk6cmV0dXJuIEtyKHIuYXJyYXlWYWx1ZS52YWx1ZXN8fFtdLGkuYXJyYXlWYWx1ZS52YWx1ZXN8fFtdLFRpKTtjYXNlIDEwOnJldHVybiBmdW5jdGlvbigpe3ZhciB0LGU9ci5tYXBWYWx1ZS5maWVsZHN8fHt9LG49aS5tYXBWYWx1ZS5maWVsZHN8fHt9O2lmKFlyKGUpIT09WXIobikpcmV0dXJuITE7Zm9yKHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpJiYodm9pZCAwPT09blt0XXx8IVRpKGVbdF0sblt0XSkpKXJldHVybiExO3JldHVybiEwfSgpO2RlZmF1bHQ6cmV0dXJuIFZyKCl9fWZ1bmN0aW9uIElpKHQsZSl7cmV0dXJuIHZvaWQgMCE9PSh0LnZhbHVlc3x8W10pLmZpbmQoZnVuY3Rpb24odCl7cmV0dXJuIFRpKHQsZSl9KX1mdW5jdGlvbiBfaSh0LGUpe3ZhciBuLHIsaSxvPUVpKHQpLHM9RWkoZSk7aWYobyE9PXMpcmV0dXJuIGpyKG8scyk7c3dpdGNoKG8pe2Nhc2UgMDpyZXR1cm4gMDtjYXNlIDE6cmV0dXJuIGpyKHQuYm9vbGVhblZhbHVlLGUuYm9vbGVhblZhbHVlKTtjYXNlIDI6cmV0dXJuIHI9ZSxpPWZpKHQuaW50ZWdlclZhbHVlfHx0LmRvdWJsZVZhbHVlKSxyPWZpKHIuaW50ZWdlclZhbHVlfHxyLmRvdWJsZVZhbHVlKSxpPHI/LTE6cjxpPzE6aT09PXI/MDppc05hTihpKT9pc05hTihyKT8wOi0xOjE7Y2FzZSAzOnJldHVybiBTaSh0LnRpbWVzdGFtcFZhbHVlLGUudGltZXN0YW1wVmFsdWUpO2Nhc2UgNDpyZXR1cm4gU2koeWkodCkseWkoZSkpO2Nhc2UgNTpyZXR1cm4ganIodC5zdHJpbmdWYWx1ZSxlLnN0cmluZ1ZhbHVlKTtjYXNlIDY6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dD1kaSh0KSxlPWRpKGUpO3JldHVybiB0LmNvbXBhcmVUbyhlKX0odC5ieXRlc1ZhbHVlLGUuYnl0ZXNWYWx1ZSk7Y2FzZSA3OnJldHVybiBmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10LnNwbGl0KFwiL1wiKSxyPWUuc3BsaXQoXCIvXCIpLGk9MDtpPG4ubGVuZ3RoJiZpPHIubGVuZ3RoO2krKyl7dmFyIG89anIobltpXSxyW2ldKTtpZigwIT09bylyZXR1cm4gb31yZXR1cm4ganIobi5sZW5ndGgsci5sZW5ndGgpfSh0LnJlZmVyZW5jZVZhbHVlLGUucmVmZXJlbmNlVmFsdWUpO2Nhc2UgODpyZXR1cm4gbj10Lmdlb1BvaW50VmFsdWUsaT1lLmdlb1BvaW50VmFsdWUsMCE9PShyPWpyKGZpKG4ubGF0aXR1ZGUpLGZpKGkubGF0aXR1ZGUpKSk/cjpqcihmaShuLmxvbmdpdHVkZSksZmkoaS5sb25naXR1ZGUpKTtjYXNlIDk6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQudmFsdWVzfHxbXSxyPWUudmFsdWVzfHxbXSxpPTA7aTxuLmxlbmd0aCYmaTxyLmxlbmd0aDsrK2kpe3ZhciBvPV9pKG5baV0scltpXSk7aWYobylyZXR1cm4gb31yZXR1cm4ganIobi5sZW5ndGgsci5sZW5ndGgpfSh0LmFycmF5VmFsdWUsZS5hcnJheVZhbHVlKTtjYXNlIDEwOnJldHVybiBmdW5jdGlvbih0LGUpe3ZhciBuPXQuZmllbGRzfHx7fSxyPU9iamVjdC5rZXlzKG4pLGk9ZS5maWVsZHN8fHt9LG89T2JqZWN0LmtleXMoaSk7ci5zb3J0KCksby5zb3J0KCk7Zm9yKHZhciBzPTA7czxyLmxlbmd0aCYmczxvLmxlbmd0aDsrK3Mpe3ZhciBhPWpyKHJbc10sb1tzXSk7aWYoMCE9PWEpcmV0dXJuIGE7YT1faShuW3Jbc11dLGlbb1tzXV0pO2lmKDAhPT1hKXJldHVybiBhfXJldHVybiBqcihyLmxlbmd0aCxvLmxlbmd0aCl9KHQubWFwVmFsdWUsZS5tYXBWYWx1ZSk7ZGVmYXVsdDp0aHJvdyBWcigpfX1mdW5jdGlvbiBTaSh0LGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0JiZcInN0cmluZ1wiPT10eXBlb2YgZSYmdC5sZW5ndGg9PT1lLmxlbmd0aClyZXR1cm4ganIodCxlKTt2YXIgbj1saSh0KSx0PWxpKGUpLGU9anIobi5zZWNvbmRzLHQuc2Vjb25kcyk7cmV0dXJuIDAhPT1lP2U6anIobi5uYW5vcyx0Lm5hbm9zKX1mdW5jdGlvbiBBaSh0KXtyZXR1cm4gZnVuY3Rpb24gcyh0KXtyZXR1cm5cIm51bGxWYWx1ZVwiaW4gdD9cIm51bGxcIjpcImJvb2xlYW5WYWx1ZVwiaW4gdD9cIlwiK3QuYm9vbGVhblZhbHVlOlwiaW50ZWdlclZhbHVlXCJpbiB0P1wiXCIrdC5pbnRlZ2VyVmFsdWU6XCJkb3VibGVWYWx1ZVwiaW4gdD9cIlwiK3QuZG91YmxlVmFsdWU6XCJ0aW1lc3RhbXBWYWx1ZVwiaW4gdD9mdW5jdGlvbih0KXt2YXIgdD1saSh0KTtyZXR1cm5cInRpbWUoXCIrdC5zZWNvbmRzK1wiLFwiK3QubmFub3MrXCIpXCJ9KHQudGltZXN0YW1wVmFsdWUpOlwic3RyaW5nVmFsdWVcImluIHQ/dC5zdHJpbmdWYWx1ZTpcImJ5dGVzVmFsdWVcImluIHQ/ZGkodC5ieXRlc1ZhbHVlKS50b0Jhc2U2NCgpOlwicmVmZXJlbmNlVmFsdWVcImluIHQ/KGU9dC5yZWZlcmVuY2VWYWx1ZSxiaS5mcm9tTmFtZShlKS50b1N0cmluZygpKTpcImdlb1BvaW50VmFsdWVcImluIHQ/XCJnZW8oXCIrKGU9dC5nZW9Qb2ludFZhbHVlKS5sYXRpdHVkZStcIixcIitlLmxvbmdpdHVkZStcIilcIjpcImFycmF5VmFsdWVcImluIHQ/ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwiW1wiLG49ITAscj0wLGk9dC52YWx1ZXN8fFtdO3I8aS5sZW5ndGg7cisrKW4/bj0hMTplKz1cIixcIixlKz1zKGlbcl0pO3JldHVybiBlK1wiXVwifSh0LmFycmF5VmFsdWUpOlwibWFwVmFsdWVcImluIHQ/ZnVuY3Rpb24odCl7Zm9yKHZhciBlPVwie1wiLG49ITAscj0wLGk9T2JqZWN0LmtleXModC5maWVsZHN8fHt9KS5zb3J0KCk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07bj9uPSExOmUrPVwiLFwiLGUrPW8rXCI6XCIrcyh0LmZpZWxkc1tvXSl9cmV0dXJuIGUrXCJ9XCJ9KHQubWFwVmFsdWUpOlZyKCk7dmFyIGV9KHQpfWZ1bmN0aW9uIE5pKHQsZSl7cmV0dXJue3JlZmVyZW5jZVZhbHVlOlwicHJvamVjdHMvXCIrdC5wcm9qZWN0SWQrXCIvZGF0YWJhc2VzL1wiK3QuZGF0YWJhc2UrXCIvZG9jdW1lbnRzL1wiK2UucGF0aC5jYW5vbmljYWxTdHJpbmcoKX19ZnVuY3Rpb24gRGkodCl7cmV0dXJuIHQmJlwiaW50ZWdlclZhbHVlXCJpbiB0fWZ1bmN0aW9uIENpKHQpe3JldHVybiEhdCYmXCJhcnJheVZhbHVlXCJpbiB0fWZ1bmN0aW9uIGtpKHQpe3JldHVybiB0JiZcIm51bGxWYWx1ZVwiaW4gdH1mdW5jdGlvbiBSaSh0KXtyZXR1cm4gdCYmXCJkb3VibGVWYWx1ZVwiaW4gdCYmaXNOYU4oTnVtYmVyKHQuZG91YmxlVmFsdWUpKX1mdW5jdGlvbiB4aSh0KXtyZXR1cm4gdCYmXCJtYXBWYWx1ZVwiaW4gdH12YXIgT2k9KExpLmVtcHR5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMaSh7bWFwVmFsdWU6e319KX0sTGkucHJvdG90eXBlLmZpZWxkPWZ1bmN0aW9uKHQpe3JldHVybiBMaS5leHRyYWN0TmVzdGVkVmFsdWUodGhpcy5idWlsZFByb3RvKCksdCl9LExpLnByb3RvdHlwZS50b1Byb3RvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmllbGQobmkuZW1wdHlQYXRoKCkpfSxMaS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dGhpcy5zZXRPdmVybGF5KHQsZSl9LExpLnByb3RvdHlwZS5zZXRBbGw9ZnVuY3Rpb24odCl7dmFyIG49dGhpczt0LmZvckVhY2goZnVuY3Rpb24odCxlKXt0P24uc2V0KGUsdCk6bi5kZWxldGUoZSl9KX0sTGkucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0aGlzLnNldE92ZXJsYXkodCxudWxsKX0sTGkucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIFRpKHRoaXMuYnVpbGRQcm90bygpLHQuYnVpbGRQcm90bygpKX0sTGkucHJvdG90eXBlLnNldE92ZXJsYXk9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dGhpcy5vdmVybGF5TWFwLHI9MDtyPHQubGVuZ3RoLTE7KytyKXZhciBpPXQuZ2V0KHIpLG89bi5nZXQoaSksbj0obyBpbnN0YW5jZW9mIE1hcHx8KG89byYmMTA9PT1FaShvKT9uZXcgTWFwKE9iamVjdC5lbnRyaWVzKG8ubWFwVmFsdWUuZmllbGRzfHx7fSkpOm5ldyBNYXAsbi5zZXQoaSxvKSksbyk7bi5zZXQodC5sYXN0U2VnbWVudCgpLGUpfSxMaS5wcm90b3R5cGUuYXBwbHlPdmVybGF5PWZ1bmN0aW9uKHIsdCl7dmFyIGk9dGhpcyxvPSExLGU9TGkuZXh0cmFjdE5lc3RlZFZhbHVlKHRoaXMucGFydGlhbFZhbHVlLHIpLHM9eGkoZSk/T2JqZWN0LmFzc2lnbih7fSxlLm1hcFZhbHVlLmZpZWxkcyk6e307cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuO3QgaW5zdGFuY2VvZiBNYXA/bnVsbCE9KG49aS5hcHBseU92ZXJsYXkoci5jaGlsZChlKSx0KSkmJihzW2VdPW4sbz0hMCk6bnVsbCE9PXQ/KHNbZV09dCxvPSEwKTpzLmhhc093blByb3BlcnR5KGUpJiYoZGVsZXRlIHNbZV0sbz0hMCl9KSxvP3ttYXBWYWx1ZTp7ZmllbGRzOnN9fTpudWxsfSxMaS5wcm90b3R5cGUuYnVpbGRQcm90bz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYXBwbHlPdmVybGF5KG5pLmVtcHR5UGF0aCgpLHRoaXMub3ZlcmxheU1hcCk7cmV0dXJuIG51bGwhPXQmJih0aGlzLnBhcnRpYWxWYWx1ZT10LHRoaXMub3ZlcmxheU1hcC5jbGVhcigpKSx0aGlzLnBhcnRpYWxWYWx1ZX0sTGkuZXh0cmFjdE5lc3RlZFZhbHVlPWZ1bmN0aW9uKHQsZSl7aWYoZS5pc0VtcHR5KCkpcmV0dXJuIHQ7Zm9yKHZhciBuPXQscj0wO3I8ZS5sZW5ndGgtMTsrK3Ipe2lmKCFuLm1hcFZhbHVlLmZpZWxkcylyZXR1cm4gbnVsbDtpZigheGkobj1uLm1hcFZhbHVlLmZpZWxkc1tlLmdldChyKV0pKXJldHVybiBudWxsfXJldHVybihuPShuLm1hcFZhbHVlLmZpZWxkc3x8e30pW2UubGFzdFNlZ21lbnQoKV0pfHxudWxsfSxMaS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IExpKHRoaXMuYnVpbGRQcm90bygpKX0sTGkpO2Z1bmN0aW9uIExpKHQpe3RoaXMub3ZlcmxheU1hcD1uZXcgTWFwLHRoaXMucGFydGlhbFZhbHVlPXR9dmFyIFBpPShGaS5uZXdJbnZhbGlkRG9jdW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGaSh0LDAsenIubWluKCksT2kuZW1wdHkoKSwwKX0sRmkubmV3Rm91bmREb2N1bWVudD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyBGaSh0LDEsZSxuLDApfSxGaS5uZXdOb0RvY3VtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBGaSh0LDIsZSxPaS5lbXB0eSgpLDApfSxGaS5uZXdVbmtub3duRG9jdW1lbnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IEZpKHQsMyxlLE9pLmVtcHR5KCksMil9LEZpLnByb3RvdHlwZS5jb252ZXJ0VG9Gb3VuZERvY3VtZW50PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudmVyc2lvbj10LHRoaXMuZG9jdW1lbnRUeXBlPTEsdGhpcy5kYXRhPWUsdGhpcy5kb2N1bWVudFN0YXRlPTAsdGhpc30sRmkucHJvdG90eXBlLmNvbnZlcnRUb05vRG9jdW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmVyc2lvbj10LHRoaXMuZG9jdW1lbnRUeXBlPTIsdGhpcy5kYXRhPU9pLmVtcHR5KCksdGhpcy5kb2N1bWVudFN0YXRlPTAsdGhpc30sRmkucHJvdG90eXBlLmNvbnZlcnRUb1Vua25vd25Eb2N1bWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52ZXJzaW9uPXQsdGhpcy5kb2N1bWVudFR5cGU9Myx0aGlzLmRhdGE9T2kuZW1wdHkoKSx0aGlzLmRvY3VtZW50U3RhdGU9Mix0aGlzfSxGaS5wcm90b3R5cGUuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZT0yLHRoaXN9LEZpLnByb3RvdHlwZS5zZXRIYXNMb2NhbE11dGF0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRvY3VtZW50U3RhdGU9MSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRmkucHJvdG90eXBlLFwiaGFzTG9jYWxNdXRhdGlvbnNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmRvY3VtZW50U3RhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpLnByb3RvdHlwZSxcImhhc0NvbW1pdHRlZE11dGF0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXRoaXMuZG9jdW1lbnRTdGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRmkucHJvdG90eXBlLFwiaGFzUGVuZGluZ1dyaXRlc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNMb2NhbE11dGF0aW9uc3x8dGhpcy5oYXNDb21taXR0ZWRNdXRhdGlvbnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRmkucHJvdG90eXBlLmlzVmFsaWREb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiAwIT09dGhpcy5kb2N1bWVudFR5cGV9LEZpLnByb3RvdHlwZS5pc0ZvdW5kRG9jdW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMT09PXRoaXMuZG9jdW1lbnRUeXBlfSxGaS5wcm90b3R5cGUuaXNOb0RvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIDI9PT10aGlzLmRvY3VtZW50VHlwZX0sRmkucHJvdG90eXBlLmlzVW5rbm93bkRvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIDM9PT10aGlzLmRvY3VtZW50VHlwZX0sRmkucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGaSYmdGhpcy5rZXkuaXNFcXVhbCh0LmtleSkmJnRoaXMudmVyc2lvbi5pc0VxdWFsKHQudmVyc2lvbikmJnRoaXMuZG9jdW1lbnRUeXBlPT09dC5kb2N1bWVudFR5cGUmJnRoaXMuZG9jdW1lbnRTdGF0ZT09PXQuZG9jdW1lbnRTdGF0ZSYmdGhpcy5kYXRhLmlzRXF1YWwodC5kYXRhKX0sRmkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGaSh0aGlzLmtleSx0aGlzLmRvY3VtZW50VHlwZSx0aGlzLnZlcnNpb24sdGhpcy5kYXRhLmNsb25lKCksdGhpcy5kb2N1bWVudFN0YXRlKX0sRmkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJEb2N1bWVudChcIit0aGlzLmtleStcIiwgXCIrdGhpcy52ZXJzaW9uK1wiLCBcIitKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEudG9Qcm90bygpKStcIiwge2RvY3VtZW50VHlwZTogXCIrdGhpcy5kb2N1bWVudFR5cGUrXCJ9KSwge2RvY3VtZW50U3RhdGU6IFwiK3RoaXMuZG9jdW1lbnRTdGF0ZStcIn0pXCJ9LEZpKSxNaT1mdW5jdGlvbih0LGUsbixyLGksbyxzKXt2b2lkIDA9PT1lJiYoZT1udWxsKSx2b2lkIDA9PT1uJiYobj1bXSksdm9pZCAwPT09ciYmKHI9W10pLHZvaWQgMD09PWkmJihpPW51bGwpLHZvaWQgMD09PW8mJihvPW51bGwpLHZvaWQgMD09PXMmJihzPW51bGwpLHRoaXMucGF0aD10LHRoaXMuY29sbGVjdGlvbkdyb3VwPWUsdGhpcy5vcmRlckJ5PW4sdGhpcy5maWx0ZXJzPXIsdGhpcy5saW1pdD1pLHRoaXMuc3RhcnRBdD1vLHRoaXMuZW5kQXQ9cyx0aGlzLmg9bnVsbH07ZnVuY3Rpb24gRmkodCxlLG4scixpKXt0aGlzLmtleT10LHRoaXMuZG9jdW1lbnRUeXBlPWUsdGhpcy52ZXJzaW9uPW4sdGhpcy5kYXRhPXIsdGhpcy5kb2N1bWVudFN0YXRlPWl9ZnVuY3Rpb24gVmkodCxlLG4scixpLG8scyl7cmV0dXJuIG5ldyBNaSh0LGU9dm9pZCAwPT09ZT9udWxsOmUsbj12b2lkIDA9PT1uP1tdOm4scj12b2lkIDA9PT1yP1tdOnIsaT12b2lkIDA9PT1pP251bGw6aSxvPXZvaWQgMD09PW8/bnVsbDpvLHM9dm9pZCAwPT09cz9udWxsOnMpfWZ1bmN0aW9uIFVpKHQpe3ZhciBlPXQ7cmV0dXJuIG51bGw9PT1lLmgmJih0PWUucGF0aC5jYW5vbmljYWxTdHJpbmcoKSxudWxsIT09ZS5jb2xsZWN0aW9uR3JvdXAmJih0Kz1cInxjZzpcIitlLmNvbGxlY3Rpb25Hcm91cCksdCs9XCJ8ZjpcIix0Kz1lLmZpbHRlcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybih0PXQpLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpK3Qub3AudG9TdHJpbmcoKStBaSh0LnZhbHVlKX0pLmpvaW4oXCIsXCIpLHQrPVwifG9iOlwiLHQrPWUub3JkZXJCeS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuKHQ9dCkuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrdC5kaXJ9KS5qb2luKFwiLFwiKSxnaShlLmxpbWl0KXx8KHQrPVwifGw6XCIsdCs9ZS5saW1pdCksZS5zdGFydEF0JiYodCs9XCJ8bGI6XCIsdCs9eW8oZS5zdGFydEF0KSksZS5lbmRBdCYmKHQrPVwifHViOlwiLHQrPXlvKGUuZW5kQXQpKSxlLmg9dCksZS5ofWZ1bmN0aW9uIHFpKHQsZSl7aWYodC5saW1pdCE9PWUubGltaXQpcmV0dXJuITE7aWYodC5vcmRlckJ5Lmxlbmd0aCE9PWUub3JkZXJCeS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuLHIsaT0wO2k8dC5vcmRlckJ5Lmxlbmd0aDtpKyspaWYobj10Lm9yZGVyQnlbaV0scj1lLm9yZGVyQnlbaV0sbi5kaXIhPT1yLmRpcnx8IW4uZmllbGQuaXNFcXVhbChyLmZpZWxkKSlyZXR1cm4hMTtpZih0LmZpbHRlcnMubGVuZ3RoIT09ZS5maWx0ZXJzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIG8scyxhPTA7YTx0LmZpbHRlcnMubGVuZ3RoO2ErKylpZihvPXQuZmlsdGVyc1thXSxzPWUuZmlsdGVyc1thXSxvLm9wIT09cy5vcHx8IW8uZmllbGQuaXNFcXVhbChzLmZpZWxkKXx8IVRpKG8udmFsdWUscy52YWx1ZSkpcmV0dXJuITE7cmV0dXJuIHQuY29sbGVjdGlvbkdyb3VwPT09ZS5jb2xsZWN0aW9uR3JvdXAmJiEhdC5wYXRoLmlzRXF1YWwoZS5wYXRoKSYmISF2byh0LnN0YXJ0QXQsZS5zdGFydEF0KSYmdm8odC5lbmRBdCxlLmVuZEF0KX1mdW5jdGlvbiBCaSh0KXtyZXR1cm4gYmkuaXNEb2N1bWVudEtleSh0LnBhdGgpJiZudWxsPT09dC5jb2xsZWN0aW9uR3JvdXAmJjA9PT10LmZpbHRlcnMubGVuZ3RofXZhciBqaSxLaT0obihHaSxqaT1mdW5jdGlvbigpe30pLEdpLmNyZWF0ZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQuaXNLZXlGaWVsZCgpP1wiaW5cIj09PWV8fFwibm90LWluXCI9PT1lP3RoaXMubCh0LGUsbik6bmV3IFdpKHQsZSxuKTpcImFycmF5LWNvbnRhaW5zXCI9PT1lP25ldyBvbyh0LG4pOlwiaW5cIj09PWU/bmV3IHNvKHQsbik6XCJub3QtaW5cIj09PWU/bmV3IGFvKHQsbik6XCJhcnJheS1jb250YWlucy1hbnlcIj09PWU/bmV3IHVvKHQsbik6bmV3IEdpKHQsZSxuKX0sR2kubD1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG5ldyhcImluXCI9PT1lP1lpOlhpKSh0LG4pfSxHaS5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbih0KXt0PXQuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtyZXR1cm5cIiE9XCI9PT10aGlzLm9wP251bGwhPT10JiZ0aGlzLm0oX2kodCx0aGlzLnZhbHVlKSk6bnVsbCE9PXQmJkVpKHRoaXMudmFsdWUpPT09RWkodCkmJnRoaXMubShfaSh0LHRoaXMudmFsdWUpKX0sR2kucHJvdG90eXBlLm09ZnVuY3Rpb24odCl7c3dpdGNoKHRoaXMub3Ape2Nhc2VcIjxcIjpyZXR1cm4gdDwwO2Nhc2VcIjw9XCI6cmV0dXJuIHQ8PTA7Y2FzZVwiPT1cIjpyZXR1cm4gMD09PXQ7Y2FzZVwiIT1cIjpyZXR1cm4gMCE9PXQ7Y2FzZVwiPlwiOnJldHVybiAwPHQ7Y2FzZVwiPj1cIjpyZXR1cm4gMDw9dDtkZWZhdWx0OnJldHVybiBWcigpfX0sR2kucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXtyZXR1cm4gMDw9W1wiPFwiLFwiPD1cIixcIj5cIixcIj49XCIsXCIhPVwiLFwibm90LWluXCJdLmluZGV4T2YodGhpcy5vcCl9LEdpKTtmdW5jdGlvbiBHaSh0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj1qaS5jYWxsKHRoaXMpfHx0aGlzKS5maWVsZD10LHIub3A9ZSxyLnZhbHVlPW4scn12YXIgUWksemksSGksV2k9KG4oWmksSGk9S2kpLFppLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKHQpe3Q9YmkuY29tcGFyYXRvcih0LmtleSx0aGlzLmtleSk7cmV0dXJuIHRoaXMubSh0KX0sWmkpLFlpPShuKCRpLHppPUtpKSwkaS5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5rZXlzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNFcXVhbChlLmtleSl9KX0sJGkpLFhpPShuKEppLFFpPUtpKSxKaS5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5rZXlzLnNvbWUoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNFcXVhbChlLmtleSl9KX0sSmkpO2Z1bmN0aW9uIEppKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1RaS5jYWxsKHRoaXMsdCxcIm5vdC1pblwiLGUpfHx0aGlzKS5rZXlzPXRvKDAsZSksbn1mdW5jdGlvbiAkaSh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49emkuY2FsbCh0aGlzLHQsXCJpblwiLGUpfHx0aGlzKS5rZXlzPXRvKDAsZSksbn1mdW5jdGlvbiBaaSh0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj1IaS5jYWxsKHRoaXMsdCxlLG4pfHx0aGlzKS5rZXk9YmkuZnJvbU5hbWUobi5yZWZlcmVuY2VWYWx1ZSkscn1mdW5jdGlvbiB0byh0LGUpe3JldHVybigobnVsbD09PShlPWUuYXJyYXlWYWx1ZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUudmFsdWVzKXx8W10pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gYmkuZnJvbU5hbWUodC5yZWZlcmVuY2VWYWx1ZSl9KX12YXIgZW8sbm8scm8saW8sb289KG4ocG8saW89S2kpLHBvLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKHQpe3Q9dC5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiBDaSh0KSYmSWkodC5hcnJheVZhbHVlLHRoaXMudmFsdWUpfSxwbyksc289KG4oZm8scm89S2kpLGZvLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKHQpe3Q9dC5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO3JldHVybiBudWxsIT09dCYmSWkodGhpcy52YWx1ZS5hcnJheVZhbHVlLHQpfSxmbyksYW89KG4obG8sbm89S2kpLGxvLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKHQpe2lmKElpKHRoaXMudmFsdWUuYXJyYXlWYWx1ZSx7bnVsbFZhbHVlOlwiTlVMTF9WQUxVRVwifSkpcmV0dXJuITE7dD10LmRhdGEuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuIG51bGwhPT10JiYhSWkodGhpcy52YWx1ZS5hcnJheVZhbHVlLHQpfSxsbyksdW89KG4oaG8sZW89S2kpLGhvLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsdD10LmRhdGEuZmllbGQodGhpcy5maWVsZCk7cmV0dXJuISghQ2kodCl8fCF0LmFycmF5VmFsdWUudmFsdWVzKSYmdC5hcnJheVZhbHVlLnZhbHVlcy5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBJaShlLnZhbHVlLmFycmF5VmFsdWUsdCl9KX0saG8pLGNvPWZ1bmN0aW9uKHQsZSl7dGhpcy5wb3NpdGlvbj10LHRoaXMuYmVmb3JlPWV9O2Z1bmN0aW9uIGhvKHQsZSl7cmV0dXJuIGVvLmNhbGwodGhpcyx0LFwiYXJyYXktY29udGFpbnMtYW55XCIsZSl8fHRoaXN9ZnVuY3Rpb24gbG8odCxlKXtyZXR1cm4gbm8uY2FsbCh0aGlzLHQsXCJub3QtaW5cIixlKXx8dGhpc31mdW5jdGlvbiBmbyh0LGUpe3JldHVybiByby5jYWxsKHRoaXMsdCxcImluXCIsZSl8fHRoaXN9ZnVuY3Rpb24gcG8odCxlKXtyZXR1cm4gaW8uY2FsbCh0aGlzLHQsXCJhcnJheS1jb250YWluc1wiLGUpfHx0aGlzfWZ1bmN0aW9uIHlvKHQpe3JldHVybih0LmJlZm9yZT9cImJcIjpcImFcIikrXCI6XCIrdC5wb3NpdGlvbi5tYXAoQWkpLmpvaW4oXCIsXCIpfXZhciBnbz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPVwiYXNjXCIpLHRoaXMuZmllbGQ9dCx0aGlzLmRpcj1lfTtmdW5jdGlvbiBtbyh0LGUsbil7Zm9yKHZhciByPTAsaT0wO2k8dC5wb3NpdGlvbi5sZW5ndGg7aSsrKXt2YXIgbz1lW2ldLHM9dC5wb3NpdGlvbltpXSxyPW8uZmllbGQuaXNLZXlGaWVsZCgpP2JpLmNvbXBhcmF0b3IoYmkuZnJvbU5hbWUocy5yZWZlcmVuY2VWYWx1ZSksbi5rZXkpOl9pKHMsbi5kYXRhLmZpZWxkKG8uZmllbGQpKTtpZihcImRlc2NcIj09PW8uZGlyJiYocio9LTEpLDAhPT1yKWJyZWFrfXJldHVybiB0LmJlZm9yZT9yPD0wOnI8MH1mdW5jdGlvbiB2byh0LGUpe2lmKG51bGw9PT10KXJldHVybiBudWxsPT09ZTtpZihudWxsPT09ZSlyZXR1cm4hMTtpZih0LmJlZm9yZSE9PWUuYmVmb3JlfHx0LnBvc2l0aW9uLmxlbmd0aCE9PWUucG9zaXRpb24ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj0wO248dC5wb3NpdGlvbi5sZW5ndGg7bisrKWlmKCFUaSh0LnBvc2l0aW9uW25dLGUucG9zaXRpb25bbl0pKXJldHVybiExO3JldHVybiEwfXZhciBibz1mdW5jdGlvbih0LGUsbixyLGksbyxzLGEpe3ZvaWQgMD09PWUmJihlPW51bGwpLHZvaWQgMD09PW4mJihuPVtdKSx2b2lkIDA9PT1yJiYocj1bXSksdm9pZCAwPT09aSYmKGk9bnVsbCksdm9pZCAwPT09byYmKG89XCJGXCIpLHZvaWQgMD09PXMmJihzPW51bGwpLHZvaWQgMD09PWEmJihhPW51bGwpLHRoaXMucGF0aD10LHRoaXMuY29sbGVjdGlvbkdyb3VwPWUsdGhpcy5leHBsaWNpdE9yZGVyQnk9bix0aGlzLmZpbHRlcnM9cix0aGlzLmxpbWl0PWksdGhpcy5saW1pdFR5cGU9byx0aGlzLnN0YXJ0QXQ9cyx0aGlzLmVuZEF0PWEsdGhpcy5wPW51bGwsdGhpcy5UPW51bGwsdGhpcy5zdGFydEF0LHRoaXMuZW5kQXR9O2Z1bmN0aW9uIHdvKHQsZSxuLHIsaSxvLHMsYSl7cmV0dXJuIG5ldyBibyh0LGUsbixyLGksbyxzLGEpfWZ1bmN0aW9uIEVvKHQpe3JldHVybiBuZXcgYm8odCl9ZnVuY3Rpb24gVG8odCl7cmV0dXJuIWdpKHQubGltaXQpJiZcIkZcIj09PXQubGltaXRUeXBlfWZ1bmN0aW9uIElvKHQpe3JldHVybiFnaSh0LmxpbWl0KSYmXCJMXCI9PT10LmxpbWl0VHlwZX1mdW5jdGlvbiBfbyh0KXtyZXR1cm4gMDx0LmV4cGxpY2l0T3JkZXJCeS5sZW5ndGg/dC5leHBsaWNpdE9yZGVyQnlbMF0uZmllbGQ6bnVsbH1mdW5jdGlvbiBTbyh0KXtmb3IodmFyIGU9MCxuPXQuZmlsdGVycztlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtpZihyLmcoKSlyZXR1cm4gci5maWVsZH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBBbyh0KXtyZXR1cm4gbnVsbCE9PXQuY29sbGVjdGlvbkdyb3VwfWZ1bmN0aW9uIE5vKHQpe3ZhciBlPXQ7aWYobnVsbD09PWUucCl7ZS5wPVtdO3ZhciBuPVNvKGUpLHQ9X28oZSk7aWYobnVsbCE9PW4mJm51bGw9PT10KW4uaXNLZXlGaWVsZCgpfHxlLnAucHVzaChuZXcgZ28obikpLGUucC5wdXNoKG5ldyBnbyhuaS5rZXlGaWVsZCgpLFwiYXNjXCIpKTtlbHNle2Zvcih2YXIgcj0hMSxpPTAsbz1lLmV4cGxpY2l0T3JkZXJCeTtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXTtlLnAucHVzaChzKSxzLmZpZWxkLmlzS2V5RmllbGQoKSYmKHI9ITApfXJ8fChuPTA8ZS5leHBsaWNpdE9yZGVyQnkubGVuZ3RoP2UuZXhwbGljaXRPcmRlckJ5W2UuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aC0xXS5kaXI6XCJhc2NcIixlLnAucHVzaChuZXcgZ28obmkua2V5RmllbGQoKSxuKSkpfX1yZXR1cm4gZS5wfWZ1bmN0aW9uIERvKHQpe3ZhciBlPXQ7aWYoIWUuVClpZihcIkZcIj09PWUubGltaXRUeXBlKWUuVD1WaShlLnBhdGgsZS5jb2xsZWN0aW9uR3JvdXAsTm8oZSksZS5maWx0ZXJzLGUubGltaXQsZS5zdGFydEF0LGUuZW5kQXQpO2Vsc2V7Zm9yKHZhciBuPVtdLHI9MCxpPU5vKGUpO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdLHM9XCJkZXNjXCI9PT1vLmRpcj9cImFzY1wiOlwiZGVzY1wiO24ucHVzaChuZXcgZ28oby5maWVsZCxzKSl9dmFyIGE9ZS5lbmRBdD9uZXcgY28oZS5lbmRBdC5wb3NpdGlvbiwhZS5lbmRBdC5iZWZvcmUpOm51bGwsdD1lLnN0YXJ0QXQ/bmV3IGNvKGUuc3RhcnRBdC5wb3NpdGlvbiwhZS5zdGFydEF0LmJlZm9yZSk6bnVsbDtlLlQ9VmkoZS5wYXRoLGUuY29sbGVjdGlvbkdyb3VwLG4sZS5maWx0ZXJzLGUubGltaXQsYSx0KX1yZXR1cm4gZS5UfWZ1bmN0aW9uIENvKHQsZSxuKXtyZXR1cm4gbmV3IGJvKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCx0LmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLHQuZmlsdGVycy5zbGljZSgpLGUsbix0LnN0YXJ0QXQsdC5lbmRBdCl9ZnVuY3Rpb24ga28odCxlKXtyZXR1cm4gcWkoRG8odCksRG8oZSkpJiZ0LmxpbWl0VHlwZT09PWUubGltaXRUeXBlfWZ1bmN0aW9uIFJvKHQpe3JldHVybiBVaShEbyh0KSkrXCJ8bHQ6XCIrdC5saW1pdFR5cGV9ZnVuY3Rpb24geG8odCl7cmV0dXJuXCJRdWVyeSh0YXJnZXQ9XCIrKGU9RG8odCksbj1lLnBhdGguY2Fub25pY2FsU3RyaW5nKCksbnVsbCE9PWUuY29sbGVjdGlvbkdyb3VwJiYobis9XCIgY29sbGVjdGlvbkdyb3VwPVwiK2UuY29sbGVjdGlvbkdyb3VwKSwwPGUuZmlsdGVycy5sZW5ndGgmJihuKz1cIiwgZmlsdGVyczogW1wiK2UuZmlsdGVycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuKHQ9dCkuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkrXCIgXCIrdC5vcCtcIiBcIitBaSh0LnZhbHVlKX0pLmpvaW4oXCIsIFwiKStcIl1cIiksZ2koZS5saW1pdCl8fChuKz1cIiwgbGltaXQ6IFwiK2UubGltaXQpLDA8ZS5vcmRlckJ5Lmxlbmd0aCYmKG4rPVwiLCBvcmRlckJ5OiBbXCIrZS5vcmRlckJ5Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4odD10KS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKStcIiAoXCIrdC5kaXIrXCIpXCJ9KS5qb2luKFwiLCBcIikrXCJdXCIpLGUuc3RhcnRBdCYmKG4rPVwiLCBzdGFydEF0OiBcIit5byhlLnN0YXJ0QXQpKSxlLmVuZEF0JiYobis9XCIsIGVuZEF0OiBcIit5byhlLmVuZEF0KSksXCJUYXJnZXQoXCIrbitcIilcIikrXCI7IGxpbWl0VHlwZT1cIit0LmxpbWl0VHlwZStcIilcIjt2YXIgZSxufWZ1bmN0aW9uIE9vKGksdCl7cmV0dXJuIHQuaXNGb3VuZERvY3VtZW50KCkmJihlPWksbj10LmtleS5wYXRoLG51bGwhPT1lLmNvbGxlY3Rpb25Hcm91cD90LmtleS5oYXNDb2xsZWN0aW9uSWQoZS5jb2xsZWN0aW9uR3JvdXApJiZlLnBhdGguaXNQcmVmaXhPZihuKTpiaS5pc0RvY3VtZW50S2V5KGUucGF0aCk/ZS5wYXRoLmlzRXF1YWwobik6ZS5wYXRoLmlzSW1tZWRpYXRlUGFyZW50T2YobikpJiZmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPWkuZXhwbGljaXRPcmRlckJ5O2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO2lmKCFyLmZpZWxkLmlzS2V5RmllbGQoKSYmbnVsbD09PXQuZGF0YS5maWVsZChyLmZpZWxkKSlyZXR1cm59cmV0dXJuIDF9KHQpJiZmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPWkuZmlsdGVycztlPG4ubGVuZ3RoO2UrKylpZighbltlXS5tYXRjaGVzKHQpKXJldHVybjtyZXR1cm4gMX0odCkmJihuPXQsKCEodD1pKS5zdGFydEF0fHxtbyh0LnN0YXJ0QXQsTm8odCksbikpJiYoIXQuZW5kQXR8fCFtbyh0LmVuZEF0LE5vKHQpLG4pKSk7dmFyIGUsbn1mdW5jdGlvbiBMbyhhKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIG49ITEscj0wLGk9Tm8oYSk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl0scz1mdW5jdGlvbih0LHIsZSl7dmFyIG49dC5maWVsZC5pc0tleUZpZWxkKCk/YmkuY29tcGFyYXRvcihyLmtleSxlLmtleSk6ZnVuY3Rpb24odCxlKXt2YXIgbj1yLmRhdGEuZmllbGQodCksdD1lLmRhdGEuZmllbGQodCk7cmV0dXJuIG51bGwhPT1uJiZudWxsIT09dD9faShuLHQpOlZyKCl9KHQuZmllbGQsZSk7c3dpdGNoKHQuZGlyKXtjYXNlXCJhc2NcIjpyZXR1cm4gbjtjYXNlXCJkZXNjXCI6cmV0dXJuLTEqbjtkZWZhdWx0OnJldHVybiBWcigpfX0obyx0LGUpO2lmKDAhPT1zKXJldHVybiBzO249bnx8by5maWVsZC5pc0tleUZpZWxkKCl9cmV0dXJuIDB9fWZ1bmN0aW9uIFBvKHQsZSl7aWYodC5JKXtpZihpc05hTihlKSlyZXR1cm57ZG91YmxlVmFsdWU6XCJOYU5cIn07aWYoZT09PTEvMClyZXR1cm57ZG91YmxlVmFsdWU6XCJJbmZpbml0eVwifTtpZihlPT09LTEvMClyZXR1cm57ZG91YmxlVmFsdWU6XCItSW5maW5pdHlcIn19cmV0dXJue2RvdWJsZVZhbHVlOm1pKGUpP1wiLTBcIjplfX1mdW5jdGlvbiBNbyh0KXtyZXR1cm57aW50ZWdlclZhbHVlOlwiXCIrdH19ZnVuY3Rpb24gRm8odCxlKXtyZXR1cm4gdmkoZSk/TW8oZSk6UG8odCxlKX1JPWZ1bmN0aW9uKCl7dGhpcy5fPXZvaWQgMH07ZnVuY3Rpb24gVm8odCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIEpvP0RpKHQ9ZSl8fHQmJlwiZG91YmxlVmFsdWVcImluIHQ/ZTp7aW50ZWdlclZhbHVlOjB9Om51bGx9dmFyIFVvLHFvLEJvPShuKEdvLHFvPUkpLEdvKSxqbz0obihLbyxVbz1JKSxLbyk7ZnVuY3Rpb24gS28odCl7dmFyIGU9dGhpcztyZXR1cm4oZT1Vby5jYWxsKHRoaXMpfHx0aGlzKS5lbGVtZW50cz10LGV9ZnVuY3Rpb24gR28oKXtyZXR1cm4gbnVsbCE9PXFvJiZxby5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9ZnVuY3Rpb24gUW8odCxlKXtmb3IodmFyIG49dHMoZSkscj0wLGk9dC5lbGVtZW50cztyPGkubGVuZ3RoO3IrKykhZnVuY3Rpb24oZSl7bi5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiBUaSh0LGUpfSl8fG4ucHVzaChlKX0oaVtyXSk7cmV0dXJue2FycmF5VmFsdWU6e3ZhbHVlczpufX19dmFyIHpvLEhvPShuKFdvLHpvPUkpLFdvKTtmdW5jdGlvbiBXbyh0KXt2YXIgZT10aGlzO3JldHVybihlPXpvLmNhbGwodGhpcyl8fHRoaXMpLmVsZW1lbnRzPXQsZX1mdW5jdGlvbiBZbyh0LGUpe2Zvcih2YXIgbj10cyhlKSxyPTAsaT10LmVsZW1lbnRzO3I8aS5sZW5ndGg7cisrKSFmdW5jdGlvbihlKXtuPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFUaSh0LGUpfSl9KGlbcl0pO3JldHVybnthcnJheVZhbHVlOnt2YWx1ZXM6bn19fXZhciBYbyxKbz0obigkbyxYbz1JKSwkbyk7ZnVuY3Rpb24gJG8odCxlKXt2YXIgbj10aGlzO3JldHVybihuPVhvLmNhbGwodGhpcyl8fHRoaXMpLlI9dCxuLkE9ZSxufWZ1bmN0aW9uIFpvKHQpe3JldHVybiBmaSh0LmludGVnZXJWYWx1ZXx8dC5kb3VibGVWYWx1ZSl9ZnVuY3Rpb24gdHModCl7cmV0dXJuIENpKHQpJiZ0LmFycmF5VmFsdWUudmFsdWVzP3QuYXJyYXlWYWx1ZS52YWx1ZXMuc2xpY2UoKTpbXX1mdW5jdGlvbiBlcyh0LGUpe3RoaXMudmVyc2lvbj10LHRoaXMudHJhbnNmb3JtUmVzdWx0cz1lfXZhciBucz1mdW5jdGlvbih0LGUpe3RoaXMuZmllbGQ9dCx0aGlzLnRyYW5zZm9ybT1lfSxycz0oaXMubm9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaXN9LGlzLmV4aXN0cz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGlzKHZvaWQgMCx0KX0saXMudXBkYXRlVGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGlzKHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaXMucHJvdG90eXBlLFwiaXNOb25lXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT10aGlzLnVwZGF0ZVRpbWUmJnZvaWQgMD09PXRoaXMuZXhpc3RzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGlzLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmV4aXN0cz09PXQuZXhpc3RzJiYodGhpcy51cGRhdGVUaW1lPyEhdC51cGRhdGVUaW1lJiZ0aGlzLnVwZGF0ZVRpbWUuaXNFcXVhbCh0LnVwZGF0ZVRpbWUpOiF0LnVwZGF0ZVRpbWUpfSxpcyk7ZnVuY3Rpb24gaXModCxlKXt0aGlzLnVwZGF0ZVRpbWU9dCx0aGlzLmV4aXN0cz1lfWZ1bmN0aW9uIG9zKHQsZSl7cmV0dXJuIHZvaWQgMCE9PXQudXBkYXRlVGltZT9lLmlzRm91bmREb2N1bWVudCgpJiZlLnZlcnNpb24uaXNFcXVhbCh0LnVwZGF0ZVRpbWUpOnZvaWQgMD09PXQuZXhpc3RzfHx0LmV4aXN0cz09PWUuaXNGb3VuZERvY3VtZW50KCl9U2U9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHNzKHQsZSxuKXt2YXIgcixpLG8sczt0IGluc3RhbmNlb2YgbHM/KGk9ZSxvPW4sb3MoKHI9dCkucHJlY29uZGl0aW9uLGkpJiYocz1yLnZhbHVlLmNsb25lKCksbz1tcyhyLmZpZWxkVHJhbnNmb3JtcyxvLGkpLHMuc2V0QWxsKG8pLGkuY29udmVydFRvRm91bmREb2N1bWVudCh1cyhpKSxzKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpKSk6dCBpbnN0YW5jZW9mIGZzPyhvPWUsaT1uLG9zKChzPXQpLnByZWNvbmRpdGlvbixvKSYmKG49bXMocy5maWVsZFRyYW5zZm9ybXMsaSxvKSwoaT1vLmRhdGEpLnNldEFsbCh5cyhzKSksaS5zZXRBbGwobiksby5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KHVzKG8pLGkpLnNldEhhc0xvY2FsTXV0YXRpb25zKCkpKTooZT1lLG9zKHQucHJlY29uZGl0aW9uLGUpJiZlLmNvbnZlcnRUb05vRG9jdW1lbnQoenIubWluKCkpKX1mdW5jdGlvbiBhcyh0LGUpe3JldHVybiB0LnR5cGU9PT1lLnR5cGUmJiEhdC5rZXkuaXNFcXVhbChlLmtleSkmJiEhdC5wcmVjb25kaXRpb24uaXNFcXVhbChlLnByZWNvbmRpdGlvbikmJihuPXQuZmllbGRUcmFuc2Zvcm1zLHI9ZS5maWVsZFRyYW5zZm9ybXMsISEodm9pZCAwPT09biYmdm9pZCAwPT09cnx8biYmciYmS3IobixyLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU9ZSwodD10KS5maWVsZC5pc0VxdWFsKGUuZmllbGQpJiYodD10LnRyYW5zZm9ybSxlPWUudHJhbnNmb3JtLHQgaW5zdGFuY2VvZiBqbyYmZSBpbnN0YW5jZW9mIGpvfHx0IGluc3RhbmNlb2YgSG8mJmUgaW5zdGFuY2VvZiBIbz9Lcih0LmVsZW1lbnRzLGUuZWxlbWVudHMsVGkpOnQgaW5zdGFuY2VvZiBKbyYmZSBpbnN0YW5jZW9mIEpvP1RpKHQuQSxlLkEpOnQgaW5zdGFuY2VvZiBCbyYmZSBpbnN0YW5jZW9mIEJvKX0pKSkmJigwPT09dC50eXBlP3QudmFsdWUuaXNFcXVhbChlLnZhbHVlKToxIT09dC50eXBlfHx0LmRhdGEuaXNFcXVhbChlLmRhdGEpJiZ0LmZpZWxkTWFzay5pc0VxdWFsKGUuZmllbGRNYXNrKSk7dmFyIG4scn1mdW5jdGlvbiB1cyh0KXtyZXR1cm4gdC5pc0ZvdW5kRG9jdW1lbnQoKT90LnZlcnNpb246enIubWluKCl9dmFyIGNzLGhzLGxzPShuKHBzLGhzPVNlKSxwcyksZnM9KG4oZHMsY3M9U2UpLGRzKTtmdW5jdGlvbiBkcyh0LGUsbixyLGkpe3ZvaWQgMD09PWkmJihpPVtdKTt2YXIgbz10aGlzO3JldHVybihvPWNzLmNhbGwodGhpcyl8fHRoaXMpLmtleT10LG8uZGF0YT1lLG8uZmllbGRNYXNrPW4sby5wcmVjb25kaXRpb249cixvLmZpZWxkVHJhbnNmb3Jtcz1pLG8udHlwZT0xLG99ZnVuY3Rpb24gcHModCxlLG4scil7dm9pZCAwPT09ciYmKHI9W10pO3ZhciBpPXRoaXM7cmV0dXJuKGk9aHMuY2FsbCh0aGlzKXx8dGhpcykua2V5PXQsaS52YWx1ZT1lLGkucHJlY29uZGl0aW9uPW4saS5maWVsZFRyYW5zZm9ybXM9cixpLnR5cGU9MCxpfWZ1bmN0aW9uIHlzKG4pe3ZhciByPW5ldyBNYXA7cmV0dXJuIG4uZmllbGRNYXNrLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlO3QuaXNFbXB0eSgpfHwoZT1uLmRhdGEuZmllbGQodCksci5zZXQodCxlKSl9KSxyfWZ1bmN0aW9uIGdzKHQsZSxuKXt2YXIgcj1uZXcgTWFwO1VyKHQubGVuZ3RoPT09bi5sZW5ndGgpO2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKXt2YXIgbz10W2ldLHM9by50cmFuc2Zvcm0sYT1lLmRhdGEuZmllbGQoby5maWVsZCk7ci5zZXQoby5maWVsZCwobz1zLHM9YSxhPW5baV0sbyBpbnN0YW5jZW9mIGpvP1FvKG8scyk6byBpbnN0YW5jZW9mIEhvP1lvKG8scyk6YSkpfXJldHVybiByfWZ1bmN0aW9uIG1zKHQsZSxuKXtmb3IodmFyIHIsaT1uZXcgTWFwLG89MCxzPXQ7bzxzLmxlbmd0aDtvKyspe3ZhciBhPXNbb10sdT1hLnRyYW5zZm9ybSxjPW4uZGF0YS5maWVsZChhLmZpZWxkKTtpLnNldChhLmZpZWxkLChyPWMsYT1lLGM9dm9pZCAwLCh1PXUpaW5zdGFuY2VvZiBCbz8oYz17ZmllbGRzOntfX3R5cGVfXzp7c3RyaW5nVmFsdWU6XCJzZXJ2ZXJfdGltZXN0YW1wXCJ9LF9fbG9jYWxfd3JpdGVfdGltZV9fOnt0aW1lc3RhbXBWYWx1ZTp7c2Vjb25kczphLnNlY29uZHMsbmFub3M6YS5uYW5vc2Vjb25kc319fX0sciYmKGMuZmllbGRzLl9fcHJldmlvdXNfdmFsdWVfXz1yKSx7bWFwVmFsdWU6Y30pOnUgaW5zdGFuY2VvZiBqbz9Rbyh1LHIpOnUgaW5zdGFuY2VvZiBIbz9Zbyh1LHIpOih1PVZvKGM9dSxyKSxyPVpvKHUpK1pvKGMuQSksRGkodSkmJkRpKGMuQSk/TW8ocik6UG8oYy5SLHIpKSkpfXJldHVybiBpfWZ1bmN0aW9uIHZzKHQpe3RoaXMuY291bnQ9dH12YXIgYnMsd3MsRXMsVHM9KG4oU3MsRXM9U2UpLFNzKSxJcz0obihfcyx3cz1TZSksX3MpO2Z1bmN0aW9uIF9zKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj13cy5jYWxsKHRoaXMpfHx0aGlzKS5rZXk9dCxuLnByZWNvbmRpdGlvbj1lLG4udHlwZT0zLG4uZmllbGRUcmFuc2Zvcm1zPVtdLG59ZnVuY3Rpb24gU3ModCxlKXt2YXIgbj10aGlzO3JldHVybihuPUVzLmNhbGwodGhpcyl8fHRoaXMpLmtleT10LG4ucHJlY29uZGl0aW9uPWUsbi50eXBlPTIsbi5maWVsZFRyYW5zZm9ybXM9W10sbn1mdW5jdGlvbiBBcyh0KXtzd2l0Y2godCl7Y2FzZSBDci5PSzpyZXR1cm4gVnIoKSwwO2Nhc2UgQ3IuQ0FOQ0VMTEVEOmNhc2UgQ3IuVU5LTk9XTjpjYXNlIENyLkRFQURMSU5FX0VYQ0VFREVEOmNhc2UgQ3IuUkVTT1VSQ0VfRVhIQVVTVEVEOmNhc2UgQ3IuSU5URVJOQUw6Y2FzZSBDci5VTkFWQUlMQUJMRTpjYXNlIENyLlVOQVVUSEVOVElDQVRFRDpyZXR1cm47Y2FzZSBDci5JTlZBTElEX0FSR1VNRU5UOmNhc2UgQ3IuTk9UX0ZPVU5EOmNhc2UgQ3IuQUxSRUFEWV9FWElTVFM6Y2FzZSBDci5QRVJNSVNTSU9OX0RFTklFRDpjYXNlIENyLkZBSUxFRF9QUkVDT05ESVRJT046Y2FzZSBDci5BQk9SVEVEOmNhc2UgQ3IuT1VUX09GX1JBTkdFOmNhc2UgQ3IuVU5JTVBMRU1FTlRFRDpjYXNlIENyLkRBVEFfTE9TUzpyZXR1cm4gMTtkZWZhdWx0OnJldHVybiBWcigpLDB9fWZ1bmN0aW9uIE5zKHQpe2lmKHZvaWQgMD09PXQpcmV0dXJuIFByKFwiR1JQQyBlcnJvciBoYXMgbm8gLmNvZGVcIiksQ3IuVU5LTk9XTjtzd2l0Y2godCl7Y2FzZSBicy5PSzpyZXR1cm4gQ3IuT0s7Y2FzZSBicy5DQU5DRUxMRUQ6cmV0dXJuIENyLkNBTkNFTExFRDtjYXNlIGJzLlVOS05PV046cmV0dXJuIENyLlVOS05PV047Y2FzZSBicy5ERUFETElORV9FWENFRURFRDpyZXR1cm4gQ3IuREVBRExJTkVfRVhDRUVERUQ7Y2FzZSBicy5SRVNPVVJDRV9FWEhBVVNURUQ6cmV0dXJuIENyLlJFU09VUkNFX0VYSEFVU1RFRDtjYXNlIGJzLklOVEVSTkFMOnJldHVybiBDci5JTlRFUk5BTDtjYXNlIGJzLlVOQVZBSUxBQkxFOnJldHVybiBDci5VTkFWQUlMQUJMRTtjYXNlIGJzLlVOQVVUSEVOVElDQVRFRDpyZXR1cm4gQ3IuVU5BVVRIRU5USUNBVEVEO2Nhc2UgYnMuSU5WQUxJRF9BUkdVTUVOVDpyZXR1cm4gQ3IuSU5WQUxJRF9BUkdVTUVOVDtjYXNlIGJzLk5PVF9GT1VORDpyZXR1cm4gQ3IuTk9UX0ZPVU5EO2Nhc2UgYnMuQUxSRUFEWV9FWElTVFM6cmV0dXJuIENyLkFMUkVBRFlfRVhJU1RTO2Nhc2UgYnMuUEVSTUlTU0lPTl9ERU5JRUQ6cmV0dXJuIENyLlBFUk1JU1NJT05fREVOSUVEO2Nhc2UgYnMuRkFJTEVEX1BSRUNPTkRJVElPTjpyZXR1cm4gQ3IuRkFJTEVEX1BSRUNPTkRJVElPTjtjYXNlIGJzLkFCT1JURUQ6cmV0dXJuIENyLkFCT1JURUQ7Y2FzZSBicy5PVVRfT0ZfUkFOR0U6cmV0dXJuIENyLk9VVF9PRl9SQU5HRTtjYXNlIGJzLlVOSU1QTEVNRU5URUQ6cmV0dXJuIENyLlVOSU1QTEVNRU5URUQ7Y2FzZSBicy5EQVRBX0xPU1M6cmV0dXJuIENyLkRBVEFfTE9TUztkZWZhdWx0OnJldHVybiBWcigpfX0oST1icz1ic3x8e30pW0kuT0s9MF09XCJPS1wiLElbSS5DQU5DRUxMRUQ9MV09XCJDQU5DRUxMRURcIixJW0kuVU5LTk9XTj0yXT1cIlVOS05PV05cIixJW0kuSU5WQUxJRF9BUkdVTUVOVD0zXT1cIklOVkFMSURfQVJHVU1FTlRcIixJW0kuREVBRExJTkVfRVhDRUVERUQ9NF09XCJERUFETElORV9FWENFRURFRFwiLElbSS5OT1RfRk9VTkQ9NV09XCJOT1RfRk9VTkRcIixJW0kuQUxSRUFEWV9FWElTVFM9Nl09XCJBTFJFQURZX0VYSVNUU1wiLElbSS5QRVJNSVNTSU9OX0RFTklFRD03XT1cIlBFUk1JU1NJT05fREVOSUVEXCIsSVtJLlVOQVVUSEVOVElDQVRFRD0xNl09XCJVTkFVVEhFTlRJQ0FURURcIixJW0kuUkVTT1VSQ0VfRVhIQVVTVEVEPThdPVwiUkVTT1VSQ0VfRVhIQVVTVEVEXCIsSVtJLkZBSUxFRF9QUkVDT05ESVRJT049OV09XCJGQUlMRURfUFJFQ09ORElUSU9OXCIsSVtJLkFCT1JURUQ9MTBdPVwiQUJPUlRFRFwiLElbSS5PVVRfT0ZfUkFOR0U9MTFdPVwiT1VUX09GX1JBTkdFXCIsSVtJLlVOSU1QTEVNRU5URUQ9MTJdPVwiVU5JTVBMRU1FTlRFRFwiLElbSS5JTlRFUk5BTD0xM109XCJJTlRFUk5BTFwiLElbSS5VTkFWQUlMQUJMRT0xNF09XCJVTkFWQUlMQUJMRVwiLElbSS5EQVRBX0xPU1M9MTVdPVwiREFUQV9MT1NTXCI7dmFyIERzPShPcy5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBPcyh0aGlzLmNvbXBhcmF0b3IsdGhpcy5yb290Lmluc2VydCh0LGUsdGhpcy5jb21wYXJhdG9yKS5jb3B5KG51bGwsbnVsbCxrcy5CTEFDSyxudWxsLG51bGwpKX0sT3MucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IE9zKHRoaXMuY29tcGFyYXRvcix0aGlzLnJvb3QucmVtb3ZlKHQsdGhpcy5jb21wYXJhdG9yKS5jb3B5KG51bGwsbnVsbCxrcy5CTEFDSyxudWxsLG51bGwpKX0sT3MucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5yb290OyFlLmlzRW1wdHkoKTspe3ZhciBuPXRoaXMuY29tcGFyYXRvcih0LGUua2V5KTtpZigwPT09bilyZXR1cm4gZS52YWx1ZTtuPDA/ZT1lLmxlZnQ6MDxuJiYoZT1lLnJpZ2h0KX1yZXR1cm4gbnVsbH0sT3MucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10aGlzLnJvb3Q7IW4uaXNFbXB0eSgpOyl7dmFyIHI9dGhpcy5jb21wYXJhdG9yKHQsbi5rZXkpO2lmKDA9PT1yKXJldHVybiBlK24ubGVmdC5zaXplO249cjwwP24ubGVmdDooZSs9bi5sZWZ0LnNpemUrMSxuLnJpZ2h0KX1yZXR1cm4tMX0sT3MucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290LmlzRW1wdHkoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KE9zLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5zaXplfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9zLnByb3RvdHlwZS5taW5LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb290Lm1pbktleSgpfSxPcy5wcm90b3R5cGUubWF4S2V5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdC5tYXhLZXkoKX0sT3MucHJvdG90eXBlLmlub3JkZXJUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucm9vdC5pbm9yZGVyVHJhdmVyc2FsKHQpfSxPcy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihuKXt0aGlzLmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbih0LGUpLCExfSl9LE9zLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiB0aGlzLmlub3JkZXJUcmF2ZXJzYWwoZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5wdXNoKHQrXCI6XCIrZSksITF9KSxcIntcIituLmpvaW4oXCIsIFwiKStcIn1cIn0sT3MucHJvdG90eXBlLnJldmVyc2VUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucm9vdC5yZXZlcnNlVHJhdmVyc2FsKHQpfSxPcy5wcm90b3R5cGUuZ2V0SXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENzKHRoaXMucm9vdCxudWxsLHRoaXMuY29tcGFyYXRvciwhMSl9LE9zLnByb3RvdHlwZS5nZXRJdGVyYXRvckZyb209ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDcyh0aGlzLnJvb3QsdCx0aGlzLmNvbXBhcmF0b3IsITEpfSxPcy5wcm90b3R5cGUuZ2V0UmV2ZXJzZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDcyh0aGlzLnJvb3QsbnVsbCx0aGlzLmNvbXBhcmF0b3IsITApfSxPcy5wcm90b3R5cGUuZ2V0UmV2ZXJzZUl0ZXJhdG9yRnJvbT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENzKHRoaXMucm9vdCx0LHRoaXMuY29tcGFyYXRvciwhMCl9LE9zKSxDcz0oeHMucHJvdG90eXBlLmdldE5leHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm5vZGVTdGFjay5wb3AoKSxlPXtrZXk6dC5rZXksdmFsdWU6dC52YWx1ZX07aWYodGhpcy5pc1JldmVyc2UpZm9yKHQ9dC5sZWZ0OyF0LmlzRW1wdHkoKTspdGhpcy5ub2RlU3RhY2sucHVzaCh0KSx0PXQucmlnaHQ7ZWxzZSBmb3IodD10LnJpZ2h0OyF0LmlzRW1wdHkoKTspdGhpcy5ub2RlU3RhY2sucHVzaCh0KSx0PXQubGVmdDtyZXR1cm4gZX0seHMucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLm5vZGVTdGFjay5sZW5ndGh9LHhzLnByb3RvdHlwZS5wZWVrPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMubm9kZVN0YWNrLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgdD10aGlzLm5vZGVTdGFja1t0aGlzLm5vZGVTdGFjay5sZW5ndGgtMV07cmV0dXJue2tleTp0LmtleSx2YWx1ZTp0LnZhbHVlfX0seHMpLGtzPShScy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0LGUsbixyLGkpe3JldHVybiBuZXcgUnMobnVsbCE9dD90OnRoaXMua2V5LG51bGwhPWU/ZTp0aGlzLnZhbHVlLG51bGwhPW4/bjp0aGlzLmNvbG9yLG51bGwhPXI/cjp0aGlzLmxlZnQsbnVsbCE9aT9pOnRoaXMucmlnaHQpfSxScy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiExfSxScy5wcm90b3R5cGUuaW5vcmRlclRyYXZlcnNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0Lmlub3JkZXJUcmF2ZXJzYWwodCl8fHQodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMucmlnaHQuaW5vcmRlclRyYXZlcnNhbCh0KX0sUnMucHJvdG90eXBlLnJldmVyc2VUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmlnaHQucmV2ZXJzZVRyYXZlcnNhbCh0KXx8dCh0aGlzLmtleSx0aGlzLnZhbHVlKXx8dGhpcy5sZWZ0LnJldmVyc2VUcmF2ZXJzYWwodCl9LFJzLnByb3RvdHlwZS5taW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmlzRW1wdHkoKT90aGlzOnRoaXMubGVmdC5taW4oKX0sUnMucHJvdG90eXBlLm1pbktleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1pbigpLmtleX0sUnMucHJvdG90eXBlLm1heEtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJpZ2h0LmlzRW1wdHkoKT90aGlzLmtleTp0aGlzLnJpZ2h0Lm1heEtleSgpfSxScy5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10aGlzLGk9bih0LHIua2V5KTtyZXR1cm4ocj1pPDA/ci5jb3B5KG51bGwsbnVsbCxudWxsLHIubGVmdC5pbnNlcnQodCxlLG4pLG51bGwpOjA9PT1pP3IuY29weShudWxsLGUsbnVsbCxudWxsLG51bGwpOnIuY29weShudWxsLG51bGwsbnVsbCxudWxsLHIucmlnaHQuaW5zZXJ0KHQsZSxuKSkpLmZpeFVwKCl9LFJzLnByb3RvdHlwZS5yZW1vdmVNaW49ZnVuY3Rpb24oKXtpZih0aGlzLmxlZnQuaXNFbXB0eSgpKXJldHVybiBScy5FTVBUWTt2YXIgdD10aGlzO3JldHVybih0PSh0PSF0LmxlZnQuaXNSZWQoKSYmIXQubGVmdC5sZWZ0LmlzUmVkKCk/dC5tb3ZlUmVkTGVmdCgpOnQpLmNvcHkobnVsbCxudWxsLG51bGwsdC5sZWZ0LnJlbW92ZU1pbigpLG51bGwpKS5maXhVcCgpfSxScy5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzO2lmKGUodCxyLmtleSk8MClyPShyPSEoci5sZWZ0LmlzRW1wdHkoKXx8ci5sZWZ0LmlzUmVkKCl8fHIubGVmdC5sZWZ0LmlzUmVkKCkpP3IubW92ZVJlZExlZnQoKTpyKS5jb3B5KG51bGwsbnVsbCxudWxsLHIubGVmdC5yZW1vdmUodCxlKSxudWxsKTtlbHNle2lmKDA9PT1lKHQsKHI9ISgocj1yLmxlZnQuaXNSZWQoKT9yLnJvdGF0ZVJpZ2h0KCk6cikucmlnaHQuaXNFbXB0eSgpfHxyLnJpZ2h0LmlzUmVkKCl8fHIucmlnaHQubGVmdC5pc1JlZCgpKT9yLm1vdmVSZWRSaWdodCgpOnIpLmtleSkpe2lmKHIucmlnaHQuaXNFbXB0eSgpKXJldHVybiBScy5FTVBUWTtuPXIucmlnaHQubWluKCkscj1yLmNvcHkobi5rZXksbi52YWx1ZSxudWxsLG51bGwsci5yaWdodC5yZW1vdmVNaW4oKSl9cj1yLmNvcHkobnVsbCxudWxsLG51bGwsbnVsbCxyLnJpZ2h0LnJlbW92ZSh0LGUpKX1yZXR1cm4gci5maXhVcCgpfSxScy5wcm90b3R5cGUuaXNSZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xvcn0sUnMucHJvdG90eXBlLmZpeFVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdD0odD0odD10LnJpZ2h0LmlzUmVkKCkmJiF0LmxlZnQuaXNSZWQoKT90LnJvdGF0ZUxlZnQoKTp0KS5sZWZ0LmlzUmVkKCkmJnQubGVmdC5sZWZ0LmlzUmVkKCk/dC5yb3RhdGVSaWdodCgpOnQpLmxlZnQuaXNSZWQoKSYmdC5yaWdodC5pc1JlZCgpP3QuY29sb3JGbGlwKCk6dH0sUnMucHJvdG90eXBlLm1vdmVSZWRMZWZ0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5jb2xvckZsaXAoKTtyZXR1cm4gdD10LnJpZ2h0LmxlZnQuaXNSZWQoKT8odD0odD10LmNvcHkobnVsbCxudWxsLG51bGwsbnVsbCx0LnJpZ2h0LnJvdGF0ZVJpZ2h0KCkpKS5yb3RhdGVMZWZ0KCkpLmNvbG9yRmxpcCgpOnR9LFJzLnByb3RvdHlwZS5tb3ZlUmVkUmlnaHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbG9yRmxpcCgpO3JldHVybiB0PXQubGVmdC5sZWZ0LmlzUmVkKCk/KHQ9dC5yb3RhdGVSaWdodCgpKS5jb2xvckZsaXAoKTp0fSxScy5wcm90b3R5cGUucm90YXRlTGVmdD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29weShudWxsLG51bGwsUnMuUkVELG51bGwsdGhpcy5yaWdodC5sZWZ0KTtyZXR1cm4gdGhpcy5yaWdodC5jb3B5KG51bGwsbnVsbCx0aGlzLmNvbG9yLHQsbnVsbCl9LFJzLnByb3RvdHlwZS5yb3RhdGVSaWdodD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY29weShudWxsLG51bGwsUnMuUkVELHRoaXMubGVmdC5yaWdodCxudWxsKTtyZXR1cm4gdGhpcy5sZWZ0LmNvcHkobnVsbCxudWxsLHRoaXMuY29sb3IsbnVsbCx0KX0sUnMucHJvdG90eXBlLmNvbG9yRmxpcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMubGVmdC5jb3B5KG51bGwsbnVsbCwhdGhpcy5sZWZ0LmNvbG9yLG51bGwsbnVsbCksZT10aGlzLnJpZ2h0LmNvcHkobnVsbCxudWxsLCF0aGlzLnJpZ2h0LmNvbG9yLG51bGwsbnVsbCk7cmV0dXJuIHRoaXMuY29weShudWxsLG51bGwsIXRoaXMuY29sb3IsdCxlKX0sUnMucHJvdG90eXBlLmNoZWNrTWF4RGVwdGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNoZWNrKCk7cmV0dXJuIE1hdGgucG93KDIsdCk8PXRoaXMuc2l6ZSsxfSxScy5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXtpZih0aGlzLmlzUmVkKCkmJnRoaXMubGVmdC5pc1JlZCgpKXRocm93IFZyKCk7aWYodGhpcy5yaWdodC5pc1JlZCgpKXRocm93IFZyKCk7dmFyIHQ9dGhpcy5sZWZ0LmNoZWNrKCk7aWYodCE9PXRoaXMucmlnaHQuY2hlY2soKSl0aHJvdyBWcigpO3JldHVybiB0Kyh0aGlzLmlzUmVkKCk/MDoxKX0sUnMpO2Z1bmN0aW9uIFJzKHQsZSxuLHIsaSl7dGhpcy5rZXk9dCx0aGlzLnZhbHVlPWUsdGhpcy5jb2xvcj1udWxsIT1uP246UnMuUkVELHRoaXMubGVmdD1udWxsIT1yP3I6UnMuRU1QVFksdGhpcy5yaWdodD1udWxsIT1pP2k6UnMuRU1QVFksdGhpcy5zaXplPXRoaXMubGVmdC5zaXplKzErdGhpcy5yaWdodC5zaXplfWZ1bmN0aW9uIHhzKHQsZSxuLHIpe3RoaXMuaXNSZXZlcnNlPXIsdGhpcy5ub2RlU3RhY2s9W107Zm9yKHZhciBpPTE7IXQuaXNFbXB0eSgpOylpZihpPWU/bih0LmtleSxlKToxLHImJihpKj0tMSksaTwwKXQ9dGhpcy5pc1JldmVyc2U/dC5sZWZ0OnQucmlnaHQ7ZWxzZXtpZigwPT09aSl7dGhpcy5ub2RlU3RhY2sucHVzaCh0KTticmVha310aGlzLm5vZGVTdGFjay5wdXNoKHQpLHQ9dGhpcy5pc1JldmVyc2U/dC5yaWdodDp0LmxlZnR9fWZ1bmN0aW9uIE9zKHQsZSl7dGhpcy5jb21wYXJhdG9yPXQsdGhpcy5yb290PWV8fGtzLkVNUFRZfWZ1bmN0aW9uIExzKCl7dGhpcy5zaXplPTB9a3MuRU1QVFk9bnVsbCxrcy5SRUQ9ITAsa3MuQkxBQ0s9ITEsa3MuRU1QVFk9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMcy5wcm90b3R5cGUsXCJrZXlcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgVnIoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTHMucHJvdG90eXBlLFwidmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgVnIoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTHMucHJvdG90eXBlLFwiY29sb3JcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgVnIoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTHMucHJvdG90eXBlLFwibGVmdFwiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBWcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMcy5wcm90b3R5cGUsXCJyaWdodFwiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBWcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLExzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSxuLHIsaSl7cmV0dXJuIHRoaXN9LExzLnByb3RvdHlwZS5pbnNlcnQ9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBuZXcga3ModCxlKX0sTHMucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzfSxMcy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiEwfSxMcy5wcm90b3R5cGUuaW5vcmRlclRyYXZlcnNhbD1mdW5jdGlvbih0KXtyZXR1cm4hMX0sTHMucHJvdG90eXBlLnJldmVyc2VUcmF2ZXJzYWw9ZnVuY3Rpb24odCl7cmV0dXJuITF9LExzLnByb3RvdHlwZS5taW5LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sTHMucHJvdG90eXBlLm1heEtleT1mdW5jdGlvbigpe3JldHVybiBudWxsfSxMcy5wcm90b3R5cGUuaXNSZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sTHMucHJvdG90eXBlLmNoZWNrTWF4RGVwdGg9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sTHMucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LG5ldyBMcyk7dmFyIFBzPShVcy5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dGhpcy5kYXRhLmdldCh0KX0sVXMucHJvdG90eXBlLmZpcnN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5taW5LZXkoKX0sVXMucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLm1heEtleSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVXMucHJvdG90eXBlLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhLnNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksVXMucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKHQpfSxVcy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihuKXt0aGlzLmRhdGEuaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbih0LGUpe3JldHVybiBuKHQpLCExfSl9LFVzLnByb3RvdHlwZS5mb3JFYWNoSW5SYW5nZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKHRbMF0pO24uaGFzTmV4dCgpOyl7dmFyIHI9bi5nZXROZXh0KCk7aWYoMDw9dGhpcy5jb21wYXJhdG9yKHIua2V5LHRbMV0pKXJldHVybjtlKHIua2V5KX19LFVzLnByb3RvdHlwZS5mb3JFYWNoV2hpbGU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dm9pZCAwIT09ZT90aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKGUpOnRoaXMuZGF0YS5nZXRJdGVyYXRvcigpO24uaGFzTmV4dCgpOylpZighdChuLmdldE5leHQoKS5rZXkpKXJldHVybn0sVXMucHJvdG90eXBlLmZpcnN0QWZ0ZXJPckVxdWFsPWZ1bmN0aW9uKHQpe3Q9dGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbSh0KTtyZXR1cm4gdC5oYXNOZXh0KCk/dC5nZXROZXh0KCkua2V5Om51bGx9LFVzLnByb3RvdHlwZS5nZXRJdGVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBuZXcgTXModGhpcy5kYXRhLmdldEl0ZXJhdG9yKCkpfSxVcy5wcm90b3R5cGUuZ2V0SXRlcmF0b3JGcm9tPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTXModGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbSh0KSl9LFVzLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY29weSh0aGlzLmRhdGEucmVtb3ZlKHQpLmluc2VydCh0LCEwKSl9LFVzLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzKHQpP3RoaXMuY29weSh0aGlzLmRhdGEucmVtb3ZlKHQpKTp0aGlzfSxVcy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuaXNFbXB0eSgpfSxVcy5wcm90b3R5cGUudW5pb25XaXRoPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIGUuc2l6ZTx0LnNpemUmJihlPXQsdD10aGlzKSx0LmZvckVhY2goZnVuY3Rpb24odCl7ZT1lLmFkZCh0KX0pLGV9LFVzLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIFVzKSlyZXR1cm4hMTtpZih0aGlzLnNpemUhPT10LnNpemUpcmV0dXJuITE7Zm9yKHZhciBlPXRoaXMuZGF0YS5nZXRJdGVyYXRvcigpLG49dC5kYXRhLmdldEl0ZXJhdG9yKCk7ZS5oYXNOZXh0KCk7KXt2YXIgcj1lLmdldE5leHQoKS5rZXksaT1uLmdldE5leHQoKS5rZXk7aWYoMCE9PXRoaXMuY29tcGFyYXRvcihyLGkpKXJldHVybiExfXJldHVybiEwfSxVcy5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSksZX0sVXMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5wdXNoKHQpfSksXCJTb3J0ZWRTZXQoXCIrZS50b1N0cmluZygpK1wiKVwifSxVcy5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgVXModGhpcy5jb21wYXJhdG9yKTtyZXR1cm4gZS5kYXRhPXQsZX0sVXMpLE1zPShWcy5wcm90b3R5cGUuZ2V0TmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXIuZ2V0TmV4dCgpLmtleX0sVnMucHJvdG90eXBlLmhhc05leHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyLmhhc05leHQoKX0sVnMpLEZzPW5ldyBEcyhiaS5jb21wYXJhdG9yKTtmdW5jdGlvbiBWcyh0KXt0aGlzLml0ZXI9dH1mdW5jdGlvbiBVcyh0KXt0aGlzLmNvbXBhcmF0b3I9dCx0aGlzLmRhdGE9bmV3IERzKHRoaXMuY29tcGFyYXRvcil9dmFyIHFzPW5ldyBEcyhiaS5jb21wYXJhdG9yKTt2YXIgQnM9bmV3IERzKGJpLmNvbXBhcmF0b3IpO3ZhciBqcz1uZXcgUHMoYmkuY29tcGFyYXRvcik7ZnVuY3Rpb24gS3MoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07Zm9yKHZhciBuPWpzLHI9MCxpPXQ7cjxpLmxlbmd0aDtyKyspdmFyIG89aVtyXSxuPW4uYWRkKG8pO3JldHVybiBufXZhciBHcz1uZXcgUHMoanIpO3ZhciBRcz0oZWEuY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2U9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgTWFwO3JldHVybiBuLnNldCh0LHpzLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZSh0LGUpKSxuZXcgZWEoenIubWluKCksbixHcyxGcyxLcygpKX0sZWEpLHpzPSh0YS5jcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHRhKGlpLkVNUFRZX0JZVEVfU1RSSU5HLGUsS3MoKSxLcygpLEtzKCkpfSx0YSksSHM9ZnVuY3Rpb24odCxlLG4scil7dGhpcy52PXQsdGhpcy5yZW1vdmVkVGFyZ2V0SWRzPWUsdGhpcy5rZXk9bix0aGlzLlA9cn0sV3M9ZnVuY3Rpb24odCxlKXt0aGlzLnRhcmdldElkPXQsdGhpcy5WPWV9LFlzPWZ1bmN0aW9uKHQsZSxuLHIpe3ZvaWQgMD09PW4mJihuPWlpLkVNUFRZX0JZVEVfU1RSSU5HKSx2b2lkIDA9PT1yJiYocj1udWxsKSx0aGlzLnN0YXRlPXQsdGhpcy50YXJnZXRJZHM9ZSx0aGlzLnJlc3VtZVRva2VuPW4sdGhpcy5jYXVzZT1yfSxYcz0oT2JqZWN0LmRlZmluZVByb3BlcnR5KFpzLnByb3RvdHlwZSxcImN1cnJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWnMucHJvdG90eXBlLFwicmVzdW1lVG9rZW5cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQ30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWnMucHJvdG90eXBlLFwia1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMCE9PXRoaXMuU30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWnMucHJvdG90eXBlLFwiT1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFpzLnByb3RvdHlwZS4kPWZ1bmN0aW9uKHQpezA8dC5hcHByb3hpbWF0ZUJ5dGVTaXplKCkmJih0aGlzLkY9ITAsdGhpcy5DPXQpfSxacy5wcm90b3R5cGUuTT1mdW5jdGlvbigpe3ZhciBuPUtzKCkscj1LcygpLGk9S3MoKTtyZXR1cm4gdGhpcy5ELmZvckVhY2goZnVuY3Rpb24odCxlKXtzd2l0Y2goZSl7Y2FzZSAwOm49bi5hZGQodCk7YnJlYWs7Y2FzZSAyOnI9ci5hZGQodCk7YnJlYWs7Y2FzZSAxOmk9aS5hZGQodCk7YnJlYWs7ZGVmYXVsdDpWcigpfX0pLG5ldyB6cyh0aGlzLkMsdGhpcy5OLG4scixpKX0sWnMucHJvdG90eXBlLkw9ZnVuY3Rpb24oKXt0aGlzLkY9ITEsdGhpcy5EPXJhKCl9LFpzLnByb3RvdHlwZS5CPWZ1bmN0aW9uKHQsZSl7dGhpcy5GPSEwLHRoaXMuRD10aGlzLkQuaW5zZXJ0KHQsZSl9LFpzLnByb3RvdHlwZS5xPWZ1bmN0aW9uKHQpe3RoaXMuRj0hMCx0aGlzLkQ9dGhpcy5ELnJlbW92ZSh0KX0sWnMucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLlMrPTF9LFpzLnByb3RvdHlwZS5LPWZ1bmN0aW9uKCl7LS10aGlzLlN9LFpzLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5GPSEwLHRoaXMuTj0hMH0sWnMpLEpzPSgkcy5wcm90b3R5cGUuWD1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXQudjtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTt0LlAmJnQuUC5pc0ZvdW5kRG9jdW1lbnQoKT90aGlzLloocix0LlApOnRoaXMudHQocix0LmtleSx0LlApfWZvcih2YXIgaT0wLG89dC5yZW1vdmVkVGFyZ2V0SWRzO2k8by5sZW5ndGg7aSsrKXI9b1tpXSx0aGlzLnR0KHIsdC5rZXksdC5QKX0sJHMucHJvdG90eXBlLmV0PWZ1bmN0aW9uKG4pe3ZhciByPXRoaXM7dGhpcy5mb3JFYWNoVGFyZ2V0KG4sZnVuY3Rpb24odCl7dmFyIGU9ci5udCh0KTtzd2l0Y2gobi5zdGF0ZSl7Y2FzZSAwOnIuc3QodCkmJmUuJChuLnJlc3VtZVRva2VuKTticmVhaztjYXNlIDE6ZS5LKCksZS5rfHxlLkwoKSxlLiQobi5yZXN1bWVUb2tlbik7YnJlYWs7Y2FzZSAyOmUuSygpLGUua3x8ci5yZW1vdmVUYXJnZXQodCk7YnJlYWs7Y2FzZSAzOnIuc3QodCkmJihlLmooKSxlLiQobi5yZXN1bWVUb2tlbikpO2JyZWFrO2Nhc2UgNDpyLnN0KHQpJiYoci5pdCh0KSxlLiQobi5yZXN1bWVUb2tlbikpO2JyZWFrO2RlZmF1bHQ6VnIoKX19KX0sJHMucHJvdG90eXBlLmZvckVhY2hUYXJnZXQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzOzA8dC50YXJnZXRJZHMubGVuZ3RoP3QudGFyZ2V0SWRzLmZvckVhY2gobik6dGhpcy5HLmZvckVhY2goZnVuY3Rpb24odCxlKXtyLnN0KGUpJiZuKGUpfSl9LCRzLnByb3RvdHlwZS5ydD1mdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldElkLG49dC5WLmNvdW50LHQ9dGhpcy5vdChlKTt0JiYoQmkodD10LnRhcmdldCk/MD09PW4/KHQ9bmV3IGJpKHQucGF0aCksdGhpcy50dChlLHQsUGkubmV3Tm9Eb2N1bWVudCh0LHpyLm1pbigpKSkpOlVyKDE9PT1uKTp0aGlzLmN0KGUpIT09biYmKHRoaXMuaXQoZSksdGhpcy5ZPXRoaXMuWS5hZGQoZSkpKX0sJHMucHJvdG90eXBlLmF0PWZ1bmN0aW9uKHIpe3ZhciBpPXRoaXMsbz1uZXcgTWFwO3RoaXMuRy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49aS5vdChlKTtuJiYodC5jdXJyZW50JiZCaShuLnRhcmdldCkmJihuPW5ldyBiaShuLnRhcmdldC5wYXRoKSxudWxsIT09aS5ILmdldChuKXx8aS51dChlLG4pfHxpLnR0KGUsbixQaS5uZXdOb0RvY3VtZW50KG4scikpKSx0Lk8mJihvLnNldChlLHQuTSgpKSx0LkwoKSkpfSk7dmFyIHM9S3MoKTt0aGlzLkouZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPSEwO2UuZm9yRWFjaFdoaWxlKGZ1bmN0aW9uKHQpe3Q9aS5vdCh0KTtyZXR1cm4hdHx8Mj09PXQucHVycG9zZXx8KG49ITEpfSksbiYmKHM9cy5hZGQodCkpfSk7dmFyIHQ9bmV3IFFzKHIsbyx0aGlzLlksdGhpcy5ILHMpO3JldHVybiB0aGlzLkg9RnMsdGhpcy5KPW5hKCksdGhpcy5ZPW5ldyBQcyhqciksdH0sJHMucHJvdG90eXBlLlo9ZnVuY3Rpb24odCxlKXt2YXIgbjt0aGlzLnN0KHQpJiYobj10aGlzLnV0KHQsZS5rZXkpPzI6MCx0aGlzLm50KHQpLkIoZS5rZXksbiksdGhpcy5IPXRoaXMuSC5pbnNlcnQoZS5rZXksZSksdGhpcy5KPXRoaXMuSi5pbnNlcnQoZS5rZXksdGhpcy5odChlLmtleSkuYWRkKHQpKSl9LCRzLnByb3RvdHlwZS50dD1mdW5jdGlvbih0LGUsbil7dmFyIHI7dGhpcy5zdCh0KSYmKHI9dGhpcy5udCh0KSx0aGlzLnV0KHQsZSk/ci5CKGUsMSk6ci5xKGUpLHRoaXMuSj10aGlzLkouaW5zZXJ0KGUsdGhpcy5odChlKS5kZWxldGUodCkpLG4mJih0aGlzLkg9dGhpcy5ILmluc2VydChlLG4pKSl9LCRzLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy5HLmRlbGV0ZSh0KX0sJHMucHJvdG90eXBlLmN0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMubnQodCkuTSgpO3JldHVybiB0aGlzLlcuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KS5zaXplK2UuYWRkZWREb2N1bWVudHMuc2l6ZS1lLnJlbW92ZWREb2N1bWVudHMuc2l6ZX0sJHMucHJvdG90eXBlLlU9ZnVuY3Rpb24odCl7dGhpcy5udCh0KS5VKCl9LCRzLnByb3RvdHlwZS5udD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLkcuZ2V0KHQpO3JldHVybiBlfHwoZT1uZXcgWHMsdGhpcy5HLnNldCh0LGUpKSxlfSwkcy5wcm90b3R5cGUuaHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5KLmdldCh0KTtyZXR1cm4gZXx8KGU9bmV3IFBzKGpyKSx0aGlzLko9dGhpcy5KLmluc2VydCh0LGUpKSxlfSwkcy5wcm90b3R5cGUuc3Q9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbCE9PXRoaXMub3QodCk7cmV0dXJuIGV8fExyKFwiV2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yXCIsXCJEZXRlY3RlZCBpbmFjdGl2ZSB0YXJnZXRcIix0KSxlfSwkcy5wcm90b3R5cGUub3Q9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5HLmdldCh0KTtyZXR1cm4gZSYmZS5rP251bGw6dGhpcy5XLmx0KHQpfSwkcy5wcm90b3R5cGUuaXQ9ZnVuY3Rpb24oZSl7dmFyIG49dGhpczt0aGlzLkcuc2V0KGUsbmV3IFhzKSx0aGlzLlcuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldChlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24udHQoZSx0LG51bGwpfSl9LCRzLnByb3RvdHlwZS51dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLlcuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KS5oYXMoZSl9LCRzKTtmdW5jdGlvbiAkcyh0KXt0aGlzLlc9dCx0aGlzLkc9bmV3IE1hcCx0aGlzLkg9RnMsdGhpcy5KPW5hKCksdGhpcy5ZPW5ldyBQcyhqcil9ZnVuY3Rpb24gWnMoKXt0aGlzLlM9MCx0aGlzLkQ9cmEoKSx0aGlzLkM9aWkuRU1QVFlfQllURV9TVFJJTkcsdGhpcy5OPSExLHRoaXMuRj0hMH1mdW5jdGlvbiB0YSh0LGUsbixyLGkpe3RoaXMucmVzdW1lVG9rZW49dCx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmFkZGVkRG9jdW1lbnRzPW4sdGhpcy5tb2RpZmllZERvY3VtZW50cz1yLHRoaXMucmVtb3ZlZERvY3VtZW50cz1pfWZ1bmN0aW9uIGVhKHQsZSxuLHIsaSl7dGhpcy5zbmFwc2hvdFZlcnNpb249dCx0aGlzLnRhcmdldENoYW5nZXM9ZSx0aGlzLnRhcmdldE1pc21hdGNoZXM9bix0aGlzLmRvY3VtZW50VXBkYXRlcz1yLHRoaXMucmVzb2x2ZWRMaW1ib0RvY3VtZW50cz1pfWZ1bmN0aW9uIG5hKCl7cmV0dXJuIG5ldyBEcyhiaS5jb21wYXJhdG9yKX1mdW5jdGlvbiByYSgpe3JldHVybiBuZXcgRHMoYmkuY29tcGFyYXRvcil9dmFyIGlhPXthc2M6XCJBU0NFTkRJTkdcIixkZXNjOlwiREVTQ0VORElOR1wifSxvYT17XCI8XCI6XCJMRVNTX1RIQU5cIixcIjw9XCI6XCJMRVNTX1RIQU5fT1JfRVFVQUxcIixcIj5cIjpcIkdSRUFURVJfVEhBTlwiLFwiPj1cIjpcIkdSRUFURVJfVEhBTl9PUl9FUVVBTFwiLFwiPT1cIjpcIkVRVUFMXCIsXCIhPVwiOlwiTk9UX0VRVUFMXCIsXCJhcnJheS1jb250YWluc1wiOlwiQVJSQVlfQ09OVEFJTlNcIixpbjpcIklOXCIsXCJub3QtaW5cIjpcIk5PVF9JTlwiLFwiYXJyYXktY29udGFpbnMtYW55XCI6XCJBUlJBWV9DT05UQUlOU19BTllcIn0sc2E9ZnVuY3Rpb24odCxlKXt0aGlzLmRhdGFiYXNlSWQ9dCx0aGlzLkk9ZX07ZnVuY3Rpb24gYWEodCxlKXtyZXR1cm4gdC5JP25ldyBEYXRlKDFlMyplLnNlY29uZHMpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXFwuXFxkKi8sXCJcIikucmVwbGFjZShcIlpcIixcIlwiKStcIi5cIisoXCIwMDAwMDAwMDBcIitlLm5hbm9zZWNvbmRzKS5zbGljZSgtOSkrXCJaXCI6e3NlY29uZHM6XCJcIitlLnNlY29uZHMsbmFub3M6ZS5uYW5vc2Vjb25kc319ZnVuY3Rpb24gdWEodCxlKXtyZXR1cm4gdC5JP2UudG9CYXNlNjQoKTplLnRvVWludDhBcnJheSgpfWZ1bmN0aW9uIGNhKHQpe3JldHVybiBVcighIXQpLHpyLmZyb21UaW1lc3RhbXAoKHQ9bGkodCksbmV3IFFyKHQuc2Vjb25kcyx0Lm5hbm9zKSkpfWZ1bmN0aW9uIGhhKHQsZSl7cmV0dXJuIG5ldyB0aShbXCJwcm9qZWN0c1wiLHQucHJvamVjdElkLFwiZGF0YWJhc2VzXCIsdC5kYXRhYmFzZV0pLmNoaWxkKFwiZG9jdW1lbnRzXCIpLmNoaWxkKGUpLmNhbm9uaWNhbFN0cmluZygpfWZ1bmN0aW9uIGxhKHQpe3Q9dGkuZnJvbVN0cmluZyh0KTtyZXR1cm4gVXIoUmEodCkpLHR9ZnVuY3Rpb24gZmEodCxlKXtyZXR1cm4gaGEodC5kYXRhYmFzZUlkLGUucGF0aCl9ZnVuY3Rpb24gZGEodCxlKXtlPWxhKGUpO2lmKGUuZ2V0KDEpIT09dC5kYXRhYmFzZUlkLnByb2plY3RJZCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIlRyaWVkIHRvIGRlc2VyaWFsaXplIGtleSBmcm9tIGRpZmZlcmVudCBwcm9qZWN0OiBcIitlLmdldCgxKStcIiB2cyBcIit0LmRhdGFiYXNlSWQucHJvamVjdElkKTtpZihlLmdldCgzKSE9PXQuZGF0YWJhc2VJZC5kYXRhYmFzZSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIlRyaWVkIHRvIGRlc2VyaWFsaXplIGtleSBmcm9tIGRpZmZlcmVudCBkYXRhYmFzZTogXCIrZS5nZXQoMykrXCIgdnMgXCIrdC5kYXRhYmFzZUlkLmRhdGFiYXNlKTtyZXR1cm4gbmV3IGJpKG1hKGUpKX1mdW5jdGlvbiBwYSh0LGUpe3JldHVybiBoYSh0LmRhdGFiYXNlSWQsZSl9ZnVuY3Rpb24geWEodCl7dD1sYSh0KTtyZXR1cm4gND09PXQubGVuZ3RoP3RpLmVtcHR5UGF0aCgpOm1hKHQpfWZ1bmN0aW9uIGdhKHQpe3JldHVybiBuZXcgdGkoW1wicHJvamVjdHNcIix0LmRhdGFiYXNlSWQucHJvamVjdElkLFwiZGF0YWJhc2VzXCIsdC5kYXRhYmFzZUlkLmRhdGFiYXNlXSkuY2Fub25pY2FsU3RyaW5nKCl9ZnVuY3Rpb24gbWEodCl7cmV0dXJuIFVyKDQ8dC5sZW5ndGgmJlwiZG9jdW1lbnRzXCI9PT10LmdldCg0KSksdC5wb3BGaXJzdCg1KX1mdW5jdGlvbiB2YSh0LGUsbil7cmV0dXJue25hbWU6ZmEodCxlKSxmaWVsZHM6bi50b1Byb3RvKCkubWFwVmFsdWUuZmllbGRzfX1mdW5jdGlvbiBiYSh0LGUsbil7dmFyIHI9ZGEodCxlLm5hbWUpLHQ9Y2EoZS51cGRhdGVUaW1lKSxlPW5ldyBPaSh7bWFwVmFsdWU6e2ZpZWxkczplLmZpZWxkc319KSxlPVBpLm5ld0ZvdW5kRG9jdW1lbnQocix0LGUpO3JldHVybiBuJiZlLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpLG4/ZS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTplfWZ1bmN0aW9uIHdhKHQsZSl7dmFyIG4scixpO2lmKGUgaW5zdGFuY2VvZiBscyluPXt1cGRhdGU6dmEodCxlLmtleSxlLnZhbHVlKX07ZWxzZSBpZihlIGluc3RhbmNlb2YgVHMpbj17ZGVsZXRlOmZhKHQsZS5rZXkpfTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBmcyluPXt1cGRhdGU6dmEodCxlLmtleSxlLmRhdGEpLHVwZGF0ZU1hc2s6KGk9ZS5maWVsZE1hc2sscj1bXSxpLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiByLnB1c2godC5jYW5vbmljYWxTdHJpbmcoKSl9KSx7ZmllbGRQYXRoczpyfSl9O2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgSXMpKXJldHVybiBWcigpO249e3ZlcmlmeTpmYSh0LGUua2V5KX19cmV0dXJuIDA8ZS5maWVsZFRyYW5zZm9ybXMubGVuZ3RoJiYobi51cGRhdGVUcmFuc2Zvcm1zPWUuZmllbGRUcmFuc2Zvcm1zLm1hcChmdW5jdGlvbih0KXt2YXIgZT10LnRyYW5zZm9ybTtpZihlIGluc3RhbmNlb2YgQm8pcmV0dXJue2ZpZWxkUGF0aDp0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLHNldFRvU2VydmVyVmFsdWU6XCJSRVFVRVNUX1RJTUVcIn07aWYoZSBpbnN0YW5jZW9mIGpvKXJldHVybntmaWVsZFBhdGg6dC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxhcHBlbmRNaXNzaW5nRWxlbWVudHM6e3ZhbHVlczplLmVsZW1lbnRzfX07aWYoZSBpbnN0YW5jZW9mIEhvKXJldHVybntmaWVsZFBhdGg6dC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxyZW1vdmVBbGxGcm9tQXJyYXk6e3ZhbHVlczplLmVsZW1lbnRzfX07aWYoZSBpbnN0YW5jZW9mIEpvKXJldHVybntmaWVsZFBhdGg6dC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxpbmNyZW1lbnQ6ZS5BfTt0aHJvdyBWcigpfSkpLGUucHJlY29uZGl0aW9uLmlzTm9uZXx8KG4uY3VycmVudERvY3VtZW50PXZvaWQgMCE9PShpPWUucHJlY29uZGl0aW9uKS51cGRhdGVUaW1lP3t1cGRhdGVUaW1lOihlPXQsdD1pLnVwZGF0ZVRpbWUsYWEoZSx0LnRvVGltZXN0YW1wKCkpKX06dm9pZCAwIT09aS5leGlzdHM/e2V4aXN0czppLmV4aXN0c306VnIoKSksbn1mdW5jdGlvbiBFYShlLHQpe3ZhciBuPXQuY3VycmVudERvY3VtZW50P3ZvaWQgMCE9PShzPXQuY3VycmVudERvY3VtZW50KS51cGRhdGVUaW1lP3JzLnVwZGF0ZVRpbWUoY2Eocy51cGRhdGVUaW1lKSk6dm9pZCAwIT09cy5leGlzdHM/cnMuZXhpc3RzKHMuZXhpc3RzKTpycy5ub25lKCk6cnMubm9uZSgpLHI9dC51cGRhdGVUcmFuc2Zvcm1zP3QudXBkYXRlVHJhbnNmb3Jtcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dmFyIG4scj1udWxsO1wic2V0VG9TZXJ2ZXJWYWx1ZVwiaW4gZT8oVXIoXCJSRVFVRVNUX1RJTUVcIj09PWUuc2V0VG9TZXJ2ZXJWYWx1ZSkscj1uZXcgQm8pOlwiYXBwZW5kTWlzc2luZ0VsZW1lbnRzXCJpbiBlPyhuPWUuYXBwZW5kTWlzc2luZ0VsZW1lbnRzLnZhbHVlc3x8W10scj1uZXcgam8obikpOlwicmVtb3ZlQWxsRnJvbUFycmF5XCJpbiBlPyhuPWUucmVtb3ZlQWxsRnJvbUFycmF5LnZhbHVlc3x8W10scj1uZXcgSG8obikpOlwiaW5jcmVtZW50XCJpbiBlP3I9bmV3IEpvKHQsZS5pbmNyZW1lbnQpOlZyKCk7ZT1uaS5mcm9tU2VydmVyRm9ybWF0KGUuZmllbGRQYXRoKTtyZXR1cm4gbmV3IG5zKGUscil9KGUsdCl9KTpbXTtpZih0LnVwZGF0ZSl7dC51cGRhdGUubmFtZTt2YXIgaT1kYShlLHQudXBkYXRlLm5hbWUpLG89bmV3IE9pKHttYXBWYWx1ZTp7ZmllbGRzOnQudXBkYXRlLmZpZWxkc319KTtpZih0LnVwZGF0ZU1hc2spe3ZhciBzPShzPXQudXBkYXRlTWFzay5maWVsZFBhdGhzfHxbXSxuZXcgcmkocy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5pLmZyb21TZXJ2ZXJGb3JtYXQodCl9KSkpO3JldHVybiBuZXcgZnMoaSxvLHMsbixyKX1yZXR1cm4gbmV3IGxzKGksbyxuLHIpfWlmKHQuZGVsZXRlKXtyPWRhKGUsdC5kZWxldGUpO3JldHVybiBuZXcgVHMocixuKX1pZih0LnZlcmlmeSl7dD1kYShlLHQudmVyaWZ5KTtyZXR1cm4gbmV3IElzKHQsbil9cmV0dXJuIFZyKCl9ZnVuY3Rpb24gVGEodCxlKXtyZXR1cm57ZG9jdW1lbnRzOltwYSh0LGUucGF0aCldfX1mdW5jdGlvbiBJYSh0LGUpe3ZhciBuPXtzdHJ1Y3R1cmVkUXVlcnk6e319LHI9ZS5wYXRoO251bGwhPT1lLmNvbGxlY3Rpb25Hcm91cD8obi5wYXJlbnQ9cGEodCxyKSxuLnN0cnVjdHVyZWRRdWVyeS5mcm9tPVt7Y29sbGVjdGlvbklkOmUuY29sbGVjdGlvbkdyb3VwLGFsbERlc2NlbmRhbnRzOiEwfV0pOihuLnBhcmVudD1wYSh0LHIucG9wTGFzdCgpKSxuLnN0cnVjdHVyZWRRdWVyeS5mcm9tPVt7Y29sbGVjdGlvbklkOnIubGFzdFNlZ21lbnQoKX1dKTtyPWZ1bmN0aW9uKHQpe2lmKDAhPT10Lmxlbmd0aCl7dD10Lm1hcChmdW5jdGlvbih0KXtpZihcIj09XCI9PT10Lm9wKXtpZihSaSh0LnZhbHVlKSlyZXR1cm57dW5hcnlGaWx0ZXI6e2ZpZWxkOk5hKHQuZmllbGQpLG9wOlwiSVNfTkFOXCJ9fTtpZihraSh0LnZhbHVlKSlyZXR1cm57dW5hcnlGaWx0ZXI6e2ZpZWxkOk5hKHQuZmllbGQpLG9wOlwiSVNfTlVMTFwifX19ZWxzZSBpZihcIiE9XCI9PT10Lm9wKXtpZihSaSh0LnZhbHVlKSlyZXR1cm57dW5hcnlGaWx0ZXI6e2ZpZWxkOk5hKHQuZmllbGQpLG9wOlwiSVNfTk9UX05BTlwifX07aWYoa2kodC52YWx1ZSkpcmV0dXJue3VuYXJ5RmlsdGVyOntmaWVsZDpOYSh0LmZpZWxkKSxvcDpcIklTX05PVF9OVUxMXCJ9fX1yZXR1cm57ZmllbGRGaWx0ZXI6e2ZpZWxkOk5hKHQuZmllbGQpLG9wOihlPXQub3Asb2FbZV0pLHZhbHVlOnQudmFsdWV9fTt2YXIgZX0pO3JldHVybiAxPT09dC5sZW5ndGg/dFswXTp7Y29tcG9zaXRlRmlsdGVyOntvcDpcIkFORFwiLGZpbHRlcnM6dH19fX0oZS5maWx0ZXJzKTtyJiYobi5zdHJ1Y3R1cmVkUXVlcnkud2hlcmU9cik7cj1mdW5jdGlvbih0KXtpZigwIT09dC5sZW5ndGgpcmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybntmaWVsZDpOYSgodD10KS5maWVsZCksZGlyZWN0aW9uOih0PXQuZGlyLGlhW3RdKX19KX0oZS5vcmRlckJ5KTtyJiYobi5zdHJ1Y3R1cmVkUXVlcnkub3JkZXJCeT1yKTtyPWUubGltaXQscj10Lkl8fGdpKHIpP3I6e3ZhbHVlOnJ9O3JldHVybiBudWxsIT09ciYmKG4uc3RydWN0dXJlZFF1ZXJ5LmxpbWl0PXIpLGUuc3RhcnRBdCYmKG4uc3RydWN0dXJlZFF1ZXJ5LnN0YXJ0QXQ9U2EoZS5zdGFydEF0KSksZS5lbmRBdCYmKG4uc3RydWN0dXJlZFF1ZXJ5LmVuZEF0PVNhKGUuZW5kQXQpKSxufWZ1bmN0aW9uIF9hKHQpe3ZhciBlPXlhKHQucGFyZW50KSxuPXQuc3RydWN0dXJlZFF1ZXJ5LHI9bi5mcm9tP24uZnJvbS5sZW5ndGg6MCxpPW51bGw7MDxyJiYoVXIoMT09PXIpLChhPW4uZnJvbVswXSkuYWxsRGVzY2VuZGFudHM/aT1hLmNvbGxlY3Rpb25JZDplPWUuY2hpbGQoYS5jb2xsZWN0aW9uSWQpKTt2YXIgbz1bXTtuLndoZXJlJiYobz1mdW5jdGlvbiBlKHQpe3JldHVybiB0P3ZvaWQgMCE9PXQudW5hcnlGaWx0ZXI/W2thKHQpXTp2b2lkIDAhPT10LmZpZWxkRmlsdGVyP1tDYSh0KV06dm9pZCAwIT09dC5jb21wb3NpdGVGaWx0ZXI/dC5jb21wb3NpdGVGaWx0ZXIuZmlsdGVycy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9KS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25jYXQoZSl9KTpWcigpOltdfShuLndoZXJlKSk7dmFyIHM9W10sdD1udWxsLHI9bnVsbCxhPW51bGw7cmV0dXJuIHdvKGUsaSxzPW4ub3JkZXJCeT9uLm9yZGVyQnkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZ28oRGEoKGU9dCkuZmllbGQpLGZ1bmN0aW9uKCl7c3dpdGNoKGUuZGlyZWN0aW9uKXtjYXNlXCJBU0NFTkRJTkdcIjpyZXR1cm5cImFzY1wiO2Nhc2VcIkRFU0NFTkRJTkdcIjpyZXR1cm5cImRlc2NcIjtkZWZhdWx0OnJldHVybn19KCkpO3ZhciBlfSk6cyxvLHQ9bi5saW1pdD9naShvPVwib2JqZWN0XCI9PXR5cGVvZihvPW4ubGltaXQpP28udmFsdWU6byk/bnVsbDpvOnQsXCJGXCIscj1uLnN0YXJ0QXQ/QWEobi5zdGFydEF0KTpyLGE9bi5lbmRBdD9BYShuLmVuZEF0KTphKX1mdW5jdGlvbiBTYSh0KXtyZXR1cm57YmVmb3JlOnQuYmVmb3JlLHZhbHVlczp0LnBvc2l0aW9ufX1mdW5jdGlvbiBBYSh0KXt2YXIgZT0hIXQuYmVmb3JlLHQ9dC52YWx1ZXN8fFtdO3JldHVybiBuZXcgY28odCxlKX1mdW5jdGlvbiBOYSh0KXtyZXR1cm57ZmllbGRQYXRoOnQuY2Fub25pY2FsU3RyaW5nKCl9fWZ1bmN0aW9uIERhKHQpe3JldHVybiBuaS5mcm9tU2VydmVyRm9ybWF0KHQuZmllbGRQYXRoKX1mdW5jdGlvbiBDYSh0KXtyZXR1cm4gS2kuY3JlYXRlKERhKHQuZmllbGRGaWx0ZXIuZmllbGQpLGZ1bmN0aW9uKCl7c3dpdGNoKHQuZmllbGRGaWx0ZXIub3Ape2Nhc2VcIkVRVUFMXCI6cmV0dXJuXCI9PVwiO2Nhc2VcIk5PVF9FUVVBTFwiOnJldHVyblwiIT1cIjtjYXNlXCJHUkVBVEVSX1RIQU5cIjpyZXR1cm5cIj5cIjtjYXNlXCJHUkVBVEVSX1RIQU5fT1JfRVFVQUxcIjpyZXR1cm5cIj49XCI7Y2FzZVwiTEVTU19USEFOXCI6cmV0dXJuXCI8XCI7Y2FzZVwiTEVTU19USEFOX09SX0VRVUFMXCI6cmV0dXJuXCI8PVwiO2Nhc2VcIkFSUkFZX0NPTlRBSU5TXCI6cmV0dXJuXCJhcnJheS1jb250YWluc1wiO2Nhc2VcIklOXCI6cmV0dXJuXCJpblwiO2Nhc2VcIk5PVF9JTlwiOnJldHVyblwibm90LWluXCI7Y2FzZVwiQVJSQVlfQ09OVEFJTlNfQU5ZXCI6cmV0dXJuXCJhcnJheS1jb250YWlucy1hbnlcIjtjYXNlXCJPUEVSQVRPUl9VTlNQRUNJRklFRFwiOmRlZmF1bHQ6cmV0dXJuIFZyKCl9fSgpLHQuZmllbGRGaWx0ZXIudmFsdWUpfWZ1bmN0aW9uIGthKHQpe3N3aXRjaCh0LnVuYXJ5RmlsdGVyLm9wKXtjYXNlXCJJU19OQU5cIjp2YXIgZT1EYSh0LnVuYXJ5RmlsdGVyLmZpZWxkKTtyZXR1cm4gS2kuY3JlYXRlKGUsXCI9PVwiLHtkb3VibGVWYWx1ZTpOYU59KTtjYXNlXCJJU19OVUxMXCI6ZT1EYSh0LnVuYXJ5RmlsdGVyLmZpZWxkKTtyZXR1cm4gS2kuY3JlYXRlKGUsXCI9PVwiLHtudWxsVmFsdWU6XCJOVUxMX1ZBTFVFXCJ9KTtjYXNlXCJJU19OT1RfTkFOXCI6dmFyIG49RGEodC51bmFyeUZpbHRlci5maWVsZCk7cmV0dXJuIEtpLmNyZWF0ZShuLFwiIT1cIix7ZG91YmxlVmFsdWU6TmFOfSk7Y2FzZVwiSVNfTk9UX05VTExcIjpuPURhKHQudW5hcnlGaWx0ZXIuZmllbGQpO3JldHVybiBLaS5jcmVhdGUobixcIiE9XCIse251bGxWYWx1ZTpcIk5VTExfVkFMVUVcIn0pO2Nhc2VcIk9QRVJBVE9SX1VOU1BFQ0lGSUVEXCI6ZGVmYXVsdDpyZXR1cm4gVnIoKX19ZnVuY3Rpb24gUmEodCl7cmV0dXJuIDQ8PXQubGVuZ3RoJiZcInByb2plY3RzXCI9PT10LmdldCgwKSYmXCJkYXRhYmFzZXNcIj09PXQuZ2V0KDIpfWZ1bmN0aW9uIHhhKHQpe2Zvcih2YXIgZT1cIlwiLG49MDtuPHQubGVuZ3RoO24rKykwPGUubGVuZ3RoJiYoZT1PYShlKSksZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1lLHI9dC5sZW5ndGgsaT0wO2k8cjtpKyspe3ZhciBvPXQuY2hhckF0KGkpO3N3aXRjaChvKXtjYXNlXCJcXDBcIjpuKz1cIlxceDAxXFx4MTBcIjticmVhaztjYXNlXCJcXHgwMVwiOm4rPVwiXFx4MDFcXHgxMVwiO2JyZWFrO2RlZmF1bHQ6bis9b319cmV0dXJuIG59KHQuZ2V0KG4pLGUpO3JldHVybiBPYShlKX1mdW5jdGlvbiBPYSh0KXtyZXR1cm4gdCtcIlxceDAxXFx4MDFcIn1mdW5jdGlvbiBMYSh0KXt2YXIgZT10Lmxlbmd0aDtpZihVcigyPD1lKSwyPT09ZSlyZXR1cm4gVXIoXCJcXHgwMVwiPT09dC5jaGFyQXQoMCkmJlwiXFx4MDFcIj09PXQuY2hhckF0KDEpKSx0aS5lbXB0eVBhdGgoKTtmb3IodmFyIG49ZS0yLHI9W10saT1cIlwiLG89MDtvPGU7KXt2YXIgcz10LmluZGV4T2YoXCJcXHgwMVwiLG8pO3N3aXRjaCgoczwwfHxuPHMpJiZWcigpLHQuY2hhckF0KHMrMSkpe2Nhc2VcIlxceDAxXCI6dmFyIGE9dC5zdWJzdHJpbmcobyxzKSx1PXZvaWQgMDswPT09aS5sZW5ndGg/dT1hOih1PWkrPWEsaT1cIlwiKSxyLnB1c2godSk7YnJlYWs7Y2FzZVwiXFx4MTBcIjppKz10LnN1YnN0cmluZyhvLHMpLGkrPVwiXFwwXCI7YnJlYWs7Y2FzZVwiXFx4MTFcIjppKz10LnN1YnN0cmluZyhvLHMrMSk7YnJlYWs7ZGVmYXVsdDpWcigpfW89cysyfXJldHVybiBuZXcgdGkocil9ZnVuY3Rpb24gUGEodCxlLG4pe3RoaXMub3duZXJJZD10LHRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb249ZSx0aGlzLmxlYXNlVGltZXN0YW1wTXM9bn12YXIgTWE9ZnVuY3Rpb24odCxlKXt0aGlzLnNlY29uZHM9dCx0aGlzLm5hbm9zZWNvbmRzPWV9O1BhLnN0b3JlPVwib3duZXJcIixQYS5rZXk9XCJvd25lclwiO2Z1bmN0aW9uIEZhKHQsZSxuKXt0aGlzLnVzZXJJZD10LHRoaXMubGFzdEFja25vd2xlZGdlZEJhdGNoSWQ9ZSx0aGlzLmxhc3RTdHJlYW1Ub2tlbj1ufUZhLnN0b3JlPVwibXV0YXRpb25RdWV1ZXNcIixGYS5rZXlQYXRoPVwidXNlcklkXCI7ZnVuY3Rpb24gVmEodCxlLG4scixpKXt0aGlzLnVzZXJJZD10LHRoaXMuYmF0Y2hJZD1lLHRoaXMubG9jYWxXcml0ZVRpbWVNcz1uLHRoaXMuYmFzZU11dGF0aW9ucz1yLHRoaXMubXV0YXRpb25zPWl9VmEuc3RvcmU9XCJtdXRhdGlvbnNcIixWYS5rZXlQYXRoPVwiYmF0Y2hJZFwiLFZhLnVzZXJNdXRhdGlvbnNJbmRleD1cInVzZXJNdXRhdGlvbnNJbmRleFwiLFZhLnVzZXJNdXRhdGlvbnNLZXlQYXRoPVtcInVzZXJJZFwiLFwiYmF0Y2hJZFwiXTt2YXIgVWE9KHFhLnByZWZpeEZvclVzZXI9ZnVuY3Rpb24odCl7cmV0dXJuW3RdfSxxYS5wcmVmaXhGb3JQYXRoPWZ1bmN0aW9uKHQsZSl7cmV0dXJuW3QseGEoZSldfSxxYS5rZXk9ZnVuY3Rpb24odCxlLG4pe3JldHVyblt0LHhhKGUpLG5dfSxxYSk7ZnVuY3Rpb24gcWEoKXt9VWEuc3RvcmU9XCJkb2N1bWVudE11dGF0aW9uc1wiLFVhLlBMQUNFSE9MREVSPW5ldyBVYTtmdW5jdGlvbiBCYSh0LGUpe3RoaXMucGF0aD10LHRoaXMucmVhZFRpbWU9ZX1mdW5jdGlvbiBqYSh0LGUpe3RoaXMucGF0aD10LHRoaXMudmVyc2lvbj1lfXZhciBLYT1mdW5jdGlvbih0LGUsbixyLGksbyl7dGhpcy51bmtub3duRG9jdW1lbnQ9dCx0aGlzLm5vRG9jdW1lbnQ9ZSx0aGlzLmRvY3VtZW50PW4sdGhpcy5oYXNDb21taXR0ZWRNdXRhdGlvbnM9cix0aGlzLnJlYWRUaW1lPWksdGhpcy5wYXJlbnRQYXRoPW99O0thLnN0b3JlPVwicmVtb3RlRG9jdW1lbnRzXCIsS2EucmVhZFRpbWVJbmRleD1cInJlYWRUaW1lSW5kZXhcIixLYS5yZWFkVGltZUluZGV4UGF0aD1cInJlYWRUaW1lXCIsS2EuY29sbGVjdGlvblJlYWRUaW1lSW5kZXg9XCJjb2xsZWN0aW9uUmVhZFRpbWVJbmRleFwiLEthLmNvbGxlY3Rpb25SZWFkVGltZUluZGV4UGF0aD1bXCJwYXJlbnRQYXRoXCIsXCJyZWFkVGltZVwiXTtmdW5jdGlvbiBHYSh0KXt0aGlzLmJ5dGVTaXplPXR9R2Euc3RvcmU9XCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiLEdhLmtleT1cInJlbW90ZURvY3VtZW50R2xvYmFsS2V5XCI7ZnVuY3Rpb24gUWEodCxlLG4scixpLG8scyl7dGhpcy50YXJnZXRJZD10LHRoaXMuY2Fub25pY2FsSWQ9ZSx0aGlzLnJlYWRUaW1lPW4sdGhpcy5yZXN1bWVUb2tlbj1yLHRoaXMubGFzdExpc3RlblNlcXVlbmNlTnVtYmVyPWksdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uPW8sdGhpcy5xdWVyeT1zfVFhLnN0b3JlPVwidGFyZ2V0c1wiLFFhLmtleVBhdGg9XCJ0YXJnZXRJZFwiLFFhLnF1ZXJ5VGFyZ2V0c0luZGV4TmFtZT1cInF1ZXJ5VGFyZ2V0c0luZGV4XCIsUWEucXVlcnlUYXJnZXRzS2V5UGF0aD1bXCJjYW5vbmljYWxJZFwiLFwidGFyZ2V0SWRcIl07dmFyIHphPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnRhcmdldElkPXQsdGhpcy5wYXRoPWUsdGhpcy5zZXF1ZW5jZU51bWJlcj1ufTt6YS5zdG9yZT1cInRhcmdldERvY3VtZW50c1wiLHphLmtleVBhdGg9W1widGFyZ2V0SWRcIixcInBhdGhcIl0semEuZG9jdW1lbnRUYXJnZXRzSW5kZXg9XCJkb2N1bWVudFRhcmdldHNJbmRleFwiLHphLmRvY3VtZW50VGFyZ2V0c0tleVBhdGg9W1wicGF0aFwiLFwidGFyZ2V0SWRcIl07ZnVuY3Rpb24gSGEodCxlLG4scil7dGhpcy5oaWdoZXN0VGFyZ2V0SWQ9dCx0aGlzLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcj1lLHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1uLHRoaXMudGFyZ2V0Q291bnQ9cn1IYS5rZXk9XCJ0YXJnZXRHbG9iYWxLZXlcIixIYS5zdG9yZT1cInRhcmdldEdsb2JhbFwiO2Z1bmN0aW9uIFdhKHQsZSl7dGhpcy5jb2xsZWN0aW9uSWQ9dCx0aGlzLnBhcmVudD1lfVdhLnN0b3JlPVwiY29sbGVjdGlvblBhcmVudHNcIixXYS5rZXlQYXRoPVtcImNvbGxlY3Rpb25JZFwiLFwicGFyZW50XCJdO2Z1bmN0aW9uIFlhKHQsZSxuLHIpe3RoaXMuY2xpZW50SWQ9dCx0aGlzLnVwZGF0ZVRpbWVNcz1lLHRoaXMubmV0d29ya0VuYWJsZWQ9bix0aGlzLmluRm9yZWdyb3VuZD1yfVlhLnN0b3JlPVwiY2xpZW50TWV0YWRhdGFcIixZYS5rZXlQYXRoPVwiY2xpZW50SWRcIjtmdW5jdGlvbiBYYSh0LGUsbil7dGhpcy5idW5kbGVJZD10LHRoaXMuY3JlYXRlVGltZT1lLHRoaXMudmVyc2lvbj1ufVhhLnN0b3JlPVwiYnVuZGxlc1wiLFhhLmtleVBhdGg9XCJidW5kbGVJZFwiO2Z1bmN0aW9uIEphKHQsZSxuKXt0aGlzLm5hbWU9dCx0aGlzLnJlYWRUaW1lPWUsdGhpcy5idW5kbGVkUXVlcnk9bn1KYS5zdG9yZT1cIm5hbWVkUXVlcmllc1wiLEphLmtleVBhdGg9XCJuYW1lXCI7dmFyICRhLFphPXMocyhbXSxzKHMoW10scyhzKFtdLHMocyhbXSxbRmEuc3RvcmUsVmEuc3RvcmUsVWEuc3RvcmUsS2Euc3RvcmUsUWEuc3RvcmUsUGEuc3RvcmUsSGEuc3RvcmUsemEuc3RvcmVdKSxbWWEuc3RvcmVdKSksW0dhLnN0b3JlXSkpLFtXYS5zdG9yZV0pKSxbWGEuc3RvcmUsSmEuc3RvcmVdKSx0dT1cIlRoZSBjdXJyZW50IHRhYiBpcyBub3QgaW4gdGhlIHJlcXVpcmVkIHN0YXRlIHRvIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24uIEl0IG1pZ2h0IGJlIG5lY2Vzc2FyeSB0byByZWZyZXNoIHRoZSBicm93c2VyIHRhYi5cIixTZT0oZnUucHJvdG90eXBlLmFkZE9uQ29tbWl0dGVkTGlzdGVuZXI9ZnVuY3Rpb24odCl7dGhpcy5vbkNvbW1pdHRlZExpc3RlbmVycy5wdXNoKHQpfSxmdS5wcm90b3R5cGUucmFpc2VPbkNvbW1pdHRlZEV2ZW50PWZ1bmN0aW9uKCl7dGhpcy5vbkNvbW1pdHRlZExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KCl9KX0sZnUpLGV1PWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLnByb21pc2U9bmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXtuLnJlc29sdmU9dCxuLnJlamVjdD1lfSl9LG51PShsdS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmV4dCh2b2lkIDAsdCl9LGx1LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHIsaSl7dmFyIG89dGhpcztyZXR1cm4gdGhpcy5jYWxsYmFja0F0dGFjaGVkJiZWcigpLHRoaXMuY2FsbGJhY2tBdHRhY2hlZD0hMCx0aGlzLmlzRG9uZT90aGlzLmVycm9yP3RoaXMud3JhcEZhaWx1cmUoaSx0aGlzLmVycm9yKTp0aGlzLndyYXBTdWNjZXNzKHIsdGhpcy5yZXN1bHQpOm5ldyBsdShmdW5jdGlvbihlLG4pe28ubmV4dENhbGxiYWNrPWZ1bmN0aW9uKHQpe28ud3JhcFN1Y2Nlc3Mocix0KS5uZXh0KGUsbil9LG8uY2F0Y2hDYWxsYmFjaz1mdW5jdGlvbih0KXtvLndyYXBGYWlsdXJlKGksdCkubmV4dChlLG4pfX0pfSxsdS5wcm90b3R5cGUudG9Qcm9taXNlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxlKXtuLm5leHQodCxlKX0pfSxsdS5wcm90b3R5cGUud3JhcFVzZXJGdW5jdGlvbj1mdW5jdGlvbih0KXt0cnl7dmFyIGU9dCgpO3JldHVybiBlIGluc3RhbmNlb2YgbHU/ZTpsdS5yZXNvbHZlKGUpfWNhdGNoKHQpe3JldHVybiBsdS5yZWplY3QodCl9fSxsdS5wcm90b3R5cGUud3JhcFN1Y2Nlc3M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD90aGlzLndyYXBVc2VyRnVuY3Rpb24oZnVuY3Rpb24oKXtyZXR1cm4gdChlKX0pOmx1LnJlc29sdmUoZSl9LGx1LnByb3RvdHlwZS53cmFwRmFpbHVyZT1mdW5jdGlvbih0LGUpe3JldHVybiB0P3RoaXMud3JhcFVzZXJGdW5jdGlvbihmdW5jdGlvbigpe3JldHVybiB0KGUpfSk6bHUucmVqZWN0KGUpfSxsdS5yZXNvbHZlPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgbHUoZnVuY3Rpb24odCxlKXt0KG4pfSl9LGx1LnJlamVjdD1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IGx1KGZ1bmN0aW9uKHQsZSl7ZShuKX0pfSxsdS53YWl0Rm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbHUoZnVuY3Rpb24oZSxuKXt2YXIgcj0wLGk9MCxvPSExO3QuZm9yRWFjaChmdW5jdGlvbih0KXsrK3IsdC5uZXh0KGZ1bmN0aW9uKCl7KytpLG8mJmk9PT1yJiZlKCl9LGZ1bmN0aW9uKHQpe3JldHVybiBuKHQpfSl9KSxvPSEwLGk9PT1yJiZlKCl9KX0sbHUub3I9ZnVuY3Rpb24odCl7Zm9yKHZhciBuPWx1LnJlc29sdmUoITEpLGU9MCxyPXQ7ZTxyLmxlbmd0aDtlKyspIWZ1bmN0aW9uKGUpe249bi5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0P2x1LnJlc29sdmUodCk6ZSgpfSl9KHJbZV0pO3JldHVybiBufSxsdS5mb3JFYWNoPWZ1bmN0aW9uKHQsbil7dmFyIHI9dGhpcyxpPVtdO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxlKXtpLnB1c2gobi5jYWxsKHIsdCxlKSl9KSx0aGlzLndhaXRGb3IoaSl9LGx1KSxydT0oaHUub3Blbj1mdW5jdGlvbih0LGUsbixyKXt0cnl7cmV0dXJuIG5ldyBodShlLHQudHJhbnNhY3Rpb24ocixuKSl9Y2F0Y2godCl7dGhyb3cgbmV3IHN1KGUsdCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaHUucHJvdG90eXBlLFwiZHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnQucHJvbWlzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxodS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24odCl7dCYmdGhpcy5mdC5yZWplY3QodCksdGhpcy5hYm9ydGVkfHwoTHIoXCJTaW1wbGVEYlwiLFwiQWJvcnRpbmcgdHJhbnNhY3Rpb246XCIsdD90Lm1lc3NhZ2U6XCJDbGllbnQtaW5pdGlhdGVkIGFib3J0XCIpLHRoaXMuYWJvcnRlZD0hMCx0aGlzLnRyYW5zYWN0aW9uLmFib3J0KCkpfSxodS5wcm90b3R5cGUuc3RvcmU9ZnVuY3Rpb24odCl7dD10aGlzLnRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHQpO3JldHVybiBuZXcgcHUodCl9LGh1KSxpdT0oY3UuZGVsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiBMcihcIlNpbXBsZURiXCIsXCJSZW1vdmluZyBkYXRhYmFzZTpcIix0KSxndSh3aW5kb3cuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKHQpKS50b1Byb21pc2UoKX0sY3UueXQ9ZnVuY3Rpb24oKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgaW5kZXhlZERCKXJldHVybiExO2lmKGN1Lmd0KCkpcmV0dXJuITA7dmFyIHQ9aCgpLGU9Y3UuX3QodCksbj0wPGUmJmU8MTAsZT1jdS5FdCh0KSxlPTA8ZSYmZTw0LjU7cmV0dXJuISgwPHQuaW5kZXhPZihcIk1TSUUgXCIpfHwwPHQuaW5kZXhPZihcIlRyaWRlbnQvXCIpfHwwPHQuaW5kZXhPZihcIkVkZ2UvXCIpfHxufHxlKX0sY3UuZ3Q9ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmXCJZRVNcIj09PShudWxsPT09KHQ9cHJvY2Vzcy5lbnYpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LlR0KX0sY3UuSXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5zdG9yZShlKX0sY3UuX3Q9ZnVuY3Rpb24odCl7dD10Lm1hdGNoKC9pKD86cGhvbmV8cGFkfHBvZCkgb3MgKFtcXGRfXSspL2kpLHQ9dD90WzFdLnNwbGl0KFwiX1wiKS5zbGljZSgwLDIpLmpvaW4oXCIuXCIpOlwiLTFcIjtyZXR1cm4gTnVtYmVyKHQpfSxjdS5FdD1mdW5jdGlvbih0KXt0PXQubWF0Y2goL0FuZHJvaWQgKFtcXGQuXSspL2kpLHQ9dD90WzFdLnNwbGl0KFwiLlwiKS5zbGljZSgwLDIpLmpvaW4oXCIuXCIpOlwiLTFcIjtyZXR1cm4gTnVtYmVyKHQpfSxjdS5wcm90b3R5cGUuQXQ9ZnVuY3Rpb24obyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsaT10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYj9bMywyXTooTHIoXCJTaW1wbGVEYlwiLFwiT3BlbmluZyBkYXRhYmFzZTpcIix0aGlzLm5hbWUpLGU9dGhpcyxbNCxuZXcgUHJvbWlzZShmdW5jdGlvbihlLG4pe3ZhciByPWluZGV4ZWREQi5vcGVuKGkubmFtZSxpLnZlcnNpb24pO3Iub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3Q9dC50YXJnZXQucmVzdWx0O2UodCl9LHIub25ibG9ja2VkPWZ1bmN0aW9uKCl7bihuZXcgc3UobyxcIkNhbm5vdCB1cGdyYWRlIEluZGV4ZWREQiBzY2hlbWEgd2hpbGUgYW5vdGhlciB0YWIgaXMgb3Blbi4gQ2xvc2UgYWxsIHRhYnMgdGhhdCBhY2Nlc3MgRmlyZXN0b3JlIGFuZCByZWxvYWQgdGhpcyBwYWdlIHRvIHByb2NlZWQuXCIpKX0sci5vbmVycm9yPWZ1bmN0aW9uKHQpe3Q9dC50YXJnZXQuZXJyb3I7XCJWZXJzaW9uRXJyb3JcIj09PXQubmFtZT9uKG5ldyBrcihDci5GQUlMRURfUFJFQ09ORElUSU9OLFwiQSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBGaXJlc3RvcmUgU0RLIHdhcyBwcmV2aW91c2x5IHVzZWQgYW5kIHNvIHRoZSBwZXJzaXN0ZWQgZGF0YSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIHRoZSB2ZXJzaW9uIG9mIHRoZSBTREsgeW91IGFyZSBub3cgdXNpbmcuIFRoZSBTREsgd2lsbCBvcGVyYXRlIHdpdGggcGVyc2lzdGVuY2UgZGlzYWJsZWQuIElmIHlvdSBuZWVkIHBlcnNpc3RlbmNlLCBwbGVhc2UgcmUtdXBncmFkZSB0byBhIG5ld2VyIHZlcnNpb24gb2YgdGhlIFNESyBvciBlbHNlIGNsZWFyIHRoZSBwZXJzaXN0ZWQgSW5kZXhlZERCIGRhdGEgZm9yIHlvdXIgYXBwIHRvIHN0YXJ0IGZyZXNoLlwiKSk6bihuZXcgc3Uobyx0KSl9LHIub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKHQpe0xyKFwiU2ltcGxlRGJcIiwnRGF0YWJhc2UgXCInK2kubmFtZSsnXCIgcmVxdWlyZXMgdXBncmFkZSBmcm9tIHZlcnNpb246Jyx0Lm9sZFZlcnNpb24pO3ZhciBlPXQudGFyZ2V0LnJlc3VsdDtpLnd0LlJ0KGUsci50cmFuc2FjdGlvbix0Lm9sZFZlcnNpb24saS52ZXJzaW9uKS5uZXh0KGZ1bmN0aW9uKCl7THIoXCJTaW1wbGVEYlwiLFwiRGF0YWJhc2UgdXBncmFkZSB0byB2ZXJzaW9uIFwiK2kudmVyc2lvbitcIiBjb21wbGV0ZVwiKX0pfX0pXSk7Y2FzZSAxOmUuZGI9dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMiwodGhpcy5idCYmKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiBpLmJ0KHQpfSksdGhpcy5kYildfX0pfSl9LGN1LnByb3RvdHlwZS52dD1mdW5jdGlvbihlKXt0aGlzLmJ0PWUsdGhpcy5kYiYmKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSl9LGN1LnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbihhLG4sdSxjKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaSxvLHMsZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aT1cInJlYWRvbmx5XCI9PT1uLG89MCxlPWZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDorK28sdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsNCwsNV0pLFs0LHMuQXQoYSldO2Nhc2UgMjpyZXR1cm4gcy5kYj10LnNlbnQoKSxlPXJ1Lm9wZW4ocy5kYixhLGk/XCJyZWFkb25seVwiOlwicmVhZHdyaXRlXCIsdSksbj1jKGUpLmNhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFib3J0KHQpLG51LnJlamVjdCh0KX0pLnRvUHJvbWlzZSgpLHI9e30sbi5jYXRjaChmdW5jdGlvbigpe30pLFs0LGUuZHRdO2Nhc2UgMzpyZXR1cm5bMiwoci52YWx1ZT0odC5zZW50KCksbikscildO2Nhc2UgNDpyZXR1cm4gbj10LnNlbnQoKSxyPVwiRmlyZWJhc2VFcnJvclwiIT09bi5uYW1lJiZvPDMsTHIoXCJTaW1wbGVEYlwiLFwiVHJhbnNhY3Rpb24gZmFpbGVkIHdpdGggZXJyb3I6XCIsbi5tZXNzYWdlLFwiUmV0cnlpbmc6XCIscikscy5jbG9zZSgpLHI/WzMsNV06WzIse3ZhbHVlOlByb21pc2UucmVqZWN0KG4pfV07Y2FzZSA1OnJldHVyblsyXX19KX0scz10aGlzLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuWzUsZSgpXTtjYXNlIDI6aWYoXCJvYmplY3RcIj09dHlwZW9mKGU9dC5zZW50KCkpKXJldHVyblsyLGUudmFsdWVdO3QubGFiZWw9MztjYXNlIDM6cmV0dXJuWzMsMV07Y2FzZSA0OnJldHVyblsyXX19KX0pfSxjdS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmRiJiZ0aGlzLmRiLmNsb3NlKCksdGhpcy5kYj12b2lkIDB9LGN1KSxvdT0oT2JqZWN0LmRlZmluZVByb3BlcnR5KHV1LnByb3RvdHlwZSxcImlzRG9uZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5WdH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodXUucHJvdG90eXBlLFwiRHRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuU3R9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHV1LnByb3RvdHlwZSxcImN1cnNvclwiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5QdD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHV1LnByb3RvdHlwZS5kb25lPWZ1bmN0aW9uKCl7dGhpcy5WdD0hMH0sdXUucHJvdG90eXBlLkN0PWZ1bmN0aW9uKHQpe3RoaXMuU3Q9dH0sdXUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbigpe3JldHVybiBndSh0aGlzLlB0LmRlbGV0ZSgpKX0sdXUpLHN1PShuKGF1LCRhPWtyKSxhdSk7ZnVuY3Rpb24gYXUodCxlKXt2YXIgbj10aGlzO3JldHVybihuPSRhLmNhbGwodGhpcyxDci5VTkFWQUlMQUJMRSxcIkluZGV4ZWREQiB0cmFuc2FjdGlvbiAnXCIrdCtcIicgZmFpbGVkOiBcIitlKXx8dGhpcykubmFtZT1cIkluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3JcIixufWZ1bmN0aW9uIHV1KHQpe3RoaXMuUHQ9dCx0aGlzLlZ0PSExLHRoaXMuU3Q9bnVsbH1mdW5jdGlvbiBjdSh0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy52ZXJzaW9uPWUsdGhpcy53dD1uLDEyLjI9PT1jdS5fdChoKCkpJiZQcihcIkZpcmVzdG9yZSBwZXJzaXN0ZW5jZSBzdWZmZXJzIGZyb20gYSBidWcgaW4gaU9TIDEyLjIgU2FmYXJpIHRoYXQgbWF5IGNhdXNlIHlvdXIgYXBwIHRvIHN0b3Agd29ya2luZy4gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS81NjQ5NjI5Ni8xMTA5MTUgZm9yIGRldGFpbHMgYW5kIGEgcG90ZW50aWFsIHdvcmthcm91bmQuXCIpfWZ1bmN0aW9uIGh1KGUsdCl7dmFyIG49dGhpczt0aGlzLmFjdGlvbj1lLHRoaXMudHJhbnNhY3Rpb249dCx0aGlzLmFib3J0ZWQ9ITEsdGhpcy5mdD1uZXcgZXUsdGhpcy50cmFuc2FjdGlvbi5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7bi5mdC5yZXNvbHZlKCl9LHRoaXMudHJhbnNhY3Rpb24ub25hYm9ydD1mdW5jdGlvbigpe3QuZXJyb3I/bi5mdC5yZWplY3QobmV3IHN1KGUsdC5lcnJvcikpOm4uZnQucmVzb2x2ZSgpfSx0aGlzLnRyYW5zYWN0aW9uLm9uZXJyb3I9ZnVuY3Rpb24odCl7dD12dSh0LnRhcmdldC5lcnJvcik7bi5mdC5yZWplY3QobmV3IHN1KGUsdCkpfX1mdW5jdGlvbiBsdSh0KXt2YXIgZT10aGlzO3RoaXMubmV4dENhbGxiYWNrPW51bGwsdGhpcy5jYXRjaENhbGxiYWNrPW51bGwsdGhpcy5yZXN1bHQ9dm9pZCAwLHRoaXMuZXJyb3I9dm9pZCAwLHRoaXMuaXNEb25lPSExLHRoaXMuY2FsbGJhY2tBdHRhY2hlZD0hMSx0KGZ1bmN0aW9uKHQpe2UuaXNEb25lPSEwLGUucmVzdWx0PXQsZS5uZXh0Q2FsbGJhY2smJmUubmV4dENhbGxiYWNrKHQpfSxmdW5jdGlvbih0KXtlLmlzRG9uZT0hMCxlLmVycm9yPXQsZS5jYXRjaENhbGxiYWNrJiZlLmNhdGNoQ2FsbGJhY2sodCl9KX1mdW5jdGlvbiBmdSgpe3RoaXMub25Db21taXR0ZWRMaXN0ZW5lcnM9W119ZnVuY3Rpb24gZHUodCl7cmV0dXJuXCJJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yXCI9PT10Lm5hbWV9dmFyIHB1PSh5dS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKHQsZSl7dD12b2lkIDAhPT1lPyhMcihcIlNpbXBsZURiXCIsXCJQVVRcIix0aGlzLnN0b3JlLm5hbWUsdCxlKSx0aGlzLnN0b3JlLnB1dChlLHQpKTooTHIoXCJTaW1wbGVEYlwiLFwiUFVUXCIsdGhpcy5zdG9yZS5uYW1lLFwiPGF1dG8ta2V5PlwiLHQpLHRoaXMuc3RvcmUucHV0KHQpKTtyZXR1cm4gZ3UodCl9LHl1LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7cmV0dXJuIExyKFwiU2ltcGxlRGJcIixcIkFERFwiLHRoaXMuc3RvcmUubmFtZSx0LHQpLGd1KHRoaXMuc3RvcmUuYWRkKHQpKX0seXUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXt2YXIgbj10aGlzO3JldHVybiBndSh0aGlzLnN0b3JlLmdldChlKSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksTHIoXCJTaW1wbGVEYlwiLFwiR0VUXCIsbi5zdG9yZS5uYW1lLGUsdCksdH0pfSx5dS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3JldHVybiBMcihcIlNpbXBsZURiXCIsXCJERUxFVEVcIix0aGlzLnN0b3JlLm5hbWUsdCksZ3UodGhpcy5zdG9yZS5kZWxldGUodCkpfSx5dS5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gTHIoXCJTaW1wbGVEYlwiLFwiQ09VTlRcIix0aGlzLnN0b3JlLm5hbWUpLGd1KHRoaXMuc3RvcmUuY291bnQoKSl9LHl1LnByb3RvdHlwZS5OdD1mdW5jdGlvbih0LGUpe3ZhciBlPXRoaXMuY3Vyc29yKHRoaXMub3B0aW9ucyh0LGUpKSxuPVtdO3JldHVybiB0aGlzLnh0KGUsZnVuY3Rpb24odCxlKXtuLnB1c2goZSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG59KX0seXUucHJvdG90eXBlLkZ0PWZ1bmN0aW9uKHQsZSl7THIoXCJTaW1wbGVEYlwiLFwiREVMRVRFIEFMTFwiLHRoaXMuc3RvcmUubmFtZSk7ZT10aGlzLm9wdGlvbnModCxlKTtlLmt0PSExO2U9dGhpcy5jdXJzb3IoZSk7cmV0dXJuIHRoaXMueHQoZSxmdW5jdGlvbih0LGUsbil7cmV0dXJuIG4uZGVsZXRlKCl9KX0seXUucHJvdG90eXBlLk90PWZ1bmN0aW9uKHQsZSl7ZT9uPXQ6KG49e30sZT10KTt2YXIgbj10aGlzLmN1cnNvcihuKTtyZXR1cm4gdGhpcy54dChuLGUpfSx5dS5wcm90b3R5cGUuJHQ9ZnVuY3Rpb24ocil7dmFyIHQ9dGhpcy5jdXJzb3Ioe30pO3JldHVybiBuZXcgbnUoZnVuY3Rpb24obixlKXt0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7dD12dSh0LnRhcmdldC5lcnJvcik7ZSh0KX0sdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQucmVzdWx0O2U/cihlLnByaW1hcnlLZXksZS52YWx1ZSkubmV4dChmdW5jdGlvbih0KXt0P2UuY29udGludWUoKTpuKCl9KTpuKCl9fSl9LHl1LnByb3RvdHlwZS54dD1mdW5jdGlvbih0LGkpe3ZhciBvPVtdO3JldHVybiBuZXcgbnUoZnVuY3Rpb24ocixlKXt0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7ZSh0LnRhcmdldC5lcnJvcil9LHQub25zdWNjZXNzPWZ1bmN0aW9uKHQpe3ZhciBlLG49dC50YXJnZXQucmVzdWx0O24/KGU9bmV3IG91KG4pLCh0PWkobi5wcmltYXJ5S2V5LG4udmFsdWUsZSkpaW5zdGFuY2VvZiBudSYmKHQ9dC5jYXRjaChmdW5jdGlvbih0KXtyZXR1cm4gZS5kb25lKCksbnUucmVqZWN0KHQpfSksby5wdXNoKHQpKSxlLmlzRG9uZT9yKCk6bnVsbD09PWUuRHQ/bi5jb250aW51ZSgpOm4uY29udGludWUoZS5EdCkpOnIoKX19KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG51LndhaXRGb3Iobyl9KX0seXUucHJvdG90eXBlLm9wdGlvbnM9ZnVuY3Rpb24odCxlKXt2YXIgbjtyZXR1cm4gdm9pZCAwIT09dCYmKFwic3RyaW5nXCI9PXR5cGVvZiB0P249dDplPXQpLHtpbmRleDpuLHJhbmdlOmV9fSx5dS5wcm90b3R5cGUuY3Vyc29yPWZ1bmN0aW9uKHQpe3ZhciBlPVwibmV4dFwiO2lmKHQucmV2ZXJzZSYmKGU9XCJwcmV2XCIpLHQuaW5kZXgpe3ZhciBuPXRoaXMuc3RvcmUuaW5kZXgodC5pbmRleCk7cmV0dXJuIHQua3Q/bi5vcGVuS2V5Q3Vyc29yKHQucmFuZ2UsZSk6bi5vcGVuQ3Vyc29yKHQucmFuZ2UsZSl9cmV0dXJuIHRoaXMuc3RvcmUub3BlbkN1cnNvcih0LnJhbmdlLGUpfSx5dSk7ZnVuY3Rpb24geXUodCl7dGhpcy5zdG9yZT10fWZ1bmN0aW9uIGd1KHQpe3JldHVybiBuZXcgbnUoZnVuY3Rpb24oZSxuKXt0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt0PXQudGFyZ2V0LnJlc3VsdDtlKHQpfSx0Lm9uZXJyb3I9ZnVuY3Rpb24odCl7dD12dSh0LnRhcmdldC5lcnJvcik7bih0KX19KX12YXIgbXU9ITE7ZnVuY3Rpb24gdnUodCl7dmFyIGU9aXUuX3QoaCgpKTtpZigxMi4yPD1lJiZlPDEzKXtlPVwiQW4gaW50ZXJuYWwgZXJyb3Igd2FzIGVuY291bnRlcmVkIGluIHRoZSBJbmRleGVkIERhdGFiYXNlIHNlcnZlclwiO2lmKDA8PXQubWVzc2FnZS5pbmRleE9mKGUpKXt2YXIgbj1uZXcga3IoXCJpbnRlcm5hbFwiLFwiSU9TX0lOREVYRUREQl9CVUcxOiBJbmRleGVkRGIgaGFzIHRocm93biAnXCIrZStcIicuIFRoaXMgaXMgbGlrZWx5IGR1ZSB0byBhbiB1bmF2b2lkYWJsZSBidWcgaW4gaU9TLiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzU2NDk2Mjk2LzExMDkxNSBmb3IgZGV0YWlscyBhbmQgYSBwb3RlbnRpYWwgd29ya2Fyb3VuZC5cIik7cmV0dXJuIG11fHwobXU9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IG59LDApKSxufX1yZXR1cm4gdH12YXIgYnUsd3U9KG4oRXUsYnU9U2UpLEV1KTtmdW5jdGlvbiBFdSh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49YnUuY2FsbCh0aGlzKXx8dGhpcykuTXQ9dCxuLmN1cnJlbnRTZXF1ZW5jZU51bWJlcj1lLG59ZnVuY3Rpb24gVHUodCxlKXtyZXR1cm4gaXUuSXQodC5NdCxlKX12YXIgSXU9KEN1LnByb3RvdHlwZS5hcHBseVRvUmVtb3RlRG9jdW1lbnQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG4scixpLG8scyxhLHU9ZS5tdXRhdGlvblJlc3VsdHMsYz0wO2M8dGhpcy5tdXRhdGlvbnMubGVuZ3RoO2MrKyl7dmFyIGg9dGhpcy5tdXRhdGlvbnNbY107aC5rZXkuaXNFcXVhbCh0LmtleSkmJihuPWgscj10LGk9dVtjXSxoPWE9cz1vPXZvaWQgMCxuIGluc3RhbmNlb2YgbHM/KHM9cixhPWksaD0obz1uKS52YWx1ZS5jbG9uZSgpLG89Z3Moby5maWVsZFRyYW5zZm9ybXMscyxhLnRyYW5zZm9ybVJlc3VsdHMpLGguc2V0QWxsKG8pLHMuY29udmVydFRvRm91bmREb2N1bWVudChhLnZlcnNpb24saCkuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCkpOm4gaW5zdGFuY2VvZiBmcz8obz1yLHM9aSxvcygoYT1uKS5wcmVjb25kaXRpb24sbyk/KGg9Z3MoYS5maWVsZFRyYW5zZm9ybXMsbyxzLnRyYW5zZm9ybVJlc3VsdHMpLChuPW8uZGF0YSkuc2V0QWxsKHlzKGEpKSxuLnNldEFsbChoKSxvLmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQocy52ZXJzaW9uLG4pLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpKTpvLmNvbnZlcnRUb1Vua25vd25Eb2N1bWVudChzLnZlcnNpb24pKTpyLmNvbnZlcnRUb05vRG9jdW1lbnQoaS52ZXJzaW9uKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSl9fSxDdS5wcm90b3R5cGUuYXBwbHlUb0xvY2FsVmlldz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXRoaXMuYmFzZU11dGF0aW9ucztlPG4ubGVuZ3RoO2UrKykocj1uW2VdKS5rZXkuaXNFcXVhbCh0LmtleSkmJnNzKHIsdCx0aGlzLmxvY2FsV3JpdGVUaW1lKTtmb3IodmFyIHIsaT0wLG89dGhpcy5tdXRhdGlvbnM7aTxvLmxlbmd0aDtpKyspKHI9b1tpXSkua2V5LmlzRXF1YWwodC5rZXkpJiZzcyhyLHQsdGhpcy5sb2NhbFdyaXRlVGltZSl9LEN1LnByb3RvdHlwZS5hcHBseVRvTG9jYWxEb2N1bWVudFNldD1mdW5jdGlvbihuKXt2YXIgcj10aGlzO3RoaXMubXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bi5nZXQodC5rZXkpLHQ9ZTtyLmFwcGx5VG9Mb2NhbFZpZXcodCksZS5pc1ZhbGlkRG9jdW1lbnQoKXx8dC5jb252ZXJ0VG9Ob0RvY3VtZW50KHpyLm1pbigpKX0pfSxDdS5wcm90b3R5cGUua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm11dGF0aW9ucy5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5hZGQoZS5rZXkpfSxLcygpKX0sQ3UucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYmF0Y2hJZD09PXQuYmF0Y2hJZCYmS3IodGhpcy5tdXRhdGlvbnMsdC5tdXRhdGlvbnMsYXMpJiZLcih0aGlzLmJhc2VNdXRhdGlvbnMsdC5iYXNlTXV0YXRpb25zLGFzKX0sQ3UpLF91PShEdS5mcm9tPWZ1bmN0aW9uKHQsZSxuKXtVcih0Lm11dGF0aW9ucy5sZW5ndGg9PT1uLmxlbmd0aCk7Zm9yKHZhciByPUJzLGk9dC5tdXRhdGlvbnMsbz0wO288aS5sZW5ndGg7bysrKXI9ci5pbnNlcnQoaVtvXS5rZXksbltvXS52ZXJzaW9uKTtyZXR1cm4gbmV3IER1KHQsZSxuLHIpfSxEdSksU3U9KE51LnByb3RvdHlwZS53aXRoU2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBOdSh0aGlzLnRhcmdldCx0aGlzLnRhcmdldElkLHRoaXMucHVycG9zZSx0LHRoaXMuc25hcHNob3RWZXJzaW9uLHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbix0aGlzLnJlc3VtZVRva2VuKX0sTnUucHJvdG90eXBlLndpdGhSZXN1bWVUb2tlbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgTnUodGhpcy50YXJnZXQsdGhpcy50YXJnZXRJZCx0aGlzLnB1cnBvc2UsdGhpcy5zZXF1ZW5jZU51bWJlcixlLHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbix0KX0sTnUucHJvdG90eXBlLndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTnUodGhpcy50YXJnZXQsdGhpcy50YXJnZXRJZCx0aGlzLnB1cnBvc2UsdGhpcy5zZXF1ZW5jZU51bWJlcix0aGlzLnNuYXBzaG90VmVyc2lvbix0LHRoaXMucmVzdW1lVG9rZW4pfSxOdSksQXU9ZnVuY3Rpb24odCl7dGhpcy5MdD10fTtmdW5jdGlvbiBOdSh0LGUsbixyLGksbyxzKXt2b2lkIDA9PT1pJiYoaT16ci5taW4oKSksdm9pZCAwPT09byYmKG89enIubWluKCkpLHZvaWQgMD09PXMmJihzPWlpLkVNUFRZX0JZVEVfU1RSSU5HKSx0aGlzLnRhcmdldD10LHRoaXMudGFyZ2V0SWQ9ZSx0aGlzLnB1cnBvc2U9bix0aGlzLnNlcXVlbmNlTnVtYmVyPXIsdGhpcy5zbmFwc2hvdFZlcnNpb249aSx0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb249byx0aGlzLnJlc3VtZVRva2VuPXN9ZnVuY3Rpb24gRHUodCxlLG4scil7dGhpcy5iYXRjaD10LHRoaXMuY29tbWl0VmVyc2lvbj1lLHRoaXMubXV0YXRpb25SZXN1bHRzPW4sdGhpcy5kb2NWZXJzaW9ucz1yfWZ1bmN0aW9uIEN1KHQsZSxuLHIpe3RoaXMuYmF0Y2hJZD10LHRoaXMubG9jYWxXcml0ZVRpbWU9ZSx0aGlzLmJhc2VNdXRhdGlvbnM9bix0aGlzLm11dGF0aW9ucz1yfWZ1bmN0aW9uIGt1KHQsZSl7aWYoZS5kb2N1bWVudClyZXR1cm4gYmEodC5MdCxlLmRvY3VtZW50LCEhZS5oYXNDb21taXR0ZWRNdXRhdGlvbnMpO2lmKGUubm9Eb2N1bWVudCl7dmFyIG49YmkuZnJvbVNlZ21lbnRzKGUubm9Eb2N1bWVudC5wYXRoKSxyPVB1KGUubm9Eb2N1bWVudC5yZWFkVGltZSksbj1QaS5uZXdOb0RvY3VtZW50KG4scik7cmV0dXJuIGUuaGFzQ29tbWl0dGVkTXV0YXRpb25zP24uc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCk6bn1pZihlLnVua25vd25Eb2N1bWVudCl7bj1iaS5mcm9tU2VnbWVudHMoZS51bmtub3duRG9jdW1lbnQucGF0aCkscj1QdShlLnVua25vd25Eb2N1bWVudC52ZXJzaW9uKTtyZXR1cm4gUGkubmV3VW5rbm93bkRvY3VtZW50KG4scil9cmV0dXJuIFZyKCl9ZnVuY3Rpb24gUnUodCxlLG4pe3ZhciByPXh1KG4pLG49ZS5rZXkucGF0aC5wb3BMYXN0KCkudG9BcnJheSgpO2lmKGUuaXNGb3VuZERvY3VtZW50KCkpe3ZhciBpPXtuYW1lOmZhKG89dC5MdCwocz1lKS5rZXkpLGZpZWxkczpzLmRhdGEudG9Qcm90bygpLm1hcFZhbHVlLmZpZWxkcyx1cGRhdGVUaW1lOmFhKG8scy52ZXJzaW9uLnRvVGltZXN0YW1wKCkpfSxvPWUuaGFzQ29tbWl0dGVkTXV0YXRpb25zO3JldHVybiBuZXcgS2EobnVsbCxudWxsLGksbyxyLG4pfWlmKGUuaXNOb0RvY3VtZW50KCkpe3ZhciBzPWUua2V5LnBhdGgudG9BcnJheSgpLGk9THUoZS52ZXJzaW9uKSxvPWUuaGFzQ29tbWl0dGVkTXV0YXRpb25zO3JldHVybiBuZXcgS2EobnVsbCxuZXcgQmEocyxpKSxudWxsLG8scixuKX1pZihlLmlzVW5rbm93bkRvY3VtZW50KCkpe289ZS5rZXkucGF0aC50b0FycmF5KCksZT1MdShlLnZlcnNpb24pO3JldHVybiBuZXcgS2EobmV3IGphKG8sZSksbnVsbCxudWxsLCEwLHIsbil9cmV0dXJuIFZyKCl9ZnVuY3Rpb24geHUodCl7dD10LnRvVGltZXN0YW1wKCk7cmV0dXJuW3Quc2Vjb25kcyx0Lm5hbm9zZWNvbmRzXX1mdW5jdGlvbiBPdSh0KXt0PW5ldyBRcih0WzBdLHRbMV0pO3JldHVybiB6ci5mcm9tVGltZXN0YW1wKHQpfWZ1bmN0aW9uIEx1KHQpe3Q9dC50b1RpbWVzdGFtcCgpO3JldHVybiBuZXcgTWEodC5zZWNvbmRzLHQubmFub3NlY29uZHMpfWZ1bmN0aW9uIFB1KHQpe3Q9bmV3IFFyKHQuc2Vjb25kcyx0Lm5hbm9zZWNvbmRzKTtyZXR1cm4genIuZnJvbVRpbWVzdGFtcCh0KX1mdW5jdGlvbiBNdShlLHQpe2Zvcih2YXIgbj0odC5iYXNlTXV0YXRpb25zfHxbXSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBFYShlLkx0LHQpfSkscj0wO3I8dC5tdXRhdGlvbnMubGVuZ3RoLTE7KytyKXt2YXIgaSxvPXQubXV0YXRpb25zW3JdO3IrMTx0Lm11dGF0aW9ucy5sZW5ndGgmJnZvaWQgMCE9PXQubXV0YXRpb25zW3IrMV0udHJhbnNmb3JtJiYoaT10Lm11dGF0aW9uc1tyKzFdLG8udXBkYXRlVHJhbnNmb3Jtcz1pLnRyYW5zZm9ybS5maWVsZFRyYW5zZm9ybXMsdC5tdXRhdGlvbnMuc3BsaWNlKHIrMSwxKSwrK3IpfXZhciBzPXQubXV0YXRpb25zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gRWEoZS5MdCx0KX0pLGE9UXIuZnJvbU1pbGxpcyh0LmxvY2FsV3JpdGVUaW1lTXMpO3JldHVybiBuZXcgSXUodC5iYXRjaElkLGEsbixzKX1mdW5jdGlvbiBGdSh0KXt2YXIgZT1QdSh0LnJlYWRUaW1lKSxuPXZvaWQgMCE9PXQubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbj9QdSh0Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pOnpyLm1pbigpLHI9dm9pZCAwIT09dC5xdWVyeS5kb2N1bWVudHM/KFVyKDE9PT0ocj10LnF1ZXJ5KS5kb2N1bWVudHMubGVuZ3RoKSxEbyhFbyh5YShyLmRvY3VtZW50c1swXSkpKSk6RG8oX2EodC5xdWVyeSkpO3JldHVybiBuZXcgU3Uocix0LnRhcmdldElkLDAsdC5sYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIsZSxuLGlpLmZyb21CYXNlNjRTdHJpbmcodC5yZXN1bWVUb2tlbikpfWZ1bmN0aW9uIFZ1KHQsZSl7dmFyIG49THUoZS5zbmFwc2hvdFZlcnNpb24pLHI9THUoZS5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKSxpPShCaShlLnRhcmdldCk/VGE6SWEpKHQuTHQsZS50YXJnZXQpLHQ9ZS5yZXN1bWVUb2tlbi50b0Jhc2U2NCgpO3JldHVybiBuZXcgUWEoZS50YXJnZXRJZCxVaShlLnRhcmdldCksbix0LGUuc2VxdWVuY2VOdW1iZXIscixpKX1mdW5jdGlvbiBVdSh0KXt2YXIgZT1fYSh7cGFyZW50OnQucGFyZW50LHN0cnVjdHVyZWRRdWVyeTp0LnN0cnVjdHVyZWRRdWVyeX0pO3JldHVyblwiTEFTVFwiPT09dC5saW1pdFR5cGU/Q28oZSxlLmxpbWl0LFwiTFwiKTplfXZhciBxdT0oQnUucHJvdG90eXBlLmdldEJ1bmRsZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGp1KHQpLmdldChlKS5uZXh0KGZ1bmN0aW9uKHQpe2lmKHQpcmV0dXJue2lkOih0PXQpLmJ1bmRsZUlkLGNyZWF0ZVRpbWU6UHUodC5jcmVhdGVUaW1lKSx2ZXJzaW9uOnQudmVyc2lvbn19KX0sQnUucHJvdG90eXBlLnNhdmVCdW5kbGVNZXRhZGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiBqdSh0KS5wdXQoe2J1bmRsZUlkOihlPWUpLmlkLGNyZWF0ZVRpbWU6THUoY2EoZS5jcmVhdGVUaW1lKSksdmVyc2lvbjplLnZlcnNpb259KX0sQnUucHJvdG90eXBlLmdldE5hbWVkUXVlcnk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gS3UodCkuZ2V0KGUpLm5leHQoZnVuY3Rpb24odCl7aWYodClyZXR1cm57bmFtZToodD10KS5uYW1lLHF1ZXJ5OlV1KHQuYnVuZGxlZFF1ZXJ5KSxyZWFkVGltZTpQdSh0LnJlYWRUaW1lKX19KX0sQnUucHJvdG90eXBlLnNhdmVOYW1lZFF1ZXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIEt1KHQpLnB1dCh7bmFtZTooZT1lKS5uYW1lLHJlYWRUaW1lOkx1KGNhKGUucmVhZFRpbWUpKSxidW5kbGVkUXVlcnk6ZS5idW5kbGVkUXVlcnl9KX0sQnUpO2Z1bmN0aW9uIEJ1KCl7fWZ1bmN0aW9uIGp1KHQpe3JldHVybiBUdSh0LFhhLnN0b3JlKX1mdW5jdGlvbiBLdSh0KXtyZXR1cm4gVHUodCxKYS5zdG9yZSl9dmFyIEd1PShZdS5wcm90b3R5cGUuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXg9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5CdC5hZGQoZSksbnUucmVzb2x2ZSgpfSxZdS5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvblBhcmVudHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnUucmVzb2x2ZSh0aGlzLkJ0LmdldEVudHJpZXMoZSkpfSxZdSksUXU9KFd1LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9dC5sYXN0U2VnbWVudCgpLG49dC5wb3BMYXN0KCkscj10aGlzLmluZGV4W2VdfHxuZXcgUHModGkuY29tcGFyYXRvciksdD0hci5oYXMobik7cmV0dXJuIHRoaXMuaW5kZXhbZV09ci5hZGQobiksdH0sV3UucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXt2YXIgZT10Lmxhc3RTZWdtZW50KCksdD10LnBvcExhc3QoKSxlPXRoaXMuaW5kZXhbZV07cmV0dXJuIGUmJmUuaGFzKHQpfSxXdS5wcm90b3R5cGUuZ2V0RW50cmllcz1mdW5jdGlvbih0KXtyZXR1cm4odGhpcy5pbmRleFt0XXx8bmV3IFBzKHRpLmNvbXBhcmF0b3IpKS50b0FycmF5KCl9LFd1KSx6dT0oSHUucHJvdG90eXBlLmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztpZih0aGlzLnF0LmhhcyhlKSlyZXR1cm4gbnUucmVzb2x2ZSgpO3ZhciByPWUubGFzdFNlZ21lbnQoKSxpPWUucG9wTGFzdCgpO3QuYWRkT25Db21taXR0ZWRMaXN0ZW5lcihmdW5jdGlvbigpe24ucXQuYWRkKGUpfSk7aT17Y29sbGVjdGlvbklkOnIscGFyZW50OnhhKGkpfTtyZXR1cm4gWHUodCkucHV0KGkpfSxIdS5wcm90b3R5cGUuZ2V0Q29sbGVjdGlvblBhcmVudHM9ZnVuY3Rpb24odCxpKXt2YXIgbz1bXSxlPUlEQktleVJhbmdlLmJvdW5kKFtpLFwiXCJdLFtHcihpKSxcIlwiXSwhMSwhMCk7cmV0dXJuIFh1KHQpLk50KGUpLm5leHQoZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsbj10O2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO2lmKHIuY29sbGVjdGlvbklkIT09aSlicmVhaztvLnB1c2goTGEoci5wYXJlbnQpKX1yZXR1cm4gb30pfSxIdSk7ZnVuY3Rpb24gSHUoKXt0aGlzLnF0PW5ldyBRdX1mdW5jdGlvbiBXdSgpe3RoaXMuaW5kZXg9e319ZnVuY3Rpb24gWXUoKXt0aGlzLkJ0PW5ldyBRdX1mdW5jdGlvbiBYdSh0KXtyZXR1cm4gVHUodCxXYS5zdG9yZSl9dmFyIEp1PXtkaWRSdW46ITEsc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOjAsdGFyZ2V0c1JlbW92ZWQ6MCxkb2N1bWVudHNSZW1vdmVkOjB9LCR1PShadS53aXRoQ2FjaGVTaXplPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWnUodCxadS5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSxadS5ERUZBVUxUX01BWF9TRVFVRU5DRV9OVU1CRVJTX1RPX0NPTExFQ1QpfSxadSk7ZnVuY3Rpb24gWnUodCxlLG4pe3RoaXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZD10LHRoaXMucGVyY2VudGlsZVRvQ29sbGVjdD1lLHRoaXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdD1ufWZ1bmN0aW9uIHRjKHQsZSxuKXt2YXIgcj10LnN0b3JlKFZhLnN0b3JlKSxpPXQuc3RvcmUoVWEuc3RvcmUpLG89W10sdD1JREJLZXlSYW5nZS5vbmx5KG4uYmF0Y2hJZCkscz0wLHQ9ci5PdCh7cmFuZ2U6dH0sZnVuY3Rpb24odCxlLG4pe3JldHVybiBzKyssbi5kZWxldGUoKX0pO28ucHVzaCh0Lm5leHQoZnVuY3Rpb24oKXtVcigxPT09cyl9KSk7Zm9yKHZhciBhPVtdLHU9MCxjPW4ubXV0YXRpb25zO3U8Yy5sZW5ndGg7dSsrKXt2YXIgaD1jW3VdLGw9VWEua2V5KGUsaC5rZXkucGF0aCxuLmJhdGNoSWQpO28ucHVzaChpLmRlbGV0ZShsKSksYS5wdXNoKGgua2V5KX1yZXR1cm4gbnUud2FpdEZvcihvKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX1mdW5jdGlvbiBlYyh0KXtpZighdClyZXR1cm4gMDt2YXIgZTtpZih0LmRvY3VtZW50KWU9dC5kb2N1bWVudDtlbHNlIGlmKHQudW5rbm93bkRvY3VtZW50KWU9dC51bmtub3duRG9jdW1lbnQ7ZWxzZXtpZighdC5ub0RvY3VtZW50KXRocm93IFZyKCk7ZT10Lm5vRG9jdW1lbnR9cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpLmxlbmd0aH0kdS5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRT0xMCwkdS5ERUZBVUxUX01BWF9TRVFVRU5DRV9OVU1CRVJTX1RPX0NPTExFQ1Q9MWUzLCR1LkRFRkFVTFQ9bmV3ICR1KDQxOTQzMDQwLCR1LkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFLCR1LkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVCksJHUuRElTQUJMRUQ9bmV3ICR1KC0xLDAsMCk7dmFyIG5jPShyYy5LdD1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gVXIoXCJcIiE9PXQudWlkKSxuZXcgcmModC5pc0F1dGhlbnRpY2F0ZWQoKT90LnVpZDpcIlwiLGUsbixyKX0scmMucHJvdG90eXBlLmNoZWNrRW1wdHk9ZnVuY3Rpb24odCl7dmFyIHI9ITAsZT1JREJLZXlSYW5nZS5ib3VuZChbdGhpcy51c2VySWQsTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXSxbdGhpcy51c2VySWQsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSk7cmV0dXJuIG9jKHQpLk90KHtpbmRleDpWYS51c2VyTXV0YXRpb25zSW5kZXgscmFuZ2U6ZX0sZnVuY3Rpb24odCxlLG4pe3I9ITEsbi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX0scmMucHJvdG90eXBlLmFkZE11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24ocCx5LGcsbSl7dmFyIHY9dGhpcyxiPXNjKHApLHc9b2MocCk7cmV0dXJuIHcuYWRkKHt9KS5uZXh0KGZ1bmN0aW9uKHQpe1VyKFwibnVtYmVyXCI9PXR5cGVvZiB0KTtmb3IodmFyIGUsbixyLGksbyxzPW5ldyBJdSh0LHksZyxtKSxhPShlPXYuUixuPXYudXNlcklkLGk9KHI9cykuYmFzZU11dGF0aW9ucy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHdhKGUuTHQsdCl9KSxvPXIubXV0YXRpb25zLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gd2EoZS5MdCx0KX0pLG5ldyBWYShuLHIuYmF0Y2hJZCxyLmxvY2FsV3JpdGVUaW1lLnRvTWlsbGlzKCksaSxvKSksdT1bXSxjPW5ldyBQcyhmdW5jdGlvbih0LGUpe3JldHVybiBqcih0LmNhbm9uaWNhbFN0cmluZygpLGUuY2Fub25pY2FsU3RyaW5nKCkpfSksaD0wLGw9bTtoPGwubGVuZ3RoO2grKyl7dmFyIGY9bFtoXSxkPVVhLmtleSh2LnVzZXJJZCxmLmtleS5wYXRoLHQpLGM9Yy5hZGQoZi5rZXkucGF0aC5wb3BMYXN0KCkpO3UucHVzaCh3LnB1dChhKSksdS5wdXNoKGIucHV0KGQsVWEuUExBQ0VIT0xERVIpKX1yZXR1cm4gYy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3UucHVzaCh2LlV0LmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KHAsdCkpfSkscC5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKGZ1bmN0aW9uKCl7di5RdFt0XT1zLmtleXMoKX0pLG51LndhaXRGb3IodSkubmV4dChmdW5jdGlvbigpe3JldHVybiBzfSl9KX0scmMucHJvdG90eXBlLmxvb2t1cE11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBvYyh0KS5nZXQoZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD8oVXIodC51c2VySWQ9PT1uLnVzZXJJZCksTXUobi5SLHQpKTpudWxsfSl9LHJjLnByb3RvdHlwZS5qdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuUXRbZV0/bnUucmVzb2x2ZSh0aGlzLlF0W2VdKTp0aGlzLmxvb2t1cE11dGF0aW9uQmF0Y2godCxlKS5uZXh0KGZ1bmN0aW9uKHQpe2lmKHQpe3Q9dC5rZXlzKCk7cmV0dXJuIG4uUXRbZV09dH1yZXR1cm4gbnVsbH0pfSxyYy5wcm90b3R5cGUuZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLGk9ZSsxLGU9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChbdGhpcy51c2VySWQsaV0pLG89bnVsbDtyZXR1cm4gb2ModCkuT3Qoe2luZGV4OlZhLnVzZXJNdXRhdGlvbnNJbmRleCxyYW5nZTplfSxmdW5jdGlvbih0LGUsbil7ZS51c2VySWQ9PT1yLnVzZXJJZCYmKFVyKGUuYmF0Y2hJZD49aSksbz1NdShyLlIsZSkpLG4uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBvfSl9LHJjLnByb3RvdHlwZS5nZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkPWZ1bmN0aW9uKHQpe3ZhciBlPUlEQktleVJhbmdlLnVwcGVyQm91bmQoW3RoaXMudXNlcklkLE51bWJlci5QT1NJVElWRV9JTkZJTklUWV0pLHI9LTE7cmV0dXJuIG9jKHQpLk90KHtpbmRleDpWYS51c2VyTXV0YXRpb25zSW5kZXgscmFuZ2U6ZSxyZXZlcnNlOiEwfSxmdW5jdGlvbih0LGUsbil7cj1lLmJhdGNoSWQsbi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX0scmMucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49SURCS2V5UmFuZ2UuYm91bmQoW3RoaXMudXNlcklkLC0xXSxbdGhpcy51c2VySWQsTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXSk7cmV0dXJuIG9jKHQpLk50KFZhLnVzZXJNdXRhdGlvbnNJbmRleCxuKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gTXUoZS5SLHQpfSl9KX0scmMucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5PWZ1bmN0aW9uKG8scyl7dmFyIGE9dGhpcyx0PVVhLnByZWZpeEZvclBhdGgodGhpcy51c2VySWQscy5wYXRoKSx0PUlEQktleVJhbmdlLmxvd2VyQm91bmQodCksdT1bXTtyZXR1cm4gc2MobykuT3Qoe3JhbmdlOnR9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10WzBdLGk9dFsxXSx0PXRbMl0saT1MYShpKTtpZihyPT09YS51c2VySWQmJnMucGF0aC5pc0VxdWFsKGkpKXJldHVybiBvYyhvKS5nZXQodCkubmV4dChmdW5jdGlvbih0KXtpZighdCl0aHJvdyBWcigpO1VyKHQudXNlcklkPT09YS51c2VySWQpLHUucHVzaChNdShhLlIsdCkpfSk7bi5kb25lKCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHV9KX0scmMucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cz1mdW5jdGlvbihlLHQpe3ZhciBzPXRoaXMsYT1uZXcgUHMoanIpLG49W107cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihvKXt2YXIgdD1VYS5wcmVmaXhGb3JQYXRoKHMudXNlcklkLG8ucGF0aCksdD1JREJLZXlSYW5nZS5sb3dlckJvdW5kKHQpLHQ9c2MoZSkuT3Qoe3JhbmdlOnR9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10WzBdLGk9dFsxXSx0PXRbMl0saT1MYShpKTtyPT09cy51c2VySWQmJm8ucGF0aC5pc0VxdWFsKGkpP2E9YS5hZGQodCk6bi5kb25lKCl9KTtuLnB1c2godCl9KSxudS53YWl0Rm9yKG4pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcy5XdChlLGEpfSl9LHJjLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeT1mdW5jdGlvbih0LGUpe3ZhciBvPXRoaXMscz1lLnBhdGgsYT1zLmxlbmd0aCsxLGU9VWEucHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCxzKSxlPUlEQktleVJhbmdlLmxvd2VyQm91bmQoZSksdT1uZXcgUHMoanIpO3JldHVybiBzYyh0KS5PdCh7cmFuZ2U6ZX0sZnVuY3Rpb24odCxlLG4pe3ZhciByPXRbMF0saT10WzFdLHQ9dFsyXSxpPUxhKGkpO3I9PT1vLnVzZXJJZCYmcy5pc1ByZWZpeE9mKGkpP2kubGVuZ3RoPT09YSYmKHU9dS5hZGQodCkpOm4uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBvLld0KHQsdSl9KX0scmMucHJvdG90eXBlLld0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcyxyPVtdLGk9W107cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2gob2MoZSkuZ2V0KHQpLm5leHQoZnVuY3Rpb24odCl7aWYobnVsbD09PXQpdGhyb3cgVnIoKTtVcih0LnVzZXJJZD09PW4udXNlcklkKSxyLnB1c2goTXUobi5SLHQpKX0pKX0pLG51LndhaXRGb3IoaSkubmV4dChmdW5jdGlvbigpe3JldHVybiByfSl9LHJjLnByb3RvdHlwZS5yZW1vdmVNdXRhdGlvbkJhdGNoPWZ1bmN0aW9uKGUsbil7dmFyIHI9dGhpcztyZXR1cm4gdGMoZS5NdCx0aGlzLnVzZXJJZCxuKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBlLmFkZE9uQ29tbWl0dGVkTGlzdGVuZXIoZnVuY3Rpb24oKXtyLkd0KG4uYmF0Y2hJZCl9KSxudS5mb3JFYWNoKHQsZnVuY3Rpb24odCl7cmV0dXJuIHIucmVmZXJlbmNlRGVsZWdhdGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSx0KX0pfSl9LHJjLnByb3RvdHlwZS5HdD1mdW5jdGlvbih0KXtkZWxldGUgdGhpcy5RdFt0XX0scmMucHJvdG90eXBlLnBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrPWZ1bmN0aW9uKGUpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuY2hlY2tFbXB0eShlKS5uZXh0KGZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBudS5yZXNvbHZlKCk7dmFyIHQ9SURCS2V5UmFuZ2UubG93ZXJCb3VuZChVYS5wcmVmaXhGb3JVc2VyKGkudXNlcklkKSkscj1bXTtyZXR1cm4gc2MoZSkuT3Qoe3JhbmdlOnR9LGZ1bmN0aW9uKHQsZSxuKXt0WzBdPT09aS51c2VySWQ/KHQ9TGEodFsxXSksci5wdXNoKHQpKTpuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtVcigwPT09ci5sZW5ndGgpfSl9KX0scmMucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGljKHQsdGhpcy51c2VySWQsZSl9LHJjLnByb3RvdHlwZS56dD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBhYyh0KS5nZXQodGhpcy51c2VySWQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHR8fG5ldyBGYShlLnVzZXJJZCwtMSxcIlwiKX0pfSxyYyk7ZnVuY3Rpb24gcmModCxlLG4scil7dGhpcy51c2VySWQ9dCx0aGlzLlI9ZSx0aGlzLlV0PW4sdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZT1yLHRoaXMuUXQ9e319ZnVuY3Rpb24gaWModCxvLGUpe3ZhciBlPVVhLnByZWZpeEZvclBhdGgobyxlLnBhdGgpLHM9ZVsxXSxlPUlEQktleVJhbmdlLmxvd2VyQm91bmQoZSksYT0hMTtyZXR1cm4gc2ModCkuT3Qoe3JhbmdlOmUsa3Q6ITB9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgcj10WzBdLGk9dFsxXTt0WzJdLHI9PT1vJiZpPT09cyYmKGE9ITApLG4uZG9uZSgpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBhfSl9ZnVuY3Rpb24gb2ModCl7cmV0dXJuIFR1KHQsVmEuc3RvcmUpfWZ1bmN0aW9uIHNjKHQpe3JldHVybiBUdSh0LFVhLnN0b3JlKX1mdW5jdGlvbiBhYyh0KXtyZXR1cm4gVHUodCxGYS5zdG9yZSl9dmFyIHVjPShsYy5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkh0Kz0yLHRoaXMuSHR9LGxjLkp0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsYygwKX0sbGMuWXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGxjKC0xKX0sbGMpLGNjPShoYy5wcm90b3R5cGUuYWxsb2NhdGVUYXJnZXRJZD1mdW5jdGlvbihuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLlh0KG4pLm5leHQoZnVuY3Rpb24odCl7dmFyIGU9bmV3IHVjKHQuaGlnaGVzdFRhcmdldElkKTtyZXR1cm4gdC5oaWdoZXN0VGFyZ2V0SWQ9ZS5uZXh0KCksci5adChuLHQpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdC5oaWdoZXN0VGFyZ2V0SWR9KX0pfSxoYy5wcm90b3R5cGUuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5YdCh0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB6ci5mcm9tVGltZXN0YW1wKG5ldyBRcih0Lmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24uc2Vjb25kcyx0Lmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24ubmFub3NlY29uZHMpKX0pfSxoYy5wcm90b3R5cGUuZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLlh0KHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyfSl9LGhjLnByb3RvdHlwZS5zZXRUYXJnZXRzTWV0YWRhdGE9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuWHQoZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXI9bixyJiYodC5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPXIudG9UaW1lc3RhbXAoKSksbj50LmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciYmKHQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyPW4pLGkuWnQoZSx0KX0pfSxoYy5wcm90b3R5cGUuYWRkVGFyZ2V0RGF0YT1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMudGUoZSxuKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIuWHQoZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC50YXJnZXRDb3VudCs9MSxyLmVlKG4sdCksci5adChlLHQpfSl9KX0saGMucHJvdG90eXBlLnVwZGF0ZVRhcmdldERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy50ZSh0LGUpfSxoYy5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0RGF0YT1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSx0LnRhcmdldElkKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGZjKGUpLmRlbGV0ZSh0LnRhcmdldElkKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbi5YdChlKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIFVyKDA8dC50YXJnZXRDb3VudCksLS10LnRhcmdldENvdW50LG4uWnQoZSx0KX0pfSxoYy5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0cz1mdW5jdGlvbihuLHIsaSl7dmFyIG89dGhpcyxzPTAsYT1bXTtyZXR1cm4gZmMobikuT3QoZnVuY3Rpb24odCxlKXtlPUZ1KGUpO2Uuc2VxdWVuY2VOdW1iZXI8PXImJm51bGw9PT1pLmdldChlLnRhcmdldElkKSYmKHMrKyxhLnB1c2goby5yZW1vdmVUYXJnZXREYXRhKG4sZSkpKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbnUud2FpdEZvcihhKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gc30pfSxoYy5wcm90b3R5cGUuZm9yRWFjaFRhcmdldD1mdW5jdGlvbih0LG4pe3JldHVybiBmYyh0KS5PdChmdW5jdGlvbih0LGUpe2U9RnUoZSk7bihlKX0pfSxoYy5wcm90b3R5cGUuWHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGRjKHQpLmdldChIYS5rZXkpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIFVyKG51bGwhPT10KSx0fSl9LGhjLnByb3RvdHlwZS5adD1mdW5jdGlvbih0LGUpe3JldHVybiBkYyh0KS5wdXQoSGEua2V5LGUpfSxoYy5wcm90b3R5cGUudGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZmModCkucHV0KFZ1KHRoaXMuUixlKSl9LGhjLnByb3RvdHlwZS5lZT1mdW5jdGlvbih0LGUpe3ZhciBuPSExO3JldHVybiB0LnRhcmdldElkPmUuaGlnaGVzdFRhcmdldElkJiYoZS5oaWdoZXN0VGFyZ2V0SWQ9dC50YXJnZXRJZCxuPSEwKSx0LnNlcXVlbmNlTnVtYmVyPmUuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyJiYoZS5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXI9dC5zZXF1ZW5jZU51bWJlcixuPSEwKSxufSxoYy5wcm90b3R5cGUuZ2V0VGFyZ2V0Q291bnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuWHQodCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdC50YXJnZXRDb3VudH0pfSxoYy5wcm90b3R5cGUuZ2V0VGFyZ2V0RGF0YT1mdW5jdGlvbih0LHIpe3ZhciBlPVVpKHIpLGU9SURCS2V5UmFuZ2UuYm91bmQoW2UsTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXSxbZSxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFldKSxpPW51bGw7cmV0dXJuIGZjKHQpLk90KHtyYW5nZTplLGluZGV4OlFhLnF1ZXJ5VGFyZ2V0c0luZGV4TmFtZX0sZnVuY3Rpb24odCxlLG4pe2U9RnUoZSk7cWkocixlLnRhcmdldCkmJihpPWUsbi5kb25lKCkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBpfSl9LGhjLnByb3RvdHlwZS5hZGRNYXRjaGluZ0tleXM9ZnVuY3Rpb24obix0LHIpe3ZhciBpPXRoaXMsbz1bXSxzPXBjKG4pO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9eGEodC5wYXRoKTtvLnB1c2gocy5wdXQobmV3IHphKHIsZSkpKSxvLnB1c2goaS5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UobixyLHQpKX0pLG51LndhaXRGb3Iobyl9LGhjLnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZ0tleXM9ZnVuY3Rpb24obix0LHIpe3ZhciBpPXRoaXMsbz1wYyhuKTtyZXR1cm4gbnUuZm9yRWFjaCh0LGZ1bmN0aW9uKHQpe3ZhciBlPXhhKHQucGF0aCk7cmV0dXJuIG51LndhaXRGb3IoW28uZGVsZXRlKFtyLGVdKSxpLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShuLHIsdCldKX0pfSxoYy5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQ9ZnVuY3Rpb24odCxlKXt0PXBjKHQpLGU9SURCS2V5UmFuZ2UuYm91bmQoW2VdLFtlKzFdLCExLCEwKTtyZXR1cm4gdC5kZWxldGUoZSl9LGhjLnByb3RvdHlwZS5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZD1mdW5jdGlvbih0LGUpe3ZhciBlPUlEQktleVJhbmdlLmJvdW5kKFtlXSxbZSsxXSwhMSwhMCksdD1wYyh0KSxyPUtzKCk7cmV0dXJuIHQuT3Qoe3JhbmdlOmUsa3Q6ITB9LGZ1bmN0aW9uKHQsZSxuKXt0PUxhKHRbMV0pLHQ9bmV3IGJpKHQpO3I9ci5hZGQodCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KX0saGMucHJvdG90eXBlLmNvbnRhaW5zS2V5PWZ1bmN0aW9uKHQsZSl7dmFyIGU9eGEoZS5wYXRoKSxlPUlEQktleVJhbmdlLmJvdW5kKFtlXSxbR3IoZSldLCExLCEwKSxpPTA7cmV0dXJuIHBjKHQpLk90KHtpbmRleDp6YS5kb2N1bWVudFRhcmdldHNJbmRleCxrdDohMCxyYW5nZTplfSxmdW5jdGlvbih0LGUsbil7dmFyIHI9dFswXTt0WzFdLDAhPT1yJiYoaSsrLG4uZG9uZSgpKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gMDxpfSl9LGhjLnByb3RvdHlwZS5sdD1mdW5jdGlvbih0LGUpe3JldHVybiBmYyh0KS5nZXQoZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD9GdSh0KTpudWxsfSl9LGhjKTtmdW5jdGlvbiBoYyh0LGUpe3RoaXMucmVmZXJlbmNlRGVsZWdhdGU9dCx0aGlzLlI9ZX1mdW5jdGlvbiBsYyh0KXt0aGlzLkh0PXR9ZnVuY3Rpb24gZmModCl7cmV0dXJuIFR1KHQsUWEuc3RvcmUpfWZ1bmN0aW9uIGRjKHQpe3JldHVybiBUdSh0LEhhLnN0b3JlKX1mdW5jdGlvbiBwYyh0KXtyZXR1cm4gVHUodCx6YS5zdG9yZSl9ZnVuY3Rpb24geWMoZSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtpZihlLmNvZGUhPT1Dci5GQUlMRURfUFJFQ09ORElUSU9OfHxlLm1lc3NhZ2UhPT10dSl0aHJvdyBlO3JldHVybiBMcihcIkxvY2FsU3RvcmVcIixcIlVuZXhwZWN0ZWRseSBsb3N0IHByaW1hcnkgbGVhc2VcIiksWzJdfSl9KX1mdW5jdGlvbiBnYyh0LGUpe3ZhciBuPXRbMF0scj10WzFdLHQ9ZVswXSxlPWVbMV0sdD1qcihuLHQpO3JldHVybiAwPT09dD9qcihyLGUpOnR9dmFyIG1jPShfYy5wcm90b3R5cGUuaWU9ZnVuY3Rpb24oKXtyZXR1cm4rK3RoaXMuc2V9LF9jLnByb3RvdHlwZS5yZT1mdW5jdGlvbih0KXt2YXIgZT1bdCx0aGlzLmllKCldO3RoaXMuYnVmZmVyLnNpemU8dGhpcy5uZT90aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlci5hZGQoZSk6Z2MoZSx0PXRoaXMuYnVmZmVyLmxhc3QoKSk8MCYmKHRoaXMuYnVmZmVyPXRoaXMuYnVmZmVyLmRlbGV0ZSh0KS5hZGQoZSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoX2MucHJvdG90eXBlLFwibWF4VmFsdWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmxhc3QoKVswXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxfYyksdmM9KEljLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbih0KXstMSE9PXRoaXMuZ2FyYmFnZUNvbGxlY3Rvci5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCYmdGhpcy5hZSh0KX0sSWMucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmNlJiYodGhpcy5jZS5jYW5jZWwoKSx0aGlzLmNlPW51bGwpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoSWMucHJvdG90eXBlLFwic3RhcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksSWMucHJvdG90eXBlLmFlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsZT10aGlzLm9lPzNlNTo2ZTQ7THIoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsXCJHYXJiYWdlIGNvbGxlY3Rpb24gc2NoZWR1bGVkIGluIFwiK2UrXCJtc1wiKSx0aGlzLmNlPXRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShcImxydV9nYXJiYWdlX2NvbGxlY3Rpb25cIixlLGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnRoaXMuY2U9bnVsbCx0aGlzLm9lPSEwLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDMsLDddKSxbNCxuLmNvbGxlY3RHYXJiYWdlKHRoaXMuZ2FyYmFnZUNvbGxlY3RvcildO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzMsN107Y2FzZSAzOnJldHVybiBkdShlPXQuc2VudCgpKT8oTHIoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsXCJJZ25vcmluZyBJbmRleGVkREIgZXJyb3IgZHVyaW5nIGdhcmJhZ2UgY29sbGVjdGlvbjogXCIsZSksWzMsNl0pOlszLDRdO2Nhc2UgNDpyZXR1cm5bNCx5YyhlKV07Y2FzZSA1OnQuc2VudCgpLHQubGFiZWw9NjtjYXNlIDY6cmV0dXJuWzMsN107Y2FzZSA3OnJldHVybls0LHRoaXMuYWUobildO2Nhc2UgODpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9KX0sSWMpLGJjPShUYy5wcm90b3R5cGUuY2FsY3VsYXRlVGFyZ2V0Q291bnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51ZS5oZSh0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmZsb29yKGUvMTAwKnQpfSl9LFRjLnByb3RvdHlwZS5udGhTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7aWYoMD09PWUpcmV0dXJuIG51LnJlc29sdmUoQXIubyk7dmFyIHI9bmV3IG1jKGUpO3JldHVybiB0aGlzLnVlLmZvckVhY2hUYXJnZXQodCxmdW5jdGlvbih0KXtyZXR1cm4gci5yZSh0LnNlcXVlbmNlTnVtYmVyKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbi51ZS5sZSh0LGZ1bmN0aW9uKHQpe3JldHVybiByLnJlKHQpfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIubWF4VmFsdWV9KX0sVGMucHJvdG90eXBlLnJlbW92ZVRhcmdldHM9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLnVlLnJlbW92ZVRhcmdldHModCxlLG4pfSxUYy5wcm90b3R5cGUucmVtb3ZlT3JwaGFuZWREb2N1bWVudHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy51ZS5yZW1vdmVPcnBoYW5lZERvY3VtZW50cyh0LGUpfSxUYy5wcm90b3R5cGUuY29sbGVjdD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuLTE9PT10aGlzLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkPyhMcihcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIixcIkdhcmJhZ2UgY29sbGVjdGlvbiBza2lwcGVkOyBkaXNhYmxlZFwiKSxudS5yZXNvbHZlKEp1KSk6dGhpcy5nZXRDYWNoZVNpemUoZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdDxyLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkPyhMcihcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIixcIkdhcmJhZ2UgY29sbGVjdGlvbiBza2lwcGVkOyBDYWNoZSBzaXplIFwiK3QrXCIgaXMgbG93ZXIgdGhhbiB0aHJlc2hvbGQgXCIrci5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCksSnUpOnIuZmUoZSxuKX0pfSxUYy5wcm90b3R5cGUuZ2V0Q2FjaGVTaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnVlLmdldENhY2hlU2l6ZSh0KX0sVGMucHJvdG90eXBlLmZlPWZ1bmN0aW9uKGUsbil7dmFyIHIsaSxvLHMsYSx1LGMsaD10aGlzLGw9RGF0ZS5ub3coKTtyZXR1cm4gdGhpcy5jYWxjdWxhdGVUYXJnZXRDb3VudChlLHRoaXMucGFyYW1zLnBlcmNlbnRpbGVUb0NvbGxlY3QpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGk9dD5oLnBhcmFtcy5tYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0PyhMcihcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIixcIkNhcHBpbmcgc2VxdWVuY2UgbnVtYmVycyB0byBjb2xsZWN0IGRvd24gdG8gdGhlIG1heGltdW0gb2YgXCIraC5wYXJhbXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCtcIiBmcm9tIFwiK3QpLGgucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QpOnQscz1EYXRlLm5vdygpLGgubnRoU2VxdWVuY2VOdW1iZXIoZSxpKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHI9dCxhPURhdGUubm93KCksaC5yZW1vdmVUYXJnZXRzKGUscixuKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG89dCx1PURhdGUubm93KCksaC5yZW1vdmVPcnBoYW5lZERvY3VtZW50cyhlLHIpfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gYz1EYXRlLm5vdygpLE9yKCk8PXAuREVCVUcmJkxyKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLFwiTFJVIEdhcmJhZ2UgQ29sbGVjdGlvblxcblxcdENvdW50ZWQgdGFyZ2V0cyBpbiBcIisocy1sKStcIm1zXFxuXFx0RGV0ZXJtaW5lZCBsZWFzdCByZWNlbnRseSB1c2VkIFwiK2krXCIgaW4gXCIrKGEtcykrXCJtc1xcblxcdFJlbW92ZWQgXCIrbytcIiB0YXJnZXRzIGluIFwiKyh1LWEpK1wibXNcXG5cXHRSZW1vdmVkIFwiK3QrXCIgZG9jdW1lbnRzIGluIFwiKyhjLXUpK1wibXNcXG5Ub3RhbCBEdXJhdGlvbjogXCIrKGMtbCkrXCJtc1wiKSxudS5yZXNvbHZlKHtkaWRSdW46ITAsc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOmksdGFyZ2V0c1JlbW92ZWQ6byxkb2N1bWVudHNSZW1vdmVkOnR9KX0pfSxUYyksd2M9KEVjLnByb3RvdHlwZS5oZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmRlKHQpO3JldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkuZ2V0VGFyZ2V0Q291bnQodCkubmV4dChmdW5jdGlvbihlKXtyZXR1cm4gbi5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBlK3R9KX0pfSxFYy5wcm90b3R5cGUuZGU9ZnVuY3Rpb24odCl7dmFyIGU9MDtyZXR1cm4gdGhpcy5sZSh0LGZ1bmN0aW9uKHQpe2UrK30pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSxFYy5wcm90b3R5cGUuZm9yRWFjaFRhcmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkuZm9yRWFjaFRhcmdldCh0LGUpfSxFYy5wcm90b3R5cGUubGU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy53ZSh0LGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oZSl9KX0sRWMucHJvdG90eXBlLmFkZFJlZmVyZW5jZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIFNjKHQsbil9LEVjLnByb3RvdHlwZS5yZW1vdmVSZWZlcmVuY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiBTYyh0LG4pfSxFYy5wcm90b3R5cGUucmVtb3ZlVGFyZ2V0cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5yZW1vdmVUYXJnZXRzKHQsZSxuKX0sRWMucHJvdG90eXBlLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkPVNjLEVjLnByb3RvdHlwZS5fZT1mdW5jdGlvbih0LGUpe3JldHVybiByPWUsaT0hMSxhYyhuPXQpLiR0KGZ1bmN0aW9uKHQpe3JldHVybiBpYyhuLHQscikubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdCYmKGk9ITApLG51LnJlc29sdmUoIXQpfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgbixyLGl9LEVjLnByb3RvdHlwZS5yZW1vdmVPcnBoYW5lZERvY3VtZW50cz1mdW5jdGlvbihuLHIpe3ZhciBpPXRoaXMsbz10aGlzLmRiLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKS5uZXdDaGFuZ2VCdWZmZXIoKSxzPVtdLGE9MDtyZXR1cm4gdGhpcy53ZShuLGZ1bmN0aW9uKGUsdCl7dDw9ciYmKHQ9aS5fZShuLGUpLm5leHQoZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIGErKyxvLmdldEVudHJ5KG4sZSkubmV4dChmdW5jdGlvbigpe3JldHVybiBvLnJlbW92ZUVudHJ5KGUpLHBjKG4pLmRlbGV0ZShbMCx4YShlLnBhdGgpXSl9KX0pLHMucHVzaCh0KSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG51LndhaXRGb3Iocyl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkobil9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX0sRWMucHJvdG90eXBlLnJlbW92ZVRhcmdldD1mdW5jdGlvbih0LGUpe2U9ZS53aXRoU2VxdWVuY2VOdW1iZXIodC5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO3JldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkudXBkYXRlVGFyZ2V0RGF0YSh0LGUpfSxFYy5wcm90b3R5cGUudXBkYXRlTGltYm9Eb2N1bWVudD1TYyxFYy5wcm90b3R5cGUud2U9ZnVuY3Rpb24odCxyKXt2YXIgaSx0PXBjKHQpLG89QXIubztyZXR1cm4gdC5PdCh7aW5kZXg6emEuZG9jdW1lbnRUYXJnZXRzSW5kZXh9LGZ1bmN0aW9uKHQsZSl7dmFyIG49dFswXSx0PSh0WzFdLGUucGF0aCksZT1lLnNlcXVlbmNlTnVtYmVyOzA9PT1uPyhvIT09QXIubyYmcihuZXcgYmkoTGEoaSkpLG8pLG89ZSxpPXQpOm89QXIub30pLm5leHQoZnVuY3Rpb24oKXtvIT09QXIubyYmcihuZXcgYmkoTGEoaSkpLG8pfSl9LEVjLnByb3RvdHlwZS5nZXRDYWNoZVNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZGIuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLmdldFNpemUodCl9LEVjKTtmdW5jdGlvbiBFYyh0LGUpe3RoaXMuZGI9dCx0aGlzLmdhcmJhZ2VDb2xsZWN0b3I9bmV3IGJjKHRoaXMsZSl9ZnVuY3Rpb24gVGModCxlKXt0aGlzLnVlPXQsdGhpcy5wYXJhbXM9ZX1mdW5jdGlvbiBJYyh0LGUpe3RoaXMuZ2FyYmFnZUNvbGxlY3Rvcj10LHRoaXMuYXN5bmNRdWV1ZT1lLHRoaXMub2U9ITEsdGhpcy5jZT1udWxsfWZ1bmN0aW9uIF9jKHQpe3RoaXMubmU9dCx0aGlzLmJ1ZmZlcj1uZXcgUHMoZ2MpLHRoaXMuc2U9MH1mdW5jdGlvbiBTYyh0LGUpe3JldHVybiBwYyh0KS5wdXQoKHQ9dC5jdXJyZW50U2VxdWVuY2VOdW1iZXIsbmV3IHphKDAseGEoZS5wYXRoKSx0KSkpfXZhciBBYyxOYz0oT2MucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLm1hcEtleUZuKHQpLGU9dGhpcy5pbm5lcltlXTtpZih2b2lkIDAhPT1lKWZvcih2YXIgbj0wLHI9ZTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXSxvPWlbMF0saT1pWzFdO2lmKHRoaXMuZXF1YWxzRm4obyx0KSlyZXR1cm4gaX19LE9jLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZ2V0KHQpfSxPYy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5tYXBLZXlGbih0KSxyPXRoaXMuaW5uZXJbbl07aWYodm9pZCAwIT09cil7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspaWYodGhpcy5lcXVhbHNGbihyW2ldWzBdLHQpKXJldHVybiB2b2lkKHJbaV09W3QsZV0pO3IucHVzaChbdCxlXSl9ZWxzZSB0aGlzLmlubmVyW25dPVtbdCxlXV19LE9jLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5tYXBLZXlGbih0KSxuPXRoaXMuaW5uZXJbZV07aWYodm9pZCAwPT09bilyZXR1cm4hMTtmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKylpZih0aGlzLmVxdWFsc0ZuKG5bcl1bMF0sdCkpcmV0dXJuIDE9PT1uLmxlbmd0aD9kZWxldGUgdGhpcy5pbm5lcltlXTpuLnNwbGljZShyLDEpLCEwO3JldHVybiExfSxPYy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihzKXtYcih0aGlzLmlubmVyLGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1lO248ci5sZW5ndGg7bisrKXt2YXIgaT1yW25dLG89aVswXSxpPWlbMV07cyhvLGkpfX0pfSxPYy5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiBKcih0aGlzLmlubmVyKX0sT2MpLEk9KHhjLnByb3RvdHlwZS5nZXRSZWFkVGltZT1mdW5jdGlvbih0KXt0PXRoaXMuY2hhbmdlcy5nZXQodCk7cmV0dXJuIHQ/dC5yZWFkVGltZTp6ci5taW4oKX0seGMucHJvdG90eXBlLmFkZEVudHJ5PWZ1bmN0aW9uKHQsZSl7dGhpcy5hc3NlcnROb3RBcHBsaWVkKCksdGhpcy5jaGFuZ2VzLnNldCh0LmtleSx7ZG9jdW1lbnQ6dCxyZWFkVGltZTplfSl9LHhjLnByb3RvdHlwZS5yZW1vdmVFbnRyeT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPW51bGwpLHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLHRoaXMuY2hhbmdlcy5zZXQodCx7ZG9jdW1lbnQ6UGkubmV3SW52YWxpZERvY3VtZW50KHQpLHJlYWRUaW1lOmV9KX0seGMucHJvdG90eXBlLmdldEVudHJ5PWZ1bmN0aW9uKHQsZSl7dGhpcy5hc3NlcnROb3RBcHBsaWVkKCk7dmFyIG49dGhpcy5jaGFuZ2VzLmdldChlKTtyZXR1cm4gdm9pZCAwIT09bj9udS5yZXNvbHZlKG4uZG9jdW1lbnQpOnRoaXMuZ2V0RnJvbUNhY2hlKHQsZSl9LHhjLnByb3RvdHlwZS5nZXRFbnRyaWVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuZ2V0QWxsRnJvbUNhY2hlKHQsZSl9LHhjLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5hc3NlcnROb3RBcHBsaWVkKCksdGhpcy5jaGFuZ2VzQXBwbGllZD0hMCx0aGlzLmFwcGx5Q2hhbmdlcyh0KX0seGMucHJvdG90eXBlLmFzc2VydE5vdEFwcGxpZWQ9ZnVuY3Rpb24oKXt9LHhjKSxEYz0oUmMucHJvdG90eXBlLmFkZEVudHJ5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gUGModCkucHV0KE1jKGUpLG4pfSxSYy5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24odCxlKXt0PVBjKHQpLGU9TWMoZSk7cmV0dXJuIHQuZGVsZXRlKGUpfSxSYy5wcm90b3R5cGUudXBkYXRlTWV0YWRhdGE9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3JldHVybiB0aGlzLmdldE1ldGFkYXRhKGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIHQuYnl0ZVNpemUrPW4sci5tZShlLHQpfSl9LFJjLnByb3RvdHlwZS5nZXRFbnRyeT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIFBjKHQpLmdldChNYyhlKSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi55ZShlLHQpfSl9LFJjLnByb3RvdHlwZS5nZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIFBjKHQpLmdldChNYyhlKSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm57ZG9jdW1lbnQ6bi55ZShlLHQpLHNpemU6ZWModCl9fSl9LFJjLnByb3RvdHlwZS5nZXRFbnRyaWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPUZzO3JldHVybiB0aGlzLnBlKHQsZSxmdW5jdGlvbih0LGUpe2U9bi55ZSh0LGUpO3I9ci5pbnNlcnQodCxlKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcn0pfSxSYy5wcm90b3R5cGUuRWU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLGk9RnMsbz1uZXcgRHMoYmkuY29tcGFyYXRvcik7cmV0dXJuIHRoaXMucGUodCxlLGZ1bmN0aW9uKHQsZSl7dmFyIG49ci55ZSh0LGUpO2k9aS5pbnNlcnQodCxuKSxvPW8uaW5zZXJ0KHQsZWMoZSkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybntkb2N1bWVudHM6aSxUZTpvfX0pfSxSYy5wcm90b3R5cGUucGU9ZnVuY3Rpb24odCxlLGkpe2lmKGUuaXNFbXB0eSgpKXJldHVybiBudS5yZXNvbHZlKCk7dmFyIG49SURCS2V5UmFuZ2UuYm91bmQoZS5maXJzdCgpLnBhdGgudG9BcnJheSgpLGUubGFzdCgpLnBhdGgudG9BcnJheSgpKSxvPWUuZ2V0SXRlcmF0b3IoKSxzPW8uZ2V0TmV4dCgpO3JldHVybiBQYyh0KS5PdCh7cmFuZ2U6bn0sZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1iaS5mcm9tU2VnbWVudHModCk7cyYmYmkuY29tcGFyYXRvcihzLHIpPDA7KWkocyxudWxsKSxzPW8uZ2V0TmV4dCgpO3MmJnMuaXNFcXVhbChyKSYmKGkocyxlKSxzPW8uaGFzTmV4dCgpP28uZ2V0TmV4dCgpOm51bGwpLHM/bi5DdChzLnBhdGgudG9BcnJheSgpKTpuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtmb3IoO3M7KWkocyxudWxsKSxzPW8uaGFzTmV4dCgpP28uZ2V0TmV4dCgpOm51bGx9KX0sUmMucHJvdG90eXBlLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnk9ZnVuY3Rpb24odCxyLGUpe3ZhciBuLGk9dGhpcyxvPUZzLHM9ci5wYXRoLmxlbmd0aCsxLGE9e307cmV0dXJuIGUuaXNFcXVhbCh6ci5taW4oKSk/KG49ci5wYXRoLnRvQXJyYXkoKSxhLnJhbmdlPUlEQktleVJhbmdlLmxvd2VyQm91bmQobikpOihuPXIucGF0aC50b0FycmF5KCksZT14dShlKSxhLnJhbmdlPUlEQktleVJhbmdlLmxvd2VyQm91bmQoW24sZV0sITApLGEuaW5kZXg9S2EuY29sbGVjdGlvblJlYWRUaW1lSW5kZXgpLFBjKHQpLk90KGEsZnVuY3Rpb24odCxlLG4pe3QubGVuZ3RoPT09cyYmKGU9a3UoaS5SLGUpLHIucGF0aC5pc1ByZWZpeE9mKGUua2V5LnBhdGgpP09vKHIsZSkmJihvPW8uaW5zZXJ0KGUua2V5LGUpKTpuLmRvbmUoKSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG99KX0sUmMucHJvdG90eXBlLm5ld0NoYW5nZUJ1ZmZlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IENjKHRoaXMsISF0JiZ0LnRyYWNrUmVtb3ZhbHMpfSxSYy5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXRNZXRhZGF0YSh0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmJ5dGVTaXplfSl9LFJjLnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gTGModCkuZ2V0KEdhLmtleSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gVXIoISF0KSx0fSl9LFJjLnByb3RvdHlwZS5tZT1mdW5jdGlvbih0LGUpe3JldHVybiBMYyh0KS5wdXQoR2Eua2V5LGUpfSxSYy5wcm90b3R5cGUueWU9ZnVuY3Rpb24odCxlKXtpZihlKXtlPWt1KHRoaXMuUixlKTtpZighZS5pc05vRG9jdW1lbnQoKXx8IWUudmVyc2lvbi5pc0VxdWFsKHpyLm1pbigpKSlyZXR1cm4gZX1yZXR1cm4gUGkubmV3SW52YWxpZERvY3VtZW50KHQpfSxSYyksQ2M9KG4oa2MsQWM9SSksa2MucHJvdG90eXBlLmFwcGx5Q2hhbmdlcz1mdW5jdGlvbihpKXt2YXIgbz10aGlzLHM9W10sYT0wLHU9bmV3IFBzKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGpyKHQuY2Fub25pY2FsU3RyaW5nKCksZS5jYW5vbmljYWxTdHJpbmcoKSl9KTtyZXR1cm4gdGhpcy5jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbixyPW8uQWUuZ2V0KHQpO2UuZG9jdW1lbnQuaXNWYWxpZERvY3VtZW50KCk/KG49UnUoby5JZS5SLGUuZG9jdW1lbnQsby5nZXRSZWFkVGltZSh0KSksdT11LmFkZCh0LnBhdGgucG9wTGFzdCgpKSxlPWVjKG4pLGErPWUtcixzLnB1c2goby5JZS5hZGRFbnRyeShpLHQsbikpKTooYS09cixvLnRyYWNrUmVtb3ZhbHM/KHI9UnUoby5JZS5SLFBpLm5ld05vRG9jdW1lbnQodCx6ci5taW4oKSksby5nZXRSZWFkVGltZSh0KSkscy5wdXNoKG8uSWUuYWRkRW50cnkoaSx0LHIpKSk6cy5wdXNoKG8uSWUucmVtb3ZlRW50cnkoaSx0KSkpfSksdS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3MucHVzaChvLkllLlV0LmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KGksdCkpfSkscy5wdXNoKHRoaXMuSWUudXBkYXRlTWV0YWRhdGEoaSxhKSksbnUud2FpdEZvcihzKX0sa2MucHJvdG90eXBlLmdldEZyb21DYWNoZT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuSWUuZ2UodCxlKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBuLkFlLnNldChlLHQuc2l6ZSksdC5kb2N1bWVudH0pfSxrYy5wcm90b3R5cGUuZ2V0QWxsRnJvbUNhY2hlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5JZS5FZSh0LGUpLm5leHQoZnVuY3Rpb24odCl7dmFyIGU9dC5kb2N1bWVudHM7cmV0dXJuIHQuVGUuZm9yRWFjaChmdW5jdGlvbih0LGUpe24uQWUuc2V0KHQsZSl9KSxlfSl9LGtjKTtmdW5jdGlvbiBrYyh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49QWMuY2FsbCh0aGlzKXx8dGhpcykuSWU9dCxuLnRyYWNrUmVtb3ZhbHM9ZSxuLkFlPW5ldyBOYyhmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygpfSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmlzRXF1YWwoZSl9KSxufWZ1bmN0aW9uIFJjKHQsZSl7dGhpcy5SPXQsdGhpcy5VdD1lfWZ1bmN0aW9uIHhjKCl7dGhpcy5jaGFuZ2VzPW5ldyBOYyhmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZygpfSxmdW5jdGlvbih0LGUpe3JldHVybiB0LmlzRXF1YWwoZSl9KSx0aGlzLmNoYW5nZXNBcHBsaWVkPSExfWZ1bmN0aW9uIE9jKHQsZSl7dGhpcy5tYXBLZXlGbj10LHRoaXMuZXF1YWxzRm49ZSx0aGlzLmlubmVyPXt9fWZ1bmN0aW9uIExjKHQpe3JldHVybiBUdSh0LEdhLnN0b3JlKX1mdW5jdGlvbiBQYyh0KXtyZXR1cm4gVHUodCxLYS5zdG9yZSl9ZnVuY3Rpb24gTWModCl7cmV0dXJuIHQucGF0aC50b0FycmF5KCl9dmFyIEZjPShWYy5wcm90b3R5cGUuUnQ9ZnVuY3Rpb24oZSxuLHQscil7dmFyIGk9dGhpcztVcih0PHImJjA8PXQmJnI8PTExKTt2YXIgbz1uZXcgcnUoXCJjcmVhdGVPclVwZ3JhZGVcIixuKTt0PDEmJjE8PXImJihlLmNyZWF0ZU9iamVjdFN0b3JlKFBhLnN0b3JlKSwocz1lKS5jcmVhdGVPYmplY3RTdG9yZShGYS5zdG9yZSx7a2V5UGF0aDpGYS5rZXlQYXRofSkscy5jcmVhdGVPYmplY3RTdG9yZShWYS5zdG9yZSx7a2V5UGF0aDpWYS5rZXlQYXRoLGF1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChWYS51c2VyTXV0YXRpb25zSW5kZXgsVmEudXNlck11dGF0aW9uc0tleVBhdGgse3VuaXF1ZTohMH0pLHMuY3JlYXRlT2JqZWN0U3RvcmUoVWEuc3RvcmUpLFVjKGUpLGUuY3JlYXRlT2JqZWN0U3RvcmUoS2Euc3RvcmUpKTt2YXIgcyxhPW51LnJlc29sdmUoKTtyZXR1cm4gdDwzJiYzPD1yJiYoMCE9PXQmJigocz1lKS5kZWxldGVPYmplY3RTdG9yZSh6YS5zdG9yZSkscy5kZWxldGVPYmplY3RTdG9yZShRYS5zdG9yZSkscy5kZWxldGVPYmplY3RTdG9yZShIYS5zdG9yZSksVWMoZSkpLGE9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHQ9by5zdG9yZShIYS5zdG9yZSksZT1uZXcgSGEoMCwwLHpyLm1pbigpLnRvVGltZXN0YW1wKCksMCksdC5wdXQoSGEua2V5LGUpO3ZhciB0LGV9KSksdDw0JiY0PD1yJiYoYT0oYT0wIT09dD9hLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbj1lLChyPW8pLnN0b3JlKFZhLnN0b3JlKS5OdCgpLm5leHQoZnVuY3Rpb24odCl7bi5kZWxldGVPYmplY3RTdG9yZShWYS5zdG9yZSksbi5jcmVhdGVPYmplY3RTdG9yZShWYS5zdG9yZSx7a2V5UGF0aDpWYS5rZXlQYXRoLGF1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChWYS51c2VyTXV0YXRpb25zSW5kZXgsVmEudXNlck11dGF0aW9uc0tleVBhdGgse3VuaXF1ZTohMH0pO3ZhciBlPXIuc3RvcmUoVmEuc3RvcmUpLHQ9dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUucHV0KHQpfSk7cmV0dXJuIG51LndhaXRGb3IodCl9KTt2YXIgbixyfSk6YSkubmV4dChmdW5jdGlvbigpe2UuY3JlYXRlT2JqZWN0U3RvcmUoWWEuc3RvcmUse2tleVBhdGg6WWEua2V5UGF0aH0pfSkpLHQ8NSYmNTw9ciYmKGE9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGkuUmUobyl9KSksdDw2JiY2PD1yJiYoYT1hLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gZS5jcmVhdGVPYmplY3RTdG9yZShHYS5zdG9yZSksaS5iZShvKX0pKSx0PDcmJjc8PXImJihhPWEubmV4dChmdW5jdGlvbigpe3JldHVybiBpLnZlKG8pfSkpLHQ8OCYmODw9ciYmKGE9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGkuUGUoZSxvKX0pKSx0PDkmJjk8PXImJihhPWEubmV4dChmdW5jdGlvbigpe3ZhciB0Oyh0PWUpLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoXCJyZW1vdGVEb2N1bWVudENoYW5nZXNcIikmJnQuZGVsZXRlT2JqZWN0U3RvcmUoXCJyZW1vdGVEb2N1bWVudENoYW5nZXNcIiksKHQ9bi5vYmplY3RTdG9yZShLYS5zdG9yZSkpLmNyZWF0ZUluZGV4KEthLnJlYWRUaW1lSW5kZXgsS2EucmVhZFRpbWVJbmRleFBhdGgse3VuaXF1ZTohMX0pLHQuY3JlYXRlSW5kZXgoS2EuY29sbGVjdGlvblJlYWRUaW1lSW5kZXgsS2EuY29sbGVjdGlvblJlYWRUaW1lSW5kZXhQYXRoLHt1bmlxdWU6ITF9KX0pKSx0PDEwJiYxMDw9ciYmKGE9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGkuVmUobyl9KSksYT10PDExJiYxMTw9cj9hLm5leHQoZnVuY3Rpb24oKXtlLmNyZWF0ZU9iamVjdFN0b3JlKFhhLnN0b3JlLHtrZXlQYXRoOlhhLmtleVBhdGh9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKEphLnN0b3JlLHtrZXlQYXRoOkphLmtleVBhdGh9KX0pOmF9LFZjLnByb3RvdHlwZS5iZT1mdW5jdGlvbihlKXt2YXIgbj0wO3JldHVybiBlLnN0b3JlKEthLnN0b3JlKS5PdChmdW5jdGlvbih0LGUpe24rPWVjKGUpfSkubmV4dChmdW5jdGlvbigpe3ZhciB0PW5ldyBHYShuKTtyZXR1cm4gZS5zdG9yZShHYS5zdG9yZSkucHV0KEdhLmtleSx0KX0pfSxWYy5wcm90b3R5cGUuUmU9ZnVuY3Rpb24obil7dmFyIHI9dGhpcyx0PW4uc3RvcmUoRmEuc3RvcmUpLGk9bi5zdG9yZShWYS5zdG9yZSk7cmV0dXJuIHQuTnQoKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBudS5mb3JFYWNoKHQsZnVuY3Rpb24oZSl7dmFyIHQ9SURCS2V5UmFuZ2UuYm91bmQoW2UudXNlcklkLC0xXSxbZS51c2VySWQsZS5sYXN0QWNrbm93bGVkZ2VkQmF0Y2hJZF0pO3JldHVybiBpLk50KFZhLnVzZXJNdXRhdGlvbnNJbmRleCx0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBudS5mb3JFYWNoKHQsZnVuY3Rpb24odCl7VXIodC51c2VySWQ9PT1lLnVzZXJJZCk7dD1NdShyLlIsdCk7cmV0dXJuIHRjKG4sZS51c2VySWQsdCkubmV4dChmdW5jdGlvbigpe30pfSl9KX0pfSl9LFZjLnByb3RvdHlwZS52ZT1mdW5jdGlvbih0KXt2YXIgbz10LnN0b3JlKHphLnN0b3JlKSxlPXQuc3RvcmUoS2Euc3RvcmUpO3JldHVybiB0LnN0b3JlKEhhLnN0b3JlKS5nZXQoSGEua2V5KS5uZXh0KGZ1bmN0aW9uKHIpe3ZhciBpPVtdO3JldHVybiBlLk90KGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IHRpKHQpLHQ9WzAseGEobildO2kucHVzaChvLmdldCh0KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0P251LnJlc29sdmUoKTpvLnB1dChuZXcgemEoMCx4YShuKSxyLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcikpfSkpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBudS53YWl0Rm9yKGkpfSl9KX0sVmMucHJvdG90eXBlLlBlPWZ1bmN0aW9uKHQsZSl7dC5jcmVhdGVPYmplY3RTdG9yZShXYS5zdG9yZSx7a2V5UGF0aDpXYS5rZXlQYXRofSk7ZnVuY3Rpb24gcih0KXtpZihpLmFkZCh0KSl7dmFyIGU9dC5sYXN0U2VnbWVudCgpLHQ9dC5wb3BMYXN0KCk7cmV0dXJuIG4ucHV0KHtjb2xsZWN0aW9uSWQ6ZSxwYXJlbnQ6eGEodCl9KX19dmFyIG49ZS5zdG9yZShXYS5zdG9yZSksaT1uZXcgUXU7cmV0dXJuIGUuc3RvcmUoS2Euc3RvcmUpLk90KHtrdDohMH0sZnVuY3Rpb24odCxlKXt0PW5ldyB0aSh0KTtyZXR1cm4gcih0LnBvcExhc3QoKSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RvcmUoVWEuc3RvcmUpLk90KHtrdDohMH0sZnVuY3Rpb24odCxlKXt0WzBdO3ZhciBuPXRbMV0sbj0odFsyXSxMYShuKSk7cmV0dXJuIHIobi5wb3BMYXN0KCkpfSl9KX0sVmMucHJvdG90eXBlLlZlPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMscj10LnN0b3JlKFFhLnN0b3JlKTtyZXR1cm4gci5PdChmdW5jdGlvbih0LGUpe2U9RnUoZSksZT1WdShuLlIsZSk7cmV0dXJuIHIucHV0KGUpfSl9LFZjKTtmdW5jdGlvbiBWYyh0KXt0aGlzLlI9dH1mdW5jdGlvbiBVYyh0KXt0LmNyZWF0ZU9iamVjdFN0b3JlKHphLnN0b3JlLHtrZXlQYXRoOnphLmtleVBhdGh9KS5jcmVhdGVJbmRleCh6YS5kb2N1bWVudFRhcmdldHNJbmRleCx6YS5kb2N1bWVudFRhcmdldHNLZXlQYXRoLHt1bmlxdWU6ITB9KSx0LmNyZWF0ZU9iamVjdFN0b3JlKFFhLnN0b3JlLHtrZXlQYXRoOlFhLmtleVBhdGh9KS5jcmVhdGVJbmRleChRYS5xdWVyeVRhcmdldHNJbmRleE5hbWUsUWEucXVlcnlUYXJnZXRzS2V5UGF0aCx7dW5pcXVlOiEwfSksdC5jcmVhdGVPYmplY3RTdG9yZShIYS5zdG9yZSl9dmFyIHFjPVwiRmFpbGVkIHRvIG9idGFpbiBleGNsdXNpdmUgYWNjZXNzIHRvIHRoZSBwZXJzaXN0ZW5jZSBsYXllci4gVG8gYWxsb3cgc2hhcmVkIGFjY2VzcywgbXVsdGktdGFiIHN5bmNocm9uaXphdGlvbiBoYXMgdG8gYmUgZW5hYmxlZCBpbiBhbGwgdGFicy4gSWYgeW91IGFyZSB1c2luZyBgZXhwZXJpbWVudGFsRm9yY2VPd25pbmdUYWI6dHJ1ZWAsIG1ha2Ugc3VyZSB0aGF0IG9ubHkgb25lIHRhYiBoYXMgcGVyc2lzdGVuY2UgZW5hYmxlZCBhdCBhbnkgZ2l2ZW4gdGltZS5cIixCYz0oamMucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5qZSgpLnRoZW4oZnVuY3Rpb24oKXtpZighZS5pc1ByaW1hcnkmJiFlLmFsbG93VGFiU3luY2hyb25pemF0aW9uKXRocm93IG5ldyBrcihDci5GQUlMRURfUFJFQ09ORElUSU9OLHFjKTtyZXR1cm4gZS5XZSgpLGUuR2UoKSxlLnplKCksZS5ydW5UcmFuc2FjdGlvbihcImdldEhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlclwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gZS5xZS5nZXRIaWdoZXN0U2VxdWVuY2VOdW1iZXIodCl9KX0pLnRoZW4oZnVuY3Rpb24odCl7ZS5OZT1uZXcgQXIodCxlLkRlKX0pLnRoZW4oZnVuY3Rpb24oKXtlLnhlPSEwfSkuY2F0Y2goZnVuY3Rpb24odCl7cmV0dXJuIGUuQmUmJmUuQmUuY2xvc2UoKSxQcm9taXNlLnJlamVjdCh0KX0pfSxqYy5wcm90b3R5cGUuSGU9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5NZT1mdW5jdGlvbihlKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXJ0ZWQ/WzIsbihlKV06WzJdfSl9KX0sbih0aGlzLmlzUHJpbWFyeSl9LGpjLnByb3RvdHlwZS5zZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lcj1mdW5jdGlvbihuKXt2YXIgdD10aGlzO3RoaXMuQmUudnQoZnVuY3Rpb24oZSl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBudWxsPT09ZS5uZXdWZXJzaW9uP1s0LG4oKV06WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pfSl9KX0samMucHJvdG90eXBlLnNldE5ldHdvcmtFbmFibGVkPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5uZXR3b3JrRW5hYmxlZCE9PXQmJih0aGlzLm5ldHdvcmtFbmFibGVkPXQsdGhpcy5TZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnN0YXJ0ZWQ/WzQsdGhpcy5qZSgpXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX0pKX0samMucHJvdG90eXBlLmplPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5ydW5UcmFuc2FjdGlvbihcInVwZGF0ZUNsaWVudE1ldGFkYXRhQW5kVHJ5QmVjb21lUHJpbWFyeVwiLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24oZSl7cmV0dXJuIEdjKGUpLnB1dChuZXcgWWEobi5jbGllbnRJZCxEYXRlLm5vdygpLG4ubmV0d29ya0VuYWJsZWQsbi5pbkZvcmVncm91bmQpKS5uZXh0KGZ1bmN0aW9uKCl7aWYobi5pc1ByaW1hcnkpcmV0dXJuIG4uSmUoZSkubmV4dChmdW5jdGlvbih0KXt0fHwobi5pc1ByaW1hcnk9ITEsbi5TZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIG4uTWUoITEpfSkpfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uWWUoZSl9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBuLmlzUHJpbWFyeSYmIXQ/bi5YZShlKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuITF9KTohIXQmJm4uWmUoZSkubmV4dChmdW5jdGlvbigpe3JldHVybiEwfSl9KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe2lmKGR1KHQpKXJldHVybiBMcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsXCJGYWlsZWQgdG8gZXh0ZW5kIG93bmVyIGxlYXNlOiBcIix0KSxuLmlzUHJpbWFyeTtpZighbi5hbGxvd1RhYlN5bmNocm9uaXphdGlvbil0aHJvdyB0O3JldHVybiBMcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsXCJSZWxlYXNpbmcgb3duZXIgbGVhc2UgYWZ0ZXIgZXJyb3IgZHVyaW5nIGxlYXNlIHJlZnJlc2hcIix0KSwhMX0pLnRoZW4oZnVuY3Rpb24odCl7bi5pc1ByaW1hcnkhPT10JiZuLlNlLmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4gbi5NZSh0KX0pLG4uaXNQcmltYXJ5PXR9KX0samMucHJvdG90eXBlLkplPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIEtjKHQpLmdldChQYS5rZXkpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG51LnJlc29sdmUoZS50bih0KSl9KX0samMucHJvdG90eXBlLmVuPWZ1bmN0aW9uKHQpe3JldHVybiBHYyh0KS5kZWxldGUodGhpcy5jbGllbnRJZCl9LGpjLnByb3RvdHlwZS5ubj1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpLG89dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIXRoaXMuaXNQcmltYXJ5fHx0aGlzLnNuKHRoaXMuJGUsMThlNSk/WzMsMl06KHRoaXMuJGU9RGF0ZS5ub3coKSxbNCx0aGlzLnJ1blRyYW5zYWN0aW9uKFwibWF5YmVHYXJiYWdlQ29sbGVjdE11bHRpQ2xpZW50U3RhdGVcIixcInJlYWR3cml0ZS1wcmltYXJ5XCIsZnVuY3Rpb24odCl7dmFyIHI9VHUodCxZYS5zdG9yZSk7cmV0dXJuIHIuTnQoKS5uZXh0KGZ1bmN0aW9uKHQpe3ZhciBlPW8ucm4odCwxOGU1KSxuPXQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5pbmRleE9mKHQpfSk7cmV0dXJuIG51LmZvckVhY2gobixmdW5jdGlvbih0KXtyZXR1cm4gci5kZWxldGUodC5jbGllbnRJZCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG59KX0pfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXR1cm5bXX0pXSk7Y2FzZSAxOmlmKGU9dC5zZW50KCksdGhpcy5LZSlmb3Iobj0wLHI9ZTtuPHIubGVuZ3RoO24rKylpPXJbbl0sdGhpcy5LZS5yZW1vdmVJdGVtKHRoaXMub24oaS5jbGllbnRJZCkpO3QubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pfSl9LGpjLnByb3RvdHlwZS56ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5PZT10aGlzLlNlLmVucXVldWVBZnRlckRlbGF5KFwiY2xpZW50X21ldGFkYXRhX3JlZnJlc2hcIiw0ZTMsZnVuY3Rpb24oKXtyZXR1cm4gdC5qZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gdC5ubigpfSkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnplKCl9KX0pfSxqYy5wcm90b3R5cGUudG49ZnVuY3Rpb24odCl7cmV0dXJuISF0JiZ0Lm93bmVySWQ9PT10aGlzLmNsaWVudElkfSxqYy5wcm90b3R5cGUuWWU9ZnVuY3Rpb24oZSl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5DZT9udS5yZXNvbHZlKCEwKTpLYyhlKS5nZXQoUGEua2V5KS5uZXh0KGZ1bmN0aW9uKHQpe2lmKG51bGwhPT10JiZyLnNuKHQubGVhc2VUaW1lc3RhbXBNcyw1ZTMpJiYhci5jbih0Lm93bmVySWQpKXtpZihyLnRuKHQpJiZyLm5ldHdvcmtFbmFibGVkKXJldHVybiEwO2lmKCFyLnRuKHQpKXtpZighdC5hbGxvd1RhYlN5bmNocm9uaXphdGlvbil0aHJvdyBuZXcga3IoQ3IuRkFJTEVEX1BSRUNPTkRJVElPTixxYyk7cmV0dXJuITF9fXJldHVybiEoIXIubmV0d29ya0VuYWJsZWR8fCFyLmluRm9yZWdyb3VuZCl8fEdjKGUpLk50KCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09ci5ybih0LDVlMykuZmluZChmdW5jdGlvbih0KXtpZihyLmNsaWVudElkIT09dC5jbGllbnRJZCl7dmFyIGU9IXIubmV0d29ya0VuYWJsZWQmJnQubmV0d29ya0VuYWJsZWQsbj0hci5pbkZvcmVncm91bmQmJnQuaW5Gb3JlZ3JvdW5kLHQ9ci5uZXR3b3JrRW5hYmxlZD09PXQubmV0d29ya0VuYWJsZWQ7aWYoZXx8biYmdClyZXR1cm4hMH1yZXR1cm4hMX0pfSl9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiByLmlzUHJpbWFyeSE9PXQmJkxyKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIkNsaWVudCBcIisodD9cImlzXCI6XCJpcyBub3RcIikrXCIgZWxpZ2libGUgZm9yIGEgcHJpbWFyeSBsZWFzZS5cIiksdH0pfSxqYy5wcm90b3R5cGUuc2h1dGRvd249ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy54ZT0hMSx0aGlzLmFuKCksdGhpcy5PZSYmKHRoaXMuT2UuY2FuY2VsKCksdGhpcy5PZT1udWxsKSx0aGlzLnVuKCksdGhpcy5obigpLFs0LHRoaXMuQmUucnVuVHJhbnNhY3Rpb24oXCJzaHV0ZG93blwiLFwicmVhZHdyaXRlXCIsW1BhLnN0b3JlLFlhLnN0b3JlXSxmdW5jdGlvbih0KXt2YXIgZT1uZXcgd3UodCxBci5vKTtyZXR1cm4gbi5YZShlKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG4uZW4oZSl9KX0pXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMuQmUuY2xvc2UoKSx0aGlzLmxuKCksWzJdfX0pfSl9LGpjLnByb3RvdHlwZS5ybj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBuLnNuKHQudXBkYXRlVGltZU1zLGUpJiYhbi5jbih0LmNsaWVudElkKX0pfSxqYy5wcm90b3R5cGUuZm49ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiB0aGlzLnJ1blRyYW5zYWN0aW9uKFwiZ2V0QWN0aXZlQ2xpZW50c1wiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gR2ModCkuTnQoKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBlLnJuKHQsMThlNSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsaWVudElkfSl9KX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoamMucHJvdG90eXBlLFwic3RhcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxqYy5wcm90b3R5cGUuZ2V0TXV0YXRpb25RdWV1ZT1mdW5jdGlvbih0KXtyZXR1cm4gbmMuS3QodCx0aGlzLlIsdGhpcy5VdCx0aGlzLnJlZmVyZW5jZURlbGVnYXRlKX0samMucHJvdG90eXBlLmdldFRhcmdldENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucWV9LGpjLnByb3RvdHlwZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVWV9LGpjLnByb3RvdHlwZS5nZXRJbmRleE1hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VdH0samMucHJvdG90eXBlLmdldEJ1bmRsZUNhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUWV9LGpjLnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbihlLG4scil7dmFyIGk9dGhpcztMcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsXCJTdGFydGluZyB0cmFuc2FjdGlvbjpcIixlKTt2YXIgbyx0PVwicmVhZG9ubHlcIj09PW4/XCJyZWFkb25seVwiOlwicmVhZHdyaXRlXCI7cmV0dXJuIHRoaXMuQmUucnVuVHJhbnNhY3Rpb24oZSx0LFphLGZ1bmN0aW9uKHQpe3JldHVybiBvPW5ldyB3dSh0LGkuTmU/aS5OZS5uZXh0KCk6QXIubyksXCJyZWFkd3JpdGUtcHJpbWFyeVwiPT09bj9pLkplKG8pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuISF0fHxpLlllKG8pfSkubmV4dChmdW5jdGlvbih0KXtpZighdCl0aHJvdyBQcihcIkZhaWxlZCB0byBvYnRhaW4gcHJpbWFyeSBsZWFzZSBmb3IgYWN0aW9uICdcIitlK1wiJy5cIiksaS5pc1ByaW1hcnk9ITEsaS5TZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIGkuTWUoITEpfSksbmV3IGtyKENyLkZBSUxFRF9QUkVDT05ESVRJT04sdHUpO3JldHVybiByKG8pfSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gaS5aZShvKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHR9KX0pOmkuZG4obykubmV4dChmdW5jdGlvbigpe3JldHVybiByKG8pfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBvLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLHR9KX0samMucHJvdG90eXBlLmRuPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIEtjKHQpLmdldChQYS5rZXkpLm5leHQoZnVuY3Rpb24odCl7aWYobnVsbCE9PXQmJmUuc24odC5sZWFzZVRpbWVzdGFtcE1zLDVlMykmJiFlLmNuKHQub3duZXJJZCkmJiFlLnRuKHQpJiYhKGUuQ2V8fGUuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24mJnQuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pKXRocm93IG5ldyBrcihDci5GQUlMRURfUFJFQ09ORElUSU9OLHFjKX0pfSxqYy5wcm90b3R5cGUuWmU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IFBhKHRoaXMuY2xpZW50SWQsdGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbixEYXRlLm5vdygpKTtyZXR1cm4gS2ModCkucHV0KFBhLmtleSxlKX0samMueXQ9ZnVuY3Rpb24oKXtyZXR1cm4gaXUueXQoKX0samMucHJvdG90eXBlLlhlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj1LYyh0KTtyZXR1cm4gbi5nZXQoUGEua2V5KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBlLnRuKHQpPyhMcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsXCJSZWxlYXNpbmcgcHJpbWFyeSBsZWFzZS5cIiksbi5kZWxldGUoUGEua2V5KSk6bnUucmVzb2x2ZSgpfSl9LGpjLnByb3RvdHlwZS5zbj1mdW5jdGlvbih0LGUpe3ZhciBuPURhdGUubm93KCk7cmV0dXJuISh0PG4tZXx8bjx0JiYoUHIoXCJEZXRlY3RlZCBhbiB1cGRhdGUgdGltZSB0aGF0IGlzIGluIHRoZSBmdXR1cmU6IFwiK3QrXCIgPiBcIituKSwxKSl9LGpjLnByb3RvdHlwZS5XZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7bnVsbCE9PXRoaXMuZG9jdW1lbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciYmKHRoaXMua2U9ZnVuY3Rpb24oKXt0LlNlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gdC5pbkZvcmVncm91bmQ9XCJ2aXNpYmxlXCI9PT10LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSx0LmplKCl9KX0sdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMua2UpLHRoaXMuaW5Gb3JlZ3JvdW5kPVwidmlzaWJsZVwiPT09dGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpfSxqYy5wcm90b3R5cGUudW49ZnVuY3Rpb24oKXt0aGlzLmtlJiYodGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMua2UpLHRoaXMua2U9bnVsbCl9LGpjLnByb3RvdHlwZS5HZT1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcztcImZ1bmN0aW9uXCI9PXR5cGVvZihudWxsPT09KHQ9dGhpcy53aW5kb3cpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmFkZEV2ZW50TGlzdGVuZXIpJiYodGhpcy5GZT1mdW5jdGlvbigpe2UuYW4oKSxlLlNlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gZS5zaHV0ZG93bigpfSl9LHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLHRoaXMuRmUpKX0samMucHJvdG90eXBlLmhuPWZ1bmN0aW9uKCl7dGhpcy5GZSYmKHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLHRoaXMuRmUpLHRoaXMuRmU9bnVsbCl9LGpjLnByb3RvdHlwZS5jbj1mdW5jdGlvbih0KXt0cnl7dmFyIGU9bnVsbCE9PShudWxsPT09KGU9dGhpcy5LZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0SXRlbSh0aGlzLm9uKHQpKSk7cmV0dXJuIExyKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIkNsaWVudCAnXCIrdCtcIicgXCIrKGU/XCJpc1wiOlwiaXMgbm90XCIpK1wiIHpvbWJpZWQgaW4gTG9jYWxTdG9yYWdlXCIpLGV9Y2F0Y2godCl7cmV0dXJuIFByKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIixcIkZhaWxlZCB0byBnZXQgem9tYmllZCBjbGllbnQgaWQuXCIsdCksITF9fSxqYy5wcm90b3R5cGUuYW49ZnVuY3Rpb24oKXtpZih0aGlzLktlKXRyeXt0aGlzLktlLnNldEl0ZW0odGhpcy5vbih0aGlzLmNsaWVudElkKSxTdHJpbmcoRGF0ZS5ub3coKSkpfWNhdGNoKHQpe1ByKFwiRmFpbGVkIHRvIHNldCB6b21iaWUgY2xpZW50IGlkLlwiLHQpfX0samMucHJvdG90eXBlLmxuPWZ1bmN0aW9uKCl7aWYodGhpcy5LZSl0cnl7dGhpcy5LZS5yZW1vdmVJdGVtKHRoaXMub24odGhpcy5jbGllbnRJZCkpfWNhdGNoKHQpe319LGpjLnByb3RvdHlwZS5vbj1mdW5jdGlvbih0KXtyZXR1cm5cImZpcmVzdG9yZV96b21iaWVfXCIrdGhpcy5wZXJzaXN0ZW5jZUtleStcIl9cIit0fSxqYyk7ZnVuY3Rpb24gamModCxlLG4scixpLG8scyxhLHUsYyl7aWYodGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbj10LHRoaXMucGVyc2lzdGVuY2VLZXk9ZSx0aGlzLmNsaWVudElkPW4sdGhpcy5TZT1pLHRoaXMud2luZG93PW8sdGhpcy5kb2N1bWVudD1zLHRoaXMuRGU9dSx0aGlzLkNlPWMsdGhpcy5OZT1udWxsLHRoaXMueGU9ITEsdGhpcy5pc1ByaW1hcnk9ITEsdGhpcy5uZXR3b3JrRW5hYmxlZD0hMCx0aGlzLkZlPW51bGwsdGhpcy5pbkZvcmVncm91bmQ9ITEsdGhpcy5rZT1udWxsLHRoaXMuT2U9bnVsbCx0aGlzLiRlPU51bWJlci5ORUdBVElWRV9JTkZJTklUWSx0aGlzLk1lPWZ1bmN0aW9uKHQpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sIWpjLnl0KCkpdGhyb3cgbmV3IGtyKENyLlVOSU1QTEVNRU5URUQsXCJUaGlzIHBsYXRmb3JtIGlzIGVpdGhlciBtaXNzaW5nIEluZGV4ZWREQiBvciBpcyBrbm93biB0byBoYXZlIGFuIGluY29tcGxldGUgaW1wbGVtZW50YXRpb24uIE9mZmxpbmUgcGVyc2lzdGVuY2UgaGFzIGJlZW4gZGlzYWJsZWQuXCIpO3RoaXMucmVmZXJlbmNlRGVsZWdhdGU9bmV3IHdjKHRoaXMsciksdGhpcy5MZT1lK1wibWFpblwiLHRoaXMuUj1uZXcgQXUoYSksdGhpcy5CZT1uZXcgaXUodGhpcy5MZSwxMSxuZXcgRmModGhpcy5SKSksdGhpcy5xZT1uZXcgY2ModGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSx0aGlzLlIpLHRoaXMuVXQ9bmV3IHp1LHRoaXMuVWU9KGU9dGhpcy5SLGE9dGhpcy5VdCxuZXcgRGMoZSxhKSksdGhpcy5RZT1uZXcgcXUsdGhpcy53aW5kb3cmJnRoaXMud2luZG93LmxvY2FsU3RvcmFnZT90aGlzLktlPXRoaXMud2luZG93LmxvY2FsU3RvcmFnZToodGhpcy5LZT1udWxsLCExPT09YyYmUHIoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLFwiTG9jYWxTdG9yYWdlIGlzIHVuYXZhaWxhYmxlLiBBcyBhIHJlc3VsdCwgcGVyc2lzdGVuY2UgbWF5IG5vdCB3b3JrIHJlbGlhYmx5LiBJbiBwYXJ0aWN1bGFyIGVuYWJsZVBlcnNpc3RlbmNlKCkgY291bGQgZmFpbCBpbW1lZGlhdGVseSBhZnRlciByZWZyZXNoaW5nIHRoZSBwYWdlLlwiKSl9ZnVuY3Rpb24gS2ModCl7cmV0dXJuIFR1KHQsUGEuc3RvcmUpfWZ1bmN0aW9uIEdjKHQpe3JldHVybiBUdSh0LFlhLnN0b3JlKX1mdW5jdGlvbiBRYyh0LGUpe3ZhciBuPXQucHJvamVjdElkO3JldHVybiB0LmlzRGVmYXVsdERhdGFiYXNlfHwobis9XCIuXCIrdC5kYXRhYmFzZSksXCJmaXJlc3RvcmUvXCIrZStcIi9cIituK1wiL1wifWZ1bmN0aW9uIHpjKHQsZSl7dGhpcy5wcm9ncmVzcz10LHRoaXMud249ZX12YXIgSGM9KHRoLnByb3RvdHlwZS5tbj1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7cmV0dXJuIHRoaXMuX24uZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXkoZSxuKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiByLnluKGUsbix0KX0pfSx0aC5wcm90b3R5cGUueW49ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0aGlzLlVlLmdldEVudHJ5KHQsZSkubmV4dChmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxuPXI7ZTxuLmxlbmd0aDtlKyspbltlXS5hcHBseVRvTG9jYWxWaWV3KHQpO3JldHVybiB0fSl9LHRoLnByb3RvdHlwZS5nbj1mdW5jdGlvbih0LGkpe3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0wLHI9aTtuPHIubGVuZ3RoO24rKylyW25dLmFwcGx5VG9Mb2NhbFZpZXcoZSl9KX0sdGgucHJvdG90eXBlLnBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5VZS5nZXRFbnRyaWVzKGUsdCkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi5FbihlLHQpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSl9LHRoLnByb3RvdHlwZS5Fbj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMuX24uZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzKHQsZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gbi5nbihlLHQpfSl9LHRoLnByb3RvdHlwZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5PWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gcj1lLGJpLmlzRG9jdW1lbnRLZXkoci5wYXRoKSYmbnVsbD09PXIuY29sbGVjdGlvbkdyb3VwJiYwPT09ci5maWx0ZXJzLmxlbmd0aD90aGlzLlRuKHQsZS5wYXRoKTpBbyhlKT90aGlzLkluKHQsZSxuKTp0aGlzLkFuKHQsZSxuKTt2YXIgcn0sdGgucHJvdG90eXBlLlRuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMubW4odCxuZXcgYmkoZSkpLm5leHQoZnVuY3Rpb24odCl7dmFyIGU9cXM7cmV0dXJuIGU9dC5pc0ZvdW5kRG9jdW1lbnQoKT9lLmluc2VydCh0LmtleSx0KTplfSl9LHRoLnByb3RvdHlwZS5Jbj1mdW5jdGlvbihuLHIsaSl7dmFyIG89dGhpcyxzPXIuY29sbGVjdGlvbkdyb3VwLGE9cXM7cmV0dXJuIHRoaXMuVXQuZ2V0Q29sbGVjdGlvblBhcmVudHMobixzKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBudS5mb3JFYWNoKHQsZnVuY3Rpb24odCl7dmFyIGUsZT0oZT1yLHQ9dC5jaGlsZChzKSxuZXcgYm8odCxudWxsLGUuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksZS5maWx0ZXJzLnNsaWNlKCksZS5saW1pdCxlLmxpbWl0VHlwZSxlLnN0YXJ0QXQsZS5lbmRBdCkpO3JldHVybiBvLkFuKG4sZSxpKS5uZXh0KGZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0LGUpe2E9YS5pbnNlcnQodCxlKX0pfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGF9KX0pfSx0aC5wcm90b3R5cGUuQW49ZnVuY3Rpb24oZSxuLHQpe3ZhciBjLGgscj10aGlzO3JldHVybiB0aGlzLlVlLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSxuLHQpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGM9dCxyLl9uLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KGUsbil9KS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBoPXQsci5SbihlLGgsYykubmV4dChmdW5jdGlvbih0KXtjPXQ7Zm9yKHZhciBlPTAsbj1oO2U8bi5sZW5ndGg7ZSsrKWZvcih2YXIgcj1uW2VdLGk9MCxvPXIubXV0YXRpb25zO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldLGE9cy5rZXksdT1jLmdldChhKTtudWxsPT11JiYodT1QaS5uZXdJbnZhbGlkRG9jdW1lbnQoYSksYz1jLmluc2VydChhLHUpKSxzcyhzLHUsci5sb2NhbFdyaXRlVGltZSksdS5pc0ZvdW5kRG9jdW1lbnQoKXx8KGM9Yy5yZW1vdmUoYSkpfX0pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24odCxlKXtPbyhuLGUpfHwoYz1jLnJlbW92ZSh0KSl9KSxjfSl9LHRoLnByb3RvdHlwZS5Sbj1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPUtzKCksaT0wLG89ZTtpPG8ubGVuZ3RoO2krKylmb3IodmFyIHM9MCxhPW9baV0ubXV0YXRpb25zO3M8YS5sZW5ndGg7cysrKXt2YXIgdT1hW3NdO3UgaW5zdGFuY2VvZiBmcyYmbnVsbD09PW4uZ2V0KHUua2V5KSYmKHI9ci5hZGQodS5rZXkpKX12YXIgYz1uO3JldHVybiB0aGlzLlVlLmdldEVudHJpZXModCxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24odCxlKXtlLmlzRm91bmREb2N1bWVudCgpJiYoYz1jLmluc2VydCh0LGUpKX0pLGN9KX0sdGgpLFdjPShaYy5Qbj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj1LcygpLHI9S3MoKSxpPTAsbz1lLmRvY0NoYW5nZXM7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV07c3dpdGNoKHMudHlwZSl7Y2FzZSAwOm49bi5hZGQocy5kb2Mua2V5KTticmVhaztjYXNlIDE6cj1yLmFkZChzLmRvYy5rZXkpfX1yZXR1cm4gbmV3IFpjKHQsZS5mcm9tQ2FjaGUsbixyKX0sWmMpLFljPSgkYy5wcm90b3R5cGUuVm49ZnVuY3Rpb24odCl7dGhpcy5Tbj10fSwkYy5wcm90b3R5cGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeT1mdW5jdGlvbihlLHIsaSxvKXt2YXIgcz10aGlzO3JldHVybiAwPT09ci5maWx0ZXJzLmxlbmd0aCYmbnVsbD09PXIubGltaXQmJm51bGw9PXIuc3RhcnRBdCYmbnVsbD09ci5lbmRBdCYmKDA9PT1yLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGh8fDE9PT1yLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGgmJnIuZXhwbGljaXRPcmRlckJ5WzBdLmZpZWxkLmlzS2V5RmllbGQoKSl8fGkuaXNFcXVhbCh6ci5taW4oKSk/dGhpcy5EbihlLHIpOnRoaXMuU24ucG4oZSxvKS5uZXh0KGZ1bmN0aW9uKHQpe3ZhciBuPXMuQ24ocix0KTtyZXR1cm4oVG8ocil8fElvKHIpKSYmcy5ObihyLmxpbWl0VHlwZSxuLG8saSk/cy5EbihlLHIpOihPcigpPD1wLkRFQlVHJiZMcihcIlF1ZXJ5RW5naW5lXCIsXCJSZS11c2luZyBwcmV2aW91cyByZXN1bHQgZnJvbSAlcyB0byBleGVjdXRlIHF1ZXJ5OiAlc1wiLGkudG9TdHJpbmcoKSx4byhyKSkscy5Tbi5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUscixpKS5uZXh0KGZ1bmN0aW9uKGUpe3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24odCl7ZT1lLmluc2VydCh0LmtleSx0KX0pLGV9KSl9KX0sJGMucHJvdG90eXBlLkNuPWZ1bmN0aW9uKG4sdCl7dmFyIHI9bmV3IFBzKExvKG4pKTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7T28obixlKSYmKHI9ci5hZGQoZSkpfSkscn0sJGMucHJvdG90eXBlLk5uPWZ1bmN0aW9uKHQsZSxuLHIpe2lmKG4uc2l6ZSE9PWUuc2l6ZSlyZXR1cm4hMDtlPVwiRlwiPT09dD9lLmxhc3QoKTplLmZpcnN0KCk7cmV0dXJuISFlJiYoZS5oYXNQZW5kaW5nV3JpdGVzfHwwPGUudmVyc2lvbi5jb21wYXJlVG8ocikpfSwkYy5wcm90b3R5cGUuRG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gT3IoKTw9cC5ERUJVRyYmTHIoXCJRdWVyeUVuZ2luZVwiLFwiVXNpbmcgZnVsbCBjb2xsZWN0aW9uIHNjYW4gdG8gZXhlY3V0ZSBxdWVyeTpcIix4byhlKSksdGhpcy5Tbi5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KHQsZSx6ci5taW4oKSl9LCRjKSxYYz0oSmMucHJvdG90eXBlLmNvbGxlY3RHYXJiYWdlPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIHRoaXMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJDb2xsZWN0IGdhcmJhZ2VcIixcInJlYWR3cml0ZS1wcmltYXJ5XCIsZnVuY3Rpb24odCl7cmV0dXJuIGUuY29sbGVjdCh0LG4uRm4pfSl9LEpjKTtmdW5jdGlvbiBKYyh0LGUsbixyKXt0aGlzLnBlcnNpc3RlbmNlPXQsdGhpcy54bj1lLHRoaXMuUj1yLHRoaXMuRm49bmV3IERzKGpyKSx0aGlzLmtuPW5ldyBOYyhVaSxxaSksdGhpcy5Pbj16ci5taW4oKSx0aGlzLl9uPXQuZ2V0TXV0YXRpb25RdWV1ZShuKSx0aGlzLiRuPXQuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLHRoaXMucWU9dC5nZXRUYXJnZXRDYWNoZSgpLHRoaXMuTW49bmV3IEhjKHRoaXMuJG4sdGhpcy5fbix0aGlzLnBlcnNpc3RlbmNlLmdldEluZGV4TWFuYWdlcigpKSx0aGlzLlFlPXQuZ2V0QnVuZGxlQ2FjaGUoKSx0aGlzLnhuLlZuKHRoaXMuTW4pfWZ1bmN0aW9uICRjKCl7fWZ1bmN0aW9uIFpjKHQsZSxuLHIpe3RoaXMudGFyZ2V0SWQ9dCx0aGlzLmZyb21DYWNoZT1lLHRoaXMuYm49bix0aGlzLnZuPXJ9ZnVuY3Rpb24gdGgodCxlLG4pe3RoaXMuVWU9dCx0aGlzLl9uPWUsdGhpcy5VdD1ufWZ1bmN0aW9uIGVoKHQsZSxuLHIpe3JldHVybiBuZXcgWGModCxlLG4scil9ZnVuY3Rpb24gbmgoaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHYscjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG49KGU9aSkuX24sdj1lLk1uLFs0LGUucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJIYW5kbGUgdXNlciBjaGFuZ2VcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24oZyl7dmFyIG07cmV0dXJuIGUuX24uZ2V0QWxsTXV0YXRpb25CYXRjaGVzKGcpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG09dCxuPWUucGVyc2lzdGVuY2UuZ2V0TXV0YXRpb25RdWV1ZShvKSx2PW5ldyBIYyhlLiRuLG4sZS5wZXJzaXN0ZW5jZS5nZXRJbmRleE1hbmFnZXIoKSksbi5nZXRBbGxNdXRhdGlvbkJhdGNoZXMoZyl9KS5uZXh0KGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPVtdLHI9S3MoKSxpPTAsbz1tO2k8by5sZW5ndGg7aSsrKXt2YXIgcz1vW2ldO2UucHVzaChzLmJhdGNoSWQpO2Zvcih2YXIgYT0wLHU9cy5tdXRhdGlvbnM7YTx1Lmxlbmd0aDthKyspdmFyIGM9dVthXSxyPXIuYWRkKGMua2V5KX1mb3IodmFyIGg9MCxsPXQ7aDxsLmxlbmd0aDtoKyspe3ZhciBmPWxbaF07bi5wdXNoKGYuYmF0Y2hJZCk7Zm9yKHZhciBkPTAscD1mLm11dGF0aW9ucztkPHAubGVuZ3RoO2QrKyl7dmFyIHk9cFtkXTtyPXIuYWRkKHkua2V5KX19cmV0dXJuIHYucG4oZyxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybntMbjp0LHJlbW92ZWRCYXRjaElkczplLGFkZGVkQmF0Y2hJZHM6bn19KX0pfSldO2Nhc2UgMTpyZXR1cm4gcj10LnNlbnQoKSxbMiwoZS5fbj1uLGUuTW49dixlLnhuLlZuKGUuTW4pLHIpXX19KX0pfWZ1bmN0aW9uIHJoKHQsaCl7dmFyIGw9dDtyZXR1cm4gbC5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkFja25vd2xlZGdlIGJhdGNoXCIsXCJyZWFkd3JpdGUtcHJpbWFyeVwiLGZ1bmN0aW9uKHQpe3ZhciBlLHIsaSxvLHMsbixhLHU9aC5iYXRjaC5rZXlzKCksYz1sLiRuLm5ld0NoYW5nZUJ1ZmZlcih7dHJhY2tSZW1vdmFsczohMH0pO3JldHVybiBlPWwscj10LG89YyxzPShpPWgpLmJhdGNoLG49cy5rZXlzKCksYT1udS5yZXNvbHZlKCksbi5mb3JFYWNoKGZ1bmN0aW9uKG4pe2E9YS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG8uZ2V0RW50cnkocixuKX0pLm5leHQoZnVuY3Rpb24odCl7dmFyIGU9aS5kb2NWZXJzaW9ucy5nZXQobik7VXIobnVsbCE9PWUpLHQudmVyc2lvbi5jb21wYXJlVG8oZSk8MCYmKHMuYXBwbHlUb1JlbW90ZURvY3VtZW50KHQsaSksdC5pc1ZhbGlkRG9jdW1lbnQoKSYmby5hZGRFbnRyeSh0LGkuY29tbWl0VmVyc2lvbikpfSl9KSxhLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gZS5fbi5yZW1vdmVNdXRhdGlvbkJhdGNoKHIscyl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGMuYXBwbHkodCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGwuX24ucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2sodCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGwuTW4ucG4odCx1KX0pfSl9ZnVuY3Rpb24gaWgodCl7dmFyIGU9dDtyZXR1cm4gZS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBsYXN0IHJlbW90ZSBzbmFwc2hvdCB2ZXJzaW9uXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBlLnFlLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24odCl9KX1mdW5jdGlvbiBvaCh0LHIpe3ZhciB1PXQsYz1yLnNuYXBzaG90VmVyc2lvbixoPXUuRm47cmV0dXJuIHUucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBcHBseSByZW1vdGUgZXZlbnRcIixcInJlYWR3cml0ZS1wcmltYXJ5XCIsZnVuY3Rpb24ocyl7dmFyIHQ9dS4kbi5uZXdDaGFuZ2VCdWZmZXIoe3RyYWNrUmVtb3ZhbHM6ITB9KTtoPXUuRm47dmFyIGE9W107ci50YXJnZXRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbixyLGksbz1oLmdldChlKTtvJiYoYS5wdXNoKHUucWUucmVtb3ZlTWF0Y2hpbmdLZXlzKHMsdC5yZW1vdmVkRG9jdW1lbnRzLGUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdS5xZS5hZGRNYXRjaGluZ0tleXMocyx0LmFkZGVkRG9jdW1lbnRzLGUpfSkpLDA8KGk9dC5yZXN1bWVUb2tlbikuYXBwcm94aW1hdGVCeXRlU2l6ZSgpJiYobj1vLndpdGhSZXN1bWVUb2tlbihpLGMpLndpdGhTZXF1ZW5jZU51bWJlcihzLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksaD1oLmluc2VydChlLG4pLHI9byxpPXQsVXIoMDwobz1uKS5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkpLCgwPT09ci5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCl8fDNlODw9by5zbmFwc2hvdFZlcnNpb24udG9NaWNyb3NlY29uZHMoKS1yLnNuYXBzaG90VmVyc2lvbi50b01pY3Jvc2Vjb25kcygpfHwwPGkuYWRkZWREb2N1bWVudHMuc2l6ZStpLm1vZGlmaWVkRG9jdW1lbnRzLnNpemUraS5yZW1vdmVkRG9jdW1lbnRzLnNpemUpJiZhLnB1c2godS5xZS51cGRhdGVUYXJnZXREYXRhKHMsbikpKSl9KTt2YXIgZSxuPUZzO3JldHVybiByLmRvY3VtZW50VXBkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ci5yZXNvbHZlZExpbWJvRG9jdW1lbnRzLmhhcyh0KSYmYS5wdXNoKHUucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUudXBkYXRlTGltYm9Eb2N1bWVudChzLHQpKX0pLGEucHVzaChzaChzLHQsci5kb2N1bWVudFVwZGF0ZXMsYyx2b2lkIDApLm5leHQoZnVuY3Rpb24odCl7bj10fSkpLGMuaXNFcXVhbCh6ci5taW4oKSl8fChlPXUucWUuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihzKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB1LnFlLnNldFRhcmdldHNNZXRhZGF0YShzLHMuY3VycmVudFNlcXVlbmNlTnVtYmVyLGMpfSksYS5wdXNoKGUpKSxudS53YWl0Rm9yKGEpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShzKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdS5Nbi5FbihzLG4pfSkubmV4dChmdW5jdGlvbigpe3JldHVybiBufSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB1LkZuPWgsdH0pfWZ1bmN0aW9uIHNoKHQscyxlLGEsdSl7dmFyIG49S3MoKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuPW4uYWRkKHQpfSkscy5nZXRFbnRyaWVzKHQsbikubmV4dChmdW5jdGlvbihpKXt2YXIgbz1GcztyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dmFyIG49aS5nZXQodCkscj0obnVsbD09dT92b2lkIDA6dS5nZXQodCkpfHxhO2UuaXNOb0RvY3VtZW50KCkmJmUudmVyc2lvbi5pc0VxdWFsKHpyLm1pbigpKT8ocy5yZW1vdmVFbnRyeSh0LHIpLG89by5pbnNlcnQodCxlKSk6IW4uaXNWYWxpZERvY3VtZW50KCl8fDA8ZS52ZXJzaW9uLmNvbXBhcmVUbyhuLnZlcnNpb24pfHwwPT09ZS52ZXJzaW9uLmNvbXBhcmVUbyhuLnZlcnNpb24pJiZuLmhhc1BlbmRpbmdXcml0ZXM/KHMuYWRkRW50cnkoZSxyKSxvPW8uaW5zZXJ0KHQsZSkpOkxyKFwiTG9jYWxTdG9yZVwiLFwiSWdub3Jpbmcgb3V0ZGF0ZWQgd2F0Y2ggdXBkYXRlIGZvciBcIix0LFwiLiBDdXJyZW50IHZlcnNpb246XCIsbi52ZXJzaW9uLFwiIFdhdGNoIHZlcnNpb246XCIsZS52ZXJzaW9uKX0pLG99KX1mdW5jdGlvbiBhaCh0LHIpe3ZhciBpPXQ7cmV0dXJuIGkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBbGxvY2F0ZSB0YXJnZXRcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBpLnFlLmdldFRhcmdldERhdGEoZSxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0PyhuPXQsbnUucmVzb2x2ZShuKSk6aS5xZS5hbGxvY2F0ZVRhcmdldElkKGUpLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG49bmV3IFN1KHIsdCwwLGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKSxpLnFlLmFkZFRhcmdldERhdGEoZSxuKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG59KX0pfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBlPWkuRm4uZ2V0KHQudGFyZ2V0SWQpO3JldHVybihudWxsPT09ZXx8MDx0LnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8oZS5zbmFwc2hvdFZlcnNpb24pKSYmKGkuRm49aS5Gbi5pbnNlcnQodC50YXJnZXRJZCx0KSxpLmtuLnNldChyLHQudGFyZ2V0SWQpKSx0fSl9ZnVuY3Rpb24gdWgoaSxvLHMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6bj0oZT1pKS5Gbi5nZXQobykscj1zP1wicmVhZHdyaXRlXCI6XCJyZWFkd3JpdGUtcHJpbWFyeVwiLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDQsLDVdKSxzP1szLDNdOls0LGUucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJSZWxlYXNlIHRhcmdldFwiLHIsZnVuY3Rpb24odCl7cmV0dXJuIGUucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlVGFyZ2V0KHQsbil9KV07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzMsNV07Y2FzZSA0OmlmKCFkdShyPXQuc2VudCgpKSl0aHJvdyByO3JldHVybiBMcihcIkxvY2FsU3RvcmVcIixcIkZhaWxlZCB0byB1cGRhdGUgc2VxdWVuY2UgbnVtYmVycyBmb3IgdGFyZ2V0IFwiK28rXCI6IFwiK3IpLFszLDVdO2Nhc2UgNTpyZXR1cm4gZS5Gbj1lLkZuLnJlbW92ZShvKSxlLmtuLmRlbGV0ZShuLnRhcmdldCksWzJdfX0pfSl9ZnVuY3Rpb24gY2godCxvLHMpe3ZhciBhPXQsdT16ci5taW4oKSxjPUtzKCk7cmV0dXJuIGEucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJFeGVjdXRlIHF1ZXJ5XCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKGUpe3JldHVybiB0PWEsbj1lLHI9RG8obyksKHZvaWQgMCE9PSh0PShpPXQpLmtuLmdldChyKSk/bnUucmVzb2x2ZShpLkZuLmdldCh0KSk6aS5xZS5nZXRUYXJnZXREYXRhKG4scikpLm5leHQoZnVuY3Rpb24odCl7aWYodClyZXR1cm4gdT10Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sYS5xZS5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLHQudGFyZ2V0SWQpLm5leHQoZnVuY3Rpb24odCl7Yz10fSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIGEueG4uZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLG8scz91OnpyLm1pbigpLHM/YzpLcygpKX0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJue2RvY3VtZW50czp0LEJuOmN9fSk7dmFyIHQsbixyLGl9KX1mdW5jdGlvbiBoaCh0LGUpe3ZhciBuPXQscj1uLnFlLHQ9bi5Gbi5nZXQoZSk7cmV0dXJuIHQ/UHJvbWlzZS5yZXNvbHZlKHQudGFyZ2V0KTpuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IHRhcmdldCBkYXRhXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiByLmx0KHQsZSkubmV4dChmdW5jdGlvbih0KXtyZXR1cm4gdD90LnRhcmdldDpudWxsfSl9KX1mdW5jdGlvbiBsaCh0KXt2YXIgcz10O3JldHVybiBzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IG5ldyBkb2N1bWVudCBjaGFuZ2VzXCIsXCJyZWFkb25seVwiLGZ1bmN0aW9uKHQpe3JldHVybiBlPXMuJG4sbj10LHQ9cy5PbixyPWUsaT1GcyxvPXh1KHQpLHQ9UGMobiksbj1JREJLZXlSYW5nZS5sb3dlckJvdW5kKG8sITApLHQuT3Qoe2luZGV4OkthLnJlYWRUaW1lSW5kZXgscmFuZ2U6bn0sZnVuY3Rpb24odCxlKXt2YXIgbj1rdShyLlIsZSk7aT1pLmluc2VydChuLmtleSxuKSxvPWUucmVhZFRpbWV9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJue3duOmkscmVhZFRpbWU6T3Uobyl9fSk7dmFyIGUsbixyLGksb30pLnRoZW4oZnVuY3Rpb24odCl7dmFyIGU9dC53bix0PXQucmVhZFRpbWU7cmV0dXJuIHMuT249dCxlfSl9ZnVuY3Rpb24gZmgobil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm5bMiwoZT1uKS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlN5bmNocm9uaXplIGxhc3QgZG9jdW1lbnQgY2hhbmdlIHJlYWQgdGltZVwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gdD1QYyh0KSxyPXpyLm1pbigpLHQuT3Qoe2luZGV4OkthLnJlYWRUaW1lSW5kZXgscmV2ZXJzZTohMH0sZnVuY3Rpb24odCxlLG4pe2UucmVhZFRpbWUmJihyPU91KGUucmVhZFRpbWUpKSxuLmRvbmUoKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gcn0pO3ZhciByfSkudGhlbihmdW5jdGlvbih0KXtlLk9uPXR9KV19KX0pfXZhciBkaCxwaCx5aD0oTWgucHJvdG90eXBlLmdldEJ1bmRsZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51LnJlc29sdmUodGhpcy5Lbi5nZXQoZSkpfSxNaC5wcm90b3R5cGUuc2F2ZUJ1bmRsZU1ldGFkYXRhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuS24uc2V0KGUuaWQse2lkOmUuaWQsdmVyc2lvbjplLnZlcnNpb24sY3JlYXRlVGltZTpjYShlLmNyZWF0ZVRpbWUpfSksbnUucmVzb2x2ZSgpfSxNaC5wcm90b3R5cGUuZ2V0TmFtZWRRdWVyeT1mdW5jdGlvbih0LGUpe3JldHVybiBudS5yZXNvbHZlKHRoaXMuam4uZ2V0KGUpKX0sTWgucHJvdG90eXBlLnNhdmVOYW1lZFF1ZXJ5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuam4uc2V0KGUubmFtZSx7bmFtZTooZT1lKS5uYW1lLHF1ZXJ5OlV1KGUuYnVuZGxlZFF1ZXJ5KSxyZWFkVGltZTpjYShlLnJlYWRUaW1lKX0pLG51LnJlc29sdmUoKX0sTWgpLGdoPShQaC5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlduLmlzRW1wdHkoKX0sUGgucHJvdG90eXBlLmFkZFJlZmVyZW5jZT1mdW5jdGlvbih0LGUpe2U9bmV3IG1oKHQsZSk7dGhpcy5Xbj10aGlzLlduLmFkZChlKSx0aGlzLnpuPXRoaXMuem4uYWRkKGUpfSxQaC5wcm90b3R5cGUuSm49ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5hZGRSZWZlcmVuY2UodCxlKX0pfSxQaC5wcm90b3R5cGUucmVtb3ZlUmVmZXJlbmNlPWZ1bmN0aW9uKHQsZSl7dGhpcy5ZbihuZXcgbWgodCxlKSl9LFBoLnByb3RvdHlwZS5Ybj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXM7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnJlbW92ZVJlZmVyZW5jZSh0LGUpfSl9LFBoLnByb3RvdHlwZS5abj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49bmV3IGJpKG5ldyB0aShbXSkpLHI9bmV3IG1oKG4sdCksdD1uZXcgbWgobix0KzEpLGk9W107cmV0dXJuIHRoaXMuem4uZm9yRWFjaEluUmFuZ2UoW3IsdF0sZnVuY3Rpb24odCl7ZS5Zbih0KSxpLnB1c2godC5rZXkpfSksaX0sUGgucHJvdG90eXBlLnRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLlduLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUuWW4odCl9KX0sUGgucHJvdG90eXBlLlluPWZ1bmN0aW9uKHQpe3RoaXMuV249dGhpcy5Xbi5kZWxldGUodCksdGhpcy56bj10aGlzLnpuLmRlbGV0ZSh0KX0sUGgucHJvdG90eXBlLmVzPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBiaShuZXcgdGkoW10pKSxuPW5ldyBtaChlLHQpLHQ9bmV3IG1oKGUsdCsxKSxyPUtzKCk7cmV0dXJuIHRoaXMuem4uZm9yRWFjaEluUmFuZ2UoW24sdF0sZnVuY3Rpb24odCl7cj1yLmFkZCh0LmtleSl9KSxyfSxQaC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IG1oKHQsMCksZT10aGlzLlduLmZpcnN0QWZ0ZXJPckVxdWFsKGUpO3JldHVybiBudWxsIT09ZSYmdC5pc0VxdWFsKGUua2V5KX0sUGgpLG1oPShMaC5Hbj1mdW5jdGlvbih0LGUpe3JldHVybiBiaS5jb21wYXJhdG9yKHQua2V5LGUua2V5KXx8anIodC5ucyxlLm5zKX0sTGguSG49ZnVuY3Rpb24odCxlKXtyZXR1cm4ganIodC5ucyxlLm5zKXx8YmkuY29tcGFyYXRvcih0LmtleSxlLmtleSl9LExoKSx2aD0oT2gucHJvdG90eXBlLmNoZWNrRW1wdHk9ZnVuY3Rpb24odCl7cmV0dXJuIG51LnJlc29sdmUoMD09PXRoaXMuX24ubGVuZ3RoKX0sT2gucHJvdG90eXBlLmFkZE11dGF0aW9uQmF0Y2g9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9dGhpcy5zczt0aGlzLnNzKyssMDx0aGlzLl9uLmxlbmd0aCYmdGhpcy5fblt0aGlzLl9uLmxlbmd0aC0xXTtuPW5ldyBJdShpLGUsbixyKTt0aGlzLl9uLnB1c2gobik7Zm9yKHZhciBvPTAscz1yO288cy5sZW5ndGg7bysrKXt2YXIgYT1zW29dO3RoaXMucnM9dGhpcy5ycy5hZGQobmV3IG1oKGEua2V5LGkpKSx0aGlzLlV0LmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KHQsYS5rZXkucGF0aC5wb3BMYXN0KCkpfXJldHVybiBudS5yZXNvbHZlKG4pfSxPaC5wcm90b3R5cGUubG9va3VwTXV0YXRpb25CYXRjaD1mdW5jdGlvbih0LGUpe3JldHVybiBudS5yZXNvbHZlKHRoaXMub3MoZSkpfSxPaC5wcm90b3R5cGUuZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQ9ZnVuY3Rpb24odCxlKXtlKz0xLGU9dGhpcy5jcyhlKSxlPWU8MD8wOmU7cmV0dXJuIG51LnJlc29sdmUodGhpcy5fbi5sZW5ndGg+ZT90aGlzLl9uW2VdOm51bGwpfSxPaC5wcm90b3R5cGUuZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZD1mdW5jdGlvbigpe3JldHVybiBudS5yZXNvbHZlKDA9PT10aGlzLl9uLmxlbmd0aD8tMTp0aGlzLnNzLTEpfSxPaC5wcm90b3R5cGUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzPWZ1bmN0aW9uKHQpe3JldHVybiBudS5yZXNvbHZlKHRoaXMuX24uc2xpY2UoKSl9LE9oLnByb3RvdHlwZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1uZXcgbWgoZSwwKSxlPW5ldyBtaChlLE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksaT1bXTtyZXR1cm4gdGhpcy5ycy5mb3JFYWNoSW5SYW5nZShbcixlXSxmdW5jdGlvbih0KXt0PW4ub3ModC5ucyk7aS5wdXNoKHQpfSksbnUucmVzb2x2ZShpKX0sT2gucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cz1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMscj1uZXcgUHMoanIpO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bmV3IG1oKHQsMCksdD1uZXcgbWgodCxOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO24ucnMuZm9yRWFjaEluUmFuZ2UoW2UsdF0sZnVuY3Rpb24odCl7cj1yLmFkZCh0Lm5zKX0pfSksbnUucmVzb2x2ZSh0aGlzLnVzKHIpKX0sT2gucHJvdG90eXBlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5PWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5wYXRoLHI9bi5sZW5ndGgrMSxlPW47YmkuaXNEb2N1bWVudEtleShlKXx8KGU9ZS5jaGlsZChcIlwiKSk7dmFyIGU9bmV3IG1oKG5ldyBiaShlKSwwKSxpPW5ldyBQcyhqcik7cmV0dXJuIHRoaXMucnMuZm9yRWFjaFdoaWxlKGZ1bmN0aW9uKHQpe3ZhciBlPXQua2V5LnBhdGg7cmV0dXJuISFuLmlzUHJlZml4T2YoZSkmJihlLmxlbmd0aD09PXImJihpPWkuYWRkKHQubnMpKSwhMCl9LGUpLG51LnJlc29sdmUodGhpcy51cyhpKSl9LE9oLnByb3RvdHlwZS51cz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49W107cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXt0PWUub3ModCk7bnVsbCE9PXQmJm4ucHVzaCh0KX0pLG59LE9oLnByb3RvdHlwZS5yZW1vdmVNdXRhdGlvbkJhdGNoPWZ1bmN0aW9uKG4scil7dmFyIGk9dGhpcztVcigwPT09dGhpcy5ocyhyLmJhdGNoSWQsXCJyZW1vdmVkXCIpKSx0aGlzLl9uLnNoaWZ0KCk7dmFyIG89dGhpcy5ycztyZXR1cm4gbnUuZm9yRWFjaChyLm11dGF0aW9ucyxmdW5jdGlvbih0KXt2YXIgZT1uZXcgbWgodC5rZXksci5iYXRjaElkKTtyZXR1cm4gbz1vLmRlbGV0ZShlKSxpLnJlZmVyZW5jZURlbGVnYXRlLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKG4sdC5rZXkpfSkubmV4dChmdW5jdGlvbigpe2kucnM9b30pfSxPaC5wcm90b3R5cGUuR3Q9ZnVuY3Rpb24odCl7fSxPaC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgbWgoZSwwKSxuPXRoaXMucnMuZmlyc3RBZnRlck9yRXF1YWwobik7cmV0dXJuIG51LnJlc29sdmUoZS5pc0VxdWFsKG4mJm4ua2V5KSl9LE9oLnByb3RvdHlwZS5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbi5sZW5ndGgsbnUucmVzb2x2ZSgpfSxPaC5wcm90b3R5cGUuaHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5jcyh0KX0sT2gucHJvdG90eXBlLmNzPWZ1bmN0aW9uKHQpe3JldHVybiAwPT09dGhpcy5fbi5sZW5ndGg/MDp0LXRoaXMuX25bMF0uYmF0Y2hJZH0sT2gucHJvdG90eXBlLm9zPWZ1bmN0aW9uKHQpe3Q9dGhpcy5jcyh0KTtyZXR1cm4gdDwwfHx0Pj10aGlzLl9uLmxlbmd0aD9udWxsOnRoaXMuX25bdF19LE9oKSxiaD0oeGgucHJvdG90eXBlLmFkZEVudHJ5PWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1lLmtleSxpPXRoaXMuZG9jcy5nZXQociksbz1pP2kuc2l6ZTowLGk9dGhpcy5scyhlKTtyZXR1cm4gdGhpcy5kb2NzPXRoaXMuZG9jcy5pbnNlcnQocix7ZG9jdW1lbnQ6ZS5jbG9uZSgpLHNpemU6aSxyZWFkVGltZTpufSksdGhpcy5zaXplKz1pLW8sdGhpcy5VdC5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCh0LHIucGF0aC5wb3BMYXN0KCkpfSx4aC5wcm90b3R5cGUucmVtb3ZlRW50cnk9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kb2NzLmdldCh0KTtlJiYodGhpcy5kb2NzPXRoaXMuZG9jcy5yZW1vdmUodCksdGhpcy5zaXplLT1lLnNpemUpfSx4aC5wcm90b3R5cGUuZ2V0RW50cnk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLmRvY3MuZ2V0KGUpO3JldHVybiBudS5yZXNvbHZlKG4/bi5kb2N1bWVudC5jbG9uZSgpOlBpLm5ld0ludmFsaWREb2N1bWVudChlKSl9LHhoLnByb3RvdHlwZS5nZXRFbnRyaWVzPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcyxyPUZzO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9bi5kb2NzLmdldCh0KTtyPXIuaW5zZXJ0KHQsZT9lLmRvY3VtZW50LmNsb25lKCk6UGkubmV3SW52YWxpZERvY3VtZW50KHQpKX0pLG51LnJlc29sdmUocil9LHhoLnByb3RvdHlwZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5PWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9RnMsaT1uZXcgYmkoZS5wYXRoLmNoaWxkKFwiXCIpKSxvPXRoaXMuZG9jcy5nZXRJdGVyYXRvckZyb20oaSk7by5oYXNOZXh0KCk7KXt2YXIgcz1vLmdldE5leHQoKSxhPXMua2V5LHU9cy52YWx1ZSxzPXUuZG9jdW1lbnQsdT11LnJlYWRUaW1lO2lmKCFlLnBhdGguaXNQcmVmaXhPZihhLnBhdGgpKWJyZWFrO3UuY29tcGFyZVRvKG4pPD0wfHxPbyhlLHMpJiYocj1yLmluc2VydChzLmtleSxzLmNsb25lKCkpKX1yZXR1cm4gbnUucmVzb2x2ZShyKX0seGgucHJvdG90eXBlLmZzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51LmZvckVhY2godGhpcy5kb2NzLGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfSl9LHhoLnByb3RvdHlwZS5uZXdDaGFuZ2VCdWZmZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB3aCh0aGlzKX0seGgucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24odCl7cmV0dXJuIG51LnJlc29sdmUodGhpcy5zaXplKX0seGgpLHdoPShuKFJoLHBoPUkpLFJoLnByb3RvdHlwZS5hcHBseUNoYW5nZXM9ZnVuY3Rpb24obil7dmFyIHI9dGhpcyxpPVtdO3JldHVybiB0aGlzLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbih0LGUpe2UuZG9jdW1lbnQuaXNWYWxpZERvY3VtZW50KCk/aS5wdXNoKHIuSWUuYWRkRW50cnkobixlLmRvY3VtZW50LHIuZ2V0UmVhZFRpbWUodCkpKTpyLkllLnJlbW92ZUVudHJ5KHQpfSksbnUud2FpdEZvcihpKX0sUmgucHJvdG90eXBlLmdldEZyb21DYWNoZT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLkllLmdldEVudHJ5KHQsZSl9LFJoLnByb3RvdHlwZS5nZXRBbGxGcm9tQ2FjaGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5JZS5nZXRFbnRyaWVzKHQsZSl9LFJoKSxFaD0oa2gucHJvdG90eXBlLmZvckVhY2hUYXJnZXQ9ZnVuY3Rpb24odCxuKXtyZXR1cm4gdGhpcy5kcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4oZSl9KSxudS5yZXNvbHZlKCl9LGtoLnByb3RvdHlwZS5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uPWZ1bmN0aW9uKHQpe3JldHVybiBudS5yZXNvbHZlKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbil9LGtoLnByb3RvdHlwZS5nZXRIaWdoZXN0U2VxdWVuY2VOdW1iZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG51LnJlc29sdmUodGhpcy53cyl9LGtoLnByb3RvdHlwZS5hbGxvY2F0ZVRhcmdldElkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmhpZ2hlc3RUYXJnZXRJZD10aGlzLnlzLm5leHQoKSxudS5yZXNvbHZlKHRoaXMuaGlnaGVzdFRhcmdldElkKX0sa2gucHJvdG90eXBlLnNldFRhcmdldHNNZXRhZGF0YT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIG4mJih0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249biksZT50aGlzLndzJiYodGhpcy53cz1lKSxudS5yZXNvbHZlKCl9LGtoLnByb3RvdHlwZS50ZT1mdW5jdGlvbih0KXt0aGlzLmRzLnNldCh0LnRhcmdldCx0KTt2YXIgZT10LnRhcmdldElkO2U+dGhpcy5oaWdoZXN0VGFyZ2V0SWQmJih0aGlzLnlzPW5ldyB1YyhlKSx0aGlzLmhpZ2hlc3RUYXJnZXRJZD1lKSx0LnNlcXVlbmNlTnVtYmVyPnRoaXMud3MmJih0aGlzLndzPXQuc2VxdWVuY2VOdW1iZXIpfSxraC5wcm90b3R5cGUuYWRkVGFyZ2V0RGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRlKGUpLHRoaXMudGFyZ2V0Q291bnQrPTEsbnUucmVzb2x2ZSgpfSxraC5wcm90b3R5cGUudXBkYXRlVGFyZ2V0RGF0YT1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnRlKGUpLG51LnJlc29sdmUoKX0sa2gucHJvdG90eXBlLnJlbW92ZVRhcmdldERhdGE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5kcy5kZWxldGUoZS50YXJnZXQpLHRoaXMuX3MuWm4oZS50YXJnZXRJZCksLS10aGlzLnRhcmdldENvdW50LG51LnJlc29sdmUoKX0sa2gucHJvdG90eXBlLnJlbW92ZVRhcmdldHM9ZnVuY3Rpb24obixyLGkpe3ZhciBvPXRoaXMscz0wLGE9W107cmV0dXJuIHRoaXMuZHMuZm9yRWFjaChmdW5jdGlvbih0LGUpe2Uuc2VxdWVuY2VOdW1iZXI8PXImJm51bGw9PT1pLmdldChlLnRhcmdldElkKSYmKG8uZHMuZGVsZXRlKHQpLGEucHVzaChvLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKG4sZS50YXJnZXRJZCkpLHMrKyl9KSxudS53YWl0Rm9yKGEpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gc30pfSxraC5wcm90b3R5cGUuZ2V0VGFyZ2V0Q291bnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG51LnJlc29sdmUodGhpcy50YXJnZXRDb3VudCl9LGtoLnByb3RvdHlwZS5nZXRUYXJnZXREYXRhPWZ1bmN0aW9uKHQsZSl7ZT10aGlzLmRzLmdldChlKXx8bnVsbDtyZXR1cm4gbnUucmVzb2x2ZShlKX0sa2gucHJvdG90eXBlLmFkZE1hdGNoaW5nS2V5cz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuX3MuSm4oZSxuKSxudS5yZXNvbHZlKCl9LGtoLnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZ0tleXM9ZnVuY3Rpb24oZSx0LG4pe3RoaXMuX3MuWG4odCxuKTt2YXIgcj10aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLGk9W107cmV0dXJuIHImJnQuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2goci5tYXJrUG90ZW50aWFsbHlPcnBoYW5lZChlLHQpKX0pLG51LndhaXRGb3IoaSl9LGtoLnByb3RvdHlwZS5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl9zLlpuKGUpLG51LnJlc29sdmUoKX0sa2gucHJvdG90eXBlLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkPWZ1bmN0aW9uKHQsZSl7ZT10aGlzLl9zLmVzKGUpO3JldHVybiBudS5yZXNvbHZlKGUpfSxraC5wcm90b3R5cGUuY29udGFpbnNLZXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnUucmVzb2x2ZSh0aGlzLl9zLmNvbnRhaW5zS2V5KGUpKX0sa2gpLFRoPShDaC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9LENoLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhlPSExLFByb21pc2UucmVzb2x2ZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2gucHJvdG90eXBlLFwic3RhcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxDaC5wcm90b3R5cGUuc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXI9ZnVuY3Rpb24oKXt9LENoLnByb3RvdHlwZS5zZXROZXR3b3JrRW5hYmxlZD1mdW5jdGlvbigpe30sQ2gucHJvdG90eXBlLmdldEluZGV4TWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlV0fSxDaC5wcm90b3R5cGUuZ2V0TXV0YXRpb25RdWV1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdzW3QudG9LZXkoKV07cmV0dXJuIGV8fChlPW5ldyB2aCh0aGlzLlV0LHRoaXMucmVmZXJlbmNlRGVsZWdhdGUpLHRoaXMuZ3NbdC50b0tleSgpXT1lKSxlfSxDaC5wcm90b3R5cGUuZ2V0VGFyZ2V0Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xZX0sQ2gucHJvdG90eXBlLmdldFJlbW90ZURvY3VtZW50Q2FjaGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VZX0sQ2gucHJvdG90eXBlLmdldEJ1bmRsZUNhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuUWV9LENoLnByb3RvdHlwZS5ydW5UcmFuc2FjdGlvbj1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztMcihcIk1lbW9yeVBlcnNpc3RlbmNlXCIsXCJTdGFydGluZyB0cmFuc2FjdGlvbjpcIix0KTt2YXIgaT1uZXcgSWgodGhpcy5OZS5uZXh0KCkpO3JldHVybiB0aGlzLnJlZmVyZW5jZURlbGVnYXRlLkVzKCksbihpKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiByLnJlZmVyZW5jZURlbGVnYXRlLlRzKGkpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gdH0pfSkudG9Qcm9taXNlKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5yYWlzZU9uQ29tbWl0dGVkRXZlbnQoKSx0fSl9LENoLnByb3RvdHlwZS5Jcz1mdW5jdGlvbihlLG4pe3JldHVybiBudS5vcihPYmplY3QudmFsdWVzKHRoaXMuZ3MpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5jb250YWluc0tleShlLG4pfX0pKX0sQ2gpLEloPShuKERoLGRoPVNlKSxEaCksX2g9KE5oLmJzPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgTmgodCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOaC5wcm90b3R5cGUsXCJ2c1wiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLlJzKXJldHVybiB0aGlzLlJzO3Rocm93IFZyKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksTmgucHJvdG90eXBlLmFkZFJlZmVyZW5jZT1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHRoaXMuQXMuYWRkUmVmZXJlbmNlKG4sZSksdGhpcy52cy5kZWxldGUobi50b1N0cmluZygpKSxudS5yZXNvbHZlKCl9LE5oLnByb3RvdHlwZS5yZW1vdmVSZWZlcmVuY2U9ZnVuY3Rpb24odCxlLG4pe3JldHVybiB0aGlzLkFzLnJlbW92ZVJlZmVyZW5jZShuLGUpLHRoaXMudnMuYWRkKG4udG9TdHJpbmcoKSksbnUucmVzb2x2ZSgpfSxOaC5wcm90b3R5cGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy52cy5hZGQoZS50b1N0cmluZygpKSxudS5yZXNvbHZlKCl9LE5oLnByb3RvdHlwZS5yZW1vdmVUYXJnZXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuQXMuWm4oZS50YXJnZXRJZCkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi52cy5hZGQodC50b1N0cmluZygpKX0pO3ZhciByPXRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKTtyZXR1cm4gci5nZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCh0LGUudGFyZ2V0SWQpLm5leHQoZnVuY3Rpb24odCl7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLnZzLmFkZCh0LnRvU3RyaW5nKCkpfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIucmVtb3ZlVGFyZ2V0RGF0YSh0LGUpfSl9LE5oLnByb3RvdHlwZS5Fcz1mdW5jdGlvbigpe3RoaXMuUnM9bmV3IFNldH0sTmgucHJvdG90eXBlLlRzPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsaT10aGlzLnBlcnNpc3RlbmNlLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKS5uZXdDaGFuZ2VCdWZmZXIoKTtyZXR1cm4gbnUuZm9yRWFjaCh0aGlzLnZzLGZ1bmN0aW9uKHQpe3ZhciBlPWJpLmZyb21QYXRoKHQpO3JldHVybiByLlBzKG4sZSkubmV4dChmdW5jdGlvbih0KXt0fHxpLnJlbW92ZUVudHJ5KGUpfSl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIuUnM9bnVsbCxpLmFwcGx5KG4pfSl9LE5oLnByb3RvdHlwZS51cGRhdGVMaW1ib0RvY3VtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4gdGhpcy5Qcyh0LGUpLm5leHQoZnVuY3Rpb24odCl7dD9uLnZzLmRlbGV0ZShlLnRvU3RyaW5nKCkpOm4udnMuYWRkKGUudG9TdHJpbmcoKSl9KX0sTmgucHJvdG90eXBlLnBzPWZ1bmN0aW9uKHQpe3JldHVybiAwfSxOaC5wcm90b3R5cGUuUHM9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3JldHVybiBudS5vcihbZnVuY3Rpb24oKXtyZXR1cm4gbnUucmVzb2x2ZShuLkFzLmNvbnRhaW5zS2V5KGUpKX0sZnVuY3Rpb24oKXtyZXR1cm4gbi5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLmNvbnRhaW5zS2V5KHQsZSl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4ucGVyc2lzdGVuY2UuSXModCxlKX1dKX0sTmgpLFNoPShBaC5wcm90b3R5cGUuaXNBdXRoZW50aWNhdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMudWlkfSxBaC5wcm90b3R5cGUudG9LZXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0F1dGhlbnRpY2F0ZWQoKT9cInVpZDpcIit0aGlzLnVpZDpcImFub255bW91cy11c2VyXCJ9LEFoLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0LnVpZD09PXRoaXMudWlkfSxBaCk7ZnVuY3Rpb24gQWgodCl7dGhpcy51aWQ9dH1mdW5jdGlvbiBOaCh0KXt0aGlzLnBlcnNpc3RlbmNlPXQsdGhpcy5Bcz1uZXcgZ2gsdGhpcy5Scz1udWxsfWZ1bmN0aW9uIERoKHQpe3ZhciBlPXRoaXM7cmV0dXJuKGU9ZGguY2FsbCh0aGlzKXx8dGhpcykuY3VycmVudFNlcXVlbmNlTnVtYmVyPXQsZX1mdW5jdGlvbiBDaCh0LGUpe3ZhciBuPXRoaXM7dGhpcy5ncz17fSx0aGlzLk5lPW5ldyBBcigwKSx0aGlzLnhlPSExLHRoaXMueGU9ITAsdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZT10KHRoaXMpLHRoaXMucWU9bmV3IEVoKHRoaXMpLHRoaXMuVXQ9bmV3IEd1LHRoaXMuVWU9KHQ9dGhpcy5VdCxuZXcgYmgodCxmdW5jdGlvbih0KXtyZXR1cm4gbi5yZWZlcmVuY2VEZWxlZ2F0ZS5wcyh0KX0pKSx0aGlzLlI9bmV3IEF1KGUpLHRoaXMuUWU9bmV3IHloKHRoaXMuUil9ZnVuY3Rpb24ga2godCl7dGhpcy5wZXJzaXN0ZW5jZT10LHRoaXMuZHM9bmV3IE5jKFVpLHFpKSx0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb249enIubWluKCksdGhpcy5oaWdoZXN0VGFyZ2V0SWQ9MCx0aGlzLndzPTAsdGhpcy5fcz1uZXcgZ2gsdGhpcy50YXJnZXRDb3VudD0wLHRoaXMueXM9dWMuSnQoKX1mdW5jdGlvbiBSaCh0KXt2YXIgZT10aGlzO3JldHVybihlPXBoLmNhbGwodGhpcyl8fHRoaXMpLkllPXQsZX1mdW5jdGlvbiB4aCh0LGUpe3RoaXMuVXQ9dCx0aGlzLmxzPWUsdGhpcy5kb2NzPW5ldyBEcyhiaS5jb21wYXJhdG9yKSx0aGlzLnNpemU9MH1mdW5jdGlvbiBPaCh0LGUpe3RoaXMuVXQ9dCx0aGlzLnJlZmVyZW5jZURlbGVnYXRlPWUsdGhpcy5fbj1bXSx0aGlzLnNzPTEsdGhpcy5ycz1uZXcgUHMobWguR24pfWZ1bmN0aW9uIExoKHQsZSl7dGhpcy5rZXk9dCx0aGlzLm5zPWV9ZnVuY3Rpb24gUGgoKXt0aGlzLlduPW5ldyBQcyhtaC5HbiksdGhpcy56bj1uZXcgUHMobWguSG4pfWZ1bmN0aW9uIE1oKHQpe3RoaXMuUj10LHRoaXMuS249bmV3IE1hcCx0aGlzLmpuPW5ldyBNYXB9ZnVuY3Rpb24gRmgodCxlKXtyZXR1cm5cImZpcmVzdG9yZV9jbGllbnRzX1wiK3QrXCJfXCIrZX1mdW5jdGlvbiBWaCh0LGUsbil7bj1cImZpcmVzdG9yZV9tdXRhdGlvbnNfXCIrdCtcIl9cIituO3JldHVybiBlLmlzQXV0aGVudGljYXRlZCgpJiYobis9XCJfXCIrZS51aWQpLG59ZnVuY3Rpb24gVWgodCxlKXtyZXR1cm5cImZpcmVzdG9yZV90YXJnZXRzX1wiK3QrXCJfXCIrZX1TaC5VTkFVVEhFTlRJQ0FURUQ9bmV3IFNoKG51bGwpLFNoLkdPT0dMRV9DUkVERU5USUFMUz1uZXcgU2goXCJnb29nbGUtY3JlZGVudGlhbHMtdWlkXCIpLFNoLkZJUlNUX1BBUlRZPW5ldyBTaChcImZpcnN0LXBhcnR5LXVpZFwiKTt2YXIgcWgsQmg9KGhsLlZzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcixpPUpTT04ucGFyc2Uobiksbz1cIm9iamVjdFwiPT10eXBlb2YgaSYmLTEhPT1bXCJwZW5kaW5nXCIsXCJhY2tub3dsZWRnZWRcIixcInJlamVjdGVkXCJdLmluZGV4T2YoaS5zdGF0ZSkmJih2b2lkIDA9PT1pLmVycm9yfHxcIm9iamVjdFwiPT10eXBlb2YgaS5lcnJvcik7cmV0dXJuIG8mJmkuZXJyb3ImJihvPVwic3RyaW5nXCI9PXR5cGVvZiBpLmVycm9yLm1lc3NhZ2UmJlwic3RyaW5nXCI9PXR5cGVvZiBpLmVycm9yLmNvZGUpJiYocj1uZXcga3IoaS5lcnJvci5jb2RlLGkuZXJyb3IubWVzc2FnZSkpLG8/bmV3IGhsKHQsZSxpLnN0YXRlLHIpOihQcihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJGYWlsZWQgdG8gcGFyc2UgbXV0YXRpb24gc3RhdGUgZm9yIElEICdcIitlK1wiJzogXCIrbiksbnVsbCl9LGhsLnByb3RvdHlwZS5Tcz1mdW5jdGlvbigpe3ZhciB0PXtzdGF0ZTp0aGlzLnN0YXRlLHVwZGF0ZVRpbWVNczpEYXRlLm5vdygpfTtyZXR1cm4gdGhpcy5lcnJvciYmKHQuZXJyb3I9e2NvZGU6dGhpcy5lcnJvci5jb2RlLG1lc3NhZ2U6dGhpcy5lcnJvci5tZXNzYWdlfSksSlNPTi5zdHJpbmdpZnkodCl9LGhsKSxqaD0oY2wuVnM9ZnVuY3Rpb24odCxlKXt2YXIgbixyPUpTT04ucGFyc2UoZSksaT1cIm9iamVjdFwiPT10eXBlb2YgciYmLTEhPT1bXCJub3QtY3VycmVudFwiLFwiY3VycmVudFwiLFwicmVqZWN0ZWRcIl0uaW5kZXhPZihyLnN0YXRlKSYmKHZvaWQgMD09PXIuZXJyb3J8fFwib2JqZWN0XCI9PXR5cGVvZiByLmVycm9yKTtyZXR1cm4gaSYmci5lcnJvciYmKGk9XCJzdHJpbmdcIj09dHlwZW9mIHIuZXJyb3IubWVzc2FnZSYmXCJzdHJpbmdcIj09dHlwZW9mIHIuZXJyb3IuY29kZSkmJihuPW5ldyBrcihyLmVycm9yLmNvZGUsci5lcnJvci5tZXNzYWdlKSksaT9uZXcgY2wodCxyLnN0YXRlLG4pOihQcihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJGYWlsZWQgdG8gcGFyc2UgdGFyZ2V0IHN0YXRlIGZvciBJRCAnXCIrdCtcIic6IFwiK2UpLG51bGwpfSxjbC5wcm90b3R5cGUuU3M9ZnVuY3Rpb24oKXt2YXIgdD17c3RhdGU6dGhpcy5zdGF0ZSx1cGRhdGVUaW1lTXM6RGF0ZS5ub3coKX07cmV0dXJuIHRoaXMuZXJyb3ImJih0LmVycm9yPXtjb2RlOnRoaXMuZXJyb3IuY29kZSxtZXNzYWdlOnRoaXMuZXJyb3IubWVzc2FnZX0pLEpTT04uc3RyaW5naWZ5KHQpfSxjbCksS2g9KHVsLlZzPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPUpTT04ucGFyc2UoZSkscj1cIm9iamVjdFwiPT10eXBlb2YgbiYmbi5hY3RpdmVUYXJnZXRJZHMgaW5zdGFuY2VvZiBBcnJheSxpPUdzLG89MDtyJiZvPG4uYWN0aXZlVGFyZ2V0SWRzLmxlbmd0aDsrK28pcj12aShuLmFjdGl2ZVRhcmdldElkc1tvXSksaT1pLmFkZChuLmFjdGl2ZVRhcmdldElkc1tvXSk7cmV0dXJuIHI/bmV3IHVsKHQsaSk6KFByKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIkZhaWxlZCB0byBwYXJzZSBjbGllbnQgZGF0YSBmb3IgaW5zdGFuY2UgJ1wiK3QrXCInOiBcIitlKSxudWxsKX0sdWwpLEdoPShhbC5Wcz1mdW5jdGlvbih0KXt2YXIgZT1KU09OLnBhcnNlKHQpO3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiYtMSE9PVtcIlVua25vd25cIixcIk9ubGluZVwiLFwiT2ZmbGluZVwiXS5pbmRleE9mKGUub25saW5lU3RhdGUpJiZcInN0cmluZ1wiPT10eXBlb2YgZS5jbGllbnRJZD9uZXcgYWwoZS5jbGllbnRJZCxlLm9ubGluZVN0YXRlKTooUHIoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiRmFpbGVkIHRvIHBhcnNlIG9ubGluZSBzdGF0ZTogXCIrdCksbnVsbCl9LGFsKSxRaD0oc2wucHJvdG90eXBlLkRzPWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPXRoaXMuYWN0aXZlVGFyZ2V0SWRzLmFkZCh0KX0sc2wucHJvdG90eXBlLkNzPWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlVGFyZ2V0SWRzPXRoaXMuYWN0aXZlVGFyZ2V0SWRzLmRlbGV0ZSh0KX0sc2wucHJvdG90eXBlLlNzPWZ1bmN0aW9uKCl7dmFyIHQ9e2FjdGl2ZVRhcmdldElkczp0aGlzLmFjdGl2ZVRhcmdldElkcy50b0FycmF5KCksdXBkYXRlVGltZU1zOkRhdGUubm93KCl9O3JldHVybiBKU09OLnN0cmluZ2lmeSh0KX0sc2wpLHpoPShvbC55dD1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5sb2NhbFN0b3JhZ2UpfSxvbC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvLHMsYSx1LGMsaCxsPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3luY0VuZ2luZS5mbigpXTtjYXNlIDE6Zm9yKHM9dC5zZW50KCksZT0wLG49cztlPG4ubGVuZ3RoO2UrKykocj1uW2VdKSE9PXRoaXMuTnMmJihpPXRoaXMuZ2V0SXRlbShGaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHIpKSkmJihvPUtoLlZzKHIsaSkpJiYodGhpcy5rcz10aGlzLmtzLmluc2VydChvLmNsaWVudElkLG8pKTtmb3IodGhpcy5LcygpLChzPXRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuVXMpKSYmKGE9dGhpcy5qcyhzKSkmJnRoaXMuV3MoYSksdT0wLGM9dGhpcy5Pczt1PGMubGVuZ3RoO3UrKyloPWNbdV0sdGhpcy5GcyhoKTtyZXR1cm4gdGhpcy5Pcz1bXSx0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIixmdW5jdGlvbigpe3JldHVybiBsLnNodXRkb3duKCl9KSx0aGlzLnN0YXJ0ZWQ9ITAsWzJdfX0pfSl9LG9sLnByb3RvdHlwZS53cml0ZVNlcXVlbmNlTnVtYmVyPWZ1bmN0aW9uKHQpe3RoaXMuc2V0SXRlbSh0aGlzLk1zLEpTT04uc3RyaW5naWZ5KHQpKX0sb2wucHJvdG90eXBlLmdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkdzKHRoaXMua3MpfSxvbC5wcm90b3R5cGUuaXNBY3RpdmVRdWVyeVRhcmdldD1mdW5jdGlvbihuKXt2YXIgcj0hMTtyZXR1cm4gdGhpcy5rcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ZS5hY3RpdmVUYXJnZXRJZHMuaGFzKG4pJiYocj0hMCl9KSxyfSxvbC5wcm90b3R5cGUuYWRkUGVuZGluZ011dGF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuenModCxcInBlbmRpbmdcIil9LG9sLnByb3RvdHlwZS51cGRhdGVNdXRhdGlvblN0YXRlPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnpzKHQsZSxuKSx0aGlzLkhzKHQpfSxvbC5wcm90b3R5cGUuYWRkTG9jYWxRdWVyeVRhcmdldD1mdW5jdGlvbih0KXt2YXIgZSxuPVwibm90LWN1cnJlbnRcIjtyZXR1cm4gdGhpcy5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KHQpJiYoIShlPXRoaXMuc3RvcmFnZS5nZXRJdGVtKFVoKHRoaXMucGVyc2lzdGVuY2VLZXksdCkpKXx8KGU9amguVnModCxlKSkmJihuPWUuc3RhdGUpKSx0aGlzLkpzLkRzKHQpLHRoaXMuS3MoKSxufSxvbC5wcm90b3R5cGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldD1mdW5jdGlvbih0KXt0aGlzLkpzLkNzKHQpLHRoaXMuS3MoKX0sb2wucHJvdG90eXBlLmlzTG9jYWxRdWVyeVRhcmdldD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5Kcy5hY3RpdmVUYXJnZXRJZHMuaGFzKHQpfSxvbC5wcm90b3R5cGUuY2xlYXJRdWVyeVN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMucmVtb3ZlSXRlbShVaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHQpKX0sb2wucHJvdG90eXBlLnVwZGF0ZVF1ZXJ5U3RhdGU9ZnVuY3Rpb24odCxlLG4pe3RoaXMuWXModCxlLG4pfSxvbC5wcm90b3R5cGUuaGFuZGxlVXNlckNoYW5nZT1mdW5jdGlvbih0LGUsbil7dmFyIHI9dGhpcztlLmZvckVhY2goZnVuY3Rpb24odCl7ci5Icyh0KX0pLHRoaXMuY3VycmVudFVzZXI9dCxuLmZvckVhY2goZnVuY3Rpb24odCl7ci5hZGRQZW5kaW5nTXV0YXRpb24odCl9KX0sb2wucHJvdG90eXBlLnNldE9ubGluZVN0YXRlPWZ1bmN0aW9uKHQpe3RoaXMuWHModCl9LG9sLnByb3RvdHlwZS5ub3RpZnlCdW5kbGVMb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLlpzKCl9LG9sLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3RoaXMuc3RhcnRlZCYmKHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsdGhpcy54cyksdGhpcy5yZW1vdmVJdGVtKHRoaXMuJHMpLHRoaXMuc3RhcnRlZD0hMSl9LG9sLnByb3RvdHlwZS5nZXRJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuc3RvcmFnZS5nZXRJdGVtKHQpO3JldHVybiBMcihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJSRUFEXCIsdCxlKSxlfSxvbC5wcm90b3R5cGUuc2V0SXRlbT1mdW5jdGlvbih0LGUpe0xyKFwiU2hhcmVkQ2xpZW50U3RhdGVcIixcIlNFVFwiLHQsZSksdGhpcy5zdG9yYWdlLnNldEl0ZW0odCxlKX0sb2wucHJvdG90eXBlLnJlbW92ZUl0ZW09ZnVuY3Rpb24odCl7THIoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiUkVNT1ZFXCIsdCksdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0odCl9LG9sLnByb3RvdHlwZS5Gcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG89dDtvLnN0b3JhZ2VBcmVhPT09dGhpcy5zdG9yYWdlJiYoTHIoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiRVZFTlRcIixvLmtleSxvLm5ld1ZhbHVlKSxvLmtleSE9PXRoaXMuJHM/dGhpcy5TZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIHkoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtpZih0aGlzLnN0YXJ0ZWQpe2lmKG51bGwhPT1vLmtleSlpZih0aGlzLkxzLnRlc3Qoby5rZXkpKXtpZihudWxsPT1vLm5ld1ZhbHVlKXJldHVybiBlPXRoaXMudGkoby5rZXkpLFsyLHRoaXMuZWkoZSxudWxsKV07aWYoZT10aGlzLm5pKG8ua2V5LG8ubmV3VmFsdWUpKXJldHVyblsyLHRoaXMuZWkoZS5jbGllbnRJZCxlKV19ZWxzZSBpZih0aGlzLkJzLnRlc3Qoby5rZXkpKXtpZihudWxsIT09by5uZXdWYWx1ZSYmKG49dGhpcy5zaShvLmtleSxvLm5ld1ZhbHVlKSkpcmV0dXJuWzIsdGhpcy5paShuKV19ZWxzZSBpZih0aGlzLnFzLnRlc3Qoby5rZXkpKXtpZihudWxsIT09by5uZXdWYWx1ZSYmKHI9dGhpcy5yaShvLmtleSxvLm5ld1ZhbHVlKSkpcmV0dXJuWzIsdGhpcy5vaShyKV19ZWxzZSBpZihvLmtleT09PXRoaXMuVXMpe2lmKG51bGwhPT1vLm5ld1ZhbHVlJiYoaT10aGlzLmpzKG8ubmV3VmFsdWUpKSlyZXR1cm5bMix0aGlzLldzKGkpXX1lbHNlIGlmKG8ua2V5PT09dGhpcy5NcykoaT1mdW5jdGlvbih0KXt2YXIgZT1Bci5vO2lmKG51bGwhPXQpdHJ5e3ZhciBuPUpTT04ucGFyc2UodCk7VXIoXCJudW1iZXJcIj09dHlwZW9mIG4pLGU9bn1jYXRjaCh0KXtQcihcIlNoYXJlZENsaWVudFN0YXRlXCIsXCJGYWlsZWQgdG8gcmVhZCBzZXF1ZW5jZSBudW1iZXIgZnJvbSBXZWJTdG9yYWdlXCIsdCl9cmV0dXJuIGV9KG8ubmV3VmFsdWUpKSE9PUFyLm8mJnRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyKGkpO2Vsc2UgaWYoby5rZXk9PT10aGlzLlFzKXJldHVyblsyLHRoaXMuc3luY0VuZ2luZS5jaSgpXX1lbHNlIHRoaXMuT3MucHVzaChvKTtyZXR1cm5bMl19KX0pfSk6UHIoXCJSZWNlaXZlZCBXZWJTdG9yYWdlIG5vdGlmaWNhdGlvbiBmb3IgbG9jYWwgY2hhbmdlLiBBbm90aGVyIGNsaWVudCBtaWdodCBoYXZlIGdhcmJhZ2UtY29sbGVjdGVkIG91ciBzdGF0ZVwiKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvbC5wcm90b3R5cGUsXCJKc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rcy5nZXQodGhpcy5Ocyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksb2wucHJvdG90eXBlLktzPWZ1bmN0aW9uKCl7dGhpcy5zZXRJdGVtKHRoaXMuJHMsdGhpcy5Kcy5TcygpKX0sb2wucHJvdG90eXBlLnpzPWZ1bmN0aW9uKHQsZSxuKXtuPW5ldyBCaCh0aGlzLmN1cnJlbnRVc2VyLHQsZSxuKSx0PVZoKHRoaXMucGVyc2lzdGVuY2VLZXksdGhpcy5jdXJyZW50VXNlcix0KTt0aGlzLnNldEl0ZW0odCxuLlNzKCkpfSxvbC5wcm90b3R5cGUuSHM9ZnVuY3Rpb24odCl7dD1WaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMuY3VycmVudFVzZXIsdCk7dGhpcy5yZW1vdmVJdGVtKHQpfSxvbC5wcm90b3R5cGUuWHM9ZnVuY3Rpb24odCl7dD17Y2xpZW50SWQ6dGhpcy5OcyxvbmxpbmVTdGF0ZTp0fTt0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLlVzLEpTT04uc3RyaW5naWZ5KHQpKX0sb2wucHJvdG90eXBlLllzPWZ1bmN0aW9uKHQsZSxuKXt2YXIgcj1VaCh0aGlzLnBlcnNpc3RlbmNlS2V5LHQpLG49bmV3IGpoKHQsZSxuKTt0aGlzLnNldEl0ZW0ocixuLlNzKCkpfSxvbC5wcm90b3R5cGUuWnM9ZnVuY3Rpb24oKXt0aGlzLnNldEl0ZW0odGhpcy5RcyxcInZhbHVlLW5vdC11c2VkXCIpfSxvbC5wcm90b3R5cGUudGk9ZnVuY3Rpb24odCl7dD10aGlzLkxzLmV4ZWModCk7cmV0dXJuIHQ/dFsxXTpudWxsfSxvbC5wcm90b3R5cGUubmk9ZnVuY3Rpb24odCxlKXt0PXRoaXMudGkodCk7cmV0dXJuIEtoLlZzKHQsZSl9LG9sLnByb3RvdHlwZS5zaT1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuQnMuZXhlYyh0KSx0PU51bWJlcihuWzFdKSxuPXZvaWQgMCE9PW5bMl0/blsyXTpudWxsO3JldHVybiBCaC5WcyhuZXcgU2gobiksdCxlKX0sb2wucHJvdG90eXBlLnJpPWZ1bmN0aW9uKHQsZSl7dD10aGlzLnFzLmV4ZWModCksdD1OdW1iZXIodFsxXSk7cmV0dXJuIGpoLlZzKHQsZSl9LG9sLnByb3RvdHlwZS5qcz1mdW5jdGlvbih0KXtyZXR1cm4gR2guVnModCl9LG9sLnByb3RvdHlwZS5paT1mdW5jdGlvbihlKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBlLnVzZXIudWlkPT09dGhpcy5jdXJyZW50VXNlci51aWQ/WzIsdGhpcy5zeW5jRW5naW5lLmFpKGUuYmF0Y2hJZCxlLnN0YXRlLGUuZXJyb3IpXTooTHIoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLFwiSWdub3JpbmcgbXV0YXRpb24gZm9yIG5vbi1hY3RpdmUgdXNlciBcIitlLnVzZXIudWlkKSxbMl0pfSl9KX0sb2wucHJvdG90eXBlLm9pPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN5bmNFbmdpbmUudWkodC50YXJnZXRJZCx0LnN0YXRlLHQuZXJyb3IpfSxvbC5wcm90b3R5cGUuZWk9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLHI9ZT90aGlzLmtzLmluc2VydCh0LGUpOnRoaXMua3MucmVtb3ZlKHQpLGk9dGhpcy5Hcyh0aGlzLmtzKSxvPXRoaXMuR3Mocikscz1bXSxhPVtdO3JldHVybiBvLmZvckVhY2goZnVuY3Rpb24odCl7aS5oYXModCl8fHMucHVzaCh0KX0pLGkuZm9yRWFjaChmdW5jdGlvbih0KXtvLmhhcyh0KXx8YS5wdXNoKHQpfSksdGhpcy5zeW5jRW5naW5lLmhpKHMsYSkudGhlbihmdW5jdGlvbigpe24ua3M9cn0pfSxvbC5wcm90b3R5cGUuV3M9ZnVuY3Rpb24odCl7dGhpcy5rcy5nZXQodC5jbGllbnRJZCkmJnRoaXMub25saW5lU3RhdGVIYW5kbGVyKHQub25saW5lU3RhdGUpfSxvbC5wcm90b3R5cGUuR3M9ZnVuY3Rpb24odCl7dmFyIG49R3M7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGUpe249bi51bmlvbldpdGgoZS5hY3RpdmVUYXJnZXRJZHMpfSksbn0sb2wpLEhoPShpbC5wcm90b3R5cGUuYWRkUGVuZGluZ011dGF0aW9uPWZ1bmN0aW9uKHQpe30saWwucHJvdG90eXBlLnVwZGF0ZU11dGF0aW9uU3RhdGU9ZnVuY3Rpb24odCxlLG4pe30saWwucHJvdG90eXBlLmFkZExvY2FsUXVlcnlUYXJnZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGkuRHModCksdGhpcy5maVt0XXx8XCJub3QtY3VycmVudFwifSxpbC5wcm90b3R5cGUudXBkYXRlUXVlcnlTdGF0ZT1mdW5jdGlvbih0LGUsbil7dGhpcy5maVt0XT1lfSxpbC5wcm90b3R5cGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldD1mdW5jdGlvbih0KXt0aGlzLmxpLkNzKHQpfSxpbC5wcm90b3R5cGUuaXNMb2NhbFF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpLmFjdGl2ZVRhcmdldElkcy5oYXModCl9LGlsLnByb3RvdHlwZS5jbGVhclF1ZXJ5U3RhdGU9ZnVuY3Rpb24odCl7ZGVsZXRlIHRoaXMuZmlbdF19LGlsLnByb3RvdHlwZS5nZXRBbGxBY3RpdmVRdWVyeVRhcmdldHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saS5hY3RpdmVUYXJnZXRJZHN9LGlsLnByb3RvdHlwZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpLmFjdGl2ZVRhcmdldElkcy5oYXModCl9LGlsLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxpPW5ldyBRaCxQcm9taXNlLnJlc29sdmUoKX0saWwucHJvdG90eXBlLmhhbmRsZVVzZXJDaGFuZ2U9ZnVuY3Rpb24odCxlLG4pe30saWwucHJvdG90eXBlLnNldE9ubGluZVN0YXRlPWZ1bmN0aW9uKHQpe30saWwucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7fSxpbC5wcm90b3R5cGUud3JpdGVTZXF1ZW5jZU51bWJlcj1mdW5jdGlvbih0KXt9LGlsLnByb3RvdHlwZS5ub3RpZnlCdW5kbGVMb2FkZWQ9ZnVuY3Rpb24oKXt9LGlsKSxXaD0ocmwucHJvdG90eXBlLmRpPWZ1bmN0aW9uKHQpe30scmwucHJvdG90eXBlLnNodXRkb3duPWZ1bmN0aW9uKCl7fSxybCksWWg9KG5sLnByb3RvdHlwZS5kaT1mdW5jdGlvbih0KXt0aGlzLmdpLnB1c2godCl9LG5sLnByb3RvdHlwZS5zaHV0ZG93bj1mdW5jdGlvbigpe3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy53aSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsdGhpcy5taSl9LG5sLnByb3RvdHlwZS5waT1mdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy53aSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsdGhpcy5taSl9LG5sLnByb3RvdHlwZS5faT1mdW5jdGlvbigpe0xyKFwiQ29ubmVjdGl2aXR5TW9uaXRvclwiLFwiTmV0d29yayBjb25uZWN0aXZpdHkgY2hhbmdlZDogQVZBSUxBQkxFXCIpO2Zvcih2YXIgdD0wLGU9dGhpcy5naTt0PGUubGVuZ3RoO3QrKykoMCxlW3RdKSgwKX0sbmwucHJvdG90eXBlLnlpPWZ1bmN0aW9uKCl7THIoXCJDb25uZWN0aXZpdHlNb25pdG9yXCIsXCJOZXR3b3JrIGNvbm5lY3Rpdml0eSBjaGFuZ2VkOiBVTkFWQUlMQUJMRVwiKTtmb3IodmFyIHQ9MCxlPXRoaXMuZ2k7dDxlLmxlbmd0aDt0KyspKDAsZVt0XSkoMSl9LG5sLnl0PWZ1bmN0aW9uKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LmFkZEV2ZW50TGlzdGVuZXImJnZvaWQgMCE9PXdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyfSxubCksWGg9e0JhdGNoR2V0RG9jdW1lbnRzOlwiYmF0Y2hHZXRcIixDb21taXQ6XCJjb21taXRcIixSdW5RdWVyeTpcInJ1blF1ZXJ5XCJ9LEpoPShlbC5wcm90b3R5cGUuSWk9ZnVuY3Rpb24odCl7dGhpcy5BaT10fSxlbC5wcm90b3R5cGUuUmk9ZnVuY3Rpb24odCl7dGhpcy5iaT10fSxlbC5wcm90b3R5cGUub25NZXNzYWdlPWZ1bmN0aW9uKHQpe3RoaXMudmk9dH0sZWwucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5UaSgpfSxlbC5wcm90b3R5cGUuc2VuZD1mdW5jdGlvbih0KXt0aGlzLkVpKHQpfSxlbC5wcm90b3R5cGUuUGk9ZnVuY3Rpb24oKXt0aGlzLkFpKCl9LGVsLnByb3RvdHlwZS5WaT1mdW5jdGlvbih0KXt0aGlzLmJpKHQpfSxlbC5wcm90b3R5cGUuU2k9ZnVuY3Rpb24odCl7dGhpcy52aSh0KX0sZWwpLCRoPSh0bC5wcm90b3R5cGUuTmk9ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9dGhpcy54aShlLHQpO0xyKFwiUmVzdENvbm5lY3Rpb25cIixcIlNlbmRpbmc6IFwiLGksbik7dD17fTtyZXR1cm4gdGhpcy5GaSh0LHIpLHRoaXMua2koZSxpLHQsbikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gTHIoXCJSZXN0Q29ubmVjdGlvblwiLFwiUmVjZWl2ZWQ6IFwiLHQpLHR9LGZ1bmN0aW9uKHQpe3Rocm93IE1yKFwiUmVzdENvbm5lY3Rpb25cIixlK1wiIGZhaWxlZCB3aXRoIGVycm9yOiBcIix0LFwidXJsOiBcIixpLFwicmVxdWVzdDpcIixuKSx0fSl9LHRsLnByb3RvdHlwZS5PaT1mdW5jdGlvbih0LGUsbixyKXtyZXR1cm4gdGhpcy5OaSh0LGUsbixyKX0sdGwucHJvdG90eXBlLkZpPWZ1bmN0aW9uKHQsZSl7aWYodFtcIlgtR29vZy1BcGktQ2xpZW50XCJdPVwiZ2wtanMvIGZpcmUvOC42LjJcIix0W1wiQ29udGVudC1UeXBlXCJdPVwidGV4dC9wbGFpblwiLHRoaXMuZGF0YWJhc2VJbmZvLmFwcElkJiYodFtcIlgtRmlyZWJhc2UtR01QSURcIl09dGhpcy5kYXRhYmFzZUluZm8uYXBwSWQpLGUpZm9yKHZhciBuIGluIGUuYXV0aEhlYWRlcnMpZS5hdXRoSGVhZGVycy5oYXNPd25Qcm9wZXJ0eShuKSYmKHRbbl09ZS5hdXRoSGVhZGVyc1tuXSl9LHRsLnByb3RvdHlwZS54aT1mdW5jdGlvbih0LGUpe3Q9WGhbdF07cmV0dXJuIHRoaXMuRGkrXCIvdjEvXCIrZStcIjpcIit0fSxuKFpoLHFoPXRsKSxaaC5wcm90b3R5cGUua2k9ZnVuY3Rpb24obyxlLHMsYSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4scil7dmFyIGk9bmV3IFNyO2kubGlzdGVuT25jZSh3ci5DT01QTEVURSxmdW5jdGlvbigpe3RyeXtzd2l0Y2goaS5nZXRMYXN0RXJyb3JDb2RlKCkpe2Nhc2UgYnIuTk9fRVJST1I6dmFyIHQ9aS5nZXRSZXNwb25zZUpzb24oKTtMcihcIkNvbm5lY3Rpb25cIixcIlhIUiByZWNlaXZlZDpcIixKU09OLnN0cmluZ2lmeSh0KSksbih0KTticmVhaztjYXNlIGJyLlRJTUVPVVQ6THIoXCJDb25uZWN0aW9uXCIsJ1JQQyBcIicrbysnXCIgdGltZWQgb3V0JykscihuZXcga3IoQ3IuREVBRExJTkVfRVhDRUVERUQsXCJSZXF1ZXN0IHRpbWUgb3V0XCIpKTticmVhaztjYXNlIGJyLkhUVFBfRVJST1I6dmFyIGU9aS5nZXRTdGF0dXMoKTtMcihcIkNvbm5lY3Rpb25cIiwnUlBDIFwiJytvKydcIiBmYWlsZWQgd2l0aCBzdGF0dXM6JyxlLFwicmVzcG9uc2UgdGV4dDpcIixpLmdldFJlc3BvbnNlVGV4dCgpKSwwPGU/KHQ9aS5nZXRSZXNwb25zZUpzb24oKS5lcnJvcikmJnQuc3RhdHVzJiZ0Lm1lc3NhZ2U/KGU9dC5zdGF0dXMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csXCItXCIpLGU9MDw9T2JqZWN0LnZhbHVlcyhDcikuaW5kZXhPZihlKT9lOkNyLlVOS05PV04scihuZXcga3IoZSx0Lm1lc3NhZ2UpKSk6cihuZXcga3IoQ3IuVU5LTk9XTixcIlNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXMgXCIraS5nZXRTdGF0dXMoKSkpOnIobmV3IGtyKENyLlVOQVZBSUxBQkxFLFwiQ29ubmVjdGlvbiBmYWlsZWQuXCIpKTticmVhaztkZWZhdWx0OlZyKCl9fWZpbmFsbHl7THIoXCJDb25uZWN0aW9uXCIsJ1JQQyBcIicrbysnXCIgY29tcGxldGVkLicpfX0pO3ZhciB0PUpTT04uc3RyaW5naWZ5KGEpO2kuc2VuZChlLFwiUE9TVFwiLHQscywxNSl9KX0sWmgucHJvdG90eXBlLiRpPWZ1bmN0aW9uKHQsZSl7dmFyIG4scj1bdGhpcy5EaSxcIi9cIixcImdvb2dsZS5maXJlc3RvcmUudjEuRmlyZXN0b3JlXCIsXCIvXCIsdCxcIi9jaGFubmVsXCJdLGk9bmV3IGRyLG89dnIoKSx0PXtodHRwU2Vzc2lvbklkUGFyYW06XCJnc2Vzc2lvbmlkXCIsaW5pdE1lc3NhZ2VIZWFkZXJzOnt9LG1lc3NhZ2VVcmxQYXJhbXM6e2RhdGFiYXNlOlwicHJvamVjdHMvXCIrdGhpcy5kYXRhYmFzZUlkLnByb2plY3RJZCtcIi9kYXRhYmFzZXMvXCIrdGhpcy5kYXRhYmFzZUlkLmRhdGFiYXNlfSxzZW5kUmF3SnNvbjohMCxzdXBwb3J0c0Nyb3NzRG9tYWluWGhyOiEwLGludGVybmFsQ2hhbm5lbFBhcmFtczp7Zm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zOjZlNX0sZm9yY2VMb25nUG9sbGluZzp0aGlzLmZvcmNlTG9uZ1BvbGxpbmcsZGV0ZWN0QnVmZmVyaW5nUHJveHk6dGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmd9O3RoaXMuRmkodC5pbml0TWVzc2FnZUhlYWRlcnMsZSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5jb3Jkb3ZhfHx3aW5kb3cucGhvbmVnYXB8fHdpbmRvdy5QaG9uZUdhcCkmJi9pb3N8aXBob25lfGlwb2R8aXBhZHxhbmRyb2lkfGJsYWNrYmVycnl8aWVtb2JpbGUvaS50ZXN0KGgoKSl8fFwib2JqZWN0XCI9PXR5cGVvZiBuYXZpZ2F0b3ImJlwiUmVhY3ROYXRpdmVcIj09PW5hdmlnYXRvci5wcm9kdWN0fHwwPD1oKCkuaW5kZXhPZihcIkVsZWN0cm9uL1wiKXx8KDA8PShuPWgoKSkuaW5kZXhPZihcIk1TSUUgXCIpfHwwPD1uLmluZGV4T2YoXCJUcmlkZW50L1wiKSl8fDA8PWgoKS5pbmRleE9mKFwiTVNBcHBIb3N0L1wiKXx8XCJvYmplY3RcIj09dHlwZW9mKG49XCJvYmplY3RcIj09dHlwZW9mIGNocm9tZT9jaHJvbWUucnVudGltZTpcIm9iamVjdFwiPT10eXBlb2YgYnJvd3Nlcj9icm93c2VyLnJ1bnRpbWU6dm9pZCAwKSYmdm9pZCAwIT09bi5pZHx8KHQuaHR0cEhlYWRlcnNPdmVyd3JpdGVQYXJhbT1cIiRodHRwSGVhZGVyc1wiKTtyPXIuam9pbihcIlwiKTtMcihcIkNvbm5lY3Rpb25cIixcIkNyZWF0aW5nIFdlYkNoYW5uZWw6IFwiK3IsdCk7dmFyIHM9aS5jcmVhdGVXZWJDaGFubmVsKHIsdCksYT0hMSx1PSExLGM9bmV3IEpoKHtFaTpmdW5jdGlvbih0KXt1P0xyKFwiQ29ubmVjdGlvblwiLFwiTm90IHNlbmRpbmcgYmVjYXVzZSBXZWJDaGFubmVsIGlzIGNsb3NlZDpcIix0KTooYXx8KExyKFwiQ29ubmVjdGlvblwiLFwiT3BlbmluZyBXZWJDaGFubmVsIHRyYW5zcG9ydC5cIikscy5vcGVuKCksYT0hMCksTHIoXCJDb25uZWN0aW9uXCIsXCJXZWJDaGFubmVsIHNlbmRpbmc6XCIsdCkscy5zZW5kKHQpKX0sVGk6ZnVuY3Rpb24oKXtyZXR1cm4gcy5jbG9zZSgpfX0pLHQ9ZnVuY3Rpb24odCxlLG4pe3QubGlzdGVuKGUsZnVuY3Rpb24odCl7dHJ5e24odCl9Y2F0Y2godCl7c2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IHR9LDApfX0pfTtyZXR1cm4gdChzLF9yLkV2ZW50VHlwZS5PUEVOLGZ1bmN0aW9uKCl7dXx8THIoXCJDb25uZWN0aW9uXCIsXCJXZWJDaGFubmVsIHRyYW5zcG9ydCBvcGVuZWQuXCIpfSksdChzLF9yLkV2ZW50VHlwZS5DTE9TRSxmdW5jdGlvbigpe3V8fCh1PSEwLExyKFwiQ29ubmVjdGlvblwiLFwiV2ViQ2hhbm5lbCB0cmFuc3BvcnQgY2xvc2VkXCIpLGMuVmkoKSl9KSx0KHMsX3IuRXZlbnRUeXBlLkVSUk9SLGZ1bmN0aW9uKHQpe3V8fCh1PSEwLE1yKFwiQ29ubmVjdGlvblwiLFwiV2ViQ2hhbm5lbCB0cmFuc3BvcnQgZXJyb3JlZDpcIix0KSxjLlZpKG5ldyBrcihDci5VTkFWQUlMQUJMRSxcIlRoZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZFwiKSkpfSksdChzLF9yLkV2ZW50VHlwZS5NRVNTQUdFLGZ1bmN0aW9uKHQpe3ZhciBlLG4scixpO3V8fChVcighIShlPXQuZGF0YVswXSkpLChuPWUuZXJyb3J8fChudWxsPT09KGk9ZVswXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZXJyb3IpKT8oTHIoXCJDb25uZWN0aW9uXCIsXCJXZWJDaGFubmVsIHJlY2VpdmVkIGVycm9yOlwiLG4pLHI9bi5zdGF0dXMsdD1mdW5jdGlvbigpe3ZhciB0PWJzW3JdO2lmKHZvaWQgMCE9PXQpcmV0dXJuIE5zKHQpfSgpLGk9bi5tZXNzYWdlLHZvaWQgMD09PXQmJih0PUNyLklOVEVSTkFMLGk9XCJVbmtub3duIGVycm9yIHN0YXR1czogXCIrcitcIiB3aXRoIG1lc3NhZ2UgXCIrbi5tZXNzYWdlKSx1PSEwLGMuVmkobmV3IGtyKHQsaSkpLHMuY2xvc2UoKSk6KExyKFwiQ29ubmVjdGlvblwiLFwiV2ViQ2hhbm5lbCByZWNlaXZlZDpcIixlKSxjLlNpKGUpKSl9KSx0KG8sRXIuU1RBVF9FVkVOVCxmdW5jdGlvbih0KXt0LnN0YXQ9PT1Ucj9McihcIkNvbm5lY3Rpb25cIixcIkRldGVjdGVkIGJ1ZmZlcmluZyBwcm94eVwiKTp0LnN0YXQ9PT1JciYmTHIoXCJDb25uZWN0aW9uXCIsXCJEZXRlY3RlZCBubyBidWZmZXJpbmcgcHJveHlcIil9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5QaSgpfSwwKSxjfSxaaCk7ZnVuY3Rpb24gWmgodCl7dmFyIGU9dGhpcztyZXR1cm4oZT1xaC5jYWxsKHRoaXMsdCl8fHRoaXMpLmZvcmNlTG9uZ1BvbGxpbmc9dC5mb3JjZUxvbmdQb2xsaW5nLGUuYXV0b0RldGVjdExvbmdQb2xsaW5nPXQuYXV0b0RldGVjdExvbmdQb2xsaW5nLGV9ZnVuY3Rpb24gdGwodCl7dGhpcy5kYXRhYmFzZUluZm89dCx0aGlzLmRhdGFiYXNlSWQ9dC5kYXRhYmFzZUlkO3ZhciBlPXQuc3NsP1wiaHR0cHNcIjpcImh0dHBcIjt0aGlzLkRpPWUrXCI6Ly9cIit0Lmhvc3QsdGhpcy5DaT1cInByb2plY3RzL1wiK3RoaXMuZGF0YWJhc2VJZC5wcm9qZWN0SWQrXCIvZGF0YWJhc2VzL1wiK3RoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZStcIi9kb2N1bWVudHNcIn1mdW5jdGlvbiBlbCh0KXt0aGlzLkVpPXQuRWksdGhpcy5UaT10LlRpfWZ1bmN0aW9uIG5sKCl7dmFyIHQ9dGhpczt0aGlzLndpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuX2koKX0sdGhpcy5taT1mdW5jdGlvbigpe3JldHVybiB0LnlpKCl9LHRoaXMuZ2k9W10sdGhpcy5waSgpfWZ1bmN0aW9uIHJsKCl7fWZ1bmN0aW9uIGlsKCl7dGhpcy5saT1uZXcgUWgsdGhpcy5maT17fSx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcj1udWxsLHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyPW51bGx9ZnVuY3Rpb24gb2wodCxlLG4scixpKXt0aGlzLndpbmRvdz10LHRoaXMuU2U9ZSx0aGlzLnBlcnNpc3RlbmNlS2V5PW4sdGhpcy5Ocz1yLHRoaXMuc3luY0VuZ2luZT1udWxsLHRoaXMub25saW5lU3RhdGVIYW5kbGVyPW51bGwsdGhpcy5zZXF1ZW5jZU51bWJlckhhbmRsZXI9bnVsbCx0aGlzLnhzPXRoaXMuRnMuYmluZCh0aGlzKSx0aGlzLmtzPW5ldyBEcyhqciksdGhpcy5zdGFydGVkPSExLHRoaXMuT3M9W107bj1uLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLFwiXFxcXCQmXCIpO3RoaXMuc3RvcmFnZT10aGlzLndpbmRvdy5sb2NhbFN0b3JhZ2UsdGhpcy5jdXJyZW50VXNlcj1pLHRoaXMuJHM9RmgodGhpcy5wZXJzaXN0ZW5jZUtleSx0aGlzLk5zKSx0aGlzLk1zPVwiZmlyZXN0b3JlX3NlcXVlbmNlX251bWJlcl9cIit0aGlzLnBlcnNpc3RlbmNlS2V5LHRoaXMua3M9dGhpcy5rcy5pbnNlcnQodGhpcy5OcyxuZXcgUWgpLHRoaXMuTHM9bmV3IFJlZ0V4cChcIl5maXJlc3RvcmVfY2xpZW50c19cIituK1wiXyhbXl9dKikkXCIpLHRoaXMuQnM9bmV3IFJlZ0V4cChcIl5maXJlc3RvcmVfbXV0YXRpb25zX1wiK24rXCJfKFxcXFxkKykoPzpfKC4qKSk/JFwiKSx0aGlzLnFzPW5ldyBSZWdFeHAoXCJeZmlyZXN0b3JlX3RhcmdldHNfXCIrbitcIl8oXFxcXGQrKSRcIiksdGhpcy5Vcz1cImZpcmVzdG9yZV9vbmxpbmVfc3RhdGVfXCIrdGhpcy5wZXJzaXN0ZW5jZUtleSx0aGlzLlFzPVwiZmlyZXN0b3JlX2J1bmRsZV9sb2FkZWRfXCIrdGhpcy5wZXJzaXN0ZW5jZUtleSx0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLHRoaXMueHMpfWZ1bmN0aW9uIHNsKCl7dGhpcy5hY3RpdmVUYXJnZXRJZHM9R3N9ZnVuY3Rpb24gYWwodCxlKXt0aGlzLmNsaWVudElkPXQsdGhpcy5vbmxpbmVTdGF0ZT1lfWZ1bmN0aW9uIHVsKHQsZSl7dGhpcy5jbGllbnRJZD10LHRoaXMuYWN0aXZlVGFyZ2V0SWRzPWV9ZnVuY3Rpb24gY2wodCxlLG4pe3RoaXMudGFyZ2V0SWQ9dCx0aGlzLnN0YXRlPWUsdGhpcy5lcnJvcj1ufWZ1bmN0aW9uIGhsKHQsZSxuLHIpe3RoaXMudXNlcj10LHRoaXMuYmF0Y2hJZD1lLHRoaXMuc3RhdGU9bix0aGlzLmVycm9yPXJ9ZnVuY3Rpb24gbGwoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpudWxsfWZ1bmN0aW9uIGZsKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50Om51bGx9ZnVuY3Rpb24gZGwodCl7cmV0dXJuIG5ldyBzYSh0LCEwKX1mdW5jdGlvbiBwbCh0LGUsbixyLGkpe3ZhciBvPXRoaXM7dGhpcy5sb2NhbFN0b3JlPXQsdGhpcy5kYXRhc3RvcmU9ZSx0aGlzLmFzeW5jUXVldWU9bix0aGlzLnJlbW90ZVN5bmNlcj17fSx0aGlzLmtyPVtdLHRoaXMuT3I9bmV3IE1hcCx0aGlzLiRyPW5ldyBTZXQsdGhpcy5Ncj1bXSx0aGlzLkxyPWksdGhpcy5Mci5kaShmdW5jdGlvbih0KXtuLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShvLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIEZsKHRoaXMpPyhMcihcIlJlbW90ZVN0b3JlXCIsXCJSZXN0YXJ0aW5nIHN0cmVhbXMgZm9yIG5ldHdvcmsgcmVhY2hhYmlsaXR5IGNoYW5nZS5cIiksWzQsZnVuY3Rpb24obil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybihlPW4pLiRyLmFkZCg0KSxbNCxrbChlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxlLkJyLnNldChcIlVua25vd25cIiksZS4kci5kZWxldGUoNCksWzQsQ2woZSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9KHRoaXMpXSk6WzMsMl07Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzJdfX0pfSl9KX0pLHRoaXMuQnI9bmV3IFRsKG4scil9dmFyIHlsLGdsLG1sLHZsPShEbC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnFpPTB9LERsLnByb3RvdHlwZS5LaT1mdW5jdGlvbigpe3RoaXMucWk9dGhpcy5CaX0sRGwucHJvdG90eXBlLmppPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5jYW5jZWwoKTt2YXIgbj1NYXRoLmZsb29yKHRoaXMucWkrdGhpcy5XaSgpKSxyPU1hdGgubWF4KDAsRGF0ZS5ub3coKS10aGlzLlFpKSxpPU1hdGgubWF4KDAsbi1yKTswPGkmJkxyKFwiRXhwb25lbnRpYWxCYWNrb2ZmXCIsXCJCYWNraW5nIG9mZiBmb3IgXCIraStcIiBtcyAoYmFzZSBkZWxheTogXCIrdGhpcy5xaStcIiBtcywgZGVsYXkgd2l0aCBqaXR0ZXI6IFwiK24rXCIgbXMsIGxhc3QgYXR0ZW1wdDogXCIrcitcIiBtcyBhZ28pXCIpLHRoaXMuVWk9dGhpcy5TZS5lbnF1ZXVlQWZ0ZXJEZWxheSh0aGlzLnRpbWVySWQsaSxmdW5jdGlvbigpe3JldHVybiBlLlFpPURhdGUubm93KCksdCgpfSksdGhpcy5xaSo9dGhpcy5MaSx0aGlzLnFpPHRoaXMuTWkmJih0aGlzLnFpPXRoaXMuTWkpLHRoaXMucWk+dGhpcy5CaSYmKHRoaXMucWk9dGhpcy5CaSl9LERsLnByb3RvdHlwZS5HaT1mdW5jdGlvbigpe251bGwhPT10aGlzLlVpJiYodGhpcy5VaS5za2lwRGVsYXkoKSx0aGlzLlVpPW51bGwpfSxEbC5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuVWkmJih0aGlzLlVpLmNhbmNlbCgpLHRoaXMuVWk9bnVsbCl9LERsLnByb3RvdHlwZS5XaT1mdW5jdGlvbigpe3JldHVybihNYXRoLnJhbmRvbSgpLS41KSp0aGlzLnFpfSxEbCksST0oTmwucHJvdG90eXBlLnRyPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLnN0YXRlfHwyPT09dGhpcy5zdGF0ZXx8ND09PXRoaXMuc3RhdGV9LE5sLnByb3RvdHlwZS5lcj1mdW5jdGlvbigpe3JldHVybiAyPT09dGhpcy5zdGF0ZX0sTmwucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7MyE9PXRoaXMuc3RhdGU/dGhpcy5hdXRoKCk6dGhpcy5ucigpfSxObC5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy50cigpP1s0LHRoaXMuY2xvc2UoMCldOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0pfSxObC5wcm90b3R5cGUuc3I9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlPTAsdGhpcy5aaS5yZXNldCgpfSxObC5wcm90b3R5cGUuaXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuZXIoKSYmbnVsbD09PXRoaXMuWGkmJih0aGlzLlhpPXRoaXMuU2UuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy56aSw2ZTQsZnVuY3Rpb24oKXtyZXR1cm4gdC5ycigpfSkpfSxObC5wcm90b3R5cGUuY3I9ZnVuY3Rpb24odCl7dGhpcy5hcigpLHRoaXMuc3RyZWFtLnNlbmQodCl9LE5sLnByb3RvdHlwZS5ycj1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZXIoKT9bMix0aGlzLmNsb3NlKDApXTpbMl19KX0pfSxObC5wcm90b3R5cGUuYXI9ZnVuY3Rpb24oKXt0aGlzLlhpJiYodGhpcy5YaS5jYW5jZWwoKSx0aGlzLlhpPW51bGwpfSxObC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oZSxuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuYXIoKSx0aGlzLlppLmNhbmNlbCgpLHRoaXMuWWkrKywzIT09ZT90aGlzLlppLnJlc2V0KCk6biYmbi5jb2RlPT09Q3IuUkVTT1VSQ0VfRVhIQVVTVEVEPyhQcihuLnRvU3RyaW5nKCkpLFByKFwiVXNpbmcgbWF4aW11bSBiYWNrb2ZmIGRlbGF5IHRvIHByZXZlbnQgb3ZlcmxvYWRpbmcgdGhlIGJhY2tlbmQuXCIpLHRoaXMuWmkuS2koKSk6biYmbi5jb2RlPT09Q3IuVU5BVVRIRU5USUNBVEVEJiZ0aGlzLkppLmludmFsaWRhdGVUb2tlbigpLG51bGwhPT10aGlzLnN0cmVhbSYmKHRoaXMudXIoKSx0aGlzLnN0cmVhbS5jbG9zZSgpLHRoaXMuc3RyZWFtPW51bGwpLHRoaXMuc3RhdGU9ZSxbNCx0aGlzLmxpc3RlbmVyLlJpKG4pXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSxObC5wcm90b3R5cGUudXI9ZnVuY3Rpb24oKXt9LE5sLnByb3RvdHlwZS5hdXRoPWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLnN0YXRlPTE7dmFyIHQ9dGhpcy5ocih0aGlzLllpKSxlPXRoaXMuWWk7dGhpcy5KaS5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24odCl7bi5ZaT09PWUmJm4ubHIodCl9LGZ1bmN0aW9uKGUpe3QoZnVuY3Rpb24oKXt2YXIgdD1uZXcga3IoQ3IuVU5LTk9XTixcIkZldGNoaW5nIGF1dGggdG9rZW4gZmFpbGVkOiBcIitlLm1lc3NhZ2UpO3JldHVybiBuLmRyKHQpfSl9KX0sTmwucHJvdG90eXBlLmxyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsbj10aGlzLmhyKHRoaXMuWWkpO3RoaXMuc3RyZWFtPXRoaXMud3IodCksdGhpcy5zdHJlYW0uSWkoZnVuY3Rpb24oKXtuKGZ1bmN0aW9uKCl7cmV0dXJuIGUuc3RhdGU9MixlLmxpc3RlbmVyLklpKCl9KX0pLHRoaXMuc3RyZWFtLlJpKGZ1bmN0aW9uKHQpe24oZnVuY3Rpb24oKXtyZXR1cm4gZS5kcih0KX0pfSksdGhpcy5zdHJlYW0ub25NZXNzYWdlKGZ1bmN0aW9uKHQpe24oZnVuY3Rpb24oKXtyZXR1cm4gZS5vbk1lc3NhZ2UodCl9KX0pfSxObC5wcm90b3R5cGUubnI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhdGU9NCx0aGlzLlppLmppKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZT0wLHRoaXMuc3RhcnQoKSxbMl19KX0pfSl9LE5sLnByb3RvdHlwZS5kcj1mdW5jdGlvbih0KXtyZXR1cm4gTHIoXCJQZXJzaXN0ZW50U3RyZWFtXCIsXCJjbG9zZSB3aXRoIGVycm9yOiBcIit0KSx0aGlzLnN0cmVhbT1udWxsLHRoaXMuY2xvc2UoMyx0KX0sTmwucHJvdG90eXBlLmhyPWZ1bmN0aW9uKGUpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKHQpe24uU2UuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiBuLllpPT09ZT90KCk6KExyKFwiUGVyc2lzdGVudFN0cmVhbVwiLFwic3RyZWFtIGNhbGxiYWNrIHNraXBwZWQgYnkgZ2V0Q2xvc2VHdWFyZGVkRGlzcGF0Y2hlci5cIiksUHJvbWlzZS5yZXNvbHZlKCkpfSl9fSxObCksYmw9KG4oQWwsbWw9SSksQWwucHJvdG90eXBlLndyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkhpLiRpKFwiTGlzdGVuXCIsdCl9LEFsLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24odCl7dGhpcy5aaS5yZXNldCgpO3ZhciBlPWZ1bmN0aW9uKHQsZSl7aWYoXCJ0YXJnZXRDaGFuZ2VcImluIGUpe2UudGFyZ2V0Q2hhbmdlO3ZhciBuPVwiTk9fQ0hBTkdFXCI9PT0obz1lLnRhcmdldENoYW5nZS50YXJnZXRDaGFuZ2VUeXBlfHxcIk5PX0NIQU5HRVwiKT8wOlwiQUREXCI9PT1vPzE6XCJSRU1PVkVcIj09PW8/MjpcIkNVUlJFTlRcIj09PW8/MzpcIlJFU0VUXCI9PT1vPzQ6VnIoKSxyPWUudGFyZ2V0Q2hhbmdlLnRhcmdldElkc3x8W10saT0ocz1lLnRhcmdldENoYW5nZS5yZXN1bWVUb2tlbix0Lkk/KFVyKHZvaWQgMD09PXN8fFwic3RyaW5nXCI9PXR5cGVvZiBzKSxpaS5mcm9tQmFzZTY0U3RyaW5nKHN8fFwiXCIpKTooVXIodm9pZCAwPT09c3x8cyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpLGlpLmZyb21VaW50OEFycmF5KHN8fG5ldyBVaW50OEFycmF5KSkpLG89KGE9ZS50YXJnZXRDaGFuZ2UuY2F1c2UpJiYodT12b2lkIDA9PT0oYz1hKS5jb2RlP0NyLlVOS05PV046TnMoYy5jb2RlKSxuZXcga3IodSxjLm1lc3NhZ2V8fFwiXCIpKSxzPW5ldyBZcyhuLHIsaSxvfHxudWxsKX1lbHNlIGlmKFwiZG9jdW1lbnRDaGFuZ2VcImluIGUpe2UuZG9jdW1lbnRDaGFuZ2UsKG49ZS5kb2N1bWVudENoYW5nZSkuZG9jdW1lbnQsbi5kb2N1bWVudC5uYW1lLG4uZG9jdW1lbnQudXBkYXRlVGltZTt2YXIgcj1kYSh0LG4uZG9jdW1lbnQubmFtZSksaT1jYShuLmRvY3VtZW50LnVwZGF0ZVRpbWUpLGE9bmV3IE9pKHttYXBWYWx1ZTp7ZmllbGRzOm4uZG9jdW1lbnQuZmllbGRzfX0pLHU9KG89UGkubmV3Rm91bmREb2N1bWVudChyLGksYSksbi50YXJnZXRJZHN8fFtdKSxjPW4ucmVtb3ZlZFRhcmdldElkc3x8W107cz1uZXcgSHModSxjLG8ua2V5LG8pfWVsc2UgaWYoXCJkb2N1bWVudERlbGV0ZVwiaW4gZSllLmRvY3VtZW50RGVsZXRlLChuPWUuZG9jdW1lbnREZWxldGUpLmRvY3VtZW50LHI9ZGEodCxuLmRvY3VtZW50KSxpPW4ucmVhZFRpbWU/Y2Eobi5yZWFkVGltZSk6enIubWluKCksYT1QaS5uZXdOb0RvY3VtZW50KHIsaSksbz1uLnJlbW92ZWRUYXJnZXRJZHN8fFtdLHM9bmV3IEhzKFtdLG8sYS5rZXksYSk7ZWxzZSBpZihcImRvY3VtZW50UmVtb3ZlXCJpbiBlKWUuZG9jdW1lbnRSZW1vdmUsKG49ZS5kb2N1bWVudFJlbW92ZSkuZG9jdW1lbnQscj1kYSh0LG4uZG9jdW1lbnQpLGk9bi5yZW1vdmVkVGFyZ2V0SWRzfHxbXSxzPW5ldyBIcyhbXSxpLHIsbnVsbCk7ZWxzZXtpZighKFwiZmlsdGVyXCJpbiBlKSlyZXR1cm4gVnIoKTtlLmZpbHRlcjtlPWUuZmlsdGVyO2UudGFyZ2V0SWQsbj1lLmNvdW50fHwwLHI9bmV3IHZzKG4pLGk9ZS50YXJnZXRJZCxzPW5ldyBXcyhpLHIpfXJldHVybiBzfSh0aGlzLlIsdCksdD1mdW5jdGlvbih0KXtpZighKFwidGFyZ2V0Q2hhbmdlXCJpbiB0KSlyZXR1cm4genIubWluKCk7dD10LnRhcmdldENoYW5nZTtyZXR1cm4oIXQudGFyZ2V0SWRzfHwhdC50YXJnZXRJZHMubGVuZ3RoKSYmdC5yZWFkVGltZT9jYSh0LnJlYWRUaW1lKTp6ci5taW4oKX0odCk7cmV0dXJuIHRoaXMubGlzdGVuZXIuX3IoZSx0KX0sQWwucHJvdG90eXBlLm1yPWZ1bmN0aW9uKHQpe3ZhciBlLG4scixpPXt9O2kuZGF0YWJhc2U9Z2EodGhpcy5SKSxpLmFkZFRhcmdldD0oZT10aGlzLlIsKHI9Qmkocj0obj10KS50YXJnZXQpP3tkb2N1bWVudHM6VGEoZSxyKX06e3F1ZXJ5OklhKGUscil9KS50YXJnZXRJZD1uLnRhcmdldElkLDA8bi5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCk/ci5yZXN1bWVUb2tlbj11YShlLG4ucmVzdW1lVG9rZW4pOjA8bi5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKHpyLm1pbigpKSYmKHIucmVhZFRpbWU9YWEoZSxuLnNuYXBzaG90VmVyc2lvbi50b1RpbWVzdGFtcCgpKSkscik7dmFyIG8sdD0odGhpcy5SLG89dCxudWxsPT0odD1mdW5jdGlvbigpe3N3aXRjaChvLnB1cnBvc2Upe2Nhc2UgMDpyZXR1cm4gbnVsbDtjYXNlIDE6cmV0dXJuXCJleGlzdGVuY2UtZmlsdGVyLW1pc21hdGNoXCI7Y2FzZSAyOnJldHVyblwibGltYm8tZG9jdW1lbnRcIjtkZWZhdWx0OnJldHVybiBWcigpfX0oKSk/bnVsbDp7XCJnb29nLWxpc3Rlbi10YWdzXCI6dH0pO3QmJihpLmxhYmVscz10KSx0aGlzLmNyKGkpfSxBbC5wcm90b3R5cGUueXI9ZnVuY3Rpb24odCl7dmFyIGU9e307ZS5kYXRhYmFzZT1nYSh0aGlzLlIpLGUucmVtb3ZlVGFyZ2V0PXQsdGhpcy5jcihlKX0sQWwpLHdsPShuKFNsLGdsPUkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTbC5wcm90b3R5cGUsXCJwclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxTbC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLmdyPSExLHRoaXMubGFzdFN0cmVhbVRva2VuPXZvaWQgMCxnbC5wcm90b3R5cGUuc3RhcnQuY2FsbCh0aGlzKX0sU2wucHJvdG90eXBlLnVyPWZ1bmN0aW9uKCl7dGhpcy5nciYmdGhpcy5FcihbXSl9LFNsLnByb3RvdHlwZS53cj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5IaS4kaShcIldyaXRlXCIsdCl9LFNsLnByb3RvdHlwZS5vbk1lc3NhZ2U9ZnVuY3Rpb24odCl7aWYoVXIoISF0LnN0cmVhbVRva2VuKSx0aGlzLmxhc3RTdHJlYW1Ub2tlbj10LnN0cmVhbVRva2VuLHRoaXMuZ3Ipe3RoaXMuWmkucmVzZXQoKTt2YXIgZT0obj10LndyaXRlUmVzdWx0cyxyPXQuY29tbWl0VGltZSxuJiYwPG4ubGVuZ3RoPyhVcih2b2lkIDAhPT1yKSxuLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbj1yLCh0PShlPXQpLnVwZGF0ZVRpbWU/Y2EoZS51cGRhdGVUaW1lKTpjYShuKSkuaXNFcXVhbCh6ci5taW4oKSkmJih0PWNhKG4pKSxuZXcgZXModCxlLnRyYW5zZm9ybVJlc3VsdHN8fFtdKTt2YXIgZSxufSkpOltdKSxuPWNhKHQuY29tbWl0VGltZSk7cmV0dXJuIHRoaXMubGlzdGVuZXIuVHIobixlKX12YXIgbixyO3JldHVybiBVcighdC53cml0ZVJlc3VsdHN8fDA9PT10LndyaXRlUmVzdWx0cy5sZW5ndGgpLHRoaXMuZ3I9ITAsdGhpcy5saXN0ZW5lci5JcigpfSxTbC5wcm90b3R5cGUuQXI9ZnVuY3Rpb24oKXt2YXIgdD17fTt0LmRhdGFiYXNlPWdhKHRoaXMuUiksdGhpcy5jcih0KX0sU2wucHJvdG90eXBlLkVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMsdD17c3RyZWFtVG9rZW46dGhpcy5sYXN0U3RyZWFtVG9rZW4sd3JpdGVzOnQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB3YShlLlIsdCl9KX07dGhpcy5jcih0KX0sU2wpLEVsPShuKF9sLHlsPWZ1bmN0aW9uKCl7fSksX2wucHJvdG90eXBlLmJyPWZ1bmN0aW9uKCl7aWYodGhpcy5Scil0aHJvdyBuZXcga3IoQ3IuRkFJTEVEX1BSRUNPTkRJVElPTixcIlRoZSBjbGllbnQgaGFzIGFscmVhZHkgYmVlbiB0ZXJtaW5hdGVkLlwiKX0sX2wucHJvdG90eXBlLk5pPWZ1bmN0aW9uKGUsbixyKXt2YXIgaT10aGlzO3JldHVybiB0aGlzLmJyKCksdGhpcy5jcmVkZW50aWFscy5nZXRUb2tlbigpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGkuSGkuTmkoZSxuLHIsdCl9KS5jYXRjaChmdW5jdGlvbih0KXt0aHJvd1wiRmlyZWJhc2VFcnJvclwiPT09dC5uYW1lPyh0LmNvZGU9PT1Dci5VTkFVVEhFTlRJQ0FURUQmJmkuY3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksdCk6bmV3IGtyKENyLlVOS05PV04sdC50b1N0cmluZygpKX0pfSxfbC5wcm90b3R5cGUuT2k9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPXRoaXM7cmV0dXJuIHRoaXMuYnIoKSx0aGlzLmNyZWRlbnRpYWxzLmdldFRva2VuKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gaS5IaS5PaShlLG4scix0KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe3Rocm93XCJGaXJlYmFzZUVycm9yXCI9PT10Lm5hbWU/KHQuY29kZT09PUNyLlVOQVVUSEVOVElDQVRFRCYmaS5jcmVkZW50aWFscy5pbnZhbGlkYXRlVG9rZW4oKSx0KTpuZXcga3IoQ3IuVU5LTk9XTix0LnRvU3RyaW5nKCkpfSl9LF9sLnByb3RvdHlwZS50ZXJtaW5hdGU9ZnVuY3Rpb24oKXt0aGlzLlJyPSEwfSxfbCksVGw9KElsLnByb3RvdHlwZS5Tcj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7MD09PXRoaXMudnImJih0aGlzLkRyKFwiVW5rbm93blwiKSx0aGlzLlByPXRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShcIm9ubGluZV9zdGF0ZV90aW1lb3V0XCIsMWU0LGZ1bmN0aW9uKCl7cmV0dXJuIHQuUHI9bnVsbCx0LkNyKFwiQmFja2VuZCBkaWRuJ3QgcmVzcG9uZCB3aXRoaW4gMTAgc2Vjb25kcy5cIiksdC5EcihcIk9mZmxpbmVcIiksUHJvbWlzZS5yZXNvbHZlKCl9KSl9LElsLnByb3RvdHlwZS5Ocj1mdW5jdGlvbih0KXtcIk9ubGluZVwiPT09dGhpcy5zdGF0ZT90aGlzLkRyKFwiVW5rbm93blwiKToodGhpcy52cisrLDE8PXRoaXMudnImJih0aGlzLkZyKCksdGhpcy5DcihcIkNvbm5lY3Rpb24gZmFpbGVkIDEgdGltZXMuIE1vc3QgcmVjZW50IGVycm9yOiBcIit0LnRvU3RyaW5nKCkpLHRoaXMuRHIoXCJPZmZsaW5lXCIpKSl9LElsLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCl7dGhpcy5GcigpLHRoaXMudnI9MCxcIk9ubGluZVwiPT09dCYmKHRoaXMuVnI9ITEpLHRoaXMuRHIodCl9LElsLnByb3RvdHlwZS5Ecj1mdW5jdGlvbih0KXt0IT09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9dCx0aGlzLm9ubGluZVN0YXRlSGFuZGxlcih0KSl9LElsLnByb3RvdHlwZS5Dcj1mdW5jdGlvbih0KXt0PVwiQ291bGQgbm90IHJlYWNoIENsb3VkIEZpcmVzdG9yZSBiYWNrZW5kLiBcIit0K1wiXFxuVGhpcyB0eXBpY2FsbHkgaW5kaWNhdGVzIHRoYXQgeW91ciBkZXZpY2UgZG9lcyBub3QgaGF2ZSBhIGhlYWx0aHkgSW50ZXJuZXQgY29ubmVjdGlvbiBhdCB0aGUgbW9tZW50LiBUaGUgY2xpZW50IHdpbGwgb3BlcmF0ZSBpbiBvZmZsaW5lIG1vZGUgdW50aWwgaXQgaXMgYWJsZSB0byBzdWNjZXNzZnVsbHkgY29ubmVjdCB0byB0aGUgYmFja2VuZC5cIjt0aGlzLlZyPyhQcih0KSx0aGlzLlZyPSExKTpMcihcIk9ubGluZVN0YXRlVHJhY2tlclwiLHQpfSxJbC5wcm90b3R5cGUuRnI9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5QciYmKHRoaXMuUHIuY2FuY2VsKCksdGhpcy5Qcj1udWxsKX0sSWwpO2Z1bmN0aW9uIElsKHQsZSl7dGhpcy5hc3luY1F1ZXVlPXQsdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXI9ZSx0aGlzLnN0YXRlPVwiVW5rbm93blwiLHRoaXMudnI9MCx0aGlzLlByPW51bGwsdGhpcy5Wcj0hMH1mdW5jdGlvbiBfbCh0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj15bC5jYWxsKHRoaXMpfHx0aGlzKS5jcmVkZW50aWFscz10LHIuSGk9ZSxyLlI9bixyLlJyPSExLHJ9ZnVuY3Rpb24gU2wodCxlLG4scixpKXt2YXIgbz10aGlzO3JldHVybihvPWdsLmNhbGwodGhpcyx0LFwid3JpdGVfc3RyZWFtX2Nvbm5lY3Rpb25fYmFja29mZlwiLFwid3JpdGVfc3RyZWFtX2lkbGVcIixlLG4saSl8fHRoaXMpLlI9cixvLmdyPSExLG99ZnVuY3Rpb24gQWwodCxlLG4scixpKXt2YXIgbz10aGlzO3JldHVybihvPW1sLmNhbGwodGhpcyx0LFwibGlzdGVuX3N0cmVhbV9jb25uZWN0aW9uX2JhY2tvZmZcIixcImxpc3Rlbl9zdHJlYW1faWRsZVwiLGUsbixpKXx8dGhpcykuUj1yLG99ZnVuY3Rpb24gTmwodCxlLG4scixpLG8pe3RoaXMuU2U9dCx0aGlzLnppPW4sdGhpcy5IaT1yLHRoaXMuSmk9aSx0aGlzLmxpc3RlbmVyPW8sdGhpcy5zdGF0ZT0wLHRoaXMuWWk9MCx0aGlzLlhpPW51bGwsdGhpcy5zdHJlYW09bnVsbCx0aGlzLlppPW5ldyB2bCh0LGUpfWZ1bmN0aW9uIERsKHQsZSxuLHIsaSl7dm9pZCAwPT09biYmKG49MWUzKSx2b2lkIDA9PT1yJiYocj0xLjUpLHZvaWQgMD09PWkmJihpPTZlNCksdGhpcy5TZT10LHRoaXMudGltZXJJZD1lLHRoaXMuTWk9bix0aGlzLkxpPXIsdGhpcy5CaT1pLHRoaXMucWk9MCx0aGlzLlVpPW51bGwsdGhpcy5RaT1EYXRlLm5vdygpLHRoaXMucmVzZXQoKX1mdW5jdGlvbiBDbChyKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZighRmwocikpcmV0dXJuWzMsNF07ZT0wLG49ci5Ncix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiBlPG4ubGVuZ3RoP1s0LCgwLG5bZV0pKCEwKV06WzMsNF07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuIGUrKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9ZnVuY3Rpb24ga2wocil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6ZT0wLG49ci5Ncix0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiBlPG4ubGVuZ3RoP1s0LCgwLG5bZV0pKCExKV06WzMsNF07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuIGUrKyxbMywxXTtjYXNlIDQ6cmV0dXJuWzJdfX0pfSl9ZnVuY3Rpb24gUmwodCxlKXt0Lk9yLmhhcyhlLnRhcmdldElkKXx8KHQuT3Iuc2V0KGUudGFyZ2V0SWQsZSksTWwodCk/UGwodCk6emwodCkuZXIoKSYmT2wodCxlKSl9ZnVuY3Rpb24geGwodCxlKXt2YXIgbj10LHQ9emwobik7bi5Pci5kZWxldGUoZSksdC5lcigpJiZMbChuLGUpLDA9PT1uLk9yLnNpemUmJih0LmVyKCk/dC5pcigpOkZsKG4pJiZuLkJyLnNldChcIlVua25vd25cIikpfWZ1bmN0aW9uIE9sKHQsZSl7dC5xci5VKGUudGFyZ2V0SWQpLHpsKHQpLm1yKGUpfWZ1bmN0aW9uIExsKHQsZSl7dC5xci5VKGUpLHpsKHQpLnlyKGUpfWZ1bmN0aW9uIFBsKGUpe2UucXI9bmV3IEpzKHtnZXRSZW1vdGVLZXlzRm9yVGFyZ2V0OmZ1bmN0aW9uKHQpe3JldHVybiBlLnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KHQpfSxsdDpmdW5jdGlvbih0KXtyZXR1cm4gZS5Pci5nZXQodCl8fG51bGx9fSksemwoZSkuc3RhcnQoKSxlLkJyLlNyKCl9ZnVuY3Rpb24gTWwodCl7cmV0dXJuIEZsKHQpJiYhemwodCkudHIoKSYmMDx0Lk9yLnNpemV9ZnVuY3Rpb24gRmwodCl7cmV0dXJuIDA9PT10LiRyLnNpemV9ZnVuY3Rpb24gVmwodCl7dC5xcj12b2lkIDB9ZnVuY3Rpb24gVWwocyxhLHUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLG87cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKHMuQnIuc2V0KFwiT25saW5lXCIpLCEoYSBpbnN0YW5jZW9mIFlzJiYyPT09YS5zdGF0ZSYmYS5jYXVzZSkpcmV0dXJuWzMsNl07dC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsNV0pLFs0LGZ1bmN0aW9uKG8scyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmU9cy5jYXVzZSxuPTAscj1zLnRhcmdldElkcyx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiBuPHIubGVuZ3RoPyhpPXJbbl0sby5Pci5oYXMoaSk/WzQsby5yZW1vdGVTeW5jZXIucmVqZWN0TGlzdGVuKGksZSldOlszLDNdKTpbMyw1XTtjYXNlIDI6dC5zZW50KCksby5Pci5kZWxldGUoaSksby5xci5yZW1vdmVUYXJnZXQoaSksdC5sYWJlbD0zO2Nhc2UgMzp0LmxhYmVsPTQ7Y2FzZSA0OnJldHVybiBuKyssWzMsMV07Y2FzZSA1OnJldHVyblsyXX19KX0pfShzLGEpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFszLDVdO2Nhc2UgMzpyZXR1cm4gbj10LnNlbnQoKSxMcihcIlJlbW90ZVN0b3JlXCIsXCJGYWlsZWQgdG8gcmVtb3ZlIHRhcmdldHMgJXM6ICVzIFwiLGEudGFyZ2V0SWRzLmpvaW4oXCIsXCIpLG4pLFs0LHFsKHMsbildO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksWzMsNV07Y2FzZSA1OnJldHVyblszLDEzXTtjYXNlIDY6aWYoYSBpbnN0YW5jZW9mIEhzP3MucXIuWChhKTphIGluc3RhbmNlb2YgV3M/cy5xci5ydChhKTpzLnFyLmV0KGEpLHUuaXNFcXVhbCh6ci5taW4oKSkpcmV0dXJuWzMsMTNdO3QubGFiZWw9NztjYXNlIDc6cmV0dXJuIHQudHJ5cy5wdXNoKFs3LDExLCwxM10pLFs0LGloKHMubG9jYWxTdG9yZSldO2Nhc2UgODpyZXR1cm4gbz10LnNlbnQoKSwwPD11LmNvbXBhcmVUbyhvKT9bNCwoaT11LChlPShyPXMpLnFyLmF0KGkpKS50YXJnZXRDaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbjswPHQucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpJiYoKG49ci5Pci5nZXQoZSkpJiZyLk9yLnNldChlLG4ud2l0aFJlc3VtZVRva2VuKHQucmVzdW1lVG9rZW4saSkpKX0pLGUudGFyZ2V0TWlzbWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXIuT3IuZ2V0KHQpO2UmJihyLk9yLnNldCh0LGUud2l0aFJlc3VtZVRva2VuKGlpLkVNUFRZX0JZVEVfU1RSSU5HLGUuc25hcHNob3RWZXJzaW9uKSksTGwocix0KSxlPW5ldyBTdShlLnRhcmdldCx0LDEsZS5zZXF1ZW5jZU51bWJlciksT2wocixlKSl9KSxyLnJlbW90ZVN5bmNlci5hcHBseVJlbW90ZUV2ZW50KGUpKV06WzMsMTBdO2Nhc2UgOTp0LnNlbnQoKSx0LmxhYmVsPTEwO2Nhc2UgMTA6cmV0dXJuWzMsMTNdO2Nhc2UgMTE6cmV0dXJuIExyKFwiUmVtb3RlU3RvcmVcIixcIkZhaWxlZCB0byByYWlzZSBzbmFwc2hvdDpcIixvPXQuc2VudCgpKSxbNCxxbChzLG8pXTtjYXNlIDEyOnJldHVybiB0LnNlbnQoKSxbMywxM107Y2FzZSAxMzpyZXR1cm5bMl19dmFyIHIsaSxlfSl9KX1mdW5jdGlvbiBxbChuLHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYoIWR1KHIpKXRocm93IHI7cmV0dXJuIG4uJHIuYWRkKDEpLFs0LGtsKG4pXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLG4uQnIuc2V0KFwiT2ZmbGluZVwiKSxpPWl8fGZ1bmN0aW9uKCl7cmV0dXJuIGloKG4ubG9jYWxTdG9yZSl9LG4uYXN5bmNRdWV1ZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIHkoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBMcihcIlJlbW90ZVN0b3JlXCIsXCJSZXRyeWluZyBJbmRleGVkREIgYWNjZXNzXCIpLFs0LGkoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxuLiRyLmRlbGV0ZSgxKSxbNCxDbChuKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0pLFsyXX19KX0pfWZ1bmN0aW9uIEJsKGUsbil7cmV0dXJuIG4oKS5jYXRjaChmdW5jdGlvbih0KXtyZXR1cm4gcWwoZSx0LG4pfSl9ZnVuY3Rpb24gamwodSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGksbyxzLGE7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOm89SGwoaT11KSxzPTA8aS5rci5sZW5ndGg/aS5rcltpLmtyLmxlbmd0aC0xXS5iYXRjaElkOi0xLHQubGFiZWw9MTtjYXNlIDE6aWYoIShGbChpKSYmaS5rci5sZW5ndGg8MTApKXJldHVyblszLDddO3QubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHQudHJ5cy5wdXNoKFsyLDQsLDZdKSxbNCwoZT1pLmxvY2FsU3RvcmUsbj1zLChyPWUpLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IG5leHQgbXV0YXRpb24gYmF0Y2hcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PW4mJihuPS0xKSxyLl9uLmdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKHQsbil9KSldO2Nhc2UgMzpyZXR1cm4gbnVsbD09PShhPXQuc2VudCgpKT8oMD09PWkua3IubGVuZ3RoJiZvLmlyKCksWzMsN10pOihzPWEuYmF0Y2hJZCxmdW5jdGlvbih0LGUpe3Qua3IucHVzaChlKTt0PUhsKHQpO3QuZXIoKSYmdC5wciYmdC5FcihlLm11dGF0aW9ucyl9KGksYSksWzMsNl0pO2Nhc2UgNDpyZXR1cm4gYT10LnNlbnQoKSxbNCxxbChpLGEpXTtjYXNlIDU6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMywxXTtjYXNlIDc6cmV0dXJuIEtsKGkpJiZHbChpKSxbMl19dmFyIGUsbixyfSl9KX1mdW5jdGlvbiBLbCh0KXtyZXR1cm4gRmwodCkmJiFIbCh0KS50cigpJiYwPHQua3IubGVuZ3RofWZ1bmN0aW9uIEdsKHQpe0hsKHQpLnN0YXJ0KCl9ZnVuY3Rpb24gUWwobixyKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9bixyPyhlLiRyLmRlbGV0ZSgyKSxbNCxDbChlKV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzMsNV07Y2FzZSAyOnJldHVybiByP1szLDRdOihlLiRyLmFkZCgyKSxbNCxrbChlKV0pO2Nhc2UgMzp0LnNlbnQoKSxlLkJyLnNldChcIlVua25vd25cIiksdC5sYWJlbD00O2Nhc2UgNDp0LmxhYmVsPTU7Y2FzZSA1OnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIHpsKG4pe3ZhciB0LGUscixpPXRoaXM7cmV0dXJuIG4uVXJ8fChuLlVyPSh0PW4uZGF0YXN0b3JlLGU9bi5hc3luY1F1ZXVlLHI9e0lpOmZ1bmN0aW9uKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIG4uT3IuZm9yRWFjaChmdW5jdGlvbih0LGUpe09sKG4sdCl9KSxbMl19KX0pfS5iaW5kKG51bGwsbiksUmk6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiBWbChlKSxNbChlKT8oZS5Cci5OcihuKSxQbChlKSk6ZS5Cci5zZXQoXCJVbmtub3duXCIpLFsyXX0pfSl9LmJpbmQobnVsbCxuKSxfcjpVbC5iaW5kKG51bGwsbil9LHQuYnIoKSxuZXcgYmwoZSx0LkhpLHQuY3JlZGVudGlhbHMsdC5SLHIpKSxuLk1yLnB1c2goZnVuY3Rpb24oZSl7cmV0dXJuIHkoaSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPyhuLlVyLnNyKCksTWwobik/UGwobik6bi5Cci5zZXQoXCJVbmtub3duXCIpLFszLDNdKTpbMywxXTtjYXNlIDE6cmV0dXJuWzQsbi5Vci5zdG9wKCldO2Nhc2UgMjp0LnNlbnQoKSxWbChuKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KX0pfSkpLG4uVXJ9ZnVuY3Rpb24gSGwobil7dmFyIHQsZSxyLGk9dGhpcztyZXR1cm4gbi5Rcnx8KG4uUXI9KHQ9bi5kYXRhc3RvcmUsZT1uLmFzeW5jUXVldWUscj17SWk6ZnVuY3Rpb24oZSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gSGwoZSkuQXIoKSxbMl19KX0pfS5iaW5kKG51bGwsbiksUmk6ZnVuY3Rpb24oZSxuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIG4mJkhsKGUpLnByP1s0LGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIEFzKG49aS5jb2RlKSYmbiE9PUNyLkFCT1JURUQ/KGU9ci5rci5zaGlmdCgpLEhsKHIpLnNyKCksWzQsQmwocixmdW5jdGlvbigpe3JldHVybiByLnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZShlLmJhdGNoSWQsaSl9KV0pOlszLDNdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQsamwocildO2Nhc2UgMjp0LnNlbnQoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVyblsyXX19KX0pfShlLG4pXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gS2woZSkmJkdsKGUpLFsyXX19KX0pfS5iaW5kKG51bGwsbiksSXI6ZnVuY3Rpb24obyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtmb3IoZT1IbChvKSxuPTAscj1vLmtyO248ci5sZW5ndGg7bisrKWk9cltuXSxlLkVyKGkubXV0YXRpb25zKTtyZXR1cm5bMl19KX0pfS5iaW5kKG51bGwsbiksVHI6ZnVuY3Rpb24ocixpLG8pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPXIua3Iuc2hpZnQoKSxuPV91LmZyb20oZSxpLG8pLFs0LEJsKHIsZnVuY3Rpb24oKXtyZXR1cm4gci5yZW1vdGVTeW5jZXIuYXBwbHlTdWNjZXNzZnVsV3JpdGUobil9KV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbNCxqbChyKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0uYmluZChudWxsLG4pfSx0LmJyKCksbmV3IHdsKGUsdC5IaSx0LmNyZWRlbnRpYWxzLHQuUixyKSksbi5Nci5wdXNoKGZ1bmN0aW9uKGUpe3JldHVybiB5KGksdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT8obi5Rci5zcigpLFs0LGpsKG4pXSk6WzMsMl07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMyw0XTtjYXNlIDI6cmV0dXJuWzQsbi5Rci5zdG9wKCldO2Nhc2UgMzp0LnNlbnQoKSwwPG4ua3IubGVuZ3RoJiYoTHIoXCJSZW1vdGVTdG9yZVwiLFwiU3RvcHBpbmcgd3JpdGUgc3RyZWFtIHdpdGggXCIrbi5rci5sZW5ndGgrXCIgcGVuZGluZyB3cml0ZXNcIiksbi5rcj1bXSksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0pKSxuLlFyfXZhciBXbD0oWWwuY3JlYXRlQW5kU2NoZWR1bGU9ZnVuY3Rpb24odCxlLG4scixpKXtpPW5ldyBZbCh0LGUsRGF0ZS5ub3coKStuLHIsaSk7cmV0dXJuIGkuc3RhcnQobiksaX0sWWwucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy50aW1lckhhbmRsZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuaGFuZGxlRGVsYXlFbGFwc2VkKCl9LHQpfSxZbC5wcm90b3R5cGUuc2tpcERlbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFuZGxlRGVsYXlFbGFwc2VkKCl9LFlsLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24odCl7bnVsbCE9PXRoaXMudGltZXJIYW5kbGUmJih0aGlzLmNsZWFyVGltZW91dCgpLHRoaXMuZGVmZXJyZWQucmVqZWN0KG5ldyBrcihDci5DQU5DRUxMRUQsXCJPcGVyYXRpb24gY2FuY2VsbGVkXCIrKHQ/XCI6IFwiK3Q6XCJcIikpKSl9LFlsLnByb3RvdHlwZS5oYW5kbGVEZWxheUVsYXBzZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT1lLnRpbWVySGFuZGxlPyhlLmNsZWFyVGltZW91dCgpLGUub3AoKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmRlZmVycmVkLnJlc29sdmUodCl9KSk6UHJvbWlzZS5yZXNvbHZlKCl9KX0sWWwucHJvdG90eXBlLmNsZWFyVGltZW91dD1mdW5jdGlvbigpe251bGwhPT10aGlzLnRpbWVySGFuZGxlJiYodGhpcy5yZW1vdmFsQ2FsbGJhY2sodGhpcyksY2xlYXJUaW1lb3V0KHRoaXMudGltZXJIYW5kbGUpLHRoaXMudGltZXJIYW5kbGU9bnVsbCl9LFlsKTtmdW5jdGlvbiBZbCh0LGUsbixyLGkpe3RoaXMuYXN5bmNRdWV1ZT10LHRoaXMudGltZXJJZD1lLHRoaXMudGFyZ2V0VGltZU1zPW4sdGhpcy5vcD1yLHRoaXMucmVtb3ZhbENhbGxiYWNrPWksdGhpcy5kZWZlcnJlZD1uZXcgZXUsdGhpcy50aGVuPXRoaXMuZGVmZXJyZWQucHJvbWlzZS50aGVuLmJpbmQodGhpcy5kZWZlcnJlZC5wcm9taXNlKSx0aGlzLmRlZmVycmVkLnByb21pc2UuY2F0Y2goZnVuY3Rpb24odCl7fSl9ZnVuY3Rpb24gWGwodCxlKXtpZihQcihcIkFzeW5jUXVldWVcIixlK1wiOiBcIit0KSxkdSh0KSlyZXR1cm4gbmV3IGtyKENyLlVOQVZBSUxBQkxFLGUrXCI6IFwiK3QpO3Rocm93IHR9ZnVuY3Rpb24gSmwoKXt0aGlzLnF1ZXJpZXM9bmV3IE5jKFJvLGtvKSx0aGlzLm9ubGluZVN0YXRlPVwiVW5rbm93blwiLHRoaXMuR3I9bmV3IFNldH12YXIgJGw9KG9mLmVtcHR5U2V0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgb2YodC5jb21wYXJhdG9yKX0sb2YucHJvdG90eXBlLmhhcz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dGhpcy5rZXllZE1hcC5nZXQodCl9LG9mLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMua2V5ZWRNYXAuZ2V0KHQpfSxvZi5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0ZWRTZXQubWluS2V5KCl9LG9mLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1heEtleSgpfSxvZi5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvcnRlZFNldC5pc0VtcHR5KCl9LG9mLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHQpe3Q9dGhpcy5rZXllZE1hcC5nZXQodCk7cmV0dXJuIHQ/dGhpcy5zb3J0ZWRTZXQuaW5kZXhPZih0KTotMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG9mLnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc29ydGVkU2V0LnNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksb2YucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24obil7dGhpcy5zb3J0ZWRTZXQuaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbih0LGUpe3JldHVybiBuKHQpLCExfSl9LG9mLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5kZWxldGUodC5rZXkpO3JldHVybiBlLmNvcHkoZS5rZXllZE1hcC5pbnNlcnQodC5rZXksdCksZS5zb3J0ZWRTZXQuaW5zZXJ0KHQsbnVsbCkpfSxvZi5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0KHQpO3JldHVybiBlP3RoaXMuY29weSh0aGlzLmtleWVkTWFwLnJlbW92ZSh0KSx0aGlzLnNvcnRlZFNldC5yZW1vdmUoZSkpOnRoaXN9LG9mLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe2lmKCEodCBpbnN0YW5jZW9mIG9mKSlyZXR1cm4hMTtpZih0aGlzLnNpemUhPT10LnNpemUpcmV0dXJuITE7Zm9yKHZhciBlPXRoaXMuc29ydGVkU2V0LmdldEl0ZXJhdG9yKCksbj10LnNvcnRlZFNldC5nZXRJdGVyYXRvcigpO2UuaGFzTmV4dCgpOyl7dmFyIHI9ZS5nZXROZXh0KCkua2V5LGk9bi5nZXROZXh0KCkua2V5O2lmKCFyLmlzRXF1YWwoaSkpcmV0dXJuITF9cmV0dXJuITB9LG9mLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5wdXNoKHQudG9TdHJpbmcoKSl9KSwwPT09ZS5sZW5ndGg/XCJEb2N1bWVudFNldCAoKVwiOlwiRG9jdW1lbnRTZXQgKFxcbiAgXCIrZS5qb2luKFwiICBcXG5cIikrXCJcXG4pXCJ9LG9mLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IG9mO3JldHVybiBuLmNvbXBhcmF0b3I9dGhpcy5jb21wYXJhdG9yLG4ua2V5ZWRNYXA9dCxuLnNvcnRlZFNldD1lLG59LG9mKSxabD0ocmYucHJvdG90eXBlLnRyYWNrPWZ1bmN0aW9uKHQpe3ZhciBlPXQuZG9jLmtleSxuPXRoaXMuS3IuZ2V0KGUpOyFufHwwIT09dC50eXBlJiYzPT09bi50eXBlP3RoaXMuS3I9dGhpcy5Lci5pbnNlcnQoZSx0KTozPT09dC50eXBlJiYxIT09bi50eXBlP3RoaXMuS3I9dGhpcy5Lci5pbnNlcnQoZSx7dHlwZTpuLnR5cGUsZG9jOnQuZG9jfSk6Mj09PXQudHlwZSYmMj09PW4udHlwZT90aGlzLktyPXRoaXMuS3IuaW5zZXJ0KGUse3R5cGU6Mixkb2M6dC5kb2N9KToyPT09dC50eXBlJiYwPT09bi50eXBlP3RoaXMuS3I9dGhpcy5Lci5pbnNlcnQoZSx7dHlwZTowLGRvYzp0LmRvY30pOjE9PT10LnR5cGUmJjA9PT1uLnR5cGU/dGhpcy5Lcj10aGlzLktyLnJlbW92ZShlKToxPT09dC50eXBlJiYyPT09bi50eXBlP3RoaXMuS3I9dGhpcy5Lci5pbnNlcnQoZSx7dHlwZToxLGRvYzpuLmRvY30pOjA9PT10LnR5cGUmJjE9PT1uLnR5cGU/dGhpcy5Lcj10aGlzLktyLmluc2VydChlLHt0eXBlOjIsZG9jOnQuZG9jfSk6VnIoKX0scmYucHJvdG90eXBlLmpyPWZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIHRoaXMuS3IuaW5vcmRlclRyYXZlcnNhbChmdW5jdGlvbih0LGUpe24ucHVzaChlKX0pLG59LHJmKSx0Zj0obmYuZnJvbUluaXRpYWxEb2N1bWVudHM9ZnVuY3Rpb24odCxlLG4scil7dmFyIGk9W107cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbih0KXtpLnB1c2goe3R5cGU6MCxkb2M6dH0pfSksbmV3IG5mKHQsZSwkbC5lbXB0eVNldChlKSxpLG4sciwhMCwhMSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuZi5wcm90b3R5cGUsXCJoYXNQZW5kaW5nV3JpdGVzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLm11dGF0ZWRLZXlzLmlzRW1wdHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxuZi5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtpZighKHRoaXMuZnJvbUNhY2hlPT09dC5mcm9tQ2FjaGUmJnRoaXMuc3luY1N0YXRlQ2hhbmdlZD09PXQuc3luY1N0YXRlQ2hhbmdlZCYmdGhpcy5tdXRhdGVkS2V5cy5pc0VxdWFsKHQubXV0YXRlZEtleXMpJiZrbyh0aGlzLnF1ZXJ5LHQucXVlcnkpJiZ0aGlzLmRvY3MuaXNFcXVhbCh0LmRvY3MpJiZ0aGlzLm9sZERvY3MuaXNFcXVhbCh0Lm9sZERvY3MpKSlyZXR1cm4hMTt2YXIgZT10aGlzLmRvY0NoYW5nZXMsbj10LmRvY0NoYW5nZXM7aWYoZS5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdLnR5cGUhPT1uW3JdLnR5cGV8fCFlW3JdLmRvYy5pc0VxdWFsKG5bcl0uZG9jKSlyZXR1cm4hMTtyZXR1cm4hMH0sbmYpLGVmPWZ1bmN0aW9uKCl7dGhpcy5Xcj12b2lkIDAsdGhpcy5saXN0ZW5lcnM9W119O2Z1bmN0aW9uIG5mKHQsZSxuLHIsaSxvLHMsYSl7dGhpcy5xdWVyeT10LHRoaXMuZG9jcz1lLHRoaXMub2xkRG9jcz1uLHRoaXMuZG9jQ2hhbmdlcz1yLHRoaXMubXV0YXRlZEtleXM9aSx0aGlzLmZyb21DYWNoZT1vLHRoaXMuc3luY1N0YXRlQ2hhbmdlZD1zLHRoaXMuZXhjbHVkZXNNZXRhZGF0YUNoYW5nZXM9YX1mdW5jdGlvbiByZigpe3RoaXMuS3I9bmV3IERzKGJpLmNvbXBhcmF0b3IpfWZ1bmN0aW9uIG9mKG4pe3RoaXMuY29tcGFyYXRvcj1uP2Z1bmN0aW9uKHQsZSl7cmV0dXJuIG4odCxlKXx8YmkuY29tcGFyYXRvcih0LmtleSxlLmtleSl9OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGJpLmNvbXBhcmF0b3IodC5rZXksZS5rZXkpfSx0aGlzLmtleWVkTWFwPXFzLHRoaXMuc29ydGVkU2V0PW5ldyBEcyh0aGlzLmNvbXBhcmF0b3IpfWZ1bmN0aW9uIHNmKHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6aWYoZT1zLG49YS5xdWVyeSxyPSExLChpPWUucXVlcmllcy5nZXQobikpfHwocj0hMCxpPW5ldyBlZiksIXIpcmV0dXJuWzMsNF07dC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsNF0pLG89aSxbNCxlLm9uTGlzdGVuKG4pXTtjYXNlIDI6cmV0dXJuIG8uV3I9dC5zZW50KCksWzMsNF07Y2FzZSAzOnJldHVybiBvPXQuc2VudCgpLG89WGwobyxcIkluaXRpYWxpemF0aW9uIG9mIHF1ZXJ5ICdcIit4byhhLnF1ZXJ5KStcIicgZmFpbGVkXCIpLFsyLHZvaWQgYS5vbkVycm9yKG8pXTtjYXNlIDQ6cmV0dXJuIGUucXVlcmllcy5zZXQobixpKSxpLmxpc3RlbmVycy5wdXNoKGEpLGEuenIoZS5vbmxpbmVTdGF0ZSksaS5XciYmYS5IcihpLldyKSYmdWYoZSksWzJdfX0pfSl9ZnVuY3Rpb24gYWYocyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxvO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGU9cyxuPWEucXVlcnkscj0hMSwoaT1lLnF1ZXJpZXMuZ2V0KG4pKSYmMDw9KG89aS5saXN0ZW5lcnMuaW5kZXhPZihhKSkmJihpLmxpc3RlbmVycy5zcGxpY2UobywxKSxyPTA9PT1pLmxpc3RlbmVycy5sZW5ndGgpLHI/WzIsKGUucXVlcmllcy5kZWxldGUobiksZS5vblVubGlzdGVuKG4pKV06WzJdfSl9KX1mdW5jdGlvbiB1Zih0KXt0LkdyLmZvckVhY2goZnVuY3Rpb24odCl7dC5uZXh0KCl9KX12YXIgY2Y9KGdmLnByb3RvdHlwZS5Icj1mdW5jdGlvbih0KXtpZighdGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXMpe2Zvcih2YXIgZT1bXSxuPTAscj10LmRvY0NoYW5nZXM7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07MyE9PWkudHlwZSYmZS5wdXNoKGkpfXQ9bmV3IHRmKHQucXVlcnksdC5kb2NzLHQub2xkRG9jcyxlLHQubXV0YXRlZEtleXMsdC5mcm9tQ2FjaGUsdC5zeW5jU3RhdGVDaGFuZ2VkLCEwKX12YXIgbz0hMTtyZXR1cm4gdGhpcy5Zcj90aGlzLlpyKHQpJiYodGhpcy5Kci5uZXh0KHQpLG89ITApOnRoaXMuZW8odCx0aGlzLm9ubGluZVN0YXRlKSYmKHRoaXMubm8odCksbz0hMCksdGhpcy5Ycj10LG99LGdmLnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQpe3RoaXMuSnIuZXJyb3IodCl9LGdmLnByb3RvdHlwZS56cj1mdW5jdGlvbih0KXt0aGlzLm9ubGluZVN0YXRlPXQ7dmFyIGU9ITE7cmV0dXJuIHRoaXMuWHImJiF0aGlzLllyJiZ0aGlzLmVvKHRoaXMuWHIsdCkmJih0aGlzLm5vKHRoaXMuWHIpLGU9ITApLGV9LGdmLnByb3RvdHlwZS5lbz1mdW5jdGlvbih0LGUpe2lmKCF0LmZyb21DYWNoZSlyZXR1cm4hMDt2YXIgbj1cIk9mZmxpbmVcIiE9PWU7cmV0dXJuISh0aGlzLm9wdGlvbnMuc28mJm58fHQuZG9jcy5pc0VtcHR5KCkmJlwiT2ZmbGluZVwiIT09ZSl9LGdmLnByb3RvdHlwZS5acj1mdW5jdGlvbih0KXtpZigwPHQuZG9jQ2hhbmdlcy5sZW5ndGgpcmV0dXJuITA7dmFyIGU9dGhpcy5YciYmdGhpcy5Yci5oYXNQZW5kaW5nV3JpdGVzIT09dC5oYXNQZW5kaW5nV3JpdGVzO3JldHVybiEoIXQuc3luY1N0YXRlQ2hhbmdlZCYmIWUpJiYhMD09PXRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzfSxnZi5wcm90b3R5cGUubm89ZnVuY3Rpb24odCl7dD10Zi5mcm9tSW5pdGlhbERvY3VtZW50cyh0LnF1ZXJ5LHQuZG9jcyx0Lm11dGF0ZWRLZXlzLHQuZnJvbUNhY2hlKSx0aGlzLllyPSEwLHRoaXMuSnIubmV4dCh0KX0sZ2YpLGhmPSh5Zi5wcm90b3R5cGUuaW89ZnVuY3Rpb24oKXtyZXR1cm5cIm1ldGFkYXRhXCJpbiB0aGlzLnBheWxvYWR9LHlmKSxsZj0ocGYucHJvdG90eXBlLnFuPWZ1bmN0aW9uKHQpe3JldHVybiBkYSh0aGlzLlIsdCl9LHBmLnByb3RvdHlwZS5Vbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5tZXRhZGF0YS5leGlzdHM/YmEodGhpcy5SLHQuZG9jdW1lbnQsITEpOlBpLm5ld05vRG9jdW1lbnQodGhpcy5xbih0Lm1ldGFkYXRhLm5hbWUpLHRoaXMuUW4odC5tZXRhZGF0YS5yZWFkVGltZSkpfSxwZi5wcm90b3R5cGUuUW49Y2EscGYpLGZmPShkZi5wcm90b3R5cGUub289ZnVuY3Rpb24odCl7dGhpcy5wcm9ncmVzcy5ieXRlc0xvYWRlZCs9dC5ieXRlTGVuZ3RoO3ZhciBlPXRoaXMucHJvZ3Jlc3MuZG9jdW1lbnRzTG9hZGVkO3JldHVybiB0LnBheWxvYWQubmFtZWRRdWVyeT90aGlzLnF1ZXJpZXMucHVzaCh0LnBheWxvYWQubmFtZWRRdWVyeSk6dC5wYXlsb2FkLmRvY3VtZW50TWV0YWRhdGE/KHRoaXMuZG9jdW1lbnRzLnB1c2goe21ldGFkYXRhOnQucGF5bG9hZC5kb2N1bWVudE1ldGFkYXRhfSksdC5wYXlsb2FkLmRvY3VtZW50TWV0YWRhdGEuZXhpc3RzfHwrK2UpOnQucGF5bG9hZC5kb2N1bWVudCYmKHRoaXMuZG9jdW1lbnRzW3RoaXMuZG9jdW1lbnRzLmxlbmd0aC0xXS5kb2N1bWVudD10LnBheWxvYWQuZG9jdW1lbnQsKytlKSxlIT09dGhpcy5wcm9ncmVzcy5kb2N1bWVudHNMb2FkZWQ/KHRoaXMucHJvZ3Jlc3MuZG9jdW1lbnRzTG9hZGVkPWUsT2JqZWN0LmFzc2lnbih7fSx0aGlzLnByb2dyZXNzKSk6bnVsbH0sZGYucHJvdG90eXBlLmNvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1uZXcgTWFwLG49bmV3IGxmKHRoaXMuUikscj0wLGk9dDtyPGkubGVuZ3RoO3IrKyl7dmFyIG89aVtyXTtpZihvLm1ldGFkYXRhLnF1ZXJpZXMpZm9yKHZhciBzPW4ucW4oby5tZXRhZGF0YS5uYW1lKSxhPTAsdT1vLm1ldGFkYXRhLnF1ZXJpZXM7YTx1Lmxlbmd0aDthKyspe3ZhciBjPXVbYV0saD0oZS5nZXQoYyl8fEtzKCkpLmFkZChzKTtlLnNldChjLGgpfX1yZXR1cm4gZX0sZGYucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGk7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGZ1bmN0aW9uKGwsZixkLHApe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHIsaSxvLGUscyxhLHUsYyxoO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpmb3Iobj1sLHI9S3MoKSxpPUZzLG89QnMsZT0wLHM9ZDtlPHMubGVuZ3RoO2UrKylhPXNbZV0sdT1mLnFuKGEubWV0YWRhdGEubmFtZSksYS5kb2N1bWVudCYmKHI9ci5hZGQodSkpLGk9aS5pbnNlcnQodSxmLlVuKGEpKSxvPW8uaW5zZXJ0KHUsZi5RbihhLm1ldGFkYXRhLnJlYWRUaW1lKSk7cmV0dXJuIGM9bi4kbi5uZXdDaGFuZ2VCdWZmZXIoe3RyYWNrUmVtb3ZhbHM6ITB9KSxbNCxhaChuLERvKEVvKHRpLmZyb21TdHJpbmcoXCJfX2J1bmRsZV9fL2RvY3MvXCIrcCkpKSldO2Nhc2UgMTpyZXR1cm4gaD10LnNlbnQoKSxbMixuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQXBwbHkgYnVuZGxlIGRvY3VtZW50c1wiLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24oZSl7cmV0dXJuIHNoKGUsYyxpLHpyLm1pbigpLG8pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIGMuYXBwbHkoZSksdH0pLm5leHQoZnVuY3Rpb24odCl7cmV0dXJuIG4ucWUucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSxoLnRhcmdldElkKS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG4ucWUuYWRkTWF0Y2hpbmdLZXlzKGUscixoLnRhcmdldElkKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gbi5Nbi5FbihlLHQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiB0fSl9KX0pXX19KX0pfSh0aGlzLmxvY2FsU3RvcmUsbmV3IGxmKHRoaXMuUiksdGhpcy5kb2N1bWVudHMsdGhpcy5yby5pZCldO2Nhc2UgMTplPXQuc2VudCgpLG49dGhpcy5jbyh0aGlzLmRvY3VtZW50cykscj0wLGk9dGhpcy5xdWVyaWVzLHQubGFiZWw9MjtjYXNlIDI6cmV0dXJuIHI8aS5sZW5ndGg/KGk9aVtyXSxbNCxmdW5jdGlvbihlLGksbyl7cmV0dXJuIHZvaWQgMD09PW8mJihvPUtzKCkpLHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsYWgoZSxEbyhVdShpLmJ1bmRsZWRRdWVyeSkpKV07Y2FzZSAxOnJldHVybiBuPXQuc2VudCgpLFsyLChyPWUpLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiU2F2ZSBuYW1lZCBxdWVyeVwiLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24odCl7dmFyIGU9Y2EoaS5yZWFkVGltZSk7aWYoMDw9bi5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKGUpKXJldHVybiByLlFlLnNhdmVOYW1lZFF1ZXJ5KHQsaSk7ZT1uLndpdGhSZXN1bWVUb2tlbihpaS5FTVBUWV9CWVRFX1NUUklORyxlKTtyZXR1cm4gci5Gbj1yLkZuLmluc2VydChlLnRhcmdldElkLGUpLHIucWUudXBkYXRlVGFyZ2V0RGF0YSh0LGUpLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gci5xZS5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCh0LG4udGFyZ2V0SWQpfSkubmV4dChmdW5jdGlvbigpe3JldHVybiByLnFlLmFkZE1hdGNoaW5nS2V5cyh0LG8sbi50YXJnZXRJZCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIHIuUWUuc2F2ZU5hbWVkUXVlcnkodCxpKX0pfSldfX0pfSl9KHRoaXMubG9jYWxTdG9yZSxpLG4uZ2V0KGkubmFtZSkpXSk6WzMsNV07Y2FzZSAzOnQuc2VudCgpLHQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuIHIrKyxbMywyXTtjYXNlIDU6cmV0dXJuWzIsKHRoaXMucHJvZ3Jlc3MudGFza1N0YXRlPVwiU3VjY2Vzc1wiLG5ldyB6YyhPYmplY3QuYXNzaWduKHt9LHRoaXMucHJvZ3Jlc3MpLGUpKV19fSl9KX0sZGYpO2Z1bmN0aW9uIGRmKHQsZSxuKXt0aGlzLnJvPXQsdGhpcy5sb2NhbFN0b3JlPWUsdGhpcy5SPW4sdGhpcy5xdWVyaWVzPVtdLHRoaXMuZG9jdW1lbnRzPVtdLHRoaXMucHJvZ3Jlc3M9bWYodCl9ZnVuY3Rpb24gcGYodCl7dGhpcy5SPXR9ZnVuY3Rpb24geWYodCxlKXt0aGlzLnBheWxvYWQ9dCx0aGlzLmJ5dGVMZW5ndGg9ZX1mdW5jdGlvbiBnZih0LGUsbil7dGhpcy5xdWVyeT10LHRoaXMuSnI9ZSx0aGlzLllyPSExLHRoaXMuWHI9bnVsbCx0aGlzLm9ubGluZVN0YXRlPVwiVW5rbm93blwiLHRoaXMub3B0aW9ucz1ufHx7fX1mdW5jdGlvbiBtZih0KXtyZXR1cm57dGFza1N0YXRlOlwiUnVubmluZ1wiLGRvY3VtZW50c0xvYWRlZDowLGJ5dGVzTG9hZGVkOjAsdG90YWxEb2N1bWVudHM6dC50b3RhbERvY3VtZW50cyx0b3RhbEJ5dGVzOnQudG90YWxCeXRlc319dmFyIHZmPWZ1bmN0aW9uKHQpe3RoaXMua2V5PXR9LGJmPWZ1bmN0aW9uKHQpe3RoaXMua2V5PXR9LHdmPShPYmplY3QuZGVmaW5lUHJvcGVydHkoU2YucHJvdG90eXBlLFwid29cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYW99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksU2YucHJvdG90eXBlLl9vPWZ1bmN0aW9uKHQsZSl7dmFyIHM9dGhpcyxhPWU/ZS5tbzpuZXcgWmwsdT0oZXx8dGhpcykuZm8sYz0oZXx8dGhpcykubXV0YXRlZEtleXMsaD11LGw9ITEsZj1Ubyh0aGlzLnF1ZXJ5KSYmdS5zaXplPT09dGhpcy5xdWVyeS5saW1pdD91Lmxhc3QoKTpudWxsLGQ9SW8odGhpcy5xdWVyeSkmJnUuc2l6ZT09PXRoaXMucXVlcnkubGltaXQ/dS5maXJzdCgpOm51bGw7aWYodC5pbm9yZGVyVHJhdmVyc2FsKGZ1bmN0aW9uKHQsZSl7dmFyIG49dS5nZXQodCkscj1PbyhzLnF1ZXJ5LGUpP2U6bnVsbCxpPSEhbiYmcy5tdXRhdGVkS2V5cy5oYXMobi5rZXkpLG89ISFyJiYoci5oYXNMb2NhbE11dGF0aW9uc3x8cy5tdXRhdGVkS2V5cy5oYXMoci5rZXkpJiZyLmhhc0NvbW1pdHRlZE11dGF0aW9ucyksZT0hMTtuJiZyP24uZGF0YS5pc0VxdWFsKHIuZGF0YSk/aSE9PW8mJihhLnRyYWNrKHt0eXBlOjMsZG9jOnJ9KSxlPSEwKTpzLnlvKG4scil8fChhLnRyYWNrKHt0eXBlOjIsZG9jOnJ9KSxlPSEwLChmJiYwPHMubG8ocixmKXx8ZCYmcy5sbyhyLGQpPDApJiYobD0hMCkpOiFuJiZyPyhhLnRyYWNrKHt0eXBlOjAsZG9jOnJ9KSxlPSEwKTpuJiYhciYmKGEudHJhY2soe3R5cGU6MSxkb2M6bn0pLGU9ITAsKGZ8fGQpJiYobD0hMCkpLGUmJihjPXI/KGg9aC5hZGQociksbz9jLmFkZCh0KTpjLmRlbGV0ZSh0KSk6KGg9aC5kZWxldGUodCksYy5kZWxldGUodCkpKX0pLFRvKHRoaXMucXVlcnkpfHxJbyh0aGlzLnF1ZXJ5KSlmb3IoO2guc2l6ZT50aGlzLnF1ZXJ5LmxpbWl0Oyl7dmFyIG49VG8odGhpcy5xdWVyeSk/aC5sYXN0KCk6aC5maXJzdCgpLGg9aC5kZWxldGUobi5rZXkpLGM9Yy5kZWxldGUobi5rZXkpO2EudHJhY2soe3R5cGU6MSxkb2M6bn0pfXJldHVybntmbzpoLG1vOmEsTm46bCxtdXRhdGVkS2V5czpjfX0sU2YucHJvdG90eXBlLnlvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaGFzTG9jYWxNdXRhdGlvbnMmJmUuaGFzQ29tbWl0dGVkTXV0YXRpb25zJiYhZS5oYXNMb2NhbE11dGF0aW9uc30sU2YucHJvdG90eXBlLmFwcGx5Q2hhbmdlcz1mdW5jdGlvbih0LGUsbil7dmFyIG89dGhpcyxyPXRoaXMuZm87dGhpcy5mbz10LmZvLHRoaXMubXV0YXRlZEtleXM9dC5tdXRhdGVkS2V5czt2YXIgaT10Lm1vLmpyKCk7aS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHI9dC50eXBlLGk9ZS50eXBlLG4ociktbihpKXx8by5sbyh0LmRvYyxlLmRvYyk7ZnVuY3Rpb24gbih0KXtzd2l0Y2godCl7Y2FzZSAwOnJldHVybiAxO2Nhc2UgMjpjYXNlIDM6cmV0dXJuIDI7Y2FzZSAxOnJldHVybiAwO2RlZmF1bHQ6cmV0dXJuIFZyKCl9fXZhciByLGl9KSx0aGlzLnBvKG4pO3ZhciBzPWU/dGhpcy5FbygpOltdLG49MD09PXRoaXMuaG8uc2l6ZSYmdGhpcy5jdXJyZW50PzE6MCxlPW4hPT10aGlzLnVvO3JldHVybiB0aGlzLnVvPW4sMCE9PWkubGVuZ3RofHxlP3tzbmFwc2hvdDpuZXcgdGYodGhpcy5xdWVyeSx0LmZvLHIsaSx0Lm11dGF0ZWRLZXlzLDA9PW4sZSwhMSksVG86c306e1RvOnN9fSxTZi5wcm90b3R5cGUuenI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudCYmXCJPZmZsaW5lXCI9PT10Pyh0aGlzLmN1cnJlbnQ9ITEsdGhpcy5hcHBseUNoYW5nZXMoe2ZvOnRoaXMuZm8sbW86bmV3IFpsLG11dGF0ZWRLZXlzOnRoaXMubXV0YXRlZEtleXMsTm46ITF9LCExKSk6e1RvOltdfX0sU2YucHJvdG90eXBlLklvPWZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLmFvLmhhcyh0KSYmISF0aGlzLmZvLmhhcyh0KSYmIXRoaXMuZm8uZ2V0KHQpLmhhc0xvY2FsTXV0YXRpb25zfSxTZi5wcm90b3R5cGUucG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0JiYodC5hZGRlZERvY3VtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFvPWUuYW8uYWRkKHQpfSksdC5tb2RpZmllZERvY3VtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe30pLHQucmVtb3ZlZERvY3VtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLmFvPWUuYW8uZGVsZXRlKHQpfSksdGhpcy5jdXJyZW50PXQuY3VycmVudCl9LFNmLnByb3RvdHlwZS5Fbz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuY3VycmVudClyZXR1cm5bXTt2YXIgbj10aGlzLmhvO3RoaXMuaG89S3MoKSx0aGlzLmZvLmZvckVhY2goZnVuY3Rpb24odCl7ZS5Jbyh0LmtleSkmJihlLmhvPWUuaG8uYWRkKHQua2V5KSl9KTt2YXIgcj1bXTtyZXR1cm4gbi5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuaG8uaGFzKHQpfHxyLnB1c2gobmV3IGJmKHQpKX0pLHRoaXMuaG8uZm9yRWFjaChmdW5jdGlvbih0KXtuLmhhcyh0KXx8ci5wdXNoKG5ldyB2Zih0KSl9KSxyfSxTZi5wcm90b3R5cGUuQW89ZnVuY3Rpb24odCl7dGhpcy5hbz10LkJuLHRoaXMuaG89S3MoKTt0PXRoaXMuX28odC5kb2N1bWVudHMpO3JldHVybiB0aGlzLmFwcGx5Q2hhbmdlcyh0LCEwKX0sU2YucHJvdG90eXBlLlJvPWZ1bmN0aW9uKCl7cmV0dXJuIHRmLmZyb21Jbml0aWFsRG9jdW1lbnRzKHRoaXMucXVlcnksdGhpcy5mbyx0aGlzLm11dGF0ZWRLZXlzLDA9PT10aGlzLnVvKX0sU2YpLEVmPWZ1bmN0aW9uKHQsZSxuKXt0aGlzLnF1ZXJ5PXQsdGhpcy50YXJnZXRJZD1lLHRoaXMudmlldz1ufSxUZj1mdW5jdGlvbih0KXt0aGlzLmtleT10LHRoaXMuYm89ITF9LElmPShPYmplY3QuZGVmaW5lUHJvcGVydHkoX2YucHJvdG90eXBlLFwiaXNQcmltYXJ5Q2xpZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiEwPT09dGhpcy5Pb30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxfZik7ZnVuY3Rpb24gX2YodCxlLG4scixpLG8pe3RoaXMubG9jYWxTdG9yZT10LHRoaXMucmVtb3RlU3RvcmU9ZSx0aGlzLmV2ZW50TWFuYWdlcj1uLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGU9cix0aGlzLmN1cnJlbnRVc2VyPWksdGhpcy5tYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9ucz1vLHRoaXMudm89e30sdGhpcy5Qbz1uZXcgTmMoUm8sa28pLHRoaXMuVm89bmV3IE1hcCx0aGlzLlNvPW5ldyBTZXQsdGhpcy5Ebz1uZXcgRHMoYmkuY29tcGFyYXRvciksdGhpcy5Dbz1uZXcgTWFwLHRoaXMuTm89bmV3IGdoLHRoaXMueG89e30sdGhpcy5Gbz1uZXcgTWFwLHRoaXMua289dWMuWXQoKSx0aGlzLm9ubGluZVN0YXRlPVwiVW5rbm93blwiLHRoaXMuT289dm9pZCAwfWZ1bmN0aW9uIFNmKHQsZSl7dGhpcy5xdWVyeT10LHRoaXMuYW89ZSx0aGlzLnVvPW51bGwsdGhpcy5jdXJyZW50PSExLHRoaXMuaG89S3MoKSx0aGlzLm11dGF0ZWRLZXlzPUtzKCksdGhpcy5sbz1Mbyh0KSx0aGlzLmZvPW5ldyAkbCh0aGlzLmxvKX1mdW5jdGlvbiBBZihpLG8scyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBpLiRvPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8scyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKGU9aS52aWV3Ll9vKG8pKS5Obj9bNCxjaChyLmxvY2FsU3RvcmUsaS5xdWVyeSwhMSkudGhlbihmdW5jdGlvbih0KXt0PXQuZG9jdW1lbnRzO3JldHVybiBpLnZpZXcuX28odCxlKX0pXTpbMywyXTtjYXNlIDE6ZT10LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVybiBuPXMmJnMudGFyZ2V0Q2hhbmdlcy5nZXQoaS50YXJnZXRJZCksbj1pLnZpZXcuYXBwbHlDaGFuZ2VzKGUsci5pc1ByaW1hcnlDbGllbnQsbiksWzIsKE1mKHIsaS50YXJnZXRJZCxuLlRvKSxuLnNuYXBzaG90KV19fSl9KX0oaSx0LGUsbil9LFs0LGNoKGkubG9jYWxTdG9yZSxvLCEwKV07Y2FzZSAxOnJldHVybiBuPXQuc2VudCgpLHI9bmV3IHdmKG8sbi5CbiksZT1yLl9vKG4uZG9jdW1lbnRzKSxuPXpzLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZShzLGEmJlwiT2ZmbGluZVwiIT09aS5vbmxpbmVTdGF0ZSksbj1yLmFwcGx5Q2hhbmdlcyhlLGkuaXNQcmltYXJ5Q2xpZW50LG4pLE1mKGkscyxuLlRvKSxyPW5ldyBFZihvLHMsciksWzIsKGkuUG8uc2V0KG8sciksaS5Wby5oYXMocyk/aS5Wby5nZXQocykucHVzaChvKTppLlZvLnNldChzLFtvXSksbi5zbmFwc2hvdCldfX0pfSl9ZnVuY3Rpb24gTmYoZixkLHApe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzLGw7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmw9UWYoZiksdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsNSwsNl0pLFs0LChpPWwubG9jYWxTdG9yZSxhPWQsYz1pLGg9UXIubm93KCksbz1hLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LmFkZChlLmtleSl9LEtzKCkpLGMucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJMb2NhbGx5IHdyaXRlIG11dGF0aW9uc1wiLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24ocyl7cmV0dXJuIGMuTW4ucG4ocyxvKS5uZXh0KGZ1bmN0aW9uKHQpe3U9dDtmb3IodmFyIGU9W10sbj0wLHI9YTtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXSxvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPW51bGwscj0wLGk9dC5maWVsZFRyYW5zZm9ybXM7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl0scz1lLmRhdGEuZmllbGQoby5maWVsZCkscz1WbyhvLnRyYW5zZm9ybSxzfHxudWxsKTtudWxsIT1zJiYobj1udWxsPT1uP09pLmVtcHR5KCk6bikuc2V0KG8uZmllbGQscyl9cmV0dXJuIG58fG51bGx9KGksdS5nZXQoaS5rZXkpKTtudWxsIT1vJiZlLnB1c2gobmV3IGZzKGkua2V5LG8sZnVuY3Rpb24gcyh0KXt2YXIgYT1bXTtyZXR1cm4gWHIodC5maWVsZHN8fHt9LGZ1bmN0aW9uKHQsZSl7dmFyIG49bmV3IG5pKFt0XSk7aWYoeGkoZSkpaWYoMD09PShlPXMoZS5tYXBWYWx1ZSkuZmllbGRzKS5sZW5ndGgpYS5wdXNoKG4pO2Vsc2UgZm9yKHZhciByPTAsaT1lO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1pW3JdO2EucHVzaChuLmNoaWxkKG8pKX1lbHNlIGEucHVzaChuKX0pLG5ldyByaShhKX0oby50b1Byb3RvKCkubWFwVmFsdWUpLHJzLmV4aXN0cyghMCkpKX1yZXR1cm4gYy5fbi5hZGRNdXRhdGlvbkJhdGNoKHMsaCxlLGEpfSl9KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFwcGx5VG9Mb2NhbERvY3VtZW50U2V0KHUpLHtiYXRjaElkOnQuYmF0Y2hJZCxjaGFuZ2VzOnV9fSkpXTtjYXNlIDI6cmV0dXJuIHM9dC5zZW50KCksbC5zaGFyZWRDbGllbnRTdGF0ZS5hZGRQZW5kaW5nTXV0YXRpb24ocy5iYXRjaElkKSxlPWwsbj1zLmJhdGNoSWQscj1wLGk9KGk9KGk9ZS54b1tlLmN1cnJlbnRVc2VyLnRvS2V5KCldKXx8bmV3IERzKGpyKSkuaW5zZXJ0KG4sciksZS54b1tlLmN1cnJlbnRVc2VyLnRvS2V5KCldPWksWzQsVmYobCxzLmNoYW5nZXMpXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLFs0LGpsKGwucmVtb3RlU3RvcmUpXTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNTpyZXR1cm4gbD10LnNlbnQoKSxsPVhsKGwsXCJGYWlsZWQgdG8gcGVyc2lzdCB3cml0ZVwiKSxwLnJlamVjdChsKSxbMyw2XTtjYXNlIDY6cmV0dXJuWzJdfXZhciBlLG4scixpLGEsdSxjLGgsb30pfSl9ZnVuY3Rpb24gRGYocixpKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpuPXIsdC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsNCwsNl0pLFs0LG9oKG4ubG9jYWxTdG9yZSxpKV07Y2FzZSAyOnJldHVybiBlPXQuc2VudCgpLGkudGFyZ2V0Q2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7ZT1uLkNvLmdldChlKTtlJiYoVXIodC5hZGRlZERvY3VtZW50cy5zaXplK3QubW9kaWZpZWREb2N1bWVudHMuc2l6ZSt0LnJlbW92ZWREb2N1bWVudHMuc2l6ZTw9MSksMDx0LmFkZGVkRG9jdW1lbnRzLnNpemU/ZS5ibz0hMDowPHQubW9kaWZpZWREb2N1bWVudHMuc2l6ZT9VcihlLmJvKTowPHQucmVtb3ZlZERvY3VtZW50cy5zaXplJiYoVXIoZS5ibyksZS5ibz0hMSkpfSksWzQsVmYobixlLGkpXTtjYXNlIDM6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNDpyZXR1cm5bNCx5Yyh0LnNlbnQoKSldO2Nhc2UgNTpyZXR1cm4gdC5zZW50KCksWzMsNl07Y2FzZSA2OnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIENmKHQsbixlKXt2YXIgcix0PXQ7KHQuaXNQcmltYXJ5Q2xpZW50JiYwPT09ZXx8IXQuaXNQcmltYXJ5Q2xpZW50JiYxPT09ZSkmJihyPVtdLHQuUG8uZm9yRWFjaChmdW5jdGlvbih0LGUpe2U9ZS52aWV3LnpyKG4pO2Uuc25hcHNob3QmJnIucHVzaChlLnNuYXBzaG90KX0pLGZ1bmN0aW9uKHQsaSl7dC5vbmxpbmVTdGF0ZT1pO3ZhciBvPSExO3QucXVlcmllcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj1lLmxpc3RlbmVycztuPHIubGVuZ3RoO24rKylyW25dLnpyKGkpJiYobz0hMCl9KSxvJiZ1Zih0KX0odC5ldmVudE1hbmFnZXIsbiksci5sZW5ndGgmJnQudm8uX3IociksdC5vbmxpbmVTdGF0ZT1uLHQuaXNQcmltYXJ5Q2xpZW50JiZ0LnNoYXJlZENsaWVudFN0YXRlLnNldE9ubGluZVN0YXRlKG4pKX1mdW5jdGlvbiBrZihzLGEsdSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG4sbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6bj1zLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDQsLDZdKSxbNCwoZT1uLmxvY2FsU3RvcmUscj1hLChpPWUpLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiUmVqZWN0IGJhdGNoXCIsXCJyZWFkd3JpdGUtcHJpbWFyeVwiLGZ1bmN0aW9uKGUpe3ZhciBuO3JldHVybiBpLl9uLmxvb2t1cE11dGF0aW9uQmF0Y2goZSxyKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiBVcihudWxsIT09dCksbj10LmtleXMoKSxpLl9uLnJlbW92ZU11dGF0aW9uQmF0Y2goZSx0KX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaS5fbi5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjayhlKX0pLm5leHQoZnVuY3Rpb24oKXtyZXR1cm4gaS5Nbi5wbihlLG4pfSl9KSldO2Nhc2UgMjpyZXR1cm4gbz10LnNlbnQoKSxPZihuLGEsdSkseGYobixhKSxuLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZU11dGF0aW9uU3RhdGUoYSxcInJlamVjdGVkXCIsdSksWzQsVmYobixvKV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQseWModC5zZW50KCkpXTtjYXNlIDU6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19dmFyIGUscixpfSl9KX1mdW5jdGlvbiBSZihvLHMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6RmwoKG49bykucmVtb3RlU3RvcmUpfHxMcihcIlN5bmNFbmdpbmVcIixcIlRoZSBuZXR3b3JrIGlzIGRpc2FibGVkLiBUaGUgdGFzayByZXR1cm5lZCBieSAnYXdhaXRQZW5kaW5nV3JpdGVzKCknIHdpbGwgbm90IGNvbXBsZXRlIHVudGlsIHRoZSBuZXR3b3JrIGlzIGVuYWJsZWQuXCIpLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCwoZT1uLmxvY2FsU3RvcmUpLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IGhpZ2hlc3QgdW5hY2tub3dsZWRnZWQgYmF0Y2ggaWRcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24odCl7cmV0dXJuIGUuX24uZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZCh0KX0pXTtjYXNlIDI6cmV0dXJuLTE9PT0ocj10LnNlbnQoKSk/WzIsdm9pZCBzLnJlc29sdmUoKV06KChpPW4uRm8uZ2V0KHIpfHxbXSkucHVzaChzKSxuLkZvLnNldChyLGkpLFszLDRdKTtjYXNlIDM6cmV0dXJuIGk9dC5zZW50KCksaT1YbChpLFwiSW5pdGlhbGl6YXRpb24gb2Ygd2FpdEZvclBlbmRpbmdXcml0ZXMoKSBvcGVyYXRpb24gZmFpbGVkXCIpLHMucmVqZWN0KGkpLFszLDRdO2Nhc2UgNDpyZXR1cm5bMl19dmFyIGV9KX0pfWZ1bmN0aW9uIHhmKHQsZSl7KHQuRm8uZ2V0KGUpfHxbXSkuZm9yRWFjaChmdW5jdGlvbih0KXt0LnJlc29sdmUoKX0pLHQuRm8uZGVsZXRlKGUpfWZ1bmN0aW9uIE9mKHQsZSxuKXt2YXIgcj10LGk9ci54b1tyLmN1cnJlbnRVc2VyLnRvS2V5KCldO2kmJigodD1pLmdldChlKSkmJihuP3QucmVqZWN0KG4pOnQucmVzb2x2ZSgpLGk9aS5yZW1vdmUoZSkpLHIueG9bci5jdXJyZW50VXNlci50b0tleSgpXT1pKX1mdW5jdGlvbiBMZihlLHQsbil7dm9pZCAwPT09biYmKG49bnVsbCksZS5zaGFyZWRDbGllbnRTdGF0ZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KHQpO2Zvcih2YXIgcj0wLGk9ZS5Wby5nZXQodCk7cjxpLmxlbmd0aDtyKyspe3ZhciBvPWlbcl07ZS5Qby5kZWxldGUobyksbiYmZS52by5NbyhvLG4pfWUuVm8uZGVsZXRlKHQpLGUuaXNQcmltYXJ5Q2xpZW50JiZlLk5vLlpuKHQpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5Oby5jb250YWluc0tleSh0KXx8UGYoZSx0KX0pfWZ1bmN0aW9uIFBmKHQsZSl7dC5Tby5kZWxldGUoZS5wYXRoLmNhbm9uaWNhbFN0cmluZygpKTt2YXIgbj10LkRvLmdldChlKTtudWxsIT09biYmKHhsKHQucmVtb3RlU3RvcmUsbiksdC5Ebz10LkRvLnJlbW92ZShlKSx0LkNvLmRlbGV0ZShuKSxGZih0KSl9ZnVuY3Rpb24gTWYodCxlLG4pe2Zvcih2YXIgcixpLG8scz0wLGE9bjtzPGEubGVuZ3RoO3MrKyl7dmFyIHU9YVtzXTt1IGluc3RhbmNlb2YgdmY/KHQuTm8uYWRkUmVmZXJlbmNlKHUua2V5LGUpLHI9dCxvPXZvaWQgMCxpPShvPShpPXUpLmtleSkucGF0aC5jYW5vbmljYWxTdHJpbmcoKSxyLkRvLmdldChvKXx8ci5Tby5oYXMoaSl8fChMcihcIlN5bmNFbmdpbmVcIixcIk5ldyBkb2N1bWVudCBpbiBsaW1ibzogXCIrbyksci5Tby5hZGQoaSksRmYocikpKTp1IGluc3RhbmNlb2YgYmY/KExyKFwiU3luY0VuZ2luZVwiLFwiRG9jdW1lbnQgbm8gbG9uZ2VyIGluIGxpbWJvOiBcIit1LmtleSksdC5Oby5yZW1vdmVSZWZlcmVuY2UodS5rZXksZSksdC5Oby5jb250YWluc0tleSh1LmtleSl8fFBmKHQsdS5rZXkpKTpWcigpfX1mdW5jdGlvbiBGZih0KXtmb3IoOzA8dC5Tby5zaXplJiZ0LkRvLnNpemU8dC5tYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9uczspe3ZhciBlPXQuU28udmFsdWVzKCkubmV4dCgpLnZhbHVlO3QuU28uZGVsZXRlKGUpO3ZhciBuPW5ldyBiaSh0aS5mcm9tU3RyaW5nKGUpKSxlPXQua28ubmV4dCgpO3QuQ28uc2V0KGUsbmV3IFRmKG4pKSx0LkRvPXQuRG8uaW5zZXJ0KG4sZSksUmwodC5yZW1vdGVTdG9yZSxuZXcgU3UoRG8oRW8obi5wYXRoKSksZSwyLEFyLm8pKX19ZnVuY3Rpb24gVmYoZSxzLGEpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHIsaSxvO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcj1bXSxpPVtdLG89W10sKG49ZSkuUG8uaXNFbXB0eSgpP1szLDNdOihuLlBvLmZvckVhY2goZnVuY3Rpb24odCxlKXtvLnB1c2gobi4kbyhlLHMsYSkudGhlbihmdW5jdGlvbih0KXt0JiYobi5pc1ByaW1hcnlDbGllbnQmJm4uc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlUXVlcnlTdGF0ZShlLnRhcmdldElkLHQuZnJvbUNhY2hlP1wibm90LWN1cnJlbnRcIjpcImN1cnJlbnRcIiksci5wdXNoKHQpLHQ9V2MuUG4oZS50YXJnZXRJZCx0KSxpLnB1c2godCkpfSkpfSksWzQsUHJvbWlzZS5hbGwobyldKTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLG4udm8uX3IociksWzQsZnVuY3Rpb24odSxjKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixlLG4saSxvLHMsYTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cj11LHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIHQudHJ5cy5wdXNoKFsxLDMsLDRdKSxbNCxyLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwibm90aWZ5TG9jYWxWaWV3Q2hhbmdlc1wiLFwicmVhZHdyaXRlXCIsZnVuY3Rpb24obil7cmV0dXJuIG51LmZvckVhY2goYyxmdW5jdGlvbihlKXtyZXR1cm4gbnUuZm9yRWFjaChlLmJuLGZ1bmN0aW9uKHQpe3JldHVybiByLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLmFkZFJlZmVyZW5jZShuLGUudGFyZ2V0SWQsdCl9KS5uZXh0KGZ1bmN0aW9uKCl7cmV0dXJuIG51LmZvckVhY2goZS52bixmdW5jdGlvbih0KXtyZXR1cm4gci5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5yZW1vdmVSZWZlcmVuY2UobixlLnRhcmdldElkLHQpfSl9KX0pfSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzMsNF07Y2FzZSAzOmlmKCFkdShlPXQuc2VudCgpKSl0aHJvdyBlO3JldHVybiBMcihcIkxvY2FsU3RvcmVcIixcIkZhaWxlZCB0byB1cGRhdGUgc2VxdWVuY2UgbnVtYmVyczogXCIrZSksWzMsNF07Y2FzZSA0OmZvcihuPTAsaT1jO248aS5sZW5ndGg7bisrKWE9aVtuXSxvPWEudGFyZ2V0SWQsYS5mcm9tQ2FjaGV8fChzPXIuRm4uZ2V0KG8pLGE9cy5zbmFwc2hvdFZlcnNpb24sYT1zLndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKGEpLHIuRm49ci5Gbi5pbnNlcnQobyxhKSk7cmV0dXJuWzJdfX0pfSl9KG4ubG9jYWxTdG9yZSxpKV07Y2FzZSAyOnQuc2VudCgpLHQubGFiZWw9MztjYXNlIDM6cmV0dXJuWzJdfX0pfSl9ZnVuY3Rpb24gVWYoaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4obj1pKS5jdXJyZW50VXNlci5pc0VxdWFsKG8pP1szLDNdOihMcihcIlN5bmNFbmdpbmVcIixcIlVzZXIgY2hhbmdlLiBOZXcgdXNlcjpcIixvLnRvS2V5KCkpLFs0LG5oKG4ubG9jYWxTdG9yZSxvKV0pO2Nhc2UgMTpyZXR1cm4gcj10LnNlbnQoKSxuLmN1cnJlbnRVc2VyPW8sKGU9bikuRm8uZm9yRWFjaChmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dC5yZWplY3QobmV3IGtyKENyLkNBTkNFTExFRCxcIid3YWl0Rm9yUGVuZGluZ1dyaXRlcycgcHJvbWlzZSBpcyByZWplY3RlZCBkdWUgdG8gYSB1c2VyIGNoYW5nZS5cIikpfSl9KSxlLkZvLmNsZWFyKCksbi5zaGFyZWRDbGllbnRTdGF0ZS5oYW5kbGVVc2VyQ2hhbmdlKG8sci5yZW1vdmVkQmF0Y2hJZHMsci5hZGRlZEJhdGNoSWRzKSxbNCxWZihuLHIuTG4pXTtjYXNlIDI6dC5zZW50KCksdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19dmFyIGV9KX0pfWZ1bmN0aW9uIHFmKGEsdSxjLGgpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvLHM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LChlPShvPWEpLmxvY2FsU3RvcmUsbj11LGk9KHI9ZSkuX24sci5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkxvb2t1cCBtdXRhdGlvbiBkb2N1bWVudHNcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24oZSl7cmV0dXJuIGkuanQoZSxuKS5uZXh0KGZ1bmN0aW9uKHQpe3JldHVybiB0P3IuTW4ucG4oZSx0KTpudS5yZXNvbHZlKG51bGwpfSl9KSldO2Nhc2UgMTpyZXR1cm4gbnVsbD09PShzPXQuc2VudCgpKT9bMyw2XTpcInBlbmRpbmdcIiE9PWM/WzMsM106WzQsamwoby5yZW1vdGVTdG9yZSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksWzMsNF07Y2FzZSAzOlwiYWNrbm93bGVkZ2VkXCI9PT1jfHxcInJlamVjdGVkXCI9PT1jPyhPZihvLHUsaHx8bnVsbCkseGYobyx1KSxvLmxvY2FsU3RvcmUuX24uR3QodSkpOlZyKCksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bNCxWZihvLHMpXTtjYXNlIDU6cmV0dXJuIHQuc2VudCgpLFszLDddO2Nhc2UgNjpMcihcIlN5bmNFbmdpbmVcIixcIkNhbm5vdCBhcHBseSBtdXRhdGlvbiBiYXRjaCB3aXRoIGlkOiBcIit1KSx0LmxhYmVsPTc7Y2FzZSA3OnJldHVyblsyXX12YXIgZSxuLHIsaX0pfSl9ZnVuY3Rpb24gQmYoaCxsKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixlLGksbyxzLGEsdSxjO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gR2Yocj1oKSxRZihyKSwhMCE9PWx8fCEwPT09ci5Pbz9bMywzXTooZT1yLnNoYXJlZENsaWVudFN0YXRlLmdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cygpLFs0LGpmKHIsZS50b0FycmF5KCkpXSk7Y2FzZSAxOnJldHVybiBpPXQuc2VudCgpLHIuT289ITAsWzQsUWwoci5yZW1vdGVTdG9yZSwhMCldO2Nhc2UgMjpmb3IodC5zZW50KCksbz0wLHM9aTtvPHMubGVuZ3RoO28rKylhPXNbb10sUmwoci5yZW1vdGVTdG9yZSxhKTtyZXR1cm5bMyw3XTtjYXNlIDM6cmV0dXJuITEhPT1sfHwhMT09PXIuT28/WzMsN106KHU9W10sYz1Qcm9taXNlLnJlc29sdmUoKSxyLlZvLmZvckVhY2goZnVuY3Rpb24odCxlKXtyLnNoYXJlZENsaWVudFN0YXRlLmlzTG9jYWxRdWVyeVRhcmdldChlKT91LnB1c2goZSk6Yz1jLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gTGYocixlKSx1aChyLmxvY2FsU3RvcmUsZSwhMCl9KSx4bChyLnJlbW90ZVN0b3JlLGUpfSksWzQsY10pO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksWzQsamYocix1KV07Y2FzZSA1OnJldHVybiB0LnNlbnQoKSwobj1yKS5Dby5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7eGwobi5yZW1vdGVTdG9yZSxlKX0pLG4uTm8udHMoKSxuLkNvPW5ldyBNYXAsbi5Ebz1uZXcgRHMoYmkuY29tcGFyYXRvciksci5Pbz0hMSxbNCxRbChyLnJlbW90ZVN0b3JlLCExKV07Y2FzZSA2OnQuc2VudCgpLHQubGFiZWw9NztjYXNlIDc6cmV0dXJuWzJdfXZhciBufSl9KX1mdW5jdGlvbiBqZihkLHApe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scixpLG8scyxhLHUsYyxoLGwsZjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6ZT1kLG49W10scj1bXSxpPTAsbz1wLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGk8by5sZW5ndGg/KHM9b1tpXSxhPXZvaWQgMCwodT1lLlZvLmdldChzKSkmJjAhPT11Lmxlbmd0aD9bNCxhaChlLmxvY2FsU3RvcmUsRG8odVswXSkpXTpbMyw3XSk6WzMsMTNdO2Nhc2UgMjphPXQuc2VudCgpLGM9MCxoPXUsdC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gYzxoLmxlbmd0aD8obD1oW2NdLGw9ZS5Qby5nZXQobCksWzQsZnVuY3Rpb24ocixpKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxjaCgoZT1yKS5sb2NhbFN0b3JlLGkucXVlcnksITApXTtjYXNlIDE6cmV0dXJuIG49dC5zZW50KCksbj1pLnZpZXcuQW8obiksWzIsKGUuaXNQcmltYXJ5Q2xpZW50JiZNZihlLGkudGFyZ2V0SWQsbi5UbyksbildfX0pfSl9KGUsbCldKTpbMyw2XTtjYXNlIDQ6KGw9dC5zZW50KCkpLnNuYXBzaG90JiZyLnB1c2gobC5zbmFwc2hvdCksdC5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gYysrLFszLDNdO2Nhc2UgNjpyZXR1cm5bMywxMV07Y2FzZSA3OnJldHVybls0LGhoKGUubG9jYWxTdG9yZSxzKV07Y2FzZSA4OnJldHVybiBmPXQuc2VudCgpLFs0LGFoKGUubG9jYWxTdG9yZSxmKV07Y2FzZSA5OnJldHVybiBhPXQuc2VudCgpLFs0LEFmKGUsS2YoZikscywhMSldO2Nhc2UgMTA6dC5zZW50KCksdC5sYWJlbD0xMTtjYXNlIDExOm4ucHVzaChhKSx0LmxhYmVsPTEyO2Nhc2UgMTI6cmV0dXJuIGkrKyxbMywxXTtjYXNlIDEzOnJldHVyblsyLChlLnZvLl9yKHIpLG4pXX19KX0pfWZ1bmN0aW9uIEtmKHQpe3JldHVybiB3byh0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsdC5vcmRlckJ5LHQuZmlsdGVycyx0LmxpbWl0LFwiRlwiLHQuc3RhcnRBdCx0LmVuZEF0KX1mdW5jdGlvbiBHZih0KXtyZXR1cm4gdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIuYXBwbHlSZW1vdGVFdmVudD1EZi5iaW5kKG51bGwsdCksdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldD1mdW5jdGlvbih0LGUpe3ZhciBuPXQ7aWYoKHQ9bi5Dby5nZXQoZSkpJiZ0LmJvKXJldHVybiBLcygpLmFkZCh0LmtleSk7dmFyIHI9S3MoKTtpZighKGU9bi5Wby5nZXQoZSkpKXJldHVybiByO2Zvcih2YXIgaT0wLG89ZTtpPG8ubGVuZ3RoO2krKyl2YXIgcz1vW2ldLHM9bi5Qby5nZXQocykscj1yLnVuaW9uV2l0aChzLnZpZXcud28pO3JldHVybiByfS5iaW5kKG51bGwsdCksdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIucmVqZWN0TGlzdGVuPWZ1bmN0aW9uKG8scyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKGU9bykuc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlUXVlcnlTdGF0ZShzLFwicmVqZWN0ZWRcIixhKSxpPWUuQ28uZ2V0KHMpLChuPWkmJmkua2V5KT8ocj0ocj1uZXcgRHMoYmkuY29tcGFyYXRvcikpLmluc2VydChuLFBpLm5ld05vRG9jdW1lbnQobix6ci5taW4oKSkpLGk9S3MoKS5hZGQobiksaT1uZXcgUXMoenIubWluKCksbmV3IE1hcCxuZXcgUHMoanIpLHIsaSksWzQsRGYoZSxpKV0pOlszLDJdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksZS5Ebz1lLkRvLnJlbW92ZShuKSxlLkNvLmRlbGV0ZShzKSxGZihlKSxbMyw0XTtjYXNlIDI6cmV0dXJuWzQsdWgoZS5sb2NhbFN0b3JlLHMsITEpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gTGYoZSxzLGEpfSkuY2F0Y2goeWMpXTtjYXNlIDM6dC5zZW50KCksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0uYmluZChudWxsLHQpLHQudm8uX3I9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49dCxyPSExLGk9MCxvPWU7aTxvLmxlbmd0aDtpKyspe3ZhciBzPW9baV0sYT1zLnF1ZXJ5LGE9bi5xdWVyaWVzLmdldChhKTtpZihhKXtmb3IodmFyIHU9MCxjPWEubGlzdGVuZXJzO3U8Yy5sZW5ndGg7dSsrKWNbdV0uSHIocykmJihyPSEwKTthLldyPXN9fXImJnVmKG4pfS5iaW5kKG51bGwsdC5ldmVudE1hbmFnZXIpLHQudm8uTW89ZnVuY3Rpb24odCxlLG4pe3ZhciByPXQ7aWYodD1yLnF1ZXJpZXMuZ2V0KGUpKWZvcih2YXIgaT0wLG89dC5saXN0ZW5lcnM7aTxvLmxlbmd0aDtpKyspb1tpXS5vbkVycm9yKG4pO3IucXVlcmllcy5kZWxldGUoZSl9LmJpbmQobnVsbCx0LmV2ZW50TWFuYWdlciksdH1mdW5jdGlvbiBRZih0KXtyZXR1cm4gdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIuYXBwbHlTdWNjZXNzZnVsV3JpdGU9ZnVuY3Rpb24oaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmU9aSxuPW8uYmF0Y2guYmF0Y2hJZCx0LmxhYmVsPTE7Y2FzZSAxOnJldHVybiB0LnRyeXMucHVzaChbMSw0LCw2XSksWzQscmgoZS5sb2NhbFN0b3JlLG8pXTtjYXNlIDI6cmV0dXJuIHI9dC5zZW50KCksT2YoZSxuLG51bGwpLHhmKGUsbiksZS5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVNdXRhdGlvblN0YXRlKG4sXCJhY2tub3dsZWRnZWRcIiksWzQsVmYoZSxyKV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSxbMyw2XTtjYXNlIDQ6cmV0dXJuWzQseWModC5zZW50KCkpXTtjYXNlIDU6cmV0dXJuIHQuc2VudCgpLFszLDZdO2Nhc2UgNjpyZXR1cm5bMl19fSl9KX0uYmluZChudWxsLHQpLHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLnJlamVjdEZhaWxlZFdyaXRlPWtmLmJpbmQobnVsbCx0KSx0fWZ1bmN0aW9uIHpmKHQsZSxuKXt2YXIgcj10OyFmdW5jdGlvbihmLGQscCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGEsdSxjLGgsbDtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQudHJ5cy5wdXNoKFswLDE0LCwxNV0pLFs0LGQuZ2V0TWV0YWRhdGEoKV07Y2FzZSAxOnJldHVybiBhPXQuc2VudCgpLFs0LChyPWYubG9jYWxTdG9yZSxvPXIscz1jYSgoaT1hKS5jcmVhdGVUaW1lKSxvLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiaGFzTmV3ZXJCdW5kbGVcIixcInJlYWRvbmx5XCIsZnVuY3Rpb24odCl7cmV0dXJuIG8uUWUuZ2V0QnVuZGxlTWV0YWRhdGEodCxpLmlkKX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuISF0JiYwPD10LmNyZWF0ZVRpbWUuY29tcGFyZVRvKHMpfSkpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpP1s0LGQuY2xvc2UoKV06WzMsNF07Y2FzZSAzOnJldHVyblsyLCh0LnNlbnQoKSx2b2lkIHAuX2NvbXBsZXRlV2l0aCh7dGFza1N0YXRlOlwiU3VjY2Vzc1wiLGRvY3VtZW50c0xvYWRlZDphLnRvdGFsRG9jdW1lbnRzLGJ5dGVzTG9hZGVkOmEudG90YWxCeXRlcyx0b3RhbERvY3VtZW50czphLnRvdGFsRG9jdW1lbnRzLHRvdGFsQnl0ZXM6YS50b3RhbEJ5dGVzfSkpXTtjYXNlIDQ6cmV0dXJuIHAuX3VwZGF0ZVByb2dyZXNzKG1mKGEpKSx1PW5ldyBmZihhLGYubG9jYWxTdG9yZSxkLlIpLFs0LGQuTG8oKV07Y2FzZSA1OmM9dC5zZW50KCksdC5sYWJlbD02O2Nhc2UgNjpyZXR1cm4gYz9bNCx1Lm9vKGMpXTpbMywxMF07Y2FzZSA3OnJldHVybihoPXQuc2VudCgpKSYmcC5fdXBkYXRlUHJvZ3Jlc3MoaCksWzQsZC5MbygpXTtjYXNlIDg6Yz10LnNlbnQoKSx0LmxhYmVsPTk7Y2FzZSA5OnJldHVyblszLDZdO2Nhc2UgMTA6cmV0dXJuWzQsdS5jb21wbGV0ZSgpXTtjYXNlIDExOnJldHVybiBsPXQuc2VudCgpLFs0LFZmKGYsbC53bix2b2lkIDApXTtjYXNlIDEyOnJldHVybiB0LnNlbnQoKSxbNCwocj1mLmxvY2FsU3RvcmUsZT1hLChuPXIpLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiU2F2ZSBidW5kbGVcIixcInJlYWR3cml0ZVwiLGZ1bmN0aW9uKHQpe3JldHVybiBuLlFlLnNhdmVCdW5kbGVNZXRhZGF0YSh0LGUpfSkpXTtjYXNlIDEzOnJldHVybiB0LnNlbnQoKSxwLl9jb21wbGV0ZVdpdGgobC5wcm9ncmVzcyksWzMsMTVdO2Nhc2UgMTQ6cmV0dXJuIE1yKFwiU3luY0VuZ2luZVwiLFwiTG9hZGluZyBidW5kbGUgZmFpbGVkIHdpdGggXCIrKGw9dC5zZW50KCkpKSxwLl9mYWlsV2l0aChsKSxbMywxNV07Y2FzZSAxNTpyZXR1cm5bMl19dmFyIGUsbixyLGksbyxzfSl9KX0ocixlLG4pLnRoZW4oZnVuY3Rpb24oKXtyLnNoYXJlZENsaWVudFN0YXRlLm5vdGlmeUJ1bmRsZUxvYWRlZCgpfSl9dmFyIEhmLFdmLFlmPShuZC5wcm90b3R5cGUuaW5pdGlhbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuUj1kbChlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSx0aGlzLnNoYXJlZENsaWVudFN0YXRlPXRoaXMuQm8oZSksdGhpcy5wZXJzaXN0ZW5jZT10aGlzLnFvKGUpLFs0LHRoaXMucGVyc2lzdGVuY2Uuc3RhcnQoKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSx0aGlzLmdjU2NoZWR1bGVyPXRoaXMuVW8oZSksdGhpcy5sb2NhbFN0b3JlPXRoaXMuUW8oZSksWzJdfX0pfSl9LG5kLnByb3RvdHlwZS5Vbz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sbmQucHJvdG90eXBlLlFvPWZ1bmN0aW9uKHQpe3JldHVybiBlaCh0aGlzLnBlcnNpc3RlbmNlLG5ldyBZYyx0LmluaXRpYWxVc2VyLHRoaXMuUil9LG5kLnByb3RvdHlwZS5xbz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFRoKF9oLmJzLHRoaXMuUil9LG5kLnByb3RvdHlwZS5Cbz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEhofSxuZC5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmdjU2NoZWR1bGVyJiZ0aGlzLmdjU2NoZWR1bGVyLnN0b3AoKSxbNCx0aGlzLnNoYXJlZENsaWVudFN0YXRlLnNodXRkb3duKCldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQsdGhpcy5wZXJzaXN0ZW5jZS5zaHV0ZG93bigpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSxuZCksWGY9KG4oZWQsV2Y9WWYpLGVkLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxXZi5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQsZmgodGhpcy5sb2NhbFN0b3JlKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSxbNCx0aGlzLktvLmluaXRpYWxpemUodGhpcyxlKV07Y2FzZSAzOnJldHVybiB0LnNlbnQoKSxbNCxRZih0aGlzLktvLnN5bmNFbmdpbmUpXTtjYXNlIDQ6cmV0dXJuIHQuc2VudCgpLFs0LGpsKHRoaXMuS28ucmVtb3RlU3RvcmUpXTtjYXNlIDU6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfSxlZC5wcm90b3R5cGUuUW89ZnVuY3Rpb24odCl7cmV0dXJuIGVoKHRoaXMucGVyc2lzdGVuY2UsbmV3IFljLHQuaW5pdGlhbFVzZXIsdGhpcy5SKX0sZWQucHJvdG90eXBlLlVvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUuZ2FyYmFnZUNvbGxlY3RvcjtyZXR1cm4gbmV3IHZjKGUsdC5hc3luY1F1ZXVlKX0sZWQucHJvdG90eXBlLnFvPWZ1bmN0aW9uKHQpe3ZhciBlPVFjKHQuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQsdC5kYXRhYmFzZUluZm8ucGVyc2lzdGVuY2VLZXkpLG49dm9pZCAwIT09dGhpcy5jYWNoZVNpemVCeXRlcz8kdS53aXRoQ2FjaGVTaXplKHRoaXMuY2FjaGVTaXplQnl0ZXMpOiR1LkRFRkFVTFQ7cmV0dXJuIG5ldyBCYyh0aGlzLnN5bmNocm9uaXplVGFicyxlLHQuY2xpZW50SWQsbix0LmFzeW5jUXVldWUsbGwoKSxmbCgpLHRoaXMuUix0aGlzLnNoYXJlZENsaWVudFN0YXRlLCEhdGhpcy5mb3JjZU93bmVyc2hpcCl9LGVkLnByb3RvdHlwZS5Cbz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEhofSxlZCksSmY9KG4odGQsSGY9WGYpLHRkLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKHIpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG49dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsSGYucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLHIpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLGU9dGhpcy5Lby5zeW5jRW5naW5lLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgaW5zdGFuY2VvZiB6aD8odGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zeW5jRW5naW5lPXthaTpxZi5iaW5kKG51bGwsZSksdWk6ZnVuY3Rpb24oaSxvLHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4oZT1pKS5Pbz8oTHIoXCJTeW5jRW5naW5lXCIsXCJJZ25vcmluZyB1bmV4cGVjdGVkIHF1ZXJ5IHN0YXRlIG5vdGlmaWNhdGlvbi5cIiksWzMsOF0pOlszLDFdO2Nhc2UgMTppZighZS5Wby5oYXMobykpcmV0dXJuWzMsOF07c3dpdGNoKHMpe2Nhc2VcImN1cnJlbnRcIjpjYXNlXCJub3QtY3VycmVudFwiOnJldHVyblszLDJdO2Nhc2VcInJlamVjdGVkXCI6cmV0dXJuWzMsNV19cmV0dXJuWzMsN107Y2FzZSAyOnJldHVybls0LGxoKGUubG9jYWxTdG9yZSldO2Nhc2UgMzpyZXR1cm4gbj10LnNlbnQoKSxyPVFzLmNyZWF0ZVN5bnRoZXNpemVkUmVtb3RlRXZlbnRGb3JDdXJyZW50Q2hhbmdlKG8sXCJjdXJyZW50XCI9PT1zKSxbNCxWZihlLG4scildO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksWzMsOF07Y2FzZSA1OnJldHVybls0LHVoKGUubG9jYWxTdG9yZSxvLCEwKV07Y2FzZSA2OnJldHVybiB0LnNlbnQoKSxMZihlLG8sYSksWzMsOF07Y2FzZSA3OlZyKCksdC5sYWJlbD04O2Nhc2UgODpyZXR1cm5bMl19fSl9KX0uYmluZChudWxsLGUpLGhpOmZ1bmN0aW9uKGMsaCxsKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixlLHIsaSxvLHMsYSx1O3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZighKG49R2YoYykpLk9vKXJldHVyblszLDEwXTtlPTAscj1oLHQubGFiZWw9MTtjYXNlIDE6cmV0dXJuIGU8ci5sZW5ndGg/KHI9cltlXSxuLlZvLmhhcyhyKT8oTHIoXCJTeW5jRW5naW5lXCIsXCJBZGRpbmcgYW4gYWxyZWFkeSBhY3RpdmUgdGFyZ2V0IFwiK3IpLFszLDVdKTpbNCxoaChuLmxvY2FsU3RvcmUscildKTpbMyw2XTtjYXNlIDI6cmV0dXJuIGk9dC5zZW50KCksWzQsYWgobi5sb2NhbFN0b3JlLGkpXTtjYXNlIDM6cmV0dXJuIG89dC5zZW50KCksWzQsQWYobixLZihpKSxvLnRhcmdldElkLCExKV07Y2FzZSA0OnQuc2VudCgpLFJsKG4ucmVtb3RlU3RvcmUsbyksdC5sYWJlbD01O2Nhc2UgNTpyZXR1cm4gZSsrLFszLDFdO2Nhc2UgNjpzPWZ1bmN0aW9uKGUpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbi5Wby5oYXMoZSk/WzQsdWgobi5sb2NhbFN0b3JlLGUsITEpLnRoZW4oZnVuY3Rpb24oKXt4bChuLnJlbW90ZVN0b3JlLGUpLExmKG4sZSl9KS5jYXRjaCh5YyldOlszLDJdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0sYT0wLHU9bCx0LmxhYmVsPTc7Y2FzZSA3OnJldHVybiBhPHUubGVuZ3RoPyh1PXVbYV0sWzUscyh1KV0pOlszLDEwXTtjYXNlIDg6dC5zZW50KCksdC5sYWJlbD05O2Nhc2UgOTpyZXR1cm4gYSsrLFszLDddO2Nhc2UgMTA6cmV0dXJuWzJdfX0pfSl9LmJpbmQobnVsbCxlKSxmbjpmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2NhbFN0b3JlLnBlcnNpc3RlbmNlLmZuKCl9LmJpbmQobnVsbCxlKSxjaTpmdW5jdGlvbihuKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVyblsyLGxoKChlPW4pLmxvY2FsU3RvcmUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIFZmKGUsdCl9KV19KX0pfS5iaW5kKG51bGwsZSl9LFs0LHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUuc3RhcnQoKV0pOlszLDNdO2Nhc2UgMjp0LnNlbnQoKSx0LmxhYmVsPTM7Y2FzZSAzOnJldHVybls0LHRoaXMucGVyc2lzdGVuY2UuSGUoZnVuY3Rpb24oZSl7cmV0dXJuIHkobix2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LEJmKHRoaXMuS28uc3luY0VuZ2luZSxlKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSx0aGlzLmdjU2NoZWR1bGVyJiYoZSYmIXRoaXMuZ2NTY2hlZHVsZXIuc3RhcnRlZD90aGlzLmdjU2NoZWR1bGVyLnN0YXJ0KHRoaXMubG9jYWxTdG9yZSk6ZXx8dGhpcy5nY1NjaGVkdWxlci5zdG9wKCkpLFsyXX19KX0pfSldO2Nhc2UgNDpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9LHRkLnByb3RvdHlwZS5Cbz1mdW5jdGlvbih0KXt2YXIgZT1sbCgpO2lmKCF6aC55dChlKSl0aHJvdyBuZXcga3IoQ3IuVU5JTVBMRU1FTlRFRCxcIkluZGV4ZWREQiBwZXJzaXN0ZW5jZSBpcyBvbmx5IGF2YWlsYWJsZSBvbiBwbGF0Zm9ybXMgdGhhdCBzdXBwb3J0IExvY2FsU3RvcmFnZS5cIik7dmFyIG49UWModC5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCx0LmRhdGFiYXNlSW5mby5wZXJzaXN0ZW5jZUtleSk7cmV0dXJuIG5ldyB6aChlLHQuYXN5bmNRdWV1ZSxuLHQuY2xpZW50SWQsdC5pbml0aWFsVXNlcil9LHRkKSwkZj0oWmYucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24obixyKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5sb2NhbFN0b3JlP1szLDJdOih0aGlzLmxvY2FsU3RvcmU9bi5sb2NhbFN0b3JlLHRoaXMuc2hhcmVkQ2xpZW50U3RhdGU9bi5zaGFyZWRDbGllbnRTdGF0ZSx0aGlzLmRhdGFzdG9yZT10aGlzLmNyZWF0ZURhdGFzdG9yZShyKSx0aGlzLnJlbW90ZVN0b3JlPXRoaXMuY3JlYXRlUmVtb3RlU3RvcmUociksdGhpcy5ldmVudE1hbmFnZXI9dGhpcy5jcmVhdGVFdmVudE1hbmFnZXIociksdGhpcy5zeW5jRW5naW5lPXRoaXMuY3JlYXRlU3luY0VuZ2luZShyLCFuLnN5bmNocm9uaXplVGFicyksdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5vbmxpbmVTdGF0ZUhhbmRsZXI9ZnVuY3Rpb24odCl7cmV0dXJuIENmKGUuc3luY0VuZ2luZSx0LDEpfSx0aGlzLnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlPVVmLmJpbmQobnVsbCx0aGlzLnN5bmNFbmdpbmUpLFs0LFFsKHRoaXMucmVtb3RlU3RvcmUsdGhpcy5zeW5jRW5naW5lLmlzUHJpbWFyeUNsaWVudCldKTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMl19fSl9KX0sWmYucHJvdG90eXBlLmNyZWF0ZUV2ZW50TWFuYWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEpsfSxaZi5wcm90b3R5cGUuY3JlYXRlRGF0YXN0b3JlPWZ1bmN0aW9uKHQpe3ZhciBlPWRsKHQuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQpLG49KG49dC5kYXRhYmFzZUluZm8sbmV3ICRoKG4pKTtyZXR1cm4gdD10LmNyZWRlbnRpYWxzLG5ldyBFbCh0LG4sZSl9LFpmLnByb3RvdHlwZS5jcmVhdGVSZW1vdGVTdG9yZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5sb2NhbFN0b3JlLHI9dGhpcy5kYXRhc3RvcmUsaT10LmFzeW5jUXVldWUsbz1mdW5jdGlvbih0KXtyZXR1cm4gQ2YoZS5zeW5jRW5naW5lLHQsMCl9LHQ9bmV3KFloLnl0KCk/WWg6V2gpO3JldHVybiBuZXcgcGwobixyLGksbyx0KX0sWmYucHJvdG90eXBlLmNyZWF0ZVN5bmNFbmdpbmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24odCxlLG4scixpLG8scyl7bz1uZXcgSWYodCxlLG4scixpLG8pO3JldHVybiBzJiYoby5Pbz0hMCksb30odGhpcy5sb2NhbFN0b3JlLHRoaXMucmVtb3RlU3RvcmUsdGhpcy5ldmVudE1hbmFnZXIsdGhpcy5zaGFyZWRDbGllbnRTdGF0ZSx0LmluaXRpYWxVc2VyLHQubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnMsZSl9LFpmLnByb3RvdHlwZS50ZXJtaW5hdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPW4sTHIoXCJSZW1vdGVTdG9yZVwiLFwiUmVtb3RlU3RvcmUgc2h1dHRpbmcgZG93bi5cIiksZS4kci5hZGQoNSksWzQsa2woZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksZS5Mci5zaHV0ZG93bigpLGUuQnIuc2V0KFwiVW5rbm93blwiKSxbMl19fSl9KX0odGhpcy5yZW1vdGVTdG9yZSl9LFpmKTtmdW5jdGlvbiBaZigpe31mdW5jdGlvbiB0ZCh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49SGYuY2FsbCh0aGlzLHQsZSwhMSl8fHRoaXMpLktvPXQsbi5jYWNoZVNpemVCeXRlcz1lLG4uc3luY2hyb25pemVUYWJzPSEwLG59ZnVuY3Rpb24gZWQodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9V2YuY2FsbCh0aGlzKXx8dGhpcykuS289dCxyLmNhY2hlU2l6ZUJ5dGVzPWUsci5mb3JjZU93bmVyc2hpcD1uLHIuc3luY2hyb25pemVUYWJzPSExLHJ9ZnVuY3Rpb24gbmQoKXt0aGlzLnN5bmNocm9uaXplVGFicz0hMX1mdW5jdGlvbiByZChuLHIpe3ZvaWQgMD09PXImJihyPTEwMjQwKTt2YXIgaT0wO3JldHVybntyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gaTxuLmJ5dGVMZW5ndGg/KGU9e3ZhbHVlOm4uc2xpY2UoaSxpK3IpLGRvbmU6ITF9LFsyLChpKz1yLGUpXSk6WzIse2RvbmU6ITB9XX0pfSl9LGNhbmNlbDpmdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuWzJdfSl9KX0scmVsZWFzZUxvY2s6ZnVuY3Rpb24oKXt9LGNsb3NlZDpQcm9taXNlLnJlamVjdChcInVuaW1wbGVtZW50ZWRcIil9fXZhciBpZD0oZGQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7dGhpcy5vYnNlcnZlci5uZXh0JiZ0aGlzLmpvKHRoaXMub2JzZXJ2ZXIubmV4dCx0KX0sZGQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe3RoaXMub2JzZXJ2ZXIuZXJyb3I/dGhpcy5qbyh0aGlzLm9ic2VydmVyLmVycm9yLHQpOmNvbnNvbGUuZXJyb3IoXCJVbmNhdWdodCBFcnJvciBpbiBzbmFwc2hvdCBsaXN0ZW5lcjpcIix0KX0sZGQucHJvdG90eXBlLldvPWZ1bmN0aW9uKCl7dGhpcy5tdXRlZD0hMH0sZGQucHJvdG90eXBlLmpvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpczt0aGlzLm11dGVkfHxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5tdXRlZHx8dChlKX0sMCl9LGRkKSxvZD0oZmQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuR28uY2FuY2VsKCl9LGZkLnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuWzIsdGhpcy5tZXRhZGF0YS5wcm9taXNlXX0pfSl9LGZkLnByb3RvdHlwZS5Mbz1mdW5jdGlvbigpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldE1ldGFkYXRhKCldO2Nhc2UgMTpyZXR1cm5bMiwodC5zZW50KCksdGhpcy5IbygpKV19fSl9KX0sZmQucHJvdG90eXBlLkhvPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLkpvKCldO2Nhc2UgMTpyZXR1cm4gbnVsbD09PShlPXQuc2VudCgpKT9bMixudWxsXToocj10aGlzLnpvLmRlY29kZShlKSxuPU51bWJlcihyKSxpc05hTihuKSYmdGhpcy5ZbyhcImxlbmd0aCBzdHJpbmcgKFwiK3IrXCIpIGlzIG5vdCB2YWxpZCBudW1iZXJcIiksWzQsdGhpcy5YbyhuKV0pO2Nhc2UgMjpyZXR1cm4gcj10LnNlbnQoKSxbMixuZXcgaGYoSlNPTi5wYXJzZShyKSxlLmxlbmd0aCtuKV19fSl9KX0sZmQucHJvdG90eXBlLlpvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVmZmVyLmZpbmRJbmRleChmdW5jdGlvbih0KXtyZXR1cm4gdD09PVwie1wiLmNoYXJDb2RlQXQoMCl9KX0sZmQucHJvdG90eXBlLkpvPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuWm8oKTwwP1s0LHRoaXMudGMoKV06WzMsM107Y2FzZSAxOmlmKHQuc2VudCgpKXJldHVyblszLDNdO3QubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzMsMF07Y2FzZSAzOnJldHVybiAwPT09dGhpcy5idWZmZXIubGVuZ3RoP1syLG51bGxdOigoZT10aGlzLlpvKCkpPDAmJnRoaXMuWW8oXCJSZWFjaGVkIHRoZSBlbmQgb2YgYnVuZGxlIHdoZW4gYSBsZW5ndGggc3RyaW5nIGlzIGV4cGVjdGVkLlwiKSxuPXRoaXMuYnVmZmVyLnNsaWNlKDAsZSksWzIsKHRoaXMuYnVmZmVyPXRoaXMuYnVmZmVyLnNsaWNlKGUpLG4pXSl9fSl9KX0sZmQucHJvdG90eXBlLlhvPWZ1bmN0aW9uKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoPG4/WzQsdGhpcy50YygpXTpbMywzXTtjYXNlIDE6dC5zZW50KCkmJnRoaXMuWW8oXCJSZWFjaGVkIHRoZSBlbmQgb2YgYnVuZGxlIHdoZW4gbW9yZSBpcyBleHBlY3RlZC5cIiksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMywwXTtjYXNlIDM6cmV0dXJuIGU9dGhpcy56by5kZWNvZGUodGhpcy5idWZmZXIuc2xpY2UoMCxuKSksWzIsKHRoaXMuYnVmZmVyPXRoaXMuYnVmZmVyLnNsaWNlKG4pLGUpXX19KX0pfSxmZC5wcm90b3R5cGUuWW89ZnVuY3Rpb24odCl7dGhyb3cgdGhpcy5Hby5jYW5jZWwoKSxuZXcgRXJyb3IoXCJJbnZhbGlkIGJ1bmRsZSBmb3JtYXQ6IFwiK3QpfSxmZC5wcm90b3R5cGUudGM9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLkdvLnJlYWQoKV07Y2FzZSAxOnJldHVybihlPXQuc2VudCgpKS5kb25lfHwoKG49bmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIubGVuZ3RoK2UudmFsdWUubGVuZ3RoKSkuc2V0KHRoaXMuYnVmZmVyKSxuLnNldChlLnZhbHVlLHRoaXMuYnVmZmVyLmxlbmd0aCksdGhpcy5idWZmZXI9biksWzIsZS5kb25lXX19KX0pfSxmZCksc2Q9KGxkLnByb3RvdHlwZS5sb29rdXA9ZnVuY3Rpb24ocil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZih0aGlzLmVuc3VyZUNvbW1pdE5vdENhbGxlZCgpLDA8dGhpcy5tdXRhdGlvbnMubGVuZ3RoKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiRmlyZXN0b3JlIHRyYW5zYWN0aW9ucyByZXF1aXJlIGFsbCByZWFkcyB0byBiZSBleGVjdXRlZCBiZWZvcmUgYWxsIHdyaXRlcy5cIik7cmV0dXJuWzQsZnVuY3Rpb24ocyxhKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbixlLHIsaSxvO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1nYSgobj1zKS5SKStcIi9kb2N1bWVudHNcIixyPXtkb2N1bWVudHM6YS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGZhKG4uUix0KX0pfSxbNCxuLk9pKFwiQmF0Y2hHZXREb2N1bWVudHNcIixlLHIpXTtjYXNlIDE6cmV0dXJuIHI9dC5zZW50KCksaT1uZXcgTWFwLHIuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZSx0PShlPW4uUixcImZvdW5kXCJpbih0PXQpP2Z1bmN0aW9uKHQsZSl7VXIoISFlLmZvdW5kKSxlLmZvdW5kLm5hbWUsZS5mb3VuZC51cGRhdGVUaW1lO3ZhciBuPWRhKHQsZS5mb3VuZC5uYW1lKSx0PWNhKGUuZm91bmQudXBkYXRlVGltZSksZT1uZXcgT2koe21hcFZhbHVlOntmaWVsZHM6ZS5mb3VuZC5maWVsZHN9fSk7cmV0dXJuIFBpLm5ld0ZvdW5kRG9jdW1lbnQobix0LGUpfShlLHQpOlwibWlzc2luZ1wiaW4gdD9mdW5jdGlvbih0LGUpe1VyKCEhZS5taXNzaW5nKSxVcighIWUucmVhZFRpbWUpO3Q9ZGEodCxlLm1pc3NpbmcpLGU9Y2EoZS5yZWFkVGltZSk7cmV0dXJuIFBpLm5ld05vRG9jdW1lbnQodCxlKX0oZSx0KTpWcigpKTtpLnNldCh0LmtleS50b1N0cmluZygpLHQpfSksbz1bXSxbMiwoYS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Q9aS5nZXQodC50b1N0cmluZygpKTtVcighIXQpLG8ucHVzaCh0KX0pLG8pXX19KX0pfSh0aGlzLmRhdGFzdG9yZSxyKV07Y2FzZSAxOnJldHVyblsyLCgoZT10LnNlbnQoKSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5yZWNvcmRWZXJzaW9uKHQpfSksZSldfX0pfSl9LGxkLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlKXt0aGlzLndyaXRlKGUudG9NdXRhdGlvbih0LHRoaXMucHJlY29uZGl0aW9uKHQpKSksdGhpcy53cml0dGVuRG9jcy5hZGQodC50b1N0cmluZygpKX0sbGQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUpe3RyeXt0aGlzLndyaXRlKGUudG9NdXRhdGlvbih0LHRoaXMucHJlY29uZGl0aW9uRm9yVXBkYXRlKHQpKSl9Y2F0Y2godCl7dGhpcy5sYXN0V3JpdGVFcnJvcj10fXRoaXMud3JpdHRlbkRvY3MuYWRkKHQudG9TdHJpbmcoKSl9LGxkLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dGhpcy53cml0ZShuZXcgVHModCx0aGlzLnByZWNvbmRpdGlvbih0KSkpLHRoaXMud3JpdHRlbkRvY3MuYWRkKHQudG9TdHJpbmcoKSl9LGxkLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuPXRoaXM7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOmlmKHRoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksdGhpcy5sYXN0V3JpdGVFcnJvcil0aHJvdyB0aGlzLmxhc3RXcml0ZUVycm9yO3JldHVybiBlPXRoaXMucmVhZFZlcnNpb25zLHRoaXMubXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24odCl7ZS5kZWxldGUodC5rZXkudG9TdHJpbmcoKSl9KSxlLmZvckVhY2goZnVuY3Rpb24odCxlKXtlPWJpLmZyb21QYXRoKGUpO24ubXV0YXRpb25zLnB1c2gobmV3IElzKGUsbi5wcmVjb25kaXRpb24oZSkpKX0pLFs0LGZ1bmN0aW9uKGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj1nYSgoZT1pKS5SKStcIi9kb2N1bWVudHNcIixyPXt3cml0ZXM6by5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHdhKGUuUix0KX0pfSxbNCxlLk5pKFwiQ29tbWl0XCIsbixyKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbMl19fSl9KX0odGhpcy5kYXRhc3RvcmUsdGhpcy5tdXRhdGlvbnMpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMuY29tbWl0dGVkPSEwLFsyXX19KX0pfSxsZC5wcm90b3R5cGUucmVjb3JkVmVyc2lvbj1mdW5jdGlvbih0KXt2YXIgZTtpZih0LmlzRm91bmREb2N1bWVudCgpKWU9dC52ZXJzaW9uO2Vsc2V7aWYoIXQuaXNOb0RvY3VtZW50KCkpdGhyb3cgVnIoKTtlPXpyLm1pbigpfXZhciBuPXRoaXMucmVhZFZlcnNpb25zLmdldCh0LmtleS50b1N0cmluZygpKTtpZihuKXtpZighZS5pc0VxdWFsKG4pKXRocm93IG5ldyBrcihDci5BQk9SVEVELFwiRG9jdW1lbnQgdmVyc2lvbiBjaGFuZ2VkIGJldHdlZW4gdHdvIHJlYWRzLlwiKX1lbHNlIHRoaXMucmVhZFZlcnNpb25zLnNldCh0LmtleS50b1N0cmluZygpLGUpfSxsZC5wcm90b3R5cGUucHJlY29uZGl0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVhZFZlcnNpb25zLmdldCh0LnRvU3RyaW5nKCkpO3JldHVybiF0aGlzLndyaXR0ZW5Eb2NzLmhhcyh0LnRvU3RyaW5nKCkpJiZlP3JzLnVwZGF0ZVRpbWUoZSk6cnMubm9uZSgpfSxsZC5wcm90b3R5cGUucHJlY29uZGl0aW9uRm9yVXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucmVhZFZlcnNpb25zLmdldCh0LnRvU3RyaW5nKCkpO2lmKHRoaXMud3JpdHRlbkRvY3MuaGFzKHQudG9TdHJpbmcoKSl8fCFlKXJldHVybiBycy5leGlzdHMoITApO2lmKGUuaXNFcXVhbCh6ci5taW4oKSkpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJDYW4ndCB1cGRhdGUgYSBkb2N1bWVudCB0aGF0IGRvZXNuJ3QgZXhpc3QuXCIpO3JldHVybiBycy51cGRhdGVUaW1lKGUpfSxsZC5wcm90b3R5cGUud3JpdGU9ZnVuY3Rpb24odCl7dGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSx0aGlzLm11dGF0aW9ucy5wdXNoKHQpfSxsZC5wcm90b3R5cGUuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkPWZ1bmN0aW9uKCl7fSxsZCksYWQ9KGhkLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLm5jKCl9LGhkLnByb3RvdHlwZS5uYz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5aaS5qaShmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGU9bmV3IHNkKHRoaXMuZGF0YXN0b3JlKSwobj10aGlzLnNjKGUpKSYmbi50aGVuKGZ1bmN0aW9uKHQpe3IuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUuY29tbWl0KCkudGhlbihmdW5jdGlvbigpe3IuZGVmZXJyZWQucmVzb2x2ZSh0KX0pLmNhdGNoKGZ1bmN0aW9uKHQpe3IuaWModCl9KX0pfSkuY2F0Y2goZnVuY3Rpb24odCl7ci5pYyh0KX0pLFsyXX0pfSl9KX0saGQucHJvdG90eXBlLnNjPWZ1bmN0aW9uKHQpe3RyeXt2YXIgZT10aGlzLnVwZGF0ZUZ1bmN0aW9uKHQpO3JldHVybiFnaShlKSYmZS5jYXRjaCYmZS50aGVuP2U6KHRoaXMuZGVmZXJyZWQucmVqZWN0KEVycm9yKFwiVHJhbnNhY3Rpb24gY2FsbGJhY2sgbXVzdCByZXR1cm4gYSBQcm9taXNlXCIpKSxudWxsKX1jYXRjaCh0KXtyZXR1cm4gdGhpcy5kZWZlcnJlZC5yZWplY3QodCksbnVsbH19LGhkLnByb3RvdHlwZS5pYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzOzA8dGhpcy5lYyYmdGhpcy5yYyh0KT8oLS10aGlzLmVjLHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUubmMoKSxQcm9taXNlLnJlc29sdmUoKX0pKTp0aGlzLmRlZmVycmVkLnJlamVjdCh0KX0saGQucHJvdG90eXBlLnJjPWZ1bmN0aW9uKHQpe2lmKFwiRmlyZWJhc2VFcnJvclwiIT09dC5uYW1lKXJldHVybiExO3Q9dC5jb2RlO3JldHVyblwiYWJvcnRlZFwiPT09dHx8XCJmYWlsZWQtcHJlY29uZGl0aW9uXCI9PT10fHwhQXModCl9LGhkKSx1ZD0oY2QucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVyblsyLHthc3luY1F1ZXVlOnRoaXMuYXN5bmNRdWV1ZSxkYXRhYmFzZUluZm86dGhpcy5kYXRhYmFzZUluZm8sY2xpZW50SWQ6dGhpcy5jbGllbnRJZCxjcmVkZW50aWFsczp0aGlzLmNyZWRlbnRpYWxzLGluaXRpYWxVc2VyOnRoaXMudXNlcixtYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9uczoxMDB9XX0pfSl9LGNkLnByb3RvdHlwZS5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24odCl7dGhpcy5jcmVkZW50aWFsTGlzdGVuZXI9dH0sY2QucHJvdG90eXBlLnZlcmlmeU5vdFRlcm1pbmF0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLmFzeW5jUXVldWUuaXNTaHV0dGluZ0Rvd24pdGhyb3cgbmV3IGtyKENyLkZBSUxFRF9QUkVDT05ESVRJT04sXCJUaGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gdGVybWluYXRlZC5cIil9LGNkLnByb3RvdHlwZS50ZXJtaW5hdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuYXN5bmNRdWV1ZS5lbnRlclJlc3RyaWN0ZWRNb2RlKCk7dmFyIG49bmV3IGV1O3JldHVybiB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldEV2ZW5XaGlsZVJlc3RyaWN0ZWQoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQudHJ5cy5wdXNoKFswLDUsLDZdKSx0aGlzLm9ubGluZUNvbXBvbmVudHM/WzQsdGhpcy5vbmxpbmVDb21wb25lbnRzLnRlcm1pbmF0ZSgpXTpbMywyXTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gdGhpcy5vZmZsaW5lQ29tcG9uZW50cz9bNCx0aGlzLm9mZmxpbmVDb21wb25lbnRzLnRlcm1pbmF0ZSgpXTpbMyw0XTtjYXNlIDM6dC5zZW50KCksdC5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdGhpcy5jcmVkZW50aWFscy5yZW1vdmVDaGFuZ2VMaXN0ZW5lcigpLG4ucmVzb2x2ZSgpLFszLDZdO2Nhc2UgNTpyZXR1cm4gZT10LnNlbnQoKSxlPVhsKGUsXCJGYWlsZWQgdG8gc2h1dGRvd24gcGVyc2lzdGVuY2VcIiksbi5yZWplY3QoZSksWzMsNl07Y2FzZSA2OnJldHVyblsyXX19KX0pfSksbi5wcm9taXNlfSxjZCk7ZnVuY3Rpb24gY2QodCxlLG4pe3ZhciByPXRoaXM7dGhpcy5jcmVkZW50aWFscz10LHRoaXMuYXN5bmNRdWV1ZT1lLHRoaXMuZGF0YWJhc2VJbmZvPW4sdGhpcy51c2VyPVNoLlVOQVVUSEVOVElDQVRFRCx0aGlzLmNsaWVudElkPXFyLnUoKSx0aGlzLmNyZWRlbnRpYWxMaXN0ZW5lcj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0sdGhpcy5jcmVkZW50aWFscy5zZXRDaGFuZ2VMaXN0ZW5lcihlLGZ1bmN0aW9uKGUpe3JldHVybiB5KHIsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gTHIoXCJGaXJlc3RvcmVDbGllbnRcIixcIlJlY2VpdmVkIHVzZXI9XCIsZS51aWQpLFs0LHRoaXMuY3JlZGVudGlhbExpc3RlbmVyKGUpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLHRoaXMudXNlcj1lLFsyXX19KX0pfSl9ZnVuY3Rpb24gaGQodCxlLG4scil7dGhpcy5hc3luY1F1ZXVlPXQsdGhpcy5kYXRhc3RvcmU9ZSx0aGlzLnVwZGF0ZUZ1bmN0aW9uPW4sdGhpcy5kZWZlcnJlZD1yLHRoaXMuZWM9NSx0aGlzLlppPW5ldyB2bCh0aGlzLmFzeW5jUXVldWUsXCJ0cmFuc2FjdGlvbl9yZXRyeVwiKX1mdW5jdGlvbiBsZCh0KXt0aGlzLmRhdGFzdG9yZT10LHRoaXMucmVhZFZlcnNpb25zPW5ldyBNYXAsdGhpcy5tdXRhdGlvbnM9W10sdGhpcy5jb21taXR0ZWQ9ITEsdGhpcy5sYXN0V3JpdGVFcnJvcj1udWxsLHRoaXMud3JpdHRlbkRvY3M9bmV3IFNldH1mdW5jdGlvbiBmZCh0LGUpe3ZhciBuPXRoaXM7dGhpcy5Hbz10LHRoaXMuUj1lLHRoaXMubWV0YWRhdGE9bmV3IGV1LHRoaXMuYnVmZmVyPW5ldyBVaW50OEFycmF5LHRoaXMuem89bmV3IFRleHREZWNvZGVyKFwidXRmLThcIiksdGhpcy5IbygpLnRoZW4oZnVuY3Rpb24odCl7dCYmdC5pbygpP24ubWV0YWRhdGEucmVzb2x2ZSh0LnBheWxvYWQubWV0YWRhdGEpOm4ubWV0YWRhdGEucmVqZWN0KG5ldyBFcnJvcihcIlRoZSBmaXJzdCBlbGVtZW50IG9mIHRoZSBidW5kbGUgaXMgbm90IGEgbWV0YWRhdGEsIGl0IGlzXFxuICAgICAgICAgICAgIFwiK0pTT04uc3RyaW5naWZ5KG51bGw9PXQ/dm9pZCAwOnQucGF5bG9hZCkpKX0sZnVuY3Rpb24odCl7cmV0dXJuIG4ubWV0YWRhdGEucmVqZWN0KHQpfSl9ZnVuY3Rpb24gZGQodCl7dGhpcy5vYnNlcnZlcj10LHRoaXMubXV0ZWQ9ITF9ZnVuY3Rpb24gcGQoaSxvKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuLHI9dGhpcztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGkuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksTHIoXCJGaXJlc3RvcmVDbGllbnRcIixcIkluaXRpYWxpemluZyBPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXJcIiksWzQsaS5nZXRDb25maWd1cmF0aW9uKCldO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSxbNCxvLmluaXRpYWxpemUoZSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksbj1lLmluaXRpYWxVc2VyLGkuc2V0Q3JlZGVudGlhbENoYW5nZUxpc3RlbmVyKGZ1bmN0aW9uKGUpe3JldHVybiB5KHIsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbi5pc0VxdWFsKGUpP1szLDJdOls0LG5oKG8ubG9jYWxTdG9yZSxlKV07Y2FzZSAxOnQuc2VudCgpLG49ZSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyXX19KX0pfSksby5wZXJzaXN0ZW5jZS5zZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lcihmdW5jdGlvbigpe3JldHVybiBpLnRlcm1pbmF0ZSgpfSksaS5vZmZsaW5lQ29tcG9uZW50cz1vLFsyXX19KX0pfWZ1bmN0aW9uIHlkKHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHIuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksWzQsZ2QocildO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSxMcihcIkZpcmVzdG9yZUNsaWVudFwiLFwiSW5pdGlhbGl6aW5nIE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLFs0LHIuZ2V0Q29uZmlndXJhdGlvbigpXTtjYXNlIDI6cmV0dXJuIG49dC5zZW50KCksWzQsaS5pbml0aWFsaXplKGUsbildO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksci5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHIsaSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuKGU9cikuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksTHIoXCJSZW1vdGVTdG9yZVwiLFwiUmVtb3RlU3RvcmUgcmVjZWl2ZWQgbmV3IGNyZWRlbnRpYWxzXCIpLG49RmwoZSksZS4kci5hZGQoMyksWzQsa2woZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksbiYmZS5Cci5zZXQoXCJVbmtub3duXCIpLFs0LGUucmVtb3RlU3luY2VyLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UoaSldO2Nhc2UgMjpyZXR1cm4gdC5zZW50KCksZS4kci5kZWxldGUoMyksWzQsQ2woZSldO2Nhc2UgMzpyZXR1cm4gdC5zZW50KCksWzJdfX0pfSl9KGkucmVtb3RlU3RvcmUsdCl9KSxyLm9ubGluZUNvbXBvbmVudHM9aSxbMl19fSl9KX1mdW5jdGlvbiBnZChlKXtyZXR1cm4geSh0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGUub2ZmbGluZUNvbXBvbmVudHM/WzMsMl06KExyKFwiRmlyZXN0b3JlQ2xpZW50XCIsXCJVc2luZyBkZWZhdWx0IE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKSxbNCxwZChlLG5ldyBZZildKTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMixlLm9mZmxpbmVDb21wb25lbnRzXX19KX0pfWZ1bmN0aW9uIG1kKGUpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZS5vbmxpbmVDb21wb25lbnRzP1szLDJdOihMcihcIkZpcmVzdG9yZUNsaWVudFwiLFwiVXNpbmcgZGVmYXVsdCBPbmxpbmVDb21wb25lbnRQcm92aWRlclwiKSxbNCx5ZChlLG5ldyAkZildKTtjYXNlIDE6dC5zZW50KCksdC5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bMixlLm9ubGluZUNvbXBvbmVudHNdfX0pfSl9ZnVuY3Rpb24gdmQodCl7cmV0dXJuIGdkKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQucGVyc2lzdGVuY2V9KX1mdW5jdGlvbiBiZCh0KXtyZXR1cm4gZ2QodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2NhbFN0b3JlfSl9ZnVuY3Rpb24gd2QodCl7cmV0dXJuIG1kKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQucmVtb3RlU3RvcmV9KX1mdW5jdGlvbiBFZCh0KXtyZXR1cm4gbWQodCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5zeW5jRW5naW5lfSl9ZnVuY3Rpb24gVGQocil7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsbWQocildO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSxbMiwoKG49ZS5ldmVudE1hbmFnZXIpLm9uTGlzdGVuPWZ1bmN0aW9uKHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyLGksbztyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9R2YocyksKG89ZS5Qby5nZXQoYSkpPyhuPW8udGFyZ2V0SWQsZS5zaGFyZWRDbGllbnRTdGF0ZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0KG4pLHI9by52aWV3LlJvKCksWzMsNF0pOlszLDFdO2Nhc2UgMTpyZXR1cm5bNCxhaChlLmxvY2FsU3RvcmUsRG8oYSkpXTtjYXNlIDI6cmV0dXJuIGk9dC5zZW50KCksbz1lLnNoYXJlZENsaWVudFN0YXRlLmFkZExvY2FsUXVlcnlUYXJnZXQoaS50YXJnZXRJZCksbj1pLnRhcmdldElkLFs0LEFmKGUsYSxuLFwiY3VycmVudFwiPT09byldO2Nhc2UgMzpyPXQuc2VudCgpLGUuaXNQcmltYXJ5Q2xpZW50JiZSbChlLnJlbW90ZVN0b3JlLGkpLHQubGFiZWw9NDtjYXNlIDQ6cmV0dXJuWzIscl19fSl9KX0uYmluZChudWxsLGUuc3luY0VuZ2luZSksbi5vblVubGlzdGVuPWZ1bmN0aW9uKGksbyl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbixyO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbj0oZT1pKS5Qby5nZXQobyksMTwocj1lLlZvLmdldChuLnRhcmdldElkKSkubGVuZ3RoP1syLChlLlZvLnNldChuLnRhcmdldElkLHIuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFrbyh0LG8pfSkpLHZvaWQgZS5Qby5kZWxldGUobykpXTplLmlzUHJpbWFyeUNsaWVudD8oZS5zaGFyZWRDbGllbnRTdGF0ZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KG4udGFyZ2V0SWQpLGUuc2hhcmVkQ2xpZW50U3RhdGUuaXNBY3RpdmVRdWVyeVRhcmdldChuLnRhcmdldElkKT9bMywyXTpbNCx1aChlLmxvY2FsU3RvcmUsbi50YXJnZXRJZCwhMSkudGhlbihmdW5jdGlvbigpe2Uuc2hhcmVkQ2xpZW50U3RhdGUuY2xlYXJRdWVyeVN0YXRlKG4udGFyZ2V0SWQpLHhsKGUucmVtb3RlU3RvcmUsbi50YXJnZXRJZCksTGYoZSxuLnRhcmdldElkKX0pLmNhdGNoKHljKV0pOlszLDNdO2Nhc2UgMTp0LnNlbnQoKSx0LmxhYmVsPTI7Y2FzZSAyOnJldHVyblszLDVdO2Nhc2UgMzpyZXR1cm4gTGYoZSxuLnRhcmdldElkKSxbNCx1aChlLmxvY2FsU3RvcmUsbi50YXJnZXRJZCwhMCldO2Nhc2UgNDp0LnNlbnQoKSx0LmxhYmVsPTU7Y2FzZSA1OnJldHVyblsyXX19KX0pfS5iaW5kKG51bGwsZS5zeW5jRW5naW5lKSxuKV19fSl9KX1mdW5jdGlvbiBJZChuLHIsaSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIG89bmV3IGV1O3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbihuLHIsaSxvLHMpe3ZhciB0PW5ldyBpZCh7bmV4dDpmdW5jdGlvbih0KXtyLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gYWYobixhKX0pO3ZhciBlPXQuZG9jcy5oYXMoaSk7IWUmJnQuZnJvbUNhY2hlP3MucmVqZWN0KG5ldyBrcihDci5VTkFWQUlMQUJMRSxcIkZhaWxlZCB0byBnZXQgZG9jdW1lbnQgYmVjYXVzZSB0aGUgY2xpZW50IGlzIG9mZmxpbmUuXCIpKTplJiZ0LmZyb21DYWNoZSYmbyYmXCJzZXJ2ZXJcIj09PW8uc291cmNlP3MucmVqZWN0KG5ldyBrcihDci5VTkFWQUlMQUJMRSwnRmFpbGVkIHRvIGdldCBkb2N1bWVudCBmcm9tIHNlcnZlci4gKEhvd2V2ZXIsIHRoaXMgZG9jdW1lbnQgZG9lcyBleGlzdCBpbiB0aGUgbG9jYWwgY2FjaGUuIFJ1biBhZ2FpbiB3aXRob3V0IHNldHRpbmcgc291cmNlIHRvIFwic2VydmVyXCIgdG8gcmV0cmlldmUgdGhlIGNhY2hlZCBkb2N1bWVudC4pJykpOnMucmVzb2x2ZSh0KX0sZXJyb3I6ZnVuY3Rpb24odCl7cmV0dXJuIHMucmVqZWN0KHQpfX0pLGE9bmV3IGNmKEVvKGkucGF0aCksdCx7aW5jbHVkZU1ldGFkYXRhQ2hhbmdlczohMCxzbzohMH0pO3JldHVybiBzZihuLGEpfSxbNCxUZChuKV07Y2FzZSAxOnJldHVyblsyLGUuYXBwbHkodm9pZCAwLFt0LnNlbnQoKSxuLmFzeW5jUXVldWUscixpLG9dKV19fSl9KX0pLG8ucHJvbWlzZX1mdW5jdGlvbiBfZChuLHIsaSl7dmFyIHQ9dGhpczt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIG89bmV3IGV1O3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbihlLG4sdCxyLGkpe3ZhciBvPW5ldyBpZCh7bmV4dDpmdW5jdGlvbih0KXtuLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4gYWYoZSxzKX0pLHQuZnJvbUNhY2hlJiZcInNlcnZlclwiPT09ci5zb3VyY2U/aS5yZWplY3QobmV3IGtyKENyLlVOQVZBSUxBQkxFLCdGYWlsZWQgdG8gZ2V0IGRvY3VtZW50cyBmcm9tIHNlcnZlci4gKEhvd2V2ZXIsIHRoZXNlIGRvY3VtZW50cyBtYXkgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byBcInNlcnZlclwiIHRvIHJldHJpZXZlIHRoZSBjYWNoZWQgZG9jdW1lbnRzLiknKSk6aS5yZXNvbHZlKHQpfSxlcnJvcjpmdW5jdGlvbih0KXtyZXR1cm4gaS5yZWplY3QodCl9fSkscz1uZXcgY2YodCxvLHtpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiEwLHNvOiEwfSk7cmV0dXJuIHNmKGUscyl9LFs0LFRkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLG4uYXN5bmNRdWV1ZSxyLGksb10pXX19KX0pfSksby5wcm9taXNlfWZ1bmN0aW9uIFNkKHQsZSl7dGhpcy51c2VyPWUsdGhpcy50eXBlPVwiT0F1dGhcIix0aGlzLmF1dGhIZWFkZXJzPXt9LHRoaXMuYXV0aEhlYWRlcnMuQXV0aG9yaXphdGlvbj1cIkJlYXJlciBcIit0fXZhciBBZD1mdW5jdGlvbih0LGUsbixyLGksbyxzKXt0aGlzLmRhdGFiYXNlSWQ9dCx0aGlzLmFwcElkPWUsdGhpcy5wZXJzaXN0ZW5jZUtleT1uLHRoaXMuaG9zdD1yLHRoaXMuc3NsPWksdGhpcy5mb3JjZUxvbmdQb2xsaW5nPW8sdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmc9c30sTmQ9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVZC5wcm90b3R5cGUsXCJpc0RlZmF1bHREYXRhYmFzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIihkZWZhdWx0KVwiPT09dGhpcy5kYXRhYmFzZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxVZC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIFVkJiZ0LnByb2plY3RJZD09PXRoaXMucHJvamVjdElkJiZ0LmRhdGFiYXNlPT09dGhpcy5kYXRhYmFzZX0sVWQpLERkPW5ldyBNYXAsQ2Q9KFZkLnByb3RvdHlwZS5nZXRUb2tlbj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCl9LFZkLnByb3RvdHlwZS5pbnZhbGlkYXRlVG9rZW49ZnVuY3Rpb24oKXt9LFZkLnByb3RvdHlwZS5zZXRDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3RoaXMuY2hhbmdlTGlzdGVuZXI9ZSx0LmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4gZShTaC5VTkFVVEhFTlRJQ0FURUQpfSl9LFZkLnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbigpe3RoaXMuY2hhbmdlTGlzdGVuZXI9bnVsbH0sVmQpLGtkPShGZC5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudG9rZW4pfSxGZC5wcm90b3R5cGUuaW52YWxpZGF0ZVRva2VuPWZ1bmN0aW9uKCl7fSxGZC5wcm90b3R5cGUuc2V0Q2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzO3RoaXMuY2hhbmdlTGlzdGVuZXI9ZSx0LmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4gZShuLnRva2VuLnVzZXIpfSl9LEZkLnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbigpe3RoaXMuY2hhbmdlTGlzdGVuZXI9bnVsbH0sRmQpLFJkPShNZC5wcm90b3R5cGUuZ2V0VG9rZW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG49dGhpcy5jYyx0PXRoaXMuZm9yY2VSZWZyZXNoO3JldHVybiB0aGlzLmZvcmNlUmVmcmVzaD0hMSx0aGlzLmF1dGg/dGhpcy5hdXRoLmdldFRva2VuKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGUuY2MhPT1uPyhMcihcIkZpcmViYXNlQ3JlZGVudGlhbHNQcm92aWRlclwiLFwiZ2V0VG9rZW4gYWJvcnRlZCBkdWUgdG8gdG9rZW4gY2hhbmdlLlwiKSxlLmdldFRva2VuKCkpOnQ/KFVyKFwic3RyaW5nXCI9PXR5cGVvZiB0LmFjY2Vzc1Rva2VuKSxuZXcgU2QodC5hY2Nlc3NUb2tlbixlLmN1cnJlbnRVc2VyKSk6bnVsbH0pOlByb21pc2UucmVzb2x2ZShudWxsKX0sTWQucHJvdG90eXBlLmludmFsaWRhdGVUb2tlbj1mdW5jdGlvbigpe3RoaXMuZm9yY2VSZWZyZXNoPSEwfSxNZC5wcm90b3R5cGUuc2V0Q2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24odCxlKXt0aGlzLmFjPSEwLHRoaXMuYXN5bmNRdWV1ZT10LHRoaXMuY2hhbmdlTGlzdGVuZXI9ZX0sTWQucHJvdG90eXBlLnJlbW92ZUNoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKCl7dGhpcy5hdXRoJiZ0aGlzLmF1dGgucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIodGhpcy51YyksdGhpcy5jaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUoKX19LE1kLnByb3RvdHlwZS5oYz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYXV0aCYmdGhpcy5hdXRoLmdldFVpZCgpO3JldHVybiBVcihudWxsPT09dHx8XCJzdHJpbmdcIj09dHlwZW9mIHQpLG5ldyBTaCh0KX0sTWQucHJvdG90eXBlLmxjPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLmFjJiYodGhpcy5hYz0hMSx0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZVJldHJ5YWJsZShmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLm9jLnByb21pc2VdO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksWzQsdGhpcy5jaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRVc2VyKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSx0aGlzLmFjPSEwLFsyXX19KX0pfSkpfSxNZCkseGQ9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQZC5wcm90b3R5cGUsXCJhdXRoSGVhZGVyc1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD17XCJYLUdvb2ctQXV0aFVzZXJcIjp0aGlzLmRjfSxlPXRoaXMuZmMuYXV0aC5nZXRBdXRoSGVhZGVyVmFsdWVGb3JGaXJzdFBhcnR5KFtdKTtyZXR1cm4gZSYmKHQuQXV0aG9yaXphdGlvbj1lKSx0aGlzLndjJiYodFtcIlgtR29vZy1JYW0tQXV0aG9yaXphdGlvbi1Ub2tlblwiXT10aGlzLndjKSx0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFBkKSxPZD0oTGQucHJvdG90eXBlLmdldFRva2VuPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgeGQodGhpcy5mYyx0aGlzLmRjLHRoaXMud2MpKX0sTGQucHJvdG90eXBlLnNldENoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dC5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIGUoU2guRklSU1RfUEFSVFkpfSl9LExkLnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbigpe30sTGQucHJvdG90eXBlLmludmFsaWRhdGVUb2tlbj1mdW5jdGlvbigpe30sTGQpO2Z1bmN0aW9uIExkKHQsZSxuKXt0aGlzLmZjPXQsdGhpcy5kYz1lLHRoaXMud2M9bn1mdW5jdGlvbiBQZCh0LGUsbil7dGhpcy5mYz10LHRoaXMuZGM9ZSx0aGlzLndjPW4sdGhpcy50eXBlPVwiRmlyc3RQYXJ0eVwiLHRoaXMudXNlcj1TaC5GSVJTVF9QQVJUWX1mdW5jdGlvbiBNZChlKXt2YXIgbj10aGlzO3RoaXMuY3VycmVudFVzZXI9U2guVU5BVVRIRU5USUNBVEVELHRoaXMub2M9bmV3IGV1LHRoaXMuY2M9MCx0aGlzLmNoYW5nZUxpc3RlbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfSx0aGlzLmFjPSExLHRoaXMuZm9yY2VSZWZyZXNoPSExLHRoaXMuYXV0aD1udWxsLHRoaXMuYXN5bmNRdWV1ZT1udWxsLHRoaXMudWM9ZnVuY3Rpb24oKXtuLmNjKyssbi5jdXJyZW50VXNlcj1uLmhjKCksbi5vYy5yZXNvbHZlKCksbi5hYyYmbi5hc3luY1F1ZXVlLmVucXVldWVSZXRyeWFibGUoZnVuY3Rpb24oKXtyZXR1cm4gbi5jaGFuZ2VMaXN0ZW5lcihuLmN1cnJlbnRVc2VyKX0pfTtmdW5jdGlvbiByKHQpe0xyKFwiRmlyZWJhc2VDcmVkZW50aWFsc1Byb3ZpZGVyXCIsXCJBdXRoIGRldGVjdGVkXCIpLG4uYXV0aD10LG4ubGMoKSxuLmF1dGguYWRkQXV0aFRva2VuTGlzdGVuZXIobi51Yyl9ZS5vbkluaXQociksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0O24uYXV0aHx8KCh0PWUuZ2V0SW1tZWRpYXRlKHtvcHRpb25hbDohMH0pKT9yKHQpOm4uYWMmJihMcihcIkZpcmViYXNlQ3JlZGVudGlhbHNQcm92aWRlclwiLFwiQXV0aCBub3QgeWV0IGRldGVjdGVkXCIpLG4uYXN5bmNRdWV1ZS5lbnF1ZXVlUmV0cnlhYmxlKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY2hhbmdlTGlzdGVuZXIobi5jdXJyZW50VXNlcil9KSkpfSwwKX1mdW5jdGlvbiBGZCh0KXt0aGlzLnRva2VuPXQsdGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsfWZ1bmN0aW9uIFZkKCl7dGhpcy5jaGFuZ2VMaXN0ZW5lcj1udWxsfWZ1bmN0aW9uIFVkKHQsZSl7dGhpcy5wcm9qZWN0SWQ9dCx0aGlzLmRhdGFiYXNlPWV8fFwiKGRlZmF1bHQpXCJ9ZnVuY3Rpb24gcWQodCxlLG4pe2lmKCFuKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiRnVuY3Rpb24gXCIrdCtcIigpIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBhbiBlbXB0eSBcIitlK1wiLlwiKX1mdW5jdGlvbiBCZCh0LGUpe2lmKHZvaWQgMD09PWUpcmV0dXJue21lcmdlOiExfTtpZih2b2lkIDAhPT1lLm1lcmdlRmllbGRzJiZ2b2lkIDAhPT1lLm1lcmdlKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBvcHRpb25zIHBhc3NlZCB0byBmdW5jdGlvbiBcIit0KycoKTogWW91IGNhbm5vdCBzcGVjaWZ5IGJvdGggXCJtZXJnZVwiIGFuZCBcIm1lcmdlRmllbGRzXCIuJyk7cmV0dXJuIGV9ZnVuY3Rpb24gamQodCxlLG4scil7aWYoITA9PT1lJiYhMD09PXIpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsdCtcIiBhbmQgXCIrbitcIiBjYW5ub3QgYmUgdXNlZCB0b2dldGhlci5cIil9ZnVuY3Rpb24gS2QodCl7aWYoIWJpLmlzRG9jdW1lbnRLZXkodCkpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIGRvY3VtZW50IHJlZmVyZW5jZS4gRG9jdW1lbnQgcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgb2Ygc2VnbWVudHMsIGJ1dCBcIit0K1wiIGhhcyBcIit0Lmxlbmd0aCtcIi5cIil9ZnVuY3Rpb24gR2QodCl7aWYoYmkuaXNEb2N1bWVudEtleSh0KSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgY29sbGVjdGlvbiByZWZlcmVuY2UuIENvbGxlY3Rpb24gcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cywgYnV0IFwiK3QrXCIgaGFzIFwiK3QubGVuZ3RoK1wiLlwiKX1mdW5jdGlvbiBRZChlKXtpZih2b2lkIDA9PT1lKXJldHVyblwidW5kZWZpbmVkXCI7aWYobnVsbD09PWUpcmV0dXJuXCJudWxsXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIDIwPGUubGVuZ3RoJiYoZT1lLnN1YnN0cmluZygwLDIwKStcIi4uLlwiKSxKU09OLnN0cmluZ2lmeShlKTtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVyblwiXCIrZTtpZihcIm9iamVjdFwiIT10eXBlb2YgZSlyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP1wiYSBmdW5jdGlvblwiOlZyKCk7aWYoZSBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYW4gYXJyYXlcIjt2YXIgdD1mdW5jdGlvbigpe2lmKGUuY29uc3RydWN0b3Ipe3ZhciB0PS9mdW5jdGlvblxccysoW15cXHMoXSspXFxzKlxcKC8uZXhlYyhlLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkpO2lmKHQmJjE8dC5sZW5ndGgpcmV0dXJuIHRbMV19cmV0dXJuIG51bGx9KCk7cmV0dXJuIHQ/XCJhIGN1c3RvbSBcIit0K1wiIG9iamVjdFwiOlwiYW4gb2JqZWN0XCJ9ZnVuY3Rpb24gemQodCxlKXtpZigodD1cIl9kZWxlZ2F0ZVwiaW4gdD90Ll9kZWxlZ2F0ZTp0KWluc3RhbmNlb2YgZSlyZXR1cm4gdDtpZihlLm5hbWU9PT10LmNvbnN0cnVjdG9yLm5hbWUpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJUeXBlIGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCBpbnN0YW5jZS4gRGlkIHlvdSBwYXNzIGEgcmVmZXJlbmNlIGZyb20gYSBkaWZmZXJlbnQgRmlyZXN0b3JlIFNESz9cIik7dD1RZCh0KTt0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkV4cGVjdGVkIHR5cGUgJ1wiK2UubmFtZStcIicsIGJ1dCBpdCB3YXM6IFwiK3QpfWZ1bmN0aW9uIEhkKHQsZSl7aWYoZTw9MCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkZ1bmN0aW9uIFwiK3QrXCIoKSByZXF1aXJlcyBhIHBvc2l0aXZlIG51bWJlciwgYnV0IGl0IHdhczogXCIrZStcIi5cIil9dmFyIFdkLFlkPShpcC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5ob3N0PT09dC5ob3N0JiZ0aGlzLnNzbD09PXQuc3NsJiZ0aGlzLmNyZWRlbnRpYWxzPT09dC5jcmVkZW50aWFscyYmdGhpcy5jYWNoZVNpemVCeXRlcz09PXQuY2FjaGVTaXplQnl0ZXMmJnRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZz09PXQuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyYmdGhpcy5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmc9PT10LmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyYmdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPT09dC5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzfSxpcCksWGQ9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShycC5wcm90b3R5cGUsXCJhcHBcIix7Z2V0OmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2FwcCl0aHJvdyBuZXcga3IoQ3IuRkFJTEVEX1BSRUNPTkRJVElPTixcIkZpcmVzdG9yZSB3YXMgbm90IGluaXRpYWxpemVkIHVzaW5nIHRoZSBGaXJlYmFzZSBTREsuICdhcHAnIGlzIG5vdCBhdmFpbGFibGVcIik7cmV0dXJuIHRoaXMuX2FwcH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocnAucHJvdG90eXBlLFwiX2luaXRpYWxpemVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkocnAucHJvdG90eXBlLFwiX3Rlcm1pbmF0ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3Rlcm1pbmF0ZVRhc2t9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSkscnAucHJvdG90eXBlLl9zZXRTZXR0aW5ncz1mdW5jdGlvbih0KXtpZih0aGlzLl9zZXR0aW5nc0Zyb3plbil0aHJvdyBuZXcga3IoQ3IuRkFJTEVEX1BSRUNPTkRJVElPTixcIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIGl0cyBzZXR0aW5ncyBjYW4gbm8gbG9uZ2VyIGJlIGNoYW5nZWQuIFlvdSBjYW4gb25seSBtb2RpZnkgc2V0dGluZ3MgYmVmb3JlIGNhbGxpbmcgYW55IG90aGVyIG1ldGhvZHMgb24gYSBGaXJlc3RvcmUgb2JqZWN0LlwiKTt0aGlzLl9zZXR0aW5ncz1uZXcgWWQodCksdm9pZCAwIT09dC5jcmVkZW50aWFscyYmKHRoaXMuX2NyZWRlbnRpYWxzPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiBuZXcgQ2Q7c3dpdGNoKHQudHlwZSl7Y2FzZVwiZ2FwaVwiOnZhciBlPXQuY2xpZW50O3JldHVybiBVcighKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8IWUuYXV0aHx8IWUuYXV0aC5nZXRBdXRoSGVhZGVyVmFsdWVGb3JGaXJzdFBhcnR5KSksbmV3IE9kKGUsdC5zZXNzaW9uSW5kZXh8fFwiMFwiLHQuaWFtVG9rZW58fG51bGwpO2Nhc2VcInByb3ZpZGVyXCI6cmV0dXJuIHQuY2xpZW50O2RlZmF1bHQ6dGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJtYWtlQ3JlZGVudGlhbHNQcm92aWRlciBmYWlsZWQgZHVlIHRvIGludmFsaWQgY3JlZGVudGlhbCB0eXBlXCIpfX0odC5jcmVkZW50aWFscykpfSxycC5wcm90b3R5cGUuX2dldFNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzfSxycC5wcm90b3R5cGUuX2ZyZWV6ZVNldHRpbmdzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldHRpbmdzRnJvemVuPSEwLHRoaXMuX3NldHRpbmdzfSxycC5wcm90b3R5cGUuX2RlbGV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXJtaW5hdGVUYXNrfHwodGhpcy5fdGVybWluYXRlVGFzaz10aGlzLl90ZXJtaW5hdGUoKSksdGhpcy5fdGVybWluYXRlVGFza30scnAucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnthcHA6dGhpcy5fYXBwLGRhdGFiYXNlSWQ6dGhpcy5fZGF0YWJhc2VJZCxzZXR0aW5nczp0aGlzLl9zZXR0aW5nc319LHJwLnByb3RvdHlwZS5fdGVybWluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuKHQ9RGQuZ2V0KHRoaXMpKSYmKExyKFwiQ29tcG9uZW50UHJvdmlkZXJcIixcIlJlbW92aW5nIERhdGFzdG9yZVwiKSxEZC5kZWxldGUodGhpcyksdC50ZXJtaW5hdGUoKSksUHJvbWlzZS5yZXNvbHZlKCk7dmFyIHR9LHJwKSxKZD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KG5wLnByb3RvdHlwZSxcIl9wYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXkucGF0aH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobnAucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleS5wYXRoLmxhc3RTZWdtZW50KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KG5wLnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2tleS5wYXRoLmNhbm9uaWNhbFN0cmluZygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucC5wcm90b3R5cGUsXCJwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBaZCh0aGlzLmZpcmVzdG9yZSx0aGlzLmNvbnZlcnRlcix0aGlzLl9rZXkucGF0aC5wb3BMYXN0KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLG5wLnByb3RvdHlwZS53aXRoQ29udmVydGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbnAodGhpcy5maXJlc3RvcmUsdCx0aGlzLl9rZXkpfSxucCksJGQ9KGVwLnByb3RvdHlwZS53aXRoQ29udmVydGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZXAodGhpcy5maXJlc3RvcmUsdCx0aGlzLl9xdWVyeSl9LGVwKSxaZD0obih0cCxXZD0kZCksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRwLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9xdWVyeS5wYXRoLmxhc3RTZWdtZW50KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRwLnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3F1ZXJ5LnBhdGguY2Fub25pY2FsU3RyaW5nKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRwLnByb3RvdHlwZSxcInBhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYXRoLnBvcExhc3QoKTtyZXR1cm4gdC5pc0VtcHR5KCk/bnVsbDpuZXcgSmQodGhpcy5maXJlc3RvcmUsbnVsbCxuZXcgYmkodCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHRwLnByb3RvdHlwZS53aXRoQ29udmVydGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdHAodGhpcy5maXJlc3RvcmUsdCx0aGlzLl9wYXRoKX0sdHApO2Z1bmN0aW9uIHRwKHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPVdkLmNhbGwodGhpcyx0LGUsRW8obikpfHx0aGlzKS5fcGF0aD1uLHIudHlwZT1cImNvbGxlY3Rpb25cIixyfWZ1bmN0aW9uIGVwKHQsZSxuKXt0aGlzLmNvbnZlcnRlcj1lLHRoaXMuX3F1ZXJ5PW4sdGhpcy50eXBlPVwicXVlcnlcIix0aGlzLmZpcmVzdG9yZT10fWZ1bmN0aW9uIG5wKHQsZSxuKXt0aGlzLmNvbnZlcnRlcj1lLHRoaXMuX2tleT1uLHRoaXMudHlwZT1cImRvY3VtZW50XCIsdGhpcy5maXJlc3RvcmU9dH1mdW5jdGlvbiBycCh0LGUpe3RoaXMudHlwZT1cImZpcmVzdG9yZS1saXRlXCIsdGhpcy5fcGVyc2lzdGVuY2VLZXk9XCIobGl0ZSlcIix0aGlzLl9zZXR0aW5ncz1uZXcgWWQoe30pLHRoaXMuX3NldHRpbmdzRnJvemVuPSExLHQgaW5zdGFuY2VvZiBOZD8odGhpcy5fZGF0YWJhc2VJZD10LHRoaXMuX2NyZWRlbnRpYWxzPW5ldyBDZCk6KHRoaXMuX2FwcD10LHRoaXMuX2RhdGFiYXNlSWQ9ZnVuY3Rpb24odCl7aWYoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuYXBwbHkodC5vcHRpb25zLFtcInByb2plY3RJZFwiXSkpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsJ1wicHJvamVjdElkXCIgbm90IHByb3ZpZGVkIGluIGZpcmViYXNlLmluaXRpYWxpemVBcHAuJyk7cmV0dXJuIG5ldyBOZCh0Lm9wdGlvbnMucHJvamVjdElkKX0odCksdGhpcy5fY3JlZGVudGlhbHM9bmV3IFJkKGUpKX1mdW5jdGlvbiBpcCh0KXt2YXIgZTtpZih2b2lkIDA9PT10Lmhvc3Qpe2lmKHZvaWQgMCE9PXQuc3NsKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiQ2FuJ3QgcHJvdmlkZSBzc2wgb3B0aW9uIGlmIGhvc3Qgb3B0aW9uIGlzIG5vdCBzZXRcIik7dGhpcy5ob3N0PVwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIsdGhpcy5zc2w9ITB9ZWxzZSB0aGlzLmhvc3Q9dC5ob3N0LHRoaXMuc3NsPW51bGw9PT0oZT10LnNzbCl8fHZvaWQgMD09PWV8fGU7aWYodGhpcy5jcmVkZW50aWFscz10LmNyZWRlbnRpYWxzLHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcz0hIXQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyx2b2lkIDA9PT10LmNhY2hlU2l6ZUJ5dGVzKXRoaXMuY2FjaGVTaXplQnl0ZXM9NDE5NDMwNDA7ZWxzZXtpZigtMSE9PXQuY2FjaGVTaXplQnl0ZXMmJnQuY2FjaGVTaXplQnl0ZXM8MTA0ODU3Nil0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcImNhY2hlU2l6ZUJ5dGVzIG11c3QgYmUgYXQgbGVhc3QgMTA0ODU3NlwiKTt0aGlzLmNhY2hlU2l6ZUJ5dGVzPXQuY2FjaGVTaXplQnl0ZXN9dGhpcy5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nPSEhdC5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLHRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nPSEhdC5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcsamQoXCJleHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nXCIsdC5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLFwiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nXCIsdC5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcpfWZ1bmN0aW9uIG9wKHQsZSl7Zm9yKHZhciBuLHI9W10saT0yO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTJdPWFyZ3VtZW50c1tpXTtpZih0PXYodCkscWQoXCJjb2xsZWN0aW9uXCIsXCJwYXRoXCIsZSksdCBpbnN0YW5jZW9mIFhkKXJldHVybiBHZChuPXRpLmZyb21TdHJpbmcuYXBwbHkodGkscyhbZV0scikpKSxuZXcgWmQodCxudWxsLG4pO2lmKCEodCBpbnN0YW5jZW9mIEpkfHx0IGluc3RhbmNlb2YgWmQpKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gY29sbGVjdGlvbigpIHRvIGJlIGEgQ29sbGVjdGlvblJlZmVyZW5jZSwgYSBEb2N1bWVudFJlZmVyZW5jZSBvciBGaXJlYmFzZUZpcmVzdG9yZVwiKTtyZXR1cm4gR2Qobj10aS5mcm9tU3RyaW5nLmFwcGx5KHRpLHMoW3QucGF0aF0scikpLmNoaWxkKHRpLmZyb21TdHJpbmcoZSkpKSxuZXcgWmQodC5maXJlc3RvcmUsbnVsbCxuKX1mdW5jdGlvbiBzcCh0LGUpe2Zvcih2YXIgbixyPVtdLGk9MjtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0yXT1hcmd1bWVudHNbaV07aWYodD12KHQpLHFkKFwiZG9jXCIsXCJwYXRoXCIsZT0xPT09YXJndW1lbnRzLmxlbmd0aD9xci51KCk6ZSksdCBpbnN0YW5jZW9mIFhkKXJldHVybiBLZChuPXRpLmZyb21TdHJpbmcuYXBwbHkodGkscyhbZV0scikpKSxuZXcgSmQodCxudWxsLG5ldyBiaShuKSk7aWYoISh0IGluc3RhbmNlb2YgSmR8fHQgaW5zdGFuY2VvZiBaZCkpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBjb2xsZWN0aW9uKCkgdG8gYmUgYSBDb2xsZWN0aW9uUmVmZXJlbmNlLCBhIERvY3VtZW50UmVmZXJlbmNlIG9yIEZpcmViYXNlRmlyZXN0b3JlXCIpO3JldHVybiBLZChuPXQuX3BhdGguY2hpbGQodGkuZnJvbVN0cmluZy5hcHBseSh0aSxzKFtlXSxyKSkpKSxuZXcgSmQodC5maXJlc3RvcmUsdCBpbnN0YW5jZW9mIFpkP3QuY29udmVydGVyOm51bGwsbmV3IGJpKG4pKX1mdW5jdGlvbiBhcCh0LGUpe3JldHVybiB0PXYodCksZT12KGUpLCh0IGluc3RhbmNlb2YgSmR8fHQgaW5zdGFuY2VvZiBaZCkmJihlIGluc3RhbmNlb2YgSmR8fGUgaW5zdGFuY2VvZiBaZCkmJnQuZmlyZXN0b3JlPT09ZS5maXJlc3RvcmUmJnQucGF0aD09PWUucGF0aCYmdC5jb252ZXJ0ZXI9PT1lLmNvbnZlcnRlcn1mdW5jdGlvbiB1cCh0LGUpe3JldHVybiB0PXYodCksZT12KGUpLHQgaW5zdGFuY2VvZiAkZCYmZSBpbnN0YW5jZW9mICRkJiZ0LmZpcmVzdG9yZT09PWUuZmlyZXN0b3JlJiZrbyh0Ll9xdWVyeSxlLl9xdWVyeSkmJnQuY29udmVydGVyPT09ZS5jb252ZXJ0ZXJ9dmFyIGNwPShPYmplY3QuZGVmaW5lUHJvcGVydHkoaHAucHJvdG90eXBlLFwiaXNTaHV0dGluZ0Rvd25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaHAucHJvdG90eXBlLmVucXVldWVBbmRGb3JnZXQ9ZnVuY3Rpb24odCl7dGhpcy5lbnF1ZXVlKHQpfSxocC5wcm90b3R5cGUuZW5xdWV1ZUFuZEZvcmdldEV2ZW5XaGlsZVJlc3RyaWN0ZWQ9ZnVuY3Rpb24odCl7dGhpcy5SYygpLHRoaXMuYmModCl9LGhwLnByb3RvdHlwZS5lbnRlclJlc3RyaWN0ZWRNb2RlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy55Y3x8KHRoaXMueWM9ITAsKHQ9ZmwoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVtb3ZlRXZlbnRMaXN0ZW5lciYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuQWMpKX0saHAucHJvdG90eXBlLmVucXVldWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuUmMoKSx0aGlzLnljP25ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe30pOnRoaXMuYmModCl9LGhwLnByb3RvdHlwZS5lbnF1ZXVlUmV0cnlhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7dGhpcy5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUubWMucHVzaCh0KSxlLnZjKCl9KX0saHAucHJvdG90eXBlLnZjPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGUsbj10aGlzO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDppZigwPT09dGhpcy5tYy5sZW5ndGgpcmV0dXJuWzMsNV07dC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gdC50cnlzLnB1c2goWzEsMywsNF0pLFs0LHRoaXMubWNbMF0oKV07Y2FzZSAyOnJldHVybiB0LnNlbnQoKSx0aGlzLm1jLnNoaWZ0KCksdGhpcy5aaS5yZXNldCgpLFszLDRdO2Nhc2UgMzppZighZHUoZT10LnNlbnQoKSkpdGhyb3cgZTtyZXR1cm4gTHIoXCJBc3luY1F1ZXVlXCIsXCJPcGVyYXRpb24gZmFpbGVkIHdpdGggcmV0cnlhYmxlIGVycm9yOiBcIitlKSxbMyw0XTtjYXNlIDQ6MDx0aGlzLm1jLmxlbmd0aCYmdGhpcy5aaS5qaShmdW5jdGlvbigpe3JldHVybiBuLnZjKCl9KSx0LmxhYmVsPTU7Y2FzZSA1OnJldHVyblsyXX19KX0pfSxocC5wcm90b3R5cGUuYmM9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxlPXRoaXMuX2MudGhlbihmdW5jdGlvbigpe3JldHVybiByLlRjPSEwLHQoKS5jYXRjaChmdW5jdGlvbih0KXt0aHJvdyByLkVjPXQsci5UYz0hMSxQcihcIklOVEVSTkFMIFVOSEFORExFRCBFUlJPUjogXCIsKG49KGU9dCkubWVzc2FnZXx8XCJcIixuPWUuc3RhY2s/ZS5zdGFjay5pbmNsdWRlcyhlLm1lc3NhZ2UpP2Uuc3RhY2s6ZS5tZXNzYWdlK1wiXFxuXCIrZS5zdGFjazpuKSksdDt2YXIgZSxufSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gci5UYz0hMSx0fSl9KTtyZXR1cm4gdGhpcy5fYz1lfSxocC5wcm90b3R5cGUuZW5xdWV1ZUFmdGVyRGVsYXk9ZnVuY3Rpb24odCxlLG4pe3ZhciByPXRoaXM7dGhpcy5SYygpLC0xPHRoaXMuSWMuaW5kZXhPZih0KSYmKGU9MCk7bj1XbC5jcmVhdGVBbmRTY2hlZHVsZSh0aGlzLHQsZSxuLGZ1bmN0aW9uKHQpe3JldHVybiByLlBjKHQpfSk7cmV0dXJuIHRoaXMuZ2MucHVzaChuKSxufSxocC5wcm90b3R5cGUuUmM9ZnVuY3Rpb24oKXt0aGlzLkVjJiZWcigpfSxocC5wcm90b3R5cGUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcz1mdW5jdGlvbigpe30saHAucHJvdG90eXBlLlZjPWZ1bmN0aW9uKCl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGU9dGhpcy5fY107Y2FzZSAxOnQuc2VudCgpLHQubGFiZWw9MjtjYXNlIDI6aWYoZSE9PXRoaXMuX2MpcmV0dXJuWzMsMF07dC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0saHAucHJvdG90eXBlLlNjPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLG49dGhpcy5nYztlPG4ubGVuZ3RoO2UrKylpZihuW2VdLnRpbWVySWQ9PT10KXJldHVybiEwO3JldHVybiExfSxocC5wcm90b3R5cGUuRGM9ZnVuY3Rpb24ocil7dmFyIGk9dGhpcztyZXR1cm4gdGhpcy5WYygpLnRoZW4oZnVuY3Rpb24oKXtpLmdjLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50YXJnZXRUaW1lTXMtZS50YXJnZXRUaW1lTXN9KTtmb3IodmFyIHQ9MCxlPWkuZ2M7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07aWYobi5za2lwRGVsYXkoKSxcImFsbFwiIT09ciYmbi50aW1lcklkPT09cilicmVha31yZXR1cm4gaS5WYygpfSl9LGhwLnByb3RvdHlwZS5DYz1mdW5jdGlvbih0KXt0aGlzLkljLnB1c2godCl9LGhwLnByb3RvdHlwZS5QYz1mdW5jdGlvbih0KXt0PXRoaXMuZ2MuaW5kZXhPZih0KTt0aGlzLmdjLnNwbGljZSh0LDEpfSxocCk7ZnVuY3Rpb24gaHAoKXt2YXIgZT10aGlzO3RoaXMuX2M9UHJvbWlzZS5yZXNvbHZlKCksdGhpcy5tYz1bXSx0aGlzLnljPSExLHRoaXMuZ2M9W10sdGhpcy5FYz1udWxsLHRoaXMuVGM9ITEsdGhpcy5JYz1bXSx0aGlzLlppPW5ldyB2bCh0aGlzLFwiYXN5bmNfcXVldWVfcmV0cnlcIiksdGhpcy5BYz1mdW5jdGlvbigpe3ZhciB0PWZsKCk7dCYmTHIoXCJBc3luY1F1ZXVlXCIsXCJWaXNpYmlsaXR5IHN0YXRlIGNoYW5nZWQgdG8gXCIrdC52aXNpYmlsaXR5U3RhdGUpLGUuWmkuR2koKX07dmFyIHQ9ZmwoKTt0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXImJnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLkFjKX1mdW5jdGlvbiBscChpKXtyZXR1cm4gZnVuY3Rpb24oKXtpZihcIm9iamVjdFwiPT10eXBlb2YgaSYmbnVsbCE9PWkpZm9yKHZhciB0PWksZT0wLG49W1wibmV4dFwiLFwiZXJyb3JcIixcImNvbXBsZXRlXCJdO2U8bi5sZW5ndGg7ZSsrKXt2YXIgcj1uW2VdO2lmKHIgaW4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtyXSlyZXR1cm4gMX19KCl9dmFyIGZwLGRwPShncC5wcm90b3R5cGUub25Qcm9ncmVzcz1mdW5jdGlvbih0LGUsbil7dGhpcy5fcHJvZ3Jlc3NPYnNlcnZlcj17bmV4dDp0LGVycm9yOmUsY29tcGxldGU6bn19LGdwLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5wcm9taXNlLmNhdGNoKHQpfSxncC5wcm90b3R5cGUudGhlbj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnByb21pc2UudGhlbih0LGUpfSxncC5wcm90b3R5cGUuX2NvbXBsZXRlV2l0aD1mdW5jdGlvbih0KXt0aGlzLl91cGRhdGVQcm9ncmVzcyh0KSx0aGlzLl9wcm9ncmVzc09ic2VydmVyLmNvbXBsZXRlJiZ0aGlzLl9wcm9ncmVzc09ic2VydmVyLmNvbXBsZXRlKCksdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5yZXNvbHZlKHQpfSxncC5wcm90b3R5cGUuX2ZhaWxXaXRoPWZ1bmN0aW9uKHQpe3RoaXMuX2xhc3RQcm9ncmVzcy50YXNrU3RhdGU9XCJFcnJvclwiLHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCYmdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5uZXh0KHRoaXMuX2xhc3RQcm9ncmVzcyksdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5lcnJvciYmdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5lcnJvcih0KSx0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnJlamVjdCh0KX0sZ3AucHJvdG90eXBlLl91cGRhdGVQcm9ncmVzcz1mdW5jdGlvbih0KXt0aGlzLl9sYXN0UHJvZ3Jlc3M9dCx0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQmJnRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCh0KX0sZ3ApLHBwPShuKHlwLGZwPVhkKSx5cC5wcm90b3R5cGUuX3Rlcm1pbmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9maXJlc3RvcmVDbGllbnR8fHZwKHRoaXMpLHRoaXMuX2ZpcmVzdG9yZUNsaWVudC50ZXJtaW5hdGUoKX0seXApO2Z1bmN0aW9uIHlwKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1mcC5jYWxsKHRoaXMsdCxlKXx8dGhpcykudHlwZT1cImZpcmVzdG9yZVwiLG4uX3F1ZXVlPW5ldyBjcCxuLl9wZXJzaXN0ZW5jZUtleT1cIm5hbWVcImluIHQ/dC5uYW1lOlwiW0RFRkFVTFRdXCIsbn1mdW5jdGlvbiBncCgpe3RoaXMuX3Byb2dyZXNzT2JzZXJ2ZXI9e30sdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlcj1uZXcgZXUsdGhpcy5fbGFzdFByb2dyZXNzPXt0YXNrU3RhdGU6XCJSdW5uaW5nXCIsdG90YWxCeXRlczowLHRvdGFsRG9jdW1lbnRzOjAsYnl0ZXNMb2FkZWQ6MCxkb2N1bWVudHNMb2FkZWQ6MH19ZnVuY3Rpb24gbXAodCl7cmV0dXJuIHQuX2ZpcmVzdG9yZUNsaWVudHx8dnAodCksdC5fZmlyZXN0b3JlQ2xpZW50LnZlcmlmeU5vdFRlcm1pbmF0ZWQoKSx0Ll9maXJlc3RvcmVDbGllbnR9ZnVuY3Rpb24gdnAodCl7dmFyIGUsbixyLGk9dC5fZnJlZXplU2V0dGluZ3MoKSxpPShlPXQuX2RhdGFiYXNlSWQsbj0obnVsbD09PShyPXQuX2FwcCl8fHZvaWQgMD09PXI/dm9pZCAwOnIub3B0aW9ucy5hcHBJZCl8fFwiXCIscj10Ll9wZXJzaXN0ZW5jZUtleSxuZXcgQWQoZSxuLHIsaS5ob3N0LGkuc3NsLGkuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyxpLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZykpO3QuX2ZpcmVzdG9yZUNsaWVudD1uZXcgdWQodC5fY3JlZGVudGlhbHMsdC5fcXVldWUsaSl9ZnVuY3Rpb24gYnAocixpLG8pe3ZhciB0PXRoaXMscz1uZXcgZXU7cmV0dXJuIHIuYXN5bmNRdWV1ZS5lbnF1ZXVlKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG47cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0LnRyeXMucHVzaChbMCwzLCw0XSksWzQscGQocixvKV07Y2FzZSAxOnJldHVybiB0LnNlbnQoKSxbNCx5ZChyLGkpXTtjYXNlIDI6cmV0dXJuIHQuc2VudCgpLHMucmVzb2x2ZSgpLFszLDRdO2Nhc2UgMzppZighKFwiRmlyZWJhc2VFcnJvclwiPT09KGU9bj10LnNlbnQoKSkubmFtZT9lLmNvZGU9PT1Dci5GQUlMRURfUFJFQ09ORElUSU9OfHxlLmNvZGU9PT1Dci5VTklNUExFTUVOVEVEOiEoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIERPTUV4Y2VwdGlvbiYmZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbil8fDIyPT09ZS5jb2RlfHwyMD09PWUuY29kZXx8MTE9PT1lLmNvZGUpKXRocm93IG47cmV0dXJuIGNvbnNvbGUud2FybihcIkVycm9yIGVuYWJsaW5nIG9mZmxpbmUgcGVyc2lzdGVuY2UuIEZhbGxpbmcgYmFjayB0byBwZXJzaXN0ZW5jZSBkaXNhYmxlZDogXCIrbikscy5yZWplY3QobiksWzMsNF07Y2FzZSA0OnJldHVyblsyXX12YXIgZX0pfSl9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHMucHJvbWlzZX0pfWZ1bmN0aW9uIHdwKHQpe2lmKHQuX2luaXRpYWxpemVkfHx0Ll90ZXJtaW5hdGVkKXRocm93IG5ldyBrcihDci5GQUlMRURfUFJFQ09ORElUSU9OLFwiRmlyZXN0b3JlIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBhbmQgcGVyc2lzdGVuY2UgY2FuIG5vIGxvbmdlciBiZSBlbmFibGVkLiBZb3UgY2FuIG9ubHkgZW5hYmxlIHBlcnNpc3RlbmNlIGJlZm9yZSBjYWxsaW5nIGFueSBvdGhlciBtZXRob2RzIG9uIGEgRmlyZXN0b3JlIG9iamVjdC5cIil9dmFyIEVwPSh4cC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW50ZXJuYWxQYXRoLmlzRXF1YWwodC5faW50ZXJuYWxQYXRoKX0seHApLFRwPShScC5mcm9tQmFzZTY0U3RyaW5nPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IFJwKGlpLmZyb21CYXNlNjRTdHJpbmcodCkpfWNhdGNoKHQpe3Rocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiRmFpbGVkIHRvIGNvbnN0cnVjdCBkYXRhIGZyb20gQmFzZTY0IHN0cmluZzogXCIrdCl9fSxScC5mcm9tVWludDhBcnJheT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFJwKGlpLmZyb21VaW50OEFycmF5KHQpKX0sUnAucHJvdG90eXBlLnRvQmFzZTY0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcudG9CYXNlNjQoKX0sUnAucHJvdG90eXBlLnRvVWludDhBcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ieXRlU3RyaW5nLnRvVWludDhBcnJheSgpfSxScC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkJ5dGVzKGJhc2U2NDogXCIrdGhpcy50b0Jhc2U2NCgpK1wiKVwifSxScC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy5pc0VxdWFsKHQuX2J5dGVTdHJpbmcpfSxScCksSXA9ZnVuY3Rpb24odCl7dGhpcy5fbWV0aG9kTmFtZT10fSxfcD0oT2JqZWN0LmRlZmluZVByb3BlcnR5KGtwLnByb3RvdHlwZSxcImxhdGl0dWRlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGtwLnByb3RvdHlwZSxcImxvbmdpdHVkZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9uZ30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxrcC5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbGF0PT09dC5fbGF0JiZ0aGlzLl9sb25nPT09dC5fbG9uZ30sa3AucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntsYXRpdHVkZTp0aGlzLl9sYXQsbG9uZ2l0dWRlOnRoaXMuX2xvbmd9fSxrcC5wcm90b3R5cGUuX2NvbXBhcmVUbz1mdW5jdGlvbih0KXtyZXR1cm4ganIodGhpcy5fbGF0LHQuX2xhdCl8fGpyKHRoaXMuX2xvbmcsdC5fbG9uZyl9LGtwKSxTcD0vXl9fLipfXyQvLEFwPShDcC5wcm90b3R5cGUudG9NdXRhdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT09dGhpcy5maWVsZE1hc2s/bmV3IGZzKHQsdGhpcy5kYXRhLHRoaXMuZmllbGRNYXNrLGUsdGhpcy5maWVsZFRyYW5zZm9ybXMpOm5ldyBscyh0LHRoaXMuZGF0YSxlLHRoaXMuZmllbGRUcmFuc2Zvcm1zKX0sQ3ApLE5wPShEcC5wcm90b3R5cGUudG9NdXRhdGlvbj1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgZnModCx0aGlzLmRhdGEsdGhpcy5maWVsZE1hc2ssZSx0aGlzLmZpZWxkVHJhbnNmb3Jtcyl9LERwKTtmdW5jdGlvbiBEcCh0LGUsbil7dGhpcy5kYXRhPXQsdGhpcy5maWVsZE1hc2s9ZSx0aGlzLmZpZWxkVHJhbnNmb3Jtcz1ufWZ1bmN0aW9uIENwKHQsZSxuKXt0aGlzLmRhdGE9dCx0aGlzLmZpZWxkTWFzaz1lLHRoaXMuZmllbGRUcmFuc2Zvcm1zPW59ZnVuY3Rpb24ga3AodCxlKXtpZighaXNGaW5pdGUodCl8fHQ8LTkwfHw5MDx0KXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiTGF0aXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAsIGJ1dCB3YXM6IFwiK3QpO2lmKCFpc0Zpbml0ZShlKXx8ZTwtMTgwfHwxODA8ZSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkxvbmdpdHVkZSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gLTE4MCBhbmQgMTgwLCBidXQgd2FzOiBcIitlKTt0aGlzLl9sYXQ9dCx0aGlzLl9sb25nPWV9ZnVuY3Rpb24gUnAodCl7dGhpcy5fYnl0ZVN0cmluZz10fWZ1bmN0aW9uIHhwKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7KytuKWlmKDA9PT10W25dLmxlbmd0aCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgZmllbGQgbmFtZSBhdCBhcmd1bWVudCAkKGkgKyAxKS4gRmllbGQgbmFtZXMgbXVzdCBub3QgYmUgZW1wdHkuXCIpO3RoaXMuX2ludGVybmFsUGF0aD1uZXcgbmkodCl9ZnVuY3Rpb24gT3AodCl7c3dpdGNoKHQpe2Nhc2UgMDpjYXNlIDI6Y2FzZSAxOnJldHVybiAxO2Nhc2UgMzpjYXNlIDQ6cmV0dXJuO2RlZmF1bHQ6dGhyb3cgVnIoKX19dmFyIExwPShPYmplY3QuZGVmaW5lUHJvcGVydHkoRnAucHJvdG90eXBlLFwicGF0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy5wYXRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcC5wcm90b3R5cGUsXCJ4Y1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXR0aW5ncy54Y30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxGcC5wcm90b3R5cGUuRmM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBGcChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdGhpcy5zZXR0aW5ncyksdCksdGhpcy5kYXRhYmFzZUlkLHRoaXMuUix0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsdGhpcy5maWVsZFRyYW5zZm9ybXMsdGhpcy5maWVsZE1hc2spfSxGcC5wcm90b3R5cGUua2M9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbD09PShlPXRoaXMucGF0aCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2hpbGQodCksZT10aGlzLkZjKHtwYXRoOmUsT2M6ITF9KTtyZXR1cm4gZS4kYyh0KSxlfSxGcC5wcm90b3R5cGUuTWM9ZnVuY3Rpb24odCl7dmFyIGUsdD1udWxsPT09KGU9dGhpcy5wYXRoKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jaGlsZCh0KSx0PXRoaXMuRmMoe3BhdGg6dCxPYzohMX0pO3JldHVybiB0Lk5jKCksdH0sRnAucHJvdG90eXBlLkxjPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkZjKHtwYXRoOnZvaWQgMCxPYzohMH0pfSxGcC5wcm90b3R5cGUuQmM9ZnVuY3Rpb24odCl7cmV0dXJuIGZ5KHQsdGhpcy5zZXR0aW5ncy5tZXRob2ROYW1lLHRoaXMuc2V0dGluZ3MucWN8fCExLHRoaXMucGF0aCx0aGlzLnNldHRpbmdzLlVjKX0sRnAucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10aGlzLmZpZWxkTWFzay5maW5kKGZ1bmN0aW9uKHQpe3JldHVybiBlLmlzUHJlZml4T2YodCl9KXx8dm9pZCAwIT09dGhpcy5maWVsZFRyYW5zZm9ybXMuZmluZChmdW5jdGlvbih0KXtyZXR1cm4gZS5pc1ByZWZpeE9mKHQuZmllbGQpfSl9LEZwLnByb3RvdHlwZS5OYz1mdW5jdGlvbigpe2lmKHRoaXMucGF0aClmb3IodmFyIHQ9MDt0PHRoaXMucGF0aC5sZW5ndGg7dCsrKXRoaXMuJGModGhpcy5wYXRoLmdldCh0KSl9LEZwLnByb3RvdHlwZS4kYz1mdW5jdGlvbih0KXtpZigwPT09dC5sZW5ndGgpdGhyb3cgdGhpcy5CYyhcIkRvY3VtZW50IGZpZWxkcyBtdXN0IG5vdCBiZSBlbXB0eVwiKTtpZihPcCh0aGlzLnhjKSYmU3AudGVzdCh0KSl0aHJvdyB0aGlzLkJjKCdEb2N1bWVudCBmaWVsZHMgY2Fubm90IGJlZ2luIGFuZCBlbmQgd2l0aCBcIl9fXCInKX0sRnApLFBwPShNcC5wcm90b3R5cGUuUWM9ZnVuY3Rpb24odCxlLG4scil7cmV0dXJuIHZvaWQgMD09PXImJihyPSExKSxuZXcgTHAoe3hjOnQsbWV0aG9kTmFtZTplLFVjOm4scGF0aDpuaS5lbXB0eVBhdGgoKSxPYzohMSxxYzpyfSx0aGlzLmRhdGFiYXNlSWQsdGhpcy5SLHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyl9LE1wKTtmdW5jdGlvbiBNcCh0LGUsbil7dGhpcy5kYXRhYmFzZUlkPXQsdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPWUsdGhpcy5SPW58fGRsKHQpfWZ1bmN0aW9uIEZwKHQsZSxuLHIsaSxvKXt0aGlzLnNldHRpbmdzPXQsdGhpcy5kYXRhYmFzZUlkPWUsdGhpcy5SPW4sdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzPXIsdm9pZCAwPT09aSYmdGhpcy5OYygpLHRoaXMuZmllbGRUcmFuc2Zvcm1zPWl8fFtdLHRoaXMuZmllbGRNYXNrPW98fFtdfWZ1bmN0aW9uIFZwKHQpe3ZhciBlPXQuX2ZyZWV6ZVNldHRpbmdzKCksbj1kbCh0Ll9kYXRhYmFzZUlkKTtyZXR1cm4gbmV3IFBwKHQuX2RhdGFiYXNlSWQsISFlLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsbil9ZnVuY3Rpb24gVXAodCxlLG4scixpLG8pe3ZvaWQgMD09PW8mJihvPXt9KTt2YXIgcz10LlFjKG8ubWVyZ2V8fG8ubWVyZ2VGaWVsZHM/MjowLGUsbixpKTt1eShcIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6XCIscyxyKTt2YXIgYSx1LHI9c3kocixzKTtpZihvLm1lcmdlKWE9bmV3IHJpKHMuZmllbGRNYXNrKSx1PXMuZmllbGRUcmFuc2Zvcm1zO2Vsc2UgaWYoby5tZXJnZUZpZWxkcyl7Zm9yKHZhciBjPVtdLGg9MCxsPW8ubWVyZ2VGaWVsZHM7aDxsLmxlbmd0aDtoKyspe3ZhciBmPWN5KGUsbFtoXSxuKTtpZighcy5jb250YWlucyhmKSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkZpZWxkICdcIitmK1wiJyBpcyBzcGVjaWZpZWQgaW4geW91ciBmaWVsZCBtYXNrIGJ1dCBtaXNzaW5nIGZyb20geW91ciBpbnB1dCBkYXRhLlwiKTtkeShjLGYpfHxjLnB1c2goZil9YT1uZXcgcmkoYyksdT1zLmZpZWxkVHJhbnNmb3Jtcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIGEuY292ZXJzKHQuZmllbGQpfSl9ZWxzZSBhPW51bGwsdT1zLmZpZWxkVHJhbnNmb3JtcztyZXR1cm4gbmV3IEFwKG5ldyBPaShyKSxhLHUpfXZhciBxcCxCcD0obihqcCxxcD1JcCksanAucHJvdG90eXBlLl90b0ZpZWxkVHJhbnNmb3JtPWZ1bmN0aW9uKHQpe2lmKDIhPT10LnhjKXRocm93IDE9PT10LnhjP3QuQmModGhpcy5fbWV0aG9kTmFtZStcIigpIGNhbiBvbmx5IGFwcGVhciBhdCB0aGUgdG9wIGxldmVsIG9mIHlvdXIgdXBkYXRlIGRhdGFcIik6dC5CYyh0aGlzLl9tZXRob2ROYW1lK1wiKCkgY2Fubm90IGJlIHVzZWQgd2l0aCBzZXQoKSB1bmxlc3MgeW91IHBhc3Mge21lcmdlOnRydWV9XCIpO3JldHVybiB0LmZpZWxkTWFzay5wdXNoKHQucGF0aCksbnVsbH0sanAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBqcH0sanApO2Z1bmN0aW9uIGpwKCl7cmV0dXJuIG51bGwhPT1xcCYmcXAuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWZ1bmN0aW9uIEtwKHQsZSxuKXtyZXR1cm4gbmV3IExwKHt4YzozLFVjOmUuc2V0dGluZ3MuVWMsbWV0aG9kTmFtZTp0Ll9tZXRob2ROYW1lLE9jOm59LGUuZGF0YWJhc2VJZCxlLlIsZS5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzKX12YXIgR3AsUXAsenAsSHAsV3A9KG4oZXksSHA9SXApLGV5LnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG5zKHQucGF0aCxuZXcgQm8pfSxleS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGV5fSxleSksWXA9KG4odHksenA9SXApLHR5LnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT1LcCh0aGlzLHQsITApLG49dGhpcy5LYy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG95KHQsZSl9KSxuPW5ldyBqbyhuKTtyZXR1cm4gbmV3IG5zKHQucGF0aCxuKX0sdHkucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fSx0eSksWHA9KG4oWnAsUXA9SXApLFpwLnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT1LcCh0aGlzLHQsITApLG49dGhpcy5LYy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG95KHQsZSl9KSxuPW5ldyBIbyhuKTtyZXR1cm4gbmV3IG5zKHQucGF0aCxuKX0sWnAucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fSxacCksSnA9KG4oJHAsR3A9SXApLCRwLnByb3RvdHlwZS5fdG9GaWVsZFRyYW5zZm9ybT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgSm8odC5SLEZvKHQuUix0aGlzLmpjKSk7cmV0dXJuIG5ldyBucyh0LnBhdGgsZSl9LCRwLnByb3RvdHlwZS5pc0VxdWFsPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzPT09dH0sJHApO2Z1bmN0aW9uICRwKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1HcC5jYWxsKHRoaXMsdCl8fHRoaXMpLmpjPWUsbn1mdW5jdGlvbiBacCh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49UXAuY2FsbCh0aGlzLHQpfHx0aGlzKS5LYz1lLG59ZnVuY3Rpb24gdHkodCxlKXt2YXIgbj10aGlzO3JldHVybihuPXpwLmNhbGwodGhpcyx0KXx8dGhpcykuS2M9ZSxufWZ1bmN0aW9uIGV5KCl7cmV0dXJuIG51bGwhPT1IcCYmSHAuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfWZ1bmN0aW9uIG55KHQscixpLGUpe3ZhciBvPXQuUWMoMSxyLGkpO3V5KFwiRGF0YSBtdXN0IGJlIGFuIG9iamVjdCwgYnV0IGl0IHdhczpcIixvLGUpO3ZhciBzPVtdLGE9T2kuZW1wdHkoKTtYcihlLGZ1bmN0aW9uKHQsZSl7dmFyIG49bHkocix0LGkpO2U9dihlKTt0PW8uTWMobik7ZSBpbnN0YW5jZW9mIEJwP3MucHVzaChuKTpudWxsIT0odD1veShlLHQpKSYmKHMucHVzaChuKSxhLnNldChuLHQpKX0pO2U9bmV3IHJpKHMpO3JldHVybiBuZXcgTnAoYSxlLG8uZmllbGRUcmFuc2Zvcm1zKX1mdW5jdGlvbiByeSh0LGUsbixyLGksbyl7dmFyIHM9dC5RYygxLGUsbiksYT1bY3koZSxyLG4pXSx1PVtpXTtpZihvLmxlbmd0aCUyIT0wKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiRnVuY3Rpb24gXCIrZStcIigpIG5lZWRzIHRvIGJlIGNhbGxlZCB3aXRoIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cyB0aGF0IGFsdGVybmF0ZSBiZXR3ZWVuIGZpZWxkIG5hbWVzIGFuZCB2YWx1ZXMuXCIpO2Zvcih2YXIgYz0wO2M8by5sZW5ndGg7Yys9MilhLnB1c2goY3koZSxvW2NdKSksdS5wdXNoKG9bYysxXSk7Zm9yKHZhciBoLGwsZixkPVtdLHA9T2kuZW1wdHkoKSx5PWEubGVuZ3RoLTE7MDw9eTstLXkpZHkoZCxhW3ldKXx8KGg9YVt5XSxsPXYobD11W3ldKSxmPXMuTWMoaCksbCBpbnN0YW5jZW9mIEJwP2QucHVzaChoKTpudWxsIT0oZj1veShsLGYpKSYmKGQucHVzaChoKSxwLnNldChoLGYpKSk7aT1uZXcgcmkoZCk7cmV0dXJuIG5ldyBOcChwLGkscy5maWVsZFRyYW5zZm9ybXMpfWZ1bmN0aW9uIGl5KHQsZSxuLHIpe3JldHVybiB2b2lkIDA9PT1yJiYocj0hMSksb3kobix0LlFjKHI/NDozLGUpKX1mdW5jdGlvbiBveShzLHQpe2lmKGF5KHM9dihzKSkpcmV0dXJuIHV5KFwiVW5zdXBwb3J0ZWQgZmllbGQgdmFsdWU6XCIsdCxzKSxzeShzLHQpO2lmKHMgaW5zdGFuY2VvZiBJcClyZXR1cm4gZnVuY3Rpb24odCxlKXtpZighT3AoZS54YykpdGhyb3cgZS5CYyh0Ll9tZXRob2ROYW1lK1wiKCkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHVwZGF0ZSgpIGFuZCBzZXQoKVwiKTtpZighZS5wYXRoKXRocm93IGUuQmModC5fbWV0aG9kTmFtZStcIigpIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluc2lkZSBhcnJheXNcIik7dD10Ll90b0ZpZWxkVHJhbnNmb3JtKGUpO3QmJmUuZmllbGRUcmFuc2Zvcm1zLnB1c2godCl9KHMsdCksbnVsbDtpZih2b2lkIDA9PT1zJiZ0Lmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMpcmV0dXJuIG51bGw7aWYodC5wYXRoJiZ0LmZpZWxkTWFzay5wdXNoKHQucGF0aCkscyBpbnN0YW5jZW9mIEFycmF5KXtpZih0LnNldHRpbmdzLk9jJiY0IT09dC54Yyl0aHJvdyB0LkJjKFwiTmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm4gZnVuY3Rpb24odCl7Zm9yKHZhciBlPVtdLG49MCxyPTAsaT1zO3I8aS5sZW5ndGg7cisrKXt2YXIgbz1veShpW3JdLHQuTGMobikpO251bGw9PW8mJihvPXtudWxsVmFsdWU6XCJOVUxMX1ZBTFVFXCJ9KSxlLnB1c2gobyksbisrfXJldHVybnthcnJheVZhbHVlOnt2YWx1ZXM6ZX19fSh0KX1yZXR1cm4gZnVuY3Rpb24odCxlKXtpZihudWxsPT09KHQ9dih0KSkpcmV0dXJue251bGxWYWx1ZTpcIk5VTExfVkFMVUVcIn07aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpcmV0dXJuIEZvKGUuUix0KTtpZihcImJvb2xlYW5cIj09dHlwZW9mIHQpcmV0dXJue2Jvb2xlYW5WYWx1ZTp0fTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm57c3RyaW5nVmFsdWU6dH07aWYodCBpbnN0YW5jZW9mIERhdGUpe3ZhciBuPVFyLmZyb21EYXRlKHQpO3JldHVybnt0aW1lc3RhbXBWYWx1ZTphYShlLlIsbil9fWlmKHQgaW5zdGFuY2VvZiBRcilyZXR1cm4gbj1uZXcgUXIodC5zZWNvbmRzLDFlMypNYXRoLmZsb29yKHQubmFub3NlY29uZHMvMWUzKSkse3RpbWVzdGFtcFZhbHVlOmFhKGUuUixuKX07aWYodCBpbnN0YW5jZW9mIF9wKXJldHVybntnZW9Qb2ludFZhbHVlOntsYXRpdHVkZTp0LmxhdGl0dWRlLGxvbmdpdHVkZTp0LmxvbmdpdHVkZX19O2lmKHQgaW5zdGFuY2VvZiBUcClyZXR1cm57Ynl0ZXNWYWx1ZTp1YShlLlIsdC5fYnl0ZVN0cmluZyl9O2lmKHQgaW5zdGFuY2VvZiBKZCl7dmFyIG49ZS5kYXRhYmFzZUlkLHI9dC5maXJlc3RvcmUuX2RhdGFiYXNlSWQ7aWYoIXIuaXNFcXVhbChuKSl0aHJvdyBlLkJjKFwiRG9jdW1lbnQgcmVmZXJlbmNlIGlzIGZvciBkYXRhYmFzZSBcIityLnByb2plY3RJZCtcIi9cIityLmRhdGFiYXNlK1wiIGJ1dCBzaG91bGQgYmUgZm9yIGRhdGFiYXNlIFwiK24ucHJvamVjdElkK1wiL1wiK24uZGF0YWJhc2UpO3JldHVybntyZWZlcmVuY2VWYWx1ZTpoYSh0LmZpcmVzdG9yZS5fZGF0YWJhc2VJZHx8ZS5kYXRhYmFzZUlkLHQuX2tleS5wYXRoKX19dGhyb3cgZS5CYyhcIlVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOiBcIitRZCh0KSl9KHMsdCl9ZnVuY3Rpb24gc3kodCxuKXt2YXIgcj17fTtyZXR1cm4gSnIodCk/bi5wYXRoJiYwPG4ucGF0aC5sZW5ndGgmJm4uZmllbGRNYXNrLnB1c2gobi5wYXRoKTpYcih0LGZ1bmN0aW9uKHQsZSl7ZT1veShlLG4ua2ModCkpO251bGwhPWUmJihyW3RdPWUpfSkse21hcFZhbHVlOntmaWVsZHM6cn19fWZ1bmN0aW9uIGF5KHQpe3JldHVybiEoXCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGw9PT10fHx0IGluc3RhbmNlb2YgQXJyYXl8fHQgaW5zdGFuY2VvZiBEYXRlfHx0IGluc3RhbmNlb2YgUXJ8fHQgaW5zdGFuY2VvZiBfcHx8dCBpbnN0YW5jZW9mIFRwfHx0IGluc3RhbmNlb2YgSmR8fHQgaW5zdGFuY2VvZiBJcCl9ZnVuY3Rpb24gdXkodCxlLG4pe2lmKCFheShuKXx8KFwib2JqZWN0XCIhPXR5cGVvZihyPW4pfHxudWxsPT09cnx8T2JqZWN0LmdldFByb3RvdHlwZU9mKHIpIT09T2JqZWN0LnByb3RvdHlwZSYmbnVsbCE9PU9iamVjdC5nZXRQcm90b3R5cGVPZihyKSkpe249UWQobik7dGhyb3dcImFuIG9iamVjdFwiPT09bj9lLkJjKHQrXCIgYSBjdXN0b20gb2JqZWN0XCIpOmUuQmModCtcIiBcIituKX12YXIgcn1mdW5jdGlvbiBjeSh0LGUsbil7aWYoKGU9dihlKSlpbnN0YW5jZW9mIEVwKXJldHVybiBlLl9pbnRlcm5hbFBhdGg7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGx5KHQsZSk7dGhyb3cgZnkoXCJGaWVsZCBwYXRoIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nIG9yIEZpZWxkUGF0aC5cIix0LCExLHZvaWQgMCxuKX12YXIgaHk9bmV3IFJlZ0V4cChcIlt+XFxcXCovXFxcXFtcXFxcXV1cIik7ZnVuY3Rpb24gbHkoZSxuLHIpe2lmKDA8PW4uc2VhcmNoKGh5KSl0aHJvdyBmeShcIkludmFsaWQgZmllbGQgcGF0aCAoXCIrbitcIikuIFBhdGhzIG11c3Qgbm90IGNvbnRhaW4gJ34nLCAnKicsICcvJywgJ1snLCBvciAnXSdcIixlLCExLHZvaWQgMCxyKTt0cnl7cmV0dXJuKG5ldyhFcC5iaW5kLmFwcGx5KEVwLHMoW3ZvaWQgMF0sbi5zcGxpdChcIi5cIikpKSkpLl9pbnRlcm5hbFBhdGh9Y2F0Y2godCl7dGhyb3cgZnkoXCJJbnZhbGlkIGZpZWxkIHBhdGggKFwiK24rXCIpLiBQYXRocyBtdXN0IG5vdCBiZSBlbXB0eSwgYmVnaW4gd2l0aCAnLicsIGVuZCB3aXRoICcuJywgb3IgY29udGFpbiAnLi4nXCIsZSwhMSx2b2lkIDAscil9fWZ1bmN0aW9uIGZ5KHQsZSxuLHIsaSl7dmFyIG89ciYmIXIuaXNFbXB0eSgpLHM9dm9pZCAwIT09aSxlPVwiRnVuY3Rpb24gXCIrZStcIigpIGNhbGxlZCB3aXRoIGludmFsaWQgZGF0YVwiO24mJihlKz1cIiAodmlhIGB0b0ZpcmVzdG9yZSgpYClcIik7bj1cIlwiO3JldHVybihvfHxzKSYmKG4rPVwiIChmb3VuZFwiLG8mJihuKz1cIiBpbiBmaWVsZCBcIityKSxzJiYobis9XCIgaW4gZG9jdW1lbnQgXCIraSksbis9XCIpXCIpLG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULChlKz1cIi4gXCIpK3Qrbil9ZnVuY3Rpb24gZHkodCxlKXtyZXR1cm4gdC5zb21lKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlzRXF1YWwoZSl9KX12YXIgcHkseXk9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2eS5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2V5LnBhdGgubGFzdFNlZ21lbnQoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodnkucHJvdG90eXBlLFwicmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgSmQodGhpcy5fZmlyZXN0b3JlLHRoaXMuX2NvbnZlcnRlcix0aGlzLl9rZXkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHZ5LnByb3RvdHlwZS5leGlzdHM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuX2RvY3VtZW50fSx2eS5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbigpe2lmKHRoaXMuX2RvY3VtZW50KXtpZih0aGlzLl9jb252ZXJ0ZXIpe3ZhciB0PW5ldyBneSh0aGlzLl9maXJlc3RvcmUsdGhpcy5fdXNlckRhdGFXcml0ZXIsdGhpcy5fa2V5LHRoaXMuX2RvY3VtZW50LG51bGwpO3JldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZSh0KX1yZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHRoaXMuX2RvY3VtZW50LmRhdGEudG9Qcm90bygpKX19LHZ5LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5fZG9jdW1lbnQpe3Q9dGhpcy5fZG9jdW1lbnQuZGF0YS5maWVsZChieShcIkRvY3VtZW50U25hcHNob3QuZ2V0XCIsdCkpO2lmKG51bGwhPT10KXJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodCl9fSx2eSksZ3k9KG4obXkscHk9eXkpLG15LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHB5LnByb3RvdHlwZS5kYXRhLmNhbGwodGhpcyl9LG15KTtmdW5jdGlvbiBteSgpe3JldHVybiBudWxsIT09cHkmJnB5LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiB2eSh0LGUsbixyLGkpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX3VzZXJEYXRhV3JpdGVyPWUsdGhpcy5fa2V5PW4sdGhpcy5fZG9jdW1lbnQ9cix0aGlzLl9jb252ZXJ0ZXI9aX1mdW5jdGlvbiBieSh0LGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2x5KHQsZSk6KGUgaW5zdGFuY2VvZiBFcD9lOmUuX2RlbGVnYXRlKS5faW50ZXJuYWxQYXRofXZhciB3eSxFeSxUeT0oQ3kucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaGFzUGVuZGluZ1dyaXRlcz09PXQuaGFzUGVuZGluZ1dyaXRlcyYmdGhpcy5mcm9tQ2FjaGU9PT10LmZyb21DYWNoZX0sQ3kpLEl5PShuKER5LEV5PXl5KSxEeS5wcm90b3R5cGUuZXhpc3RzPWZ1bmN0aW9uKCl7cmV0dXJuIEV5LnByb3RvdHlwZS5leGlzdHMuY2FsbCh0aGlzKX0sRHkucHJvdG90eXBlLmRhdGE9ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCYmKHQ9e30pLHRoaXMuX2RvY3VtZW50KXtpZih0aGlzLl9jb252ZXJ0ZXIpe3ZhciBlPW5ldyBfeSh0aGlzLl9maXJlc3RvcmUsdGhpcy5fdXNlckRhdGFXcml0ZXIsdGhpcy5fa2V5LHRoaXMuX2RvY3VtZW50LHRoaXMubWV0YWRhdGEsbnVsbCk7cmV0dXJuIHRoaXMuX2NvbnZlcnRlci5mcm9tRmlyZXN0b3JlKGUsdCl9cmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0aGlzLl9kb2N1bWVudC5kYXRhLnRvUHJvdG8oKSx0LnNlcnZlclRpbWVzdGFtcHMpfX0sRHkucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPXt9KSx0aGlzLl9kb2N1bWVudCl7dD10aGlzLl9kb2N1bWVudC5kYXRhLmZpZWxkKGJ5KFwiRG9jdW1lbnRTbmFwc2hvdC5nZXRcIix0KSk7aWYobnVsbCE9PXQpcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0LGUuc2VydmVyVGltZXN0YW1wcyl9fSxEeSksX3k9KG4oTnksd3k9SXkpLE55LnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksd3kucHJvdG90eXBlLmRhdGEuY2FsbCh0aGlzLHQpfSxOeSksU3k9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBeS5wcm90b3R5cGUsXCJkb2NzXCIse2dldDpmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGUucHVzaCh0KX0pLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEF5LnByb3RvdHlwZSxcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NuYXBzaG90LmRvY3Muc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXkucHJvdG90eXBlLFwiZW1wdHlcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDA9PT10aGlzLnNpemV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksQXkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSxuKXt2YXIgcj10aGlzO3RoaXMuX3NuYXBzaG90LmRvY3MuZm9yRWFjaChmdW5jdGlvbih0KXtlLmNhbGwobixuZXcgX3koci5fZmlyZXN0b3JlLHIuX3VzZXJEYXRhV3JpdGVyLHQua2V5LHQsbmV3IFR5KHIuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyh0LmtleSksci5fc25hcHNob3QuZnJvbUNhY2hlKSxyLnF1ZXJ5LmNvbnZlcnRlcikpfSl9LEF5LnByb3RvdHlwZS5kb2NDaGFuZ2VzPWZ1bmN0aW9uKHQpe3Q9ISEodD12b2lkIDA9PT10P3t9OnQpLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXM7aWYodCYmdGhpcy5fc25hcHNob3QuZXhjbHVkZXNNZXRhZGF0YUNoYW5nZXMpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJUbyBpbmNsdWRlIG1ldGFkYXRhIGNoYW5nZXMgd2l0aCB5b3VyIGRvY3VtZW50IGNoYW5nZXMsIHlvdSBtdXN0IGFsc28gcGFzcyB7IGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6dHJ1ZSB9IHRvIG9uU25hcHNob3QoKS5cIik7cmV0dXJuIHRoaXMuX2NhY2hlZENoYW5nZXMmJnRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzPT09dHx8KHRoaXMuX2NhY2hlZENoYW5nZXM9ZnVuY3Rpb24oaSxlKXtpZihpLl9zbmFwc2hvdC5vbGREb2NzLmlzRW1wdHkoKSl7dmFyIG49MDtyZXR1cm4gaS5fc25hcHNob3QuZG9jQ2hhbmdlcy5tYXAoZnVuY3Rpb24odCl7dmFyIGU9bmV3IF95KGkuX2ZpcmVzdG9yZSxpLl91c2VyRGF0YVdyaXRlcix0LmRvYy5rZXksdC5kb2MsbmV3IFR5KGkuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyh0LmRvYy5rZXkpLGkuX3NuYXBzaG90LmZyb21DYWNoZSksaS5xdWVyeS5jb252ZXJ0ZXIpO3JldHVybiB0LmRvYyx7dHlwZTpcImFkZGVkXCIsZG9jOmUsb2xkSW5kZXg6LTEsbmV3SW5kZXg6bisrfX0pfXZhciBvPWkuX3NuYXBzaG90Lm9sZERvY3M7cmV0dXJuIGkuX3NuYXBzaG90LmRvY0NoYW5nZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBlfHwzIT09dC50eXBlfSkubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBfeShpLl9maXJlc3RvcmUsaS5fdXNlckRhdGFXcml0ZXIsdC5kb2Mua2V5LHQuZG9jLG5ldyBUeShpLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXModC5kb2Mua2V5KSxpLl9zbmFwc2hvdC5mcm9tQ2FjaGUpLGkucXVlcnkuY29udmVydGVyKSxuPS0xLHI9LTE7cmV0dXJuIDAhPT10LnR5cGUmJihuPW8uaW5kZXhPZih0LmRvYy5rZXkpLG89by5kZWxldGUodC5kb2Mua2V5KSksMSE9PXQudHlwZSYmKHI9KG89by5hZGQodC5kb2MpKS5pbmRleE9mKHQuZG9jLmtleSkpLHt0eXBlOmZ1bmN0aW9uKHQpe3N3aXRjaCh0KXtjYXNlIDA6cmV0dXJuXCJhZGRlZFwiO2Nhc2UgMjpjYXNlIDM6cmV0dXJuXCJtb2RpZmllZFwiO2Nhc2UgMTpyZXR1cm5cInJlbW92ZWRcIjtkZWZhdWx0OnJldHVybiBWcigpfX0odC50eXBlKSxkb2M6ZSxvbGRJbmRleDpuLG5ld0luZGV4OnJ9fSl9KHRoaXMsdCksdGhpcy5fY2FjaGVkQ2hhbmdlc0luY2x1ZGVNZXRhZGF0YUNoYW5nZXM9dCksdGhpcy5fY2FjaGVkQ2hhbmdlc30sQXkpO2Z1bmN0aW9uIEF5KHQsZSxuLHIpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX3VzZXJEYXRhV3JpdGVyPWUsdGhpcy5fc25hcHNob3Q9cix0aGlzLm1ldGFkYXRhPW5ldyBUeShyLmhhc1BlbmRpbmdXcml0ZXMsci5mcm9tQ2FjaGUpLHRoaXMucXVlcnk9bn1mdW5jdGlvbiBOeSgpe3JldHVybiBudWxsIT09d3kmJnd5LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiBEeSh0LGUsbixyLGksbyl7dmFyIHM9dGhpcztyZXR1cm4ocz1FeS5jYWxsKHRoaXMsdCxlLG4scixvKXx8dGhpcykuX2ZpcmVzdG9yZT10LHMuX2ZpcmVzdG9yZUltcGw9dCxzLm1ldGFkYXRhPWksc31mdW5jdGlvbiBDeSh0LGUpe3RoaXMuaGFzUGVuZGluZ1dyaXRlcz10LHRoaXMuZnJvbUNhY2hlPWV9ZnVuY3Rpb24ga3kodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIEl5JiZlIGluc3RhbmNlb2YgSXk/dC5fZmlyZXN0b3JlPT09ZS5fZmlyZXN0b3JlJiZ0Ll9rZXkuaXNFcXVhbChlLl9rZXkpJiYobnVsbD09PXQuX2RvY3VtZW50P251bGw9PT1lLl9kb2N1bWVudDp0Ll9kb2N1bWVudC5pc0VxdWFsKGUuX2RvY3VtZW50KSkmJnQuX2NvbnZlcnRlcj09PWUuX2NvbnZlcnRlcjp0IGluc3RhbmNlb2YgU3kmJmUgaW5zdGFuY2VvZiBTeSYmdC5fZmlyZXN0b3JlPT09ZS5fZmlyZXN0b3JlJiZ1cCh0LnF1ZXJ5LGUucXVlcnkpJiZ0Lm1ldGFkYXRhLmlzRXF1YWwoZS5tZXRhZGF0YSkmJnQuX3NuYXBzaG90LmlzRXF1YWwoZS5fc25hcHNob3QpfWZ1bmN0aW9uIFJ5KHQpe2lmKElvKHQpJiYwPT09dC5leHBsaWNpdE9yZGVyQnkubGVuZ3RoKXRocm93IG5ldyBrcihDci5VTklNUExFTUVOVEVELFwibGltaXRUb0xhc3QoKSBxdWVyaWVzIHJlcXVpcmUgc3BlY2lmeWluZyBhdCBsZWFzdCBvbmUgb3JkZXJCeSgpIGNsYXVzZVwiKX1TZT1mdW5jdGlvbigpe307ZnVuY3Rpb24geHkodCl7Zm9yKHZhciBlPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07Zm9yKHZhciByPTAsaT1lO3I8aS5sZW5ndGg7cisrKXQ9aVtyXS5fYXBwbHkodCk7cmV0dXJuIHR9dmFyIE95LEx5LFB5LE15LEZ5LFZ5PShuKEh5LEZ5PVNlKSxIeS5wcm90b3R5cGUuX2FwcGx5PWZ1bmN0aW9uKHQpe3ZhciBlPVZwKHQuZmlyZXN0b3JlKSxlPWZ1bmN0aW9uKHQsZSxuLHIsaSxvKXtpZihyLmlzS2V5RmllbGQoKSl7aWYoXCJhcnJheS1jb250YWluc1wiPT09aXx8XCJhcnJheS1jb250YWlucy1hbnlcIj09PWkpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJJbnZhbGlkIFF1ZXJ5LiBZb3UgY2FuJ3QgcGVyZm9ybSAnXCIraStcIicgcXVlcmllcyBvbiBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLlwiKTtpZihcImluXCI9PT1pfHxcIm5vdC1pblwiPT09aSl7WHkobyxpKTtmb3IodmFyIHM9W10sYT0wLHU9bzthPHUubGVuZ3RoO2ErKyl7dmFyIGM9dVthXTtzLnB1c2goWXkobix0LGMpKX1oPXthcnJheVZhbHVlOnt2YWx1ZXM6c319fWVsc2UgaD1ZeShuLHQsbyl9ZWxzZVwiaW5cIiE9PWkmJlwibm90LWluXCIhPT1pJiZcImFycmF5LWNvbnRhaW5zLWFueVwiIT09aXx8WHkobyxpKSxoPWl5KGUsXCJ3aGVyZVwiLG8sXCJpblwiPT09aXx8XCJub3QtaW5cIj09PWkpO3ZhciBoPUtpLmNyZWF0ZShyLGksaCk7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoZS5nKCkpe3ZhciBuPVNvKHQpO2lmKG51bGwhPT1uJiYhbi5pc0VxdWFsKGUuZmllbGQpKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gQWxsIHdoZXJlIGZpbHRlcnMgd2l0aCBhbiBpbmVxdWFsaXR5ICg8LCA8PSwgIT0sIG5vdC1pbiwgPiwgb3IgPj0pIG11c3QgYmUgb24gdGhlIHNhbWUgZmllbGQuIEJ1dCB5b3UgaGF2ZSBpbmVxdWFsaXR5IGZpbHRlcnMgb24gJ1wiK24udG9TdHJpbmcoKStcIicgYW5kICdcIitlLmZpZWxkLnRvU3RyaW5nKCkrXCInXCIpO249X28odCk7bnVsbCE9PW4mJkp5KDAsZS5maWVsZCxuKX10PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTAscj10LmZpbHRlcnM7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07aWYoMDw9ZS5pbmRleE9mKGkub3ApKXJldHVybiBpLm9wfXJldHVybiBudWxsfSh0LGZ1bmN0aW9uKCl7c3dpdGNoKGUub3Ape2Nhc2VcIiE9XCI6cmV0dXJuW1wiIT1cIixcIm5vdC1pblwiXTtjYXNlXCJhcnJheS1jb250YWluc1wiOnJldHVybltcImFycmF5LWNvbnRhaW5zXCIsXCJhcnJheS1jb250YWlucy1hbnlcIixcIm5vdC1pblwiXTtjYXNlXCJpblwiOnJldHVybltcImFycmF5LWNvbnRhaW5zLWFueVwiLFwiaW5cIixcIm5vdC1pblwiXTtjYXNlXCJhcnJheS1jb250YWlucy1hbnlcIjpyZXR1cm5bXCJhcnJheS1jb250YWluc1wiLFwiYXJyYXktY29udGFpbnMtYW55XCIsXCJpblwiLFwibm90LWluXCJdO2Nhc2VcIm5vdC1pblwiOnJldHVybltcImFycmF5LWNvbnRhaW5zXCIsXCJhcnJheS1jb250YWlucy1hbnlcIixcImluXCIsXCJub3QtaW5cIixcIiE9XCJdO2RlZmF1bHQ6cmV0dXJuW119fSgpKTtpZihudWxsIT09dCl0aHJvdyB0PT09ZS5vcD9uZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlIG1vcmUgdGhhbiBvbmUgJ1wiK2Uub3AudG9TdHJpbmcoKStcIicgZmlsdGVyLlwiKTpuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlICdcIitlLm9wLnRvU3RyaW5nKCkrXCInIGZpbHRlcnMgd2l0aCAnXCIrdC50b1N0cmluZygpK1wiJyBmaWx0ZXJzLlwiKX0odCxoKSxofSh0Ll9xdWVyeSxlLHQuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLHRoaXMuV2MsdGhpcy5HYyx0aGlzLnpjKTtyZXR1cm4gbmV3ICRkKHQuZmlyZXN0b3JlLHQuY29udmVydGVyLCh0PXQuX3F1ZXJ5LGU9dC5maWx0ZXJzLmNvbmNhdChbZV0pLG5ldyBibyh0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsdC5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSxlLHQubGltaXQsdC5saW1pdFR5cGUsdC5zdGFydEF0LHQuZW5kQXQpKSl9LEh5KSxVeT0obih6eSxNeT1TZSksenkucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbih0LGUsbil7aWYobnVsbCE9PXQuc3RhcnRBdCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBtdXN0IG5vdCBjYWxsIHN0YXJ0QXQoKSBvciBzdGFydEFmdGVyKCkgYmVmb3JlIGNhbGxpbmcgb3JkZXJCeSgpLlwiKTtpZihudWxsIT09dC5lbmRBdCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBtdXN0IG5vdCBjYWxsIGVuZEF0KCkgb3IgZW5kQmVmb3JlKCkgYmVmb3JlIGNhbGxpbmcgb3JkZXJCeSgpLlwiKTt2YXIgcj1uZXcgZ28oZSxuKTtyZXR1cm4gZT1yLG51bGwhPT1fbyhuPXQpfHxudWxsIT09KHQ9U28obikpJiZKeSgwLHQsZS5maWVsZCkscn0odC5fcXVlcnksdGhpcy5XYyx0aGlzLkhjKTtyZXR1cm4gbmV3ICRkKHQuZmlyZXN0b3JlLHQuY29udmVydGVyLCh0PXQuX3F1ZXJ5LGU9dC5leHBsaWNpdE9yZGVyQnkuY29uY2F0KFtlXSksbmV3IGJvKHQucGF0aCx0LmNvbGxlY3Rpb25Hcm91cCxlLHQuZmlsdGVycy5zbGljZSgpLHQubGltaXQsdC5saW1pdFR5cGUsdC5zdGFydEF0LHQuZW5kQXQpKSl9LHp5KSxxeT0obihReSxQeT1TZSksUXkucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3ICRkKHQuZmlyZXN0b3JlLHQuY29udmVydGVyLENvKHQuX3F1ZXJ5LHRoaXMuSmMsdGhpcy5ZYykpfSxReSksQnk9KG4oR3ksTHk9U2UpLEd5LnByb3RvdHlwZS5fYXBwbHk9ZnVuY3Rpb24odCl7dmFyIGU9V3kodCx0aGlzLnR5cGUsdGhpcy5YYyx0aGlzLlpjKTtyZXR1cm4gbmV3ICRkKHQuZmlyZXN0b3JlLHQuY29udmVydGVyLCh0PXQuX3F1ZXJ5LGU9ZSxuZXcgYm8odC5wYXRoLHQuY29sbGVjdGlvbkdyb3VwLHQuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksdC5maWx0ZXJzLnNsaWNlKCksdC5saW1pdCx0LmxpbWl0VHlwZSxlLHQuZW5kQXQpKSl9LEd5KSxqeT0obihLeSxPeT1TZSksS3kucHJvdG90eXBlLl9hcHBseT1mdW5jdGlvbih0KXt2YXIgZT1XeSh0LHRoaXMudHlwZSx0aGlzLlhjLHRoaXMuWmMpO3JldHVybiBuZXcgJGQodC5maXJlc3RvcmUsdC5jb252ZXJ0ZXIsKHQ9dC5fcXVlcnksZT1lLG5ldyBibyh0LnBhdGgsdC5jb2xsZWN0aW9uR3JvdXAsdC5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSx0LmZpbHRlcnMuc2xpY2UoKSx0LmxpbWl0LHQubGltaXRUeXBlLHQuc3RhcnRBdCxlKSkpfSxLeSk7ZnVuY3Rpb24gS3kodCxlLG4pe3ZhciByPXRoaXM7cmV0dXJuKHI9T3kuY2FsbCh0aGlzKXx8dGhpcykudHlwZT10LHIuWGM9ZSxyLlpjPW4scn1mdW5jdGlvbiBHeSh0LGUsbil7dmFyIHI9dGhpcztyZXR1cm4ocj1MeS5jYWxsKHRoaXMpfHx0aGlzKS50eXBlPXQsci5YYz1lLHIuWmM9bixyfWZ1bmN0aW9uIFF5KHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPVB5LmNhbGwodGhpcyl8fHRoaXMpLnR5cGU9dCxyLkpjPWUsci5ZYz1uLHJ9ZnVuY3Rpb24genkodCxlKXt2YXIgbj10aGlzO3JldHVybihuPU15LmNhbGwodGhpcyl8fHRoaXMpLldjPXQsbi5IYz1lLG4udHlwZT1cIm9yZGVyQnlcIixufWZ1bmN0aW9uIEh5KHQsZSxuKXt2YXIgcj10aGlzO3JldHVybihyPUZ5LmNhbGwodGhpcyl8fHRoaXMpLldjPXQsci5HYz1lLHIuemM9bixyLnR5cGU9XCJ3aGVyZVwiLHJ9ZnVuY3Rpb24gV3kodCxjLGUsbil7aWYoZVswXT12KGVbMF0pLGVbMF1pbnN0YW5jZW9mIHl5KXJldHVybiBmdW5jdGlvbih0LGUsbixyKXtpZighbil0aHJvdyBuZXcga3IoQ3IuTk9UX0ZPVU5ELFwiQ2FuJ3QgdXNlIGEgRG9jdW1lbnRTbmFwc2hvdCB0aGF0IGRvZXNuJ3QgZXhpc3QgZm9yIFwiK2MrXCIoKS5cIik7Zm9yKHZhciBpPVtdLG89MCxzPU5vKHQpO288cy5sZW5ndGg7bysrKXt2YXIgYT1zW29dO2lmKGEuZmllbGQuaXNLZXlGaWVsZCgpKWkucHVzaChOaShlLG4ua2V5KSk7ZWxzZXt2YXIgdT1uLmRhdGEuZmllbGQoYS5maWVsZCk7aWYocGkodSkpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsJ0ludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCBcIicrYS5maWVsZCsnXCIgaXMgYW4gdW5jb21taXR0ZWQgc2VydmVyIHRpbWVzdGFtcC4gKFNpbmNlIHRoZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGlzIHVua25vd24sIHlvdSBjYW5ub3Qgc3RhcnQvZW5kIGEgcXVlcnkgd2l0aCBpdC4pJyk7aWYobnVsbD09PXUpe2E9YS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKTt0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCAnXCIrYStcIicgKHVzZWQgYXMgdGhlIG9yZGVyQnkpIGRvZXMgbm90IGV4aXN0LlwiKX1pLnB1c2godSl9fXJldHVybiBuZXcgY28oaSxyKX0odC5fcXVlcnksdC5maXJlc3RvcmUuX2RhdGFiYXNlSWQsZVswXS5fZG9jdW1lbnQsbik7dmFyIHI9VnAodC5maXJlc3RvcmUpO3JldHVybiBmdW5jdGlvbih0LGUsbixyLGksbyl7dmFyIHM9dC5leHBsaWNpdE9yZGVyQnk7aWYoaS5sZW5ndGg+cy5sZW5ndGgpdGhyb3cgbmV3IGtyKENyLklOVkFMSURfQVJHVU1FTlQsXCJUb28gbWFueSBhcmd1bWVudHMgcHJvdmlkZWQgdG8gXCIrcitcIigpLiBUaGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgbnVtYmVyIG9mIG9yZGVyQnkoKSBjbGF1c2VzXCIpO2Zvcih2YXIgYT1bXSx1PTA7dTxpLmxlbmd0aDt1Kyspe3ZhciBjPWlbdV07aWYoc1t1XS5maWVsZC5pc0tleUZpZWxkKCkpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBjKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gRXhwZWN0ZWQgYSBzdHJpbmcgZm9yIGRvY3VtZW50IElEIGluIFwiK3IrXCIoKSwgYnV0IGdvdCBhIFwiK3R5cGVvZiBjKTtpZighQW8odCkmJi0xIT09Yy5pbmRleE9mKFwiL1wiKSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGFuZCBvcmRlcmluZyBieSBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcGFzc2VkIHRvIFwiK3IrXCIoKSBtdXN0IGJlIGEgcGxhaW4gZG9jdW1lbnQgSUQsIGJ1dCAnXCIrYytcIicgY29udGFpbnMgYSBzbGFzaC5cIik7dmFyIGg9dC5wYXRoLmNoaWxkKHRpLmZyb21TdHJpbmcoYykpO2lmKCFiaS5pc0RvY3VtZW50S2V5KGgpKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYW5kIG9yZGVyaW5nIGJ5IEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHRoZSB2YWx1ZSBwYXNzZWQgdG8gXCIrcitcIigpIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICdcIitoK1wiJyBpcyBub3QgYmVjYXVzZSBpdCBjb250YWlucyBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzLlwiKTtoPW5ldyBiaShoKTthLnB1c2goTmkoZSxoKSl9ZWxzZXtjPWl5KG4scixjKTthLnB1c2goYyl9fXJldHVybiBuZXcgY28oYSxvKX0odC5fcXVlcnksdC5maXJlc3RvcmUuX2RhdGFiYXNlSWQscixjLGUsbil9ZnVuY3Rpb24gWXkodCxlLG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZihuPXYobikpKXtpZihcIlwiPT09bil0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBGaWVsZFBhdGguZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgdmFsaWQgZG9jdW1lbnQgSUQsIGJ1dCBpdCB3YXMgYW4gZW1wdHkgc3RyaW5nLlwiKTtpZighQW8oZSkmJi0xIT09bi5pbmRleE9mKFwiL1wiKSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGJ5IEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSBwbGFpbiBkb2N1bWVudCBJRCwgYnV0ICdcIituK1wiJyBjb250YWlucyBhICcvJyBjaGFyYWN0ZXIuXCIpO2U9ZS5wYXRoLmNoaWxkKHRpLmZyb21TdHJpbmcobikpO2lmKCFiaS5pc0RvY3VtZW50S2V5KGUpKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYnkgRmllbGRQYXRoLmRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHByb3ZpZGVkIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICdcIitlK1wiJyBpcyBub3QgYmVjYXVzZSBpdCBoYXMgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cyAoXCIrZS5sZW5ndGgrXCIpLlwiKTtyZXR1cm4gTmkodCxuZXcgYmkoZSkpfWlmKG4gaW5zdGFuY2VvZiBKZClyZXR1cm4gTmkodCxuLl9rZXkpO3Rocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyB3aXRoIEZpZWxkUGF0aC5kb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBzdHJpbmcgb3IgYSBEb2N1bWVudFJlZmVyZW5jZSwgYnV0IGl0IHdhczogXCIrUWQobikrXCIuXCIpfWZ1bmN0aW9uIFh5KHQsZSl7aWYoIUFycmF5LmlzQXJyYXkodCl8fDA9PT10Lmxlbmd0aCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgUXVlcnkuIEEgbm9uLWVtcHR5IGFycmF5IGlzIHJlcXVpcmVkIGZvciAnXCIrZS50b1N0cmluZygpK1wiJyBmaWx0ZXJzLlwiKTtpZigxMDx0Lmxlbmd0aCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgUXVlcnkuICdcIitlLnRvU3RyaW5nKCkrXCInIGZpbHRlcnMgc3VwcG9ydCBhIG1heGltdW0gb2YgMTAgZWxlbWVudHMgaW4gdGhlIHZhbHVlIGFycmF5LlwiKX1mdW5jdGlvbiBKeSh0LGUsbil7aWYoIW4uaXNFcXVhbChlKSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgcXVlcnkuIFlvdSBoYXZlIGEgd2hlcmUgZmlsdGVyIHdpdGggYW4gaW5lcXVhbGl0eSAoPCwgPD0sICE9LCBub3QtaW4sID4sIG9yID49KSBvbiBmaWVsZCAnXCIrZS50b1N0cmluZygpK1wiJyBhbmQgc28geW91IG11c3QgYWxzbyB1c2UgJ1wiK2UudG9TdHJpbmcoKStcIicgYXMgeW91ciBmaXJzdCBhcmd1bWVudCB0byBvcmRlckJ5KCksIGJ1dCB5b3VyIGZpcnN0IG9yZGVyQnkoKSBpcyBvbiBmaWVsZCAnXCIrbi50b1N0cmluZygpK1wiJyBpbnN0ZWFkLlwiKX0keS5wcm90b3R5cGUuY29udmVydFZhbHVlPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKHZvaWQgMD09PWUmJihlPVwibm9uZVwiKSxFaSh0KSl7Y2FzZSAwOnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm4gdC5ib29sZWFuVmFsdWU7Y2FzZSAyOnJldHVybiBmaSh0LmludGVnZXJWYWx1ZXx8dC5kb3VibGVWYWx1ZSk7Y2FzZSAzOnJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAodC50aW1lc3RhbXBWYWx1ZSk7Y2FzZSA0OnJldHVybiB0aGlzLmNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXAodCxlKTtjYXNlIDU6cmV0dXJuIHQuc3RyaW5nVmFsdWU7Y2FzZSA2OnJldHVybiB0aGlzLmNvbnZlcnRCeXRlcyhkaSh0LmJ5dGVzVmFsdWUpKTtjYXNlIDc6cmV0dXJuIHRoaXMuY29udmVydFJlZmVyZW5jZSh0LnJlZmVyZW5jZVZhbHVlKTtjYXNlIDg6cmV0dXJuIHRoaXMuY29udmVydEdlb1BvaW50KHQuZ2VvUG9pbnRWYWx1ZSk7Y2FzZSA5OnJldHVybiB0aGlzLmNvbnZlcnRBcnJheSh0LmFycmF5VmFsdWUsZSk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5jb252ZXJ0T2JqZWN0KHQubWFwVmFsdWUsZSk7ZGVmYXVsdDp0aHJvdyBWcigpfX0sJHkucHJvdG90eXBlLmNvbnZlcnRPYmplY3Q9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzLGk9e307cmV0dXJuIFhyKHQuZmllbGRzfHx7fSxmdW5jdGlvbih0LGUpe2lbdF09ci5jb252ZXJ0VmFsdWUoZSxuKX0pLGl9LCR5LnByb3RvdHlwZS5jb252ZXJ0R2VvUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBfcChmaSh0LmxhdGl0dWRlKSxmaSh0LmxvbmdpdHVkZSkpfSwkeS5wcm90b3R5cGUuY29udmVydEFycmF5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcztyZXR1cm4odC52YWx1ZXN8fFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uY29udmVydFZhbHVlKHQsZSl9KX0sJHkucHJvdG90eXBlLmNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXA9ZnVuY3Rpb24odCxlKXtzd2l0Y2goZSl7Y2FzZVwicHJldmlvdXNcIjp2YXIgbj1mdW5jdGlvbiB0KGUpe2U9ZS5tYXBWYWx1ZS5maWVsZHMuX19wcmV2aW91c192YWx1ZV9fO3JldHVybiBwaShlKT90KGUpOmV9KHQpO3JldHVybiBudWxsPT1uP251bGw6dGhpcy5jb252ZXJ0VmFsdWUobixlKTtjYXNlXCJlc3RpbWF0ZVwiOnJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoeWkodCkpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fSwkeS5wcm90b3R5cGUuY29udmVydFRpbWVzdGFtcD1mdW5jdGlvbih0KXt0PWxpKHQpO3JldHVybiBuZXcgUXIodC5zZWNvbmRzLHQubmFub3MpfSwkeS5wcm90b3R5cGUuY29udmVydERvY3VtZW50S2V5PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGkuZnJvbVN0cmluZyh0KTtVcihSYShuKSk7dD1uZXcgTmQobi5nZXQoMSksbi5nZXQoMykpLG49bmV3IGJpKG4ucG9wRmlyc3QoNSkpO3JldHVybiB0LmlzRXF1YWwoZSl8fFByKFwiRG9jdW1lbnQgXCIrbitcIiBjb250YWlucyBhIGRvY3VtZW50IHJlZmVyZW5jZSB3aXRoaW4gYSBkaWZmZXJlbnQgZGF0YWJhc2UgKFwiK3QucHJvamVjdElkK1wiL1wiK3QuZGF0YWJhc2UrXCIpIHdoaWNoIGlzIG5vdCBzdXBwb3J0ZWQuIEl0IHdpbGwgYmUgdHJlYXRlZCBhcyBhIHJlZmVyZW5jZSBpbiB0aGUgY3VycmVudCBkYXRhYmFzZSAoXCIrZS5wcm9qZWN0SWQrXCIvXCIrZS5kYXRhYmFzZStcIikgaW5zdGVhZC5cIiksbn0sST0keTtmdW5jdGlvbiAkeSgpe31mdW5jdGlvbiBaeSh0LGUsbil7cmV0dXJuIHQ/biYmKG4ubWVyZ2V8fG4ubWVyZ2VGaWVsZHMpP3QudG9GaXJlc3RvcmUoZSxuKTp0LnRvRmlyZXN0b3JlKGUpOmV9dmFyIHRnLGVnPShuKGlnLHRnPUkpLGlnLnByb3RvdHlwZS5jb252ZXJ0Qnl0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBUcCh0KX0saWcucHJvdG90eXBlLmNvbnZlcnRSZWZlcmVuY2U9ZnVuY3Rpb24odCl7dD10aGlzLmNvbnZlcnREb2N1bWVudEtleSh0LHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkKTtyZXR1cm4gbmV3IEpkKHRoaXMuZmlyZXN0b3JlLG51bGwsdCl9LGlnKSxuZz0ocmcucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbil7dGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCk7dD1vZyh0LHRoaXMuX2ZpcmVzdG9yZSksZT1aeSh0LmNvbnZlcnRlcixlLG4pLG49VXAodGhpcy5fZGF0YVJlYWRlcixcIldyaXRlQmF0Y2guc2V0XCIsdC5fa2V5LGUsbnVsbCE9PXQuY29udmVydGVyLG4pO3JldHVybiB0aGlzLl9tdXRhdGlvbnMucHVzaChuLnRvTXV0YXRpb24odC5fa2V5LHJzLm5vbmUoKSkpLHRoaXN9LHJnLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLG4pe2Zvcih2YXIgcj1bXSxpPTM7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktM109YXJndW1lbnRzW2ldO3RoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpO3Q9b2codCx0aGlzLl9maXJlc3RvcmUpLGU9XCJzdHJpbmdcIj09dHlwZW9mKGU9dihlKSl8fGUgaW5zdGFuY2VvZiBFcD9yeSh0aGlzLl9kYXRhUmVhZGVyLFwiV3JpdGVCYXRjaC51cGRhdGVcIix0Ll9rZXksZSxuLHIpOm55KHRoaXMuX2RhdGFSZWFkZXIsXCJXcml0ZUJhdGNoLnVwZGF0ZVwiLHQuX2tleSxlKTtyZXR1cm4gdGhpcy5fbXV0YXRpb25zLnB1c2goZS50b011dGF0aW9uKHQuX2tleSxycy5leGlzdHMoITApKSksdGhpc30scmcucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKTt0PW9nKHQsdGhpcy5fZmlyZXN0b3JlKTtyZXR1cm4gdGhpcy5fbXV0YXRpb25zPXRoaXMuX211dGF0aW9ucy5jb25jYXQobmV3IFRzKHQuX2tleSxycy5ub25lKCkpKSx0aGlzfSxyZy5wcm90b3R5cGUuY29tbWl0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpLHRoaXMuX2NvbW1pdHRlZD0hMCwwPHRoaXMuX211dGF0aW9ucy5sZW5ndGg/dGhpcy5fY29tbWl0SGFuZGxlcih0aGlzLl9tdXRhdGlvbnMpOlByb21pc2UucmVzb2x2ZSgpfSxyZy5wcm90b3R5cGUuX3ZlcmlmeU5vdENvbW1pdHRlZD1mdW5jdGlvbigpe2lmKHRoaXMuX2NvbW1pdHRlZCl0aHJvdyBuZXcga3IoQ3IuRkFJTEVEX1BSRUNPTkRJVElPTixcIkEgd3JpdGUgYmF0Y2ggY2FuIG5vIGxvbmdlciBiZSB1c2VkIGFmdGVyIGNvbW1pdCgpIGhhcyBiZWVuIGNhbGxlZC5cIil9LHJnKTtmdW5jdGlvbiByZyh0LGUpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX2NvbW1pdEhhbmRsZXI9ZSx0aGlzLl9tdXRhdGlvbnM9W10sdGhpcy5fY29tbWl0dGVkPSExLHRoaXMuX2RhdGFSZWFkZXI9VnAodCl9ZnVuY3Rpb24gaWcodCl7dmFyIGU9dGhpcztyZXR1cm4oZT10Zy5jYWxsKHRoaXMpfHx0aGlzKS5maXJlc3RvcmU9dCxlfWZ1bmN0aW9uIG9nKHQsZSl7aWYoKHQ9dih0KSkuZmlyZXN0b3JlIT09ZSl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIlByb3ZpZGVkIGRvY3VtZW50IHJlZmVyZW5jZSBpcyBmcm9tIGEgZGlmZmVyZW50IEZpcmVzdG9yZSBpbnN0YW5jZS5cIik7cmV0dXJuIHR9dmFyIHNnLGFnPShuKHVnLHNnPUkpLHVnLnByb3RvdHlwZS5jb252ZXJ0Qnl0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBUcCh0KX0sdWcucHJvdG90eXBlLmNvbnZlcnRSZWZlcmVuY2U9ZnVuY3Rpb24odCl7dD10aGlzLmNvbnZlcnREb2N1bWVudEtleSh0LHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkKTtyZXR1cm4gbmV3IEpkKHRoaXMuZmlyZXN0b3JlLG51bGwsdCl9LHVnKTtmdW5jdGlvbiB1Zyh0KXt2YXIgZT10aGlzO3JldHVybihlPXNnLmNhbGwodGhpcyl8fHRoaXMpLmZpcmVzdG9yZT10LGV9ZnVuY3Rpb24gY2codCxlLG4pe2Zvcih2YXIgcj1bXSxpPTM7aTxhcmd1bWVudHMubGVuZ3RoO2krKylyW2ktM109YXJndW1lbnRzW2ldO3Q9emQodCxKZCk7dmFyIG89emQodC5maXJlc3RvcmUscHApLHM9VnAobyk7cmV0dXJuIGxnKG8sWyhcInN0cmluZ1wiPT10eXBlb2YoZT12KGUpKXx8ZSBpbnN0YW5jZW9mIEVwP3J5KHMsXCJ1cGRhdGVEb2NcIix0Ll9rZXksZSxuLHIpOm55KHMsXCJ1cGRhdGVEb2NcIix0Ll9rZXksZSkpLnRvTXV0YXRpb24odC5fa2V5LHJzLmV4aXN0cyghMCkpXSl9ZnVuY3Rpb24gaGcoZSl7Zm9yKHZhciBuPVtdLHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW5bdC0xXT1hcmd1bWVudHNbdF07ZT12KGUpO3ZhciByPXtpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiExfSxpPTA7XCJvYmplY3RcIiE9dHlwZW9mIG5baV18fGxwKG5baV0pfHwocj1uW2ldLGkrKyk7dmFyIG8scyxhLHUsYyxoLGw9e2luY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ci5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzfTtyZXR1cm4gbHAobltpXSkmJihvPW5baV0sbltpXT1udWxsPT09KHI9by5uZXh0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaW5kKG8pLG5baSsxXT1udWxsPT09KHI9by5lcnJvcil8fHZvaWQgMD09PXI/dm9pZCAwOnIuYmluZChvKSxuW2krMl09bnVsbD09PShyPW8uY29tcGxldGUpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpbmQobykpLGUgaW5zdGFuY2VvZiBKZD8oYT16ZChlLmZpcmVzdG9yZSxwcCksdT1FbyhlLl9rZXkucGF0aCksaD17bmV4dDpmdW5jdGlvbih0KXtuW2ldJiZuW2ldKGZnKGEsZSx0KSl9LGVycm9yOm5baSsxXSxjb21wbGV0ZTpuW2krMl19KToocz16ZChlLCRkKSxhPXpkKHMuZmlyZXN0b3JlLHBwKSx1PXMuX3F1ZXJ5LGM9bmV3IGFnKGEpLGg9e25leHQ6ZnVuY3Rpb24odCl7bltpXSYmbltpXShuZXcgU3koYSxjLHMsdCkpfSxlcnJvcjpuW2krMV0sY29tcGxldGU6bltpKzJdfSxSeShlLl9xdWVyeSkpLGZ1bmN0aW9uKG4sdCxlKXt2YXIgcj10aGlzLGk9bmV3IGlkKGgpLG89bmV3IGNmKHQsaSxlKTtyZXR1cm4gbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShyLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9c2YsWzQsVGQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCksb10pXX19KX0pfSksZnVuY3Rpb24oKXtpLldvKCksbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShyLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9YWYsWzQsVGQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCksb10pXX19KX0pfSl9fShtcChhKSx1LGwpfWZ1bmN0aW9uIGxnKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIHQ9dGhpcyxpPW5ldyBldTtyZXR1cm4gbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9TmYsWzQsRWQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscixpXSldfX0pfSl9KSxpLnByb21pc2V9KG1wKHQpLGUpfWZ1bmN0aW9uIGZnKHQsZSxuKXt2YXIgcj1uLmRvY3MuZ2V0KGUuX2tleSksaT1uZXcgYWcodCk7cmV0dXJuIG5ldyBJeSh0LGksZS5fa2V5LHIsbmV3IFR5KG4uaGFzUGVuZGluZ1dyaXRlcyxuLmZyb21DYWNoZSksZS5jb252ZXJ0ZXIpfXZhciBkZyxwZz0oZ2cucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49b2codCx0aGlzLl9maXJlc3RvcmUpLHI9bmV3IGVnKHRoaXMuX2ZpcmVzdG9yZSk7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmxvb2t1cChbbi5fa2V5XSkudGhlbihmdW5jdGlvbih0KXtpZighdHx8MSE9PXQubGVuZ3RoKXJldHVybiBWcigpO3Q9dFswXTtpZih0LmlzRm91bmREb2N1bWVudCgpKXJldHVybiBuZXcgeXkoZS5fZmlyZXN0b3JlLHIsdC5rZXksdCxuLmNvbnZlcnRlcik7aWYodC5pc05vRG9jdW1lbnQoKSlyZXR1cm4gbmV3IHl5KGUuX2ZpcmVzdG9yZSxyLG4uX2tleSxudWxsLG4uY29udmVydGVyKTt0aHJvdyBWcigpfSl9LGdnLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24odCxlLG4pe3Q9b2codCx0aGlzLl9maXJlc3RvcmUpLGU9WnkodC5jb252ZXJ0ZXIsZSxuKSxuPVVwKHRoaXMuX2RhdGFSZWFkZXIsXCJUcmFuc2FjdGlvbi5zZXRcIix0Ll9rZXksZSxudWxsIT09dC5jb252ZXJ0ZXIsbik7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLnNldCh0Ll9rZXksbiksdGhpc30sZ2cucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0zXT1hcmd1bWVudHNbaV07dD1vZyh0LHRoaXMuX2ZpcmVzdG9yZSksZT1cInN0cmluZ1wiPT10eXBlb2YoZT12KGUpKXx8ZSBpbnN0YW5jZW9mIEVwP3J5KHRoaXMuX2RhdGFSZWFkZXIsXCJUcmFuc2FjdGlvbi51cGRhdGVcIix0Ll9rZXksZSxuLHIpOm55KHRoaXMuX2RhdGFSZWFkZXIsXCJUcmFuc2FjdGlvbi51cGRhdGVcIix0Ll9rZXksZSk7cmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLnVwZGF0ZSh0Ll9rZXksZSksdGhpc30sZ2cucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0PW9nKHQsdGhpcy5fZmlyZXN0b3JlKTtyZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uZGVsZXRlKHQuX2tleSksdGhpc30sbih5ZyxkZz1nZykseWcucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49b2codCx0aGlzLl9maXJlc3RvcmUpLHI9bmV3IGFnKHRoaXMuX2ZpcmVzdG9yZSk7cmV0dXJuIGRnLnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBJeShlLl9maXJlc3RvcmUscixuLl9rZXksdC5fZG9jdW1lbnQsbmV3IFR5KCExLCExKSxuLmNvbnZlcnRlcil9KX0seWcpO2Z1bmN0aW9uIHlnKHQsZSl7dmFyIG49dGhpcztyZXR1cm4obj1kZy5jYWxsKHRoaXMsdCxlKXx8dGhpcykuX2ZpcmVzdG9yZT10LG59ZnVuY3Rpb24gZ2codCxlKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl90cmFuc2FjdGlvbj1lLHRoaXMuX2RhdGFSZWFkZXI9VnAodCl9ZnVuY3Rpb24gbWcoKXtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgVWludDhBcnJheSl0aHJvdyBuZXcga3IoQ3IuVU5JTVBMRU1FTlRFRCxcIlVpbnQ4QXJyYXlzIGFyZSBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQuXCIpfWZ1bmN0aW9uIHZnKCl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGF0b2IpdGhyb3cgbmV3IGtyKENyLlVOSU1QTEVNRU5URUQsXCJCbG9icyBhcmUgdW5hdmFpbGFibGUgaW4gRmlyZXN0b3JlIGluIHRoaXMgZW52aXJvbm1lbnQuXCIpfXZhciBiZyx3Zz0oTmcuZnJvbUJhc2U2NFN0cmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdmcoKSxuZXcgTmcoVHAuZnJvbUJhc2U2NFN0cmluZyh0KSl9LE5nLmZyb21VaW50OEFycmF5PWZ1bmN0aW9uKHQpe3JldHVybiBtZygpLG5ldyBOZyhUcC5mcm9tVWludDhBcnJheSh0KSl9LE5nLnByb3RvdHlwZS50b0Jhc2U2ND1mdW5jdGlvbigpe3JldHVybiB2ZygpLHRoaXMuX2RlbGVnYXRlLnRvQmFzZTY0KCl9LE5nLnByb3RvdHlwZS50b1VpbnQ4QXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gbWcoKSx0aGlzLl9kZWxlZ2F0ZS50b1VpbnQ4QXJyYXkoKX0sTmcucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlzRXF1YWwodC5fZGVsZWdhdGUpfSxOZy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIkJsb2IoYmFzZTY0OiBcIit0aGlzLnRvQmFzZTY0KCkrXCIpXCJ9LE5nKSxFZz0oQWcucHJvdG90eXBlLmVuYWJsZUluZGV4ZWREYlBlcnNpc3RlbmNlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7d3AodD16ZCh0LHBwKSk7dmFyIG49bXAodCkscj10Ll9mcmVlemVTZXR0aW5ncygpLHQ9bmV3ICRmO3JldHVybiBicChuLHQsbmV3IFhmKHQsci5jYWNoZVNpemVCeXRlcyxudWxsPT1lP3ZvaWQgMDplLmZvcmNlT3duZXJzaGlwKSl9KHQuX2RlbGVnYXRlLHtmb3JjZU93bmVyc2hpcDplfSl9LEFnLnByb3RvdHlwZS5lbmFibGVNdWx0aVRhYkluZGV4ZWREYlBlcnNpc3RlbmNlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbih0KXt3cCh0PXpkKHQscHApKTt2YXIgZT1tcCh0KSxuPXQuX2ZyZWV6ZVNldHRpbmdzKCksdD1uZXcgJGY7cmV0dXJuIGJwKGUsdCxuZXcgSmYodCxuLmNhY2hlU2l6ZUJ5dGVzKSl9KHQuX2RlbGVnYXRlKX0sQWcucHJvdG90eXBlLmNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciB0PXRoaXM7aWYobi5faW5pdGlhbGl6ZWQmJiFuLl90ZXJtaW5hdGVkKXRocm93IG5ldyBrcihDci5GQUlMRURfUFJFQ09ORElUSU9OLFwiUGVyc2lzdGVuY2UgY2FuIG9ubHkgYmUgY2xlYXJlZCBiZWZvcmUgYSBGaXJlc3RvcmUgaW5zdGFuY2UgaXMgaW5pdGlhbGl6ZWQgb3IgYWZ0ZXIgaXQgaXMgdGVybWluYXRlZC5cIik7dmFyIHI9bmV3IGV1O3JldHVybiBuLl9xdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdC50cnlzLnB1c2goWzAsMiwsM10pLFs0LGZ1bmN0aW9uKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gaXUueXQoKT8oZT1uK1wibWFpblwiLFs0LGl1LmRlbGV0ZShlKV0pOlsyLFByb21pc2UucmVzb2x2ZSgpXTtjYXNlIDE6cmV0dXJuIHQuc2VudCgpLFsyXX19KX0pfShRYyhuLl9kYXRhYmFzZUlkLG4uX3BlcnNpc3RlbmNlS2V5KSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksci5yZXNvbHZlKCksWzMsM107Y2FzZSAyOnJldHVybiBlPXQuc2VudCgpLHIucmVqZWN0KGUpLFszLDNdO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0pLHIucHJvbWlzZX0odC5fZGVsZWdhdGUpfSxBZyksVGc9KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZy5wcm90b3R5cGUsXCJfZGF0YWJhc2VJZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuX2RhdGFiYXNlSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksU2cucHJvdG90eXBlLnNldHRpbmdzPWZ1bmN0aW9uKHQpe3QubWVyZ2UmJmRlbGV0ZSh0PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx0aGlzLl9kZWxlZ2F0ZS5fZ2V0U2V0dGluZ3MoKSksdCkpLm1lcmdlLHRoaXMuX2RlbGVnYXRlLl9zZXRTZXR0aW5ncyh0KX0sU2cucHJvdG90eXBlLnVzZUVtdWxhdG9yPWZ1bmN0aW9uKHQsZSxuKXt2b2lkIDA9PT1uJiYobj17fSksZnVuY3Rpb24odCxlLG4scil7dm9pZCAwPT09ciYmKHI9e30pO3ZhciBpPSh0PXpkKHQsWGQpKS5fZ2V0U2V0dGluZ3MoKTtpZihcImZpcmVzdG9yZS5nb29nbGVhcGlzLmNvbVwiIT09aS5ob3N0JiZpLmhvc3QhPT1lJiZNcihcIkhvc3QgaGFzIGJlZW4gc2V0IGluIGJvdGggc2V0dGluZ3MoKSBhbmQgdXNlRW11bGF0b3IoKSwgZW11bGF0b3IgaG9zdCB3aWxsIGJlIHVzZWRcIiksdC5fc2V0U2V0dGluZ3MoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGkpLHtob3N0OmUrXCI6XCIrbixzc2w6ITF9KSksci5tb2NrVXNlclRva2VuKXtuPWZ1bmN0aW9uKHQsZSl7aWYodC51aWQpdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJ1aWRcIiBmaWVsZCBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGJ5IG1vY2tVc2VyVG9rZW4uIFBsZWFzZSB1c2UgXCJzdWJcIiBpbnN0ZWFkIGZvciBGaXJlYmFzZSBBdXRoIFVzZXIgSUQuJyk7dmFyIG49ZXx8XCJkZW1vLXByb2plY3RcIixyPXQuaWF0fHwwO2lmKCEoZT10LnN1Ynx8dC51c2VyX2lkKSl0aHJvdyBuZXcgRXJyb3IoXCJtb2NrVXNlclRva2VuIG11c3QgY29udGFpbiAnc3ViJyBvciAndXNlcl9pZCcgZmllbGQhXCIpO3JldHVybiB0PW8oe2lzczpcImh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9cIituLGF1ZDpuLGlhdDpyLGV4cDpyKzM2MDAsYXV0aF90aW1lOnIsc3ViOmUsdXNlcl9pZDplLGZpcmViYXNlOntzaWduX2luX3Byb3ZpZGVyOlwiY3VzdG9tXCIsaWRlbnRpdGllczp7fX19LHQpLFthLmVuY29kZVN0cmluZyhKU09OLnN0cmluZ2lmeSh7YWxnOlwibm9uZVwiLHR5cGU6XCJKV1RcIn0pLCExKSxhLmVuY29kZVN0cmluZyhKU09OLnN0cmluZ2lmeSh0KSwhMSksXCJcIl0uam9pbihcIi5cIil9KHIubW9ja1VzZXJUb2tlbikscj1yLm1vY2tVc2VyVG9rZW4uc3VifHxyLm1vY2tVc2VyVG9rZW4udXNlcl9pZDtpZighcil0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIm1vY2tVc2VyVG9rZW4gbXVzdCBjb250YWluICdzdWInIG9yICd1c2VyX2lkJyBmaWVsZCFcIik7dC5fY3JlZGVudGlhbHM9bmV3IGtkKG5ldyBTZChuLG5ldyBTaChyKSkpfX0odGhpcy5fZGVsZWdhdGUsdCxlLG4pfSxTZy5wcm90b3R5cGUuZW5hYmxlTmV0d29yaz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihpKXt2YXIgdD10aGlzO3JldHVybiBpLmFzeW5jUXVldWUuZW5xdWV1ZShmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBuLHI7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHZkKGkpXTtjYXNlIDE6cmV0dXJuIG49dC5zZW50KCksWzQsd2QoaSldO2Nhc2UgMjpyZXR1cm4gcj10LnNlbnQoKSxbMiwobi5zZXROZXR3b3JrRW5hYmxlZCghMCksKGU9cikuJHIuZGVsZXRlKDApLENsKGUpKV19dmFyIGV9KX0pfSl9KG1wKHpkKHRoaXMuX2RlbGVnYXRlLHBwKSkpfSxTZy5wcm90b3R5cGUuZGlzYWJsZU5ldHdvcms9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9dGhpcztyZXR1cm4gci5hc3luY1F1ZXVlLmVucXVldWUoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZSxuO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx2ZChyKV07Y2FzZSAxOnJldHVybiBlPXQuc2VudCgpLFs0LHdkKHIpXTtjYXNlIDI6cmV0dXJuIG49dC5zZW50KCksWzIsKGUuc2V0TmV0d29ya0VuYWJsZWQoITEpLGZ1bmN0aW9uKG4pe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4oZT1uKS4kci5hZGQoMCksWzQsa2woZSldO2Nhc2UgMTpyZXR1cm4gdC5zZW50KCksZS5Cci5zZXQoXCJPZmZsaW5lXCIpLFsyXX19KX0pfShuKSldfX0pfSl9KX0obXAoemQodGhpcy5fZGVsZWdhdGUscHApKSl9LFNnLnByb3RvdHlwZS5lbmFibGVQZXJzaXN0ZW5jZT1mdW5jdGlvbih0KXt2YXIgZT0hMSxuPSExO3JldHVybiB0JiZqZChcInN5bmNocm9uaXplVGFic1wiLGU9ISF0LnN5bmNocm9uaXplVGFicyxcImV4cGVyaW1lbnRhbEZvcmNlT3duaW5nVGFiXCIsbj0hIXQuZXhwZXJpbWVudGFsRm9yY2VPd25pbmdUYWIpLGU/dGhpcy50YS5lbmFibGVNdWx0aVRhYkluZGV4ZWREYlBlcnNpc3RlbmNlKHRoaXMpOnRoaXMudGEuZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UodGhpcyxuKX0sU2cucHJvdG90eXBlLmNsZWFyUGVyc2lzdGVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YS5jbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKHRoaXMpfSxTZy5wcm90b3R5cGUudGVybWluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWEmJih0aGlzLmVhLl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoXCJmaXJlc3RvcmVcIiksdGhpcy5lYS5fcmVtb3ZlU2VydmljZUluc3RhbmNlKFwiZmlyZXN0b3JlLWV4cFwiKSksdGhpcy5fZGVsZWdhdGUuX2RlbGV0ZSgpfSxTZy5wcm90b3R5cGUud2FpdEZvclBlbmRpbmdXcml0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxyPW5ldyBldTtyZXR1cm4gbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9UmYsWzQsRWQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscl0pXX19KX0pfSksci5wcm9taXNlfShtcCh6ZCh0aGlzLl9kZWxlZ2F0ZSxwcCkpKX0sU2cucHJvdG90eXBlLm9uU25hcHNob3RzSW5TeW5jPWZ1bmN0aW9uKHQpe3JldHVybiBlPXRoaXMuX2RlbGVnYXRlLHQ9dCxmdW5jdGlvbihuLHQpe3ZhciBlPXRoaXMscj1uZXcgaWQodCk7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKHQsZSl7dC5Hci5hZGQoZSksZS5uZXh0KCl9LFs0LFRkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHJdKV19fSl9KX0pLGZ1bmN0aW9uKCl7ci5XbygpLG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKHQsZSl7dC5Hci5kZWxldGUoZSl9LFs0LFRkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHJdKV19fSl9KX0pfX0obXAoemQoZSxwcCkpLGxwKHQpP3Q6e25leHQ6dH0pO3ZhciBlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoU2cucHJvdG90eXBlLFwiYXBwXCIse2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLmVhKXRocm93IG5ldyBrcihDci5GQUlMRURfUFJFQ09ORElUSU9OLFwiRmlyZXN0b3JlIHdhcyBub3QgaW5pdGlhbGl6ZWQgdXNpbmcgdGhlIEZpcmViYXNlIFNESy4gJ2FwcCcgaXMgbm90IGF2YWlsYWJsZVwiKTtyZXR1cm4gdGhpcy5lYX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxTZy5wcm90b3R5cGUuY29sbGVjdGlvbj1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG5ldyB6Zyh0aGlzLG9wKHRoaXMuX2RlbGVnYXRlLHQpKX1jYXRjaCh0KXt0aHJvdyBNZyh0LFwiY29sbGVjdGlvbigpXCIsXCJGaXJlc3RvcmUuY29sbGVjdGlvbigpXCIpfX0sU2cucHJvdG90eXBlLmRvYz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG5ldyBMZyh0aGlzLHNwKHRoaXMuX2RlbGVnYXRlLHQpKX1jYXRjaCh0KXt0aHJvdyBNZyh0LFwiZG9jKClcIixcIkZpcmVzdG9yZS5kb2MoKVwiKX19LFNnLnByb3RvdHlwZS5jb2xsZWN0aW9uR3JvdXA9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuZXcgS2codGhpcyxmdW5jdGlvbih0LGUpe2lmKHQ9emQodCxYZCkscWQoXCJjb2xsZWN0aW9uR3JvdXBcIixcImNvbGxlY3Rpb24gaWRcIixlKSwwPD1lLmluZGV4T2YoXCIvXCIpKXRocm93IG5ldyBrcihDci5JTlZBTElEX0FSR1VNRU5ULFwiSW52YWxpZCBjb2xsZWN0aW9uIElEICdcIitlK1wiJyBwYXNzZWQgdG8gZnVuY3Rpb24gY29sbGVjdGlvbkdyb3VwKCkuIENvbGxlY3Rpb24gSURzIG11c3Qgbm90IGNvbnRhaW4gJy8nLlwiKTtyZXR1cm4gbmV3ICRkKHQsbnVsbCwoZT1lLG5ldyBibyh0aS5lbXB0eVBhdGgoKSxlKSkpfSh0aGlzLl9kZWxlZ2F0ZSx0KSl9Y2F0Y2godCl7dGhyb3cgTWcodCxcImNvbGxlY3Rpb25Hcm91cCgpXCIsXCJGaXJlc3RvcmUuY29sbGVjdGlvbkdyb3VwKClcIil9fSxTZy5wcm90b3R5cGUucnVuVHJhbnNhY3Rpb249ZnVuY3Rpb24oZSl7dmFyIG4scj10aGlzO3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciB0PXRoaXMsaT1uZXcgZXU7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybls0LG1kKG4pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YXN0b3JlfSldO2Nhc2UgMTpyZXR1cm4gZT10LnNlbnQoKSxuZXcgYWQobi5hc3luY1F1ZXVlLGUscixpKS5ydW4oKSxbMl19fSl9KX0pLGkucHJvbWlzZX0obXAobj10aGlzLl9kZWxlZ2F0ZSksZnVuY3Rpb24odCl7cmV0dXJuIHQ9bmV3IHBnKG4sdCksZShuZXcgRGcocix0KSl9KX0sU2cucHJvdG90eXBlLmJhdGNoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gbXAodGhpcy5fZGVsZWdhdGUpLG5ldyBDZyhuZXcgbmcodGhpcy5fZGVsZWdhdGUsZnVuY3Rpb24odCl7cmV0dXJuIGxnKGUuX2RlbGVnYXRlLHQpfSkpfSxTZy5wcm90b3R5cGUubG9hZEJ1bmRsZT1mdW5jdGlvbih0KXt0aHJvdyBuZXcga3IoQ3IuRkFJTEVEX1BSRUNPTkRJVElPTiwnXCJsb2FkQnVuZGxlKClcIiBkb2VzIG5vdCBleGlzdCwgaGF2ZSB5b3UgaW1wb3J0ZWQgXCJmaXJlYmFzZS9maXJlc3RvcmUvYnVuZGxlXCI/Jyl9LFNnLnByb3RvdHlwZS5uYW1lZFF1ZXJ5PWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBrcihDci5GQUlMRURfUFJFQ09ORElUSU9OLCdcIm5hbWVkUXVlcnkoKVwiIGRvZXMgbm90IGV4aXN0LCBoYXZlIHlvdSBpbXBvcnRlZCBcImZpcmViYXNlL2ZpcmVzdG9yZS9idW5kbGVcIj8nKX0sU2cpLElnPShuKF9nLGJnPUkpLF9nLnByb3RvdHlwZS5jb252ZXJ0Qnl0ZXM9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB3ZyhuZXcgVHAodCkpfSxfZy5wcm90b3R5cGUuY29udmVydFJlZmVyZW5jZT1mdW5jdGlvbih0KXt0PXRoaXMuY29udmVydERvY3VtZW50S2V5KHQsdGhpcy5maXJlc3RvcmUuX2RhdGFiYXNlSWQpO3JldHVybiBMZy5uYSh0LHRoaXMuZmlyZXN0b3JlLG51bGwpfSxfZyk7ZnVuY3Rpb24gX2codCl7dmFyIGU9dGhpcztyZXR1cm4oZT1iZy5jYWxsKHRoaXMpfHx0aGlzKS5maXJlc3RvcmU9dCxlfWZ1bmN0aW9uIFNnKHQsZSxuKXt2YXIgcj10aGlzO3RoaXMuX2RlbGVnYXRlPWUsdGhpcy50YT1uLHRoaXMuSU5URVJOQUw9e2RlbGV0ZTpmdW5jdGlvbigpe3JldHVybiByLnRlcm1pbmF0ZSgpfX0sdCBpbnN0YW5jZW9mIE5kfHwodGhpcy5lYT10KX1mdW5jdGlvbiBBZygpe31mdW5jdGlvbiBOZyh0KXt0aGlzLl9kZWxlZ2F0ZT10fXZhciBEZz0oT2cucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLG49WmcodCk7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmdldChuKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQmcoZS5fZmlyZXN0b3JlLG5ldyBJeShlLl9maXJlc3RvcmUuX2RlbGVnYXRlLGUuX3VzZXJEYXRhV3JpdGVyLHQuX2tleSx0Ll9kb2N1bWVudCx0Lm1ldGFkYXRhLG4uY29udmVydGVyKSl9KX0sT2cucHJvdG90eXBlLnNldD1mdW5jdGlvbih0LGUsbil7dD1aZyh0KTtyZXR1cm4gbj8oQmQoXCJUcmFuc2FjdGlvbi5zZXRcIixuKSx0aGlzLl9kZWxlZ2F0ZS5zZXQodCxlLG4pKTp0aGlzLl9kZWxlZ2F0ZS5zZXQodCxlKSx0aGlzfSxPZy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSxuKXtmb3IodmFyIHI9W10saT0zO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspcltpLTNdPWFyZ3VtZW50c1tpXTt2YXIgbz1aZyh0KTtyZXR1cm4gMj09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5fZGVsZWdhdGUudXBkYXRlKG8sZSk6KHQ9dGhpcy5fZGVsZWdhdGUpLnVwZGF0ZS5hcHBseSh0LHMoW28sZSxuXSxyKSksdGhpc30sT2cucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbih0KXt0PVpnKHQpO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5kZWxldGUodCksdGhpc30sT2cpLENnPSh4Zy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSxuKXt0PVpnKHQpO3JldHVybiBuPyhCZChcIldyaXRlQmF0Y2guc2V0XCIsbiksdGhpcy5fZGVsZWdhdGUuc2V0KHQsZSxuKSk6dGhpcy5fZGVsZWdhdGUuc2V0KHQsZSksdGhpc30seGcucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbih0LGUsbil7Zm9yKHZhciByPVtdLGk9MztpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXJbaS0zXT1hcmd1bWVudHNbaV07dmFyIG89WmcodCk7cmV0dXJuIDI9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMuX2RlbGVnYXRlLnVwZGF0ZShvLGUpOih0PXRoaXMuX2RlbGVnYXRlKS51cGRhdGUuYXBwbHkodCxzKFtvLGUsbl0scikpLHRoaXN9LHhnLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24odCl7dD1aZyh0KTtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZGVsZXRlKHQpLHRoaXN9LHhnLnByb3RvdHlwZS5jb21taXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuY29tbWl0KCl9LHhnKSxrZz0oUmcucHJvdG90eXBlLmZyb21GaXJlc3RvcmU9ZnVuY3Rpb24odCxlKXt0PW5ldyBfeSh0aGlzLl9maXJlc3RvcmUuX2RlbGVnYXRlLHRoaXMuX3VzZXJEYXRhV3JpdGVyLHQuX2tleSx0Ll9kb2N1bWVudCx0Lm1ldGFkYXRhLG51bGwpO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5mcm9tRmlyZXN0b3JlKG5ldyBqZyh0aGlzLl9maXJlc3RvcmUsdCksbnVsbCE9ZT9lOnt9KX0sUmcucHJvdG90eXBlLnRvRmlyZXN0b3JlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU/dGhpcy5fZGVsZWdhdGUudG9GaXJlc3RvcmUodCxlKTp0aGlzLl9kZWxlZ2F0ZS50b0ZpcmVzdG9yZSh0KX0sUmcuc2E9ZnVuY3Rpb24odCxlKXt2YXIgbj1SZy5pYSxyPW4uZ2V0KHQpO3J8fChyPW5ldyBXZWFrTWFwLG4uc2V0KHQscikpO249ci5nZXQoZSk7cmV0dXJuIG58fChuPW5ldyBSZyh0LG5ldyBJZyh0KSxlKSxyLnNldChlLG4pKSxufSxSZyk7ZnVuY3Rpb24gUmcodCxlLG4pe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX3VzZXJEYXRhV3JpdGVyPWUsdGhpcy5fZGVsZWdhdGU9bn1mdW5jdGlvbiB4Zyh0KXt0aGlzLl9kZWxlZ2F0ZT10fWZ1bmN0aW9uIE9nKHQsZSl7dGhpcy5fZmlyZXN0b3JlPXQsdGhpcy5fZGVsZWdhdGU9ZSx0aGlzLl91c2VyRGF0YVdyaXRlcj1uZXcgSWcodCl9a2cuaWE9bmV3IFdlYWtNYXA7dmFyIExnPShQZy5yYT1mdW5jdGlvbih0LGUsbil7aWYodC5sZW5ndGglMiE9MCl0aHJvdyBuZXcga3IoQ3IuSU5WQUxJRF9BUkdVTUVOVCxcIkludmFsaWQgZG9jdW1lbnQgcmVmZXJlbmNlLiBEb2N1bWVudCByZWZlcmVuY2VzIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBzZWdtZW50cywgYnV0IFwiK3QuY2Fub25pY2FsU3RyaW5nKCkrXCIgaGFzIFwiK3QubGVuZ3RoKTtyZXR1cm4gbmV3IFBnKGUsbmV3IEpkKGUuX2RlbGVnYXRlLG4sbmV3IGJpKHQpKSl9LFBnLm5hPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IFBnKGUsbmV3IEpkKGUuX2RlbGVnYXRlLG4sdCkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGcucHJvdG90eXBlLFwiaWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQZy5wcm90b3R5cGUsXCJwYXJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB6Zyh0aGlzLmZpcmVzdG9yZSx0aGlzLl9kZWxlZ2F0ZS5wYXJlbnQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQZy5wcm90b3R5cGUsXCJwYXRoXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5wYXRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFBnLnByb3RvdHlwZS5jb2xsZWN0aW9uPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gbmV3IHpnKHRoaXMuZmlyZXN0b3JlLG9wKHRoaXMuX2RlbGVnYXRlLHQpKX1jYXRjaCh0KXt0aHJvdyBNZyh0LFwiY29sbGVjdGlvbigpXCIsXCJEb2N1bWVudFJlZmVyZW5jZS5jb2xsZWN0aW9uKClcIil9fSxQZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4odD12KHQpKWluc3RhbmNlb2YgSmQmJmFwKHRoaXMuX2RlbGVnYXRlLHQpfSxQZy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKHQsZSl7ZT1CZChcIkRvY3VtZW50UmVmZXJlbmNlLnNldFwiLGUpO3RyeXtyZXR1cm4gZnVuY3Rpb24odCxlLG4pe3Q9emQodCxKZCk7dmFyIHI9emQodC5maXJlc3RvcmUscHApLGU9WnkodC5jb252ZXJ0ZXIsZSxuKTtyZXR1cm4gbGcocixbVXAoVnAociksXCJzZXREb2NcIix0Ll9rZXksZSxudWxsIT09dC5jb252ZXJ0ZXIsbikudG9NdXRhdGlvbih0Ll9rZXkscnMubm9uZSgpKV0pfSh0aGlzLl9kZWxlZ2F0ZSx0LGUpfWNhdGNoKHQpe3Rocm93IE1nKHQsXCJzZXREb2MoKVwiLFwiRG9jdW1lbnRSZWZlcmVuY2Uuc2V0KClcIil9fSxQZy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPVtdLHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKW5bci0yXT1hcmd1bWVudHNbcl07dHJ5e3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD9jZyh0aGlzLl9kZWxlZ2F0ZSx0KTpjZy5hcHBseSh2b2lkIDAscyhbdGhpcy5fZGVsZWdhdGUsdCxlXSxuKSl9Y2F0Y2godCl7dGhyb3cgTWcodCxcInVwZGF0ZURvYygpXCIsXCJEb2N1bWVudFJlZmVyZW5jZS51cGRhdGUoKVwiKX19LFBnLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gbGcoemQoKHQ9dGhpcy5fZGVsZWdhdGUpLmZpcmVzdG9yZSxwcCksW25ldyBUcyh0Ll9rZXkscnMubm9uZSgpKV0pO3ZhciB0fSxQZy5wcm90b3R5cGUub25TbmFwc2hvdD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dmFyIHI9RmcodCksaT1WZyh0LGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQmcoZS5maXJlc3RvcmUsbmV3IEl5KGUuZmlyZXN0b3JlLl9kZWxlZ2F0ZSxlLl91c2VyRGF0YVdyaXRlcix0Ll9rZXksdC5fZG9jdW1lbnQsdC5tZXRhZGF0YSxlLl9kZWxlZ2F0ZS5jb252ZXJ0ZXIpKX0pO3JldHVybiBoZyh0aGlzLl9kZWxlZ2F0ZSxyLGkpfSxQZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuKFwiY2FjaGVcIj09PShudWxsPT10P3ZvaWQgMDp0LnNvdXJjZSk/ZnVuY3Rpb24oZSl7ZT16ZChlLEpkKTt2YXIgbj16ZChlLmZpcmVzdG9yZSxwcCksdD1tcChuKSxyPW5ldyBhZyhuKTtyZXR1cm4gZnVuY3Rpb24obixyKXt2YXIgdD10aGlzLGk9bmV3IGV1O3JldHVybiBuLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldChmdW5jdGlvbigpe3JldHVybiB5KHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlO3JldHVybiBnKHRoaXMsZnVuY3Rpb24odCl7c3dpdGNoKHQubGFiZWwpe2Nhc2UgMDpyZXR1cm4gZT1mdW5jdGlvbihvLHMsYSl7cmV0dXJuIHkodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsaTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCwoZT1zLChuPW8pLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwicmVhZCBkb2N1bWVudFwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gbi5Nbi5tbih0LGUpfSkpXTtjYXNlIDE6cmV0dXJuKGk9dC5zZW50KCkpLmlzRm91bmREb2N1bWVudCgpP2EucmVzb2x2ZShpKTppLmlzTm9Eb2N1bWVudCgpP2EucmVzb2x2ZShudWxsKTphLnJlamVjdChuZXcga3IoQ3IuVU5BVkFJTEFCTEUsXCJGYWlsZWQgdG8gZ2V0IGRvY3VtZW50IGZyb20gY2FjaGUuIChIb3dldmVyLCB0aGlzIGRvY3VtZW50IG1heSBleGlzdCBvbiB0aGUgc2VydmVyLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nICdzb3VyY2UnIGluIHRoZSBHZXRPcHRpb25zIHRvIGF0dGVtcHQgdG8gcmV0cmlldmUgdGhlIGRvY3VtZW50IGZyb20gdGhlIHNlcnZlci4pXCIpKSxbMywzXTtjYXNlIDI6cmV0dXJuIHI9dC5zZW50KCksaT1YbChyLFwiRmFpbGVkIHRvIGdldCBkb2N1bWVudCAnXCIrcytcIiBmcm9tIGNhY2hlXCIpLGEucmVqZWN0KGkpLFszLDNdO2Nhc2UgMzpyZXR1cm5bMl19dmFyIGUsbn0pfSl9LFs0LGJkKG4pXTtjYXNlIDE6cmV0dXJuWzIsZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLHIsaV0pXX19KX0pfSksaS5wcm9taXNlfSh0LGUuX2tleSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEl5KG4scixlLl9rZXksdCxuZXcgVHkobnVsbCE9PXQmJnQuaGFzTG9jYWxNdXRhdGlvbnMsITApLGUuY29udmVydGVyKX0pfTpcInNlcnZlclwiPT09KG51bGw9PXQ/dm9pZCAwOnQuc291cmNlKT9mdW5jdGlvbihlKXtlPXpkKGUsSmQpO3ZhciBuPXpkKGUuZmlyZXN0b3JlLHBwKTtyZXR1cm4gSWQobXAobiksZS5fa2V5LHtzb3VyY2U6XCJzZXJ2ZXJcIn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIGZnKG4sZSx0KX0pfTpmdW5jdGlvbihlKXtlPXpkKGUsSmQpO3ZhciBuPXpkKGUuZmlyZXN0b3JlLHBwKTtyZXR1cm4gSWQobXAobiksZS5fa2V5KS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBmZyhuLGUsdCl9KX0pKHRoaXMuX2RlbGVnYXRlKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQmcoZS5maXJlc3RvcmUsbmV3IEl5KGUuZmlyZXN0b3JlLl9kZWxlZ2F0ZSxlLl91c2VyRGF0YVdyaXRlcix0Ll9rZXksdC5fZG9jdW1lbnQsdC5tZXRhZGF0YSxlLl9kZWxlZ2F0ZS5jb252ZXJ0ZXIpKX0pfSxQZy5wcm90b3R5cGUud2l0aENvbnZlcnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IFBnKHRoaXMuZmlyZXN0b3JlLHQ/dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihrZy5zYSh0aGlzLmZpcmVzdG9yZSx0KSk6dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihudWxsKSl9LFBnKTtmdW5jdGlvbiBQZyh0LGUpe3RoaXMuZmlyZXN0b3JlPXQsdGhpcy5fZGVsZWdhdGU9ZSx0aGlzLl91c2VyRGF0YVdyaXRlcj1uZXcgSWcodCl9ZnVuY3Rpb24gTWcodCxlLG4pe3JldHVybiB0Lm1lc3NhZ2U9dC5tZXNzYWdlLnJlcGxhY2UoZSxuKSx0fWZ1bmN0aW9uIEZnKHQpe2Zvcih2YXIgZT0wLG49dDtlPG4ubGVuZ3RoO2UrKyl7dmFyIHI9bltlXTtpZihcIm9iamVjdFwiPT10eXBlb2YgciYmIWxwKHIpKXJldHVybiByfXJldHVybnt9fWZ1bmN0aW9uIFZnKHQsZSl7dmFyIG47cmV0dXJue25leHQ6ZnVuY3Rpb24odCl7bi5uZXh0JiZuLm5leHQoZSh0KSl9LGVycm9yOm51bGw9PT0odD0obj1scCh0WzBdKT90WzBdOmxwKHRbMV0pP3RbMV06XCJmdW5jdGlvblwiPT10eXBlb2YgdFswXT97bmV4dDp0WzBdLGVycm9yOnRbMV0sY29tcGxldGU6dFsyXX06e25leHQ6dFsxXSxlcnJvcjp0WzJdLGNvbXBsZXRlOnRbM119KS5lcnJvcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYmluZChuKSxjb21wbGV0ZTpudWxsPT09KHQ9bi5jb21wbGV0ZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuYmluZChuKX19dmFyIFVnLHFnLEJnPShPYmplY3QuZGVmaW5lUHJvcGVydHkoJGcucHJvdG90eXBlLFwicmVmXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgTGcodGhpcy5fZmlyZXN0b3JlLHRoaXMuX2RlbGVnYXRlLnJlZil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KCRnLnByb3RvdHlwZSxcImlkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5pZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoJGcucHJvdG90eXBlLFwibWV0YWRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLm1ldGFkYXRhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSgkZy5wcm90b3R5cGUsXCJleGlzdHNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmV4aXN0cygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLCRnLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5kYXRhKHQpfSwkZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLmdldCh0LGUpfSwkZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4ga3kodGhpcy5fZGVsZWdhdGUsdC5fZGVsZWdhdGUpfSwkZyksamc9KG4oSmcscWc9QmcpLEpnLnByb3RvdHlwZS5kYXRhPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5kYXRhKHQpfSxKZyksS2c9KFhnLnByb3RvdHlwZS53aGVyZT1mdW5jdGlvbih0LGUsbil7dHJ5e3JldHVybiBuZXcgWGcodGhpcy5maXJlc3RvcmUseHkodGhpcy5fZGVsZWdhdGUsKHI9bixpPWUsbz1ieShcIndoZXJlXCIsdCksbmV3IFZ5KG8saSxyKSkpKX1jYXRjaCh0KXt0aHJvdyBNZyh0LC8ob3JkZXJCeXx3aGVyZSlcXChcXCkvLFwiUXVlcnkuJDEoKVwiKX12YXIgcixpLG99LFhnLnByb3RvdHlwZS5vcmRlckJ5PWZ1bmN0aW9uKHQsZSl7dHJ5e3JldHVybiBuZXcgWGcodGhpcy5maXJlc3RvcmUseHkodGhpcy5fZGVsZWdhdGUsKG49dm9pZCAwPT09ZT9cImFzY1wiOmUscj1ieShcIm9yZGVyQnlcIix0KSxuZXcgVXkocixuKSkpKX1jYXRjaCh0KXt0aHJvdyBNZyh0LC8ob3JkZXJCeXx3aGVyZSlcXChcXCkvLFwiUXVlcnkuJDEoKVwiKX12YXIgbixyfSxYZy5wcm90b3R5cGUubGltaXQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiBuZXcgWGcodGhpcy5maXJlc3RvcmUseHkodGhpcy5fZGVsZWdhdGUsKEhkKFwibGltaXRcIixlPXQpLG5ldyBxeShcImxpbWl0XCIsZSxcIkZcIikpKSl9Y2F0Y2godCl7dGhyb3cgTWcodCxcImxpbWl0KClcIixcIlF1ZXJ5LmxpbWl0KClcIil9dmFyIGV9LFhnLnByb3RvdHlwZS5saW1pdFRvTGFzdD1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG5ldyBYZyh0aGlzLmZpcmVzdG9yZSx4eSh0aGlzLl9kZWxlZ2F0ZSwoSGQoXCJsaW1pdFRvTGFzdFwiLGU9dCksbmV3IHF5KFwibGltaXRUb0xhc3RcIixlLFwiTFwiKSkpKX1jYXRjaCh0KXt0aHJvdyBNZyh0LFwibGltaXRUb0xhc3QoKVwiLFwiUXVlcnkubGltaXRUb0xhc3QoKVwiKX12YXIgZX0sWGcucHJvdG90eXBlLnN0YXJ0QXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dHJ5e3JldHVybiBuZXcgWGcodGhpcy5maXJlc3RvcmUseHkodGhpcy5fZGVsZWdhdGUsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyBCeShcInN0YXJ0QXRcIix0LCEwKX0uYXBwbHkodm9pZCAwLHQpKSl9Y2F0Y2godCl7dGhyb3cgTWcodCxcInN0YXJ0QXQoKVwiLFwiUXVlcnkuc3RhcnRBdCgpXCIpfX0sWGcucHJvdG90eXBlLnN0YXJ0QWZ0ZXI9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dHJ5e3JldHVybiBuZXcgWGcodGhpcy5maXJlc3RvcmUseHkodGhpcy5fZGVsZWdhdGUsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyBCeShcInN0YXJ0QWZ0ZXJcIix0LCExKX0uYXBwbHkodm9pZCAwLHQpKSl9Y2F0Y2godCl7dGhyb3cgTWcodCxcInN0YXJ0QWZ0ZXIoKVwiLFwiUXVlcnkuc3RhcnRBZnRlcigpXCIpfX0sWGcucHJvdG90eXBlLmVuZEJlZm9yZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0cnl7cmV0dXJuIG5ldyBYZyh0aGlzLmZpcmVzdG9yZSx4eSh0aGlzLl9kZWxlZ2F0ZSxmdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IGp5KFwiZW5kQmVmb3JlXCIsdCwhMCl9LmFwcGx5KHZvaWQgMCx0KSkpfWNhdGNoKHQpe3Rocm93IE1nKHQsXCJlbmRCZWZvcmUoKVwiLFwiUXVlcnkuZW5kQmVmb3JlKClcIil9fSxYZy5wcm90b3R5cGUuZW5kQXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07dHJ5e3JldHVybiBuZXcgWGcodGhpcy5maXJlc3RvcmUseHkodGhpcy5fZGVsZWdhdGUsZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyBqeShcImVuZEF0XCIsdCwhMSl9LmFwcGx5KHZvaWQgMCx0KSkpfWNhdGNoKHQpe3Rocm93IE1nKHQsXCJlbmRBdCgpXCIsXCJRdWVyeS5lbmRBdCgpXCIpfX0sWGcucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24odCl7cmV0dXJuIHVwKHRoaXMuX2RlbGVnYXRlLHQuX2RlbGVnYXRlKX0sWGcucHJvdG90eXBlLmdldD1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybihcImNhY2hlXCI9PT0obnVsbD09dD92b2lkIDA6dC5zb3VyY2UpP2Z1bmN0aW9uKGUpe2U9emQoZSwkZCk7dmFyIG49emQoZS5maXJlc3RvcmUscHApLHQ9bXAobikscj1uZXcgYWcobik7cmV0dXJuIGZ1bmN0aW9uKG4scil7dmFyIHQ9dGhpcyxpPW5ldyBldTtyZXR1cm4gbi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geSh0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9ZnVuY3Rpb24oaSxvLHMpe3JldHVybiB5KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlLG4scjtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIHQudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCxjaChpLG8sITApXTtjYXNlIDE6cmV0dXJuIHI9dC5zZW50KCksZT1uZXcgd2YobyxyLkJuKSxuPWUuX28oci5kb2N1bWVudHMpLG49ZS5hcHBseUNoYW5nZXMobiwhMSkscy5yZXNvbHZlKG4uc25hcHNob3QpLFszLDNdO2Nhc2UgMjpyZXR1cm4gbj10LnNlbnQoKSxyPVhsKG4sXCJGYWlsZWQgdG8gZXhlY3V0ZSBxdWVyeSAnXCIrbytcIiBhZ2FpbnN0IGNhY2hlXCIpLHMucmVqZWN0KHIpLFszLDNdO2Nhc2UgMzpyZXR1cm5bMl19fSl9KX0sWzQsYmQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscixpXSldfX0pfSl9KSxpLnByb21pc2V9KHQsZS5fcXVlcnkpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTeShuLHIsZSx0KX0pfTpcInNlcnZlclwiPT09KG51bGw9PXQ/dm9pZCAwOnQuc291cmNlKT9mdW5jdGlvbihlKXtlPXpkKGUsJGQpO3ZhciBuPXpkKGUuZmlyZXN0b3JlLHBwKSx0PW1wKG4pLHI9bmV3IGFnKG4pO3JldHVybiBfZCh0LGUuX3F1ZXJ5LHtzb3VyY2U6XCJzZXJ2ZXJcIn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTeShuLHIsZSx0KX0pfTpmdW5jdGlvbihlKXtlPXpkKGUsJGQpO3ZhciBuPXpkKGUuZmlyZXN0b3JlLHBwKSx0PW1wKG4pLHI9bmV3IGFnKG4pO3JldHVybiBSeShlLl9xdWVyeSksX2QodCxlLl9xdWVyeSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFN5KG4scixlLHQpfSl9KSh0aGlzLl9kZWxlZ2F0ZSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFFnKGUuZmlyZXN0b3JlLG5ldyBTeShlLmZpcmVzdG9yZS5fZGVsZWdhdGUsZS5fdXNlckRhdGFXcml0ZXIsZS5fZGVsZWdhdGUsdC5fc25hcHNob3QpKX0pfSxYZy5wcm90b3R5cGUub25TbmFwc2hvdD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dmFyIHI9RmcodCksaT1WZyh0LGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUWcoZS5maXJlc3RvcmUsbmV3IFN5KGUuZmlyZXN0b3JlLl9kZWxlZ2F0ZSxlLl91c2VyRGF0YVdyaXRlcixlLl9kZWxlZ2F0ZSx0Ll9zbmFwc2hvdCkpfSk7cmV0dXJuIGhnKHRoaXMuX2RlbGVnYXRlLHIsaSl9LFhnLnByb3RvdHlwZS53aXRoQ29udmVydGVyPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgWGcodGhpcy5maXJlc3RvcmUsdD90aGlzLl9kZWxlZ2F0ZS53aXRoQ29udmVydGVyKGtnLnNhKHRoaXMuZmlyZXN0b3JlLHQpKTp0aGlzLl9kZWxlZ2F0ZS53aXRoQ29udmVydGVyKG51bGwpKX0sWGcpLEdnPShPYmplY3QuZGVmaW5lUHJvcGVydHkoWWcucHJvdG90eXBlLFwidHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUudHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWWcucHJvdG90eXBlLFwiZG9jXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgamcodGhpcy5fZmlyZXN0b3JlLHRoaXMuX2RlbGVnYXRlLmRvYyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFlnLnByb3RvdHlwZSxcIm9sZEluZGV4XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5vbGRJbmRleH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoWWcucHJvdG90eXBlLFwibmV3SW5kZXhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLm5ld0luZGV4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFlnKSxRZz0oT2JqZWN0LmRlZmluZVByb3BlcnR5KFdnLnByb3RvdHlwZSxcInF1ZXJ5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBuZXcgS2codGhpcy5fZmlyZXN0b3JlLHRoaXMuX2RlbGVnYXRlLnF1ZXJ5KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV2cucHJvdG90eXBlLFwibWV0YWRhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLm1ldGFkYXRhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZy5wcm90b3R5cGUsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5zaXplfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXZy5wcm90b3R5cGUsXCJlbXB0eVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZW1wdHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFdnLnByb3RvdHlwZSxcImRvY3NcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztyZXR1cm4gdGhpcy5fZGVsZWdhdGUuZG9jcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBqZyhlLl9maXJlc3RvcmUsdCl9KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxXZy5wcm90b3R5cGUuZG9jQ2hhbmdlcz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl9kZWxlZ2F0ZS5kb2NDaGFuZ2VzKHQpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IEdnKGUuX2ZpcmVzdG9yZSx0KX0pfSxXZy5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlLG4pe3ZhciByPXRoaXM7dGhpcy5fZGVsZWdhdGUuZm9yRWFjaChmdW5jdGlvbih0KXtlLmNhbGwobixuZXcgamcoci5fZmlyZXN0b3JlLHQpKX0pfSxXZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4ga3kodGhpcy5fZGVsZWdhdGUsdC5fZGVsZWdhdGUpfSxXZyksemc9KG4oSGcsVWc9S2cpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIZy5wcm90b3R5cGUsXCJpZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuaWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhnLnByb3RvdHlwZSxcInBhdGhcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbGVnYXRlLnBhdGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KEhnLnByb3RvdHlwZSxcInBhcmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9kZWxlZ2F0ZS5wYXJlbnQ7cmV0dXJuIHQ/bmV3IExnKHRoaXMuZmlyZXN0b3JlLHQpOm51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksSGcucHJvdG90eXBlLmRvYz1mdW5jdGlvbih0KXt0cnl7cmV0dXJuIG5ldyBMZyh0aGlzLmZpcmVzdG9yZSx2b2lkIDA9PT10P3NwKHRoaXMuX2RlbGVnYXRlKTpzcCh0aGlzLl9kZWxlZ2F0ZSx0KSl9Y2F0Y2godCl7dGhyb3cgTWcodCxcImRvYygpXCIsXCJDb2xsZWN0aW9uUmVmZXJlbmNlLmRvYygpXCIpfX0sSGcucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZSxuLHIsaT10aGlzO3JldHVybiBlPXRoaXMuX2RlbGVnYXRlLG49dCx0PXpkKGUuZmlyZXN0b3JlLHBwKSxyPXNwKGUpLG49WnkoZS5jb252ZXJ0ZXIsbiksbGcodCxbVXAoVnAoZS5maXJlc3RvcmUpLFwiYWRkRG9jXCIsci5fa2V5LG4sbnVsbCE9PWUuY29udmVydGVyLHt9KS50b011dGF0aW9uKHIuX2tleSxycy5leGlzdHMoITEpKV0pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcn0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBMZyhpLmZpcmVzdG9yZSx0KX0pfSxIZy5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gYXAodGhpcy5fZGVsZWdhdGUsdC5fZGVsZWdhdGUpfSxIZy5wcm90b3R5cGUud2l0aENvbnZlcnRlcj1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEhnKHRoaXMuZmlyZXN0b3JlLHQ/dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihrZy5zYSh0aGlzLmZpcmVzdG9yZSx0KSk6dGhpcy5fZGVsZWdhdGUud2l0aENvbnZlcnRlcihudWxsKSl9LEhnKTtmdW5jdGlvbiBIZyh0LGUpe3ZhciBuPXRoaXM7cmV0dXJuKG49VWcuY2FsbCh0aGlzLHQsZSl8fHRoaXMpLmZpcmVzdG9yZT10LG4uX2RlbGVnYXRlPWUsbn1mdW5jdGlvbiBXZyh0LGUpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX2RlbGVnYXRlPWV9ZnVuY3Rpb24gWWcodCxlKXt0aGlzLl9maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lfWZ1bmN0aW9uIFhnKHQsZSl7dGhpcy5maXJlc3RvcmU9dCx0aGlzLl9kZWxlZ2F0ZT1lLHRoaXMuX3VzZXJEYXRhV3JpdGVyPW5ldyBJZyh0KX1mdW5jdGlvbiBKZygpe3JldHVybiBudWxsIT09cWcmJnFnLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31mdW5jdGlvbiAkZyh0LGUpe3RoaXMuX2ZpcmVzdG9yZT10LHRoaXMuX2RlbGVnYXRlPWV9ZnVuY3Rpb24gWmcodCl7cmV0dXJuIHpkKHQsSmQpfWVtLmRvY3VtZW50SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGVtKG5pLmtleUZpZWxkKCkuY2Fub25pY2FsU3RyaW5nKCkpfSxlbS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4odD12KHQpKWluc3RhbmNlb2YgRXAmJnRoaXMuX2RlbGVnYXRlLl9pbnRlcm5hbFBhdGguaXNFcXVhbCh0Ll9pbnRlcm5hbFBhdGgpfSxTZT1lbSx0bS5zZXJ2ZXJUaW1lc3RhbXA9ZnVuY3Rpb24oKXt2YXIgdD1uZXcgV3AoXCJzZXJ2ZXJUaW1lc3RhbXBcIik7cmV0dXJuIHQuX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLnNlcnZlclRpbWVzdGFtcFwiLG5ldyB0bSh0KX0sdG0uZGVsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEJwKFwiZGVsZXRlRmllbGRcIik7cmV0dXJuIHQuX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLmRlbGV0ZVwiLG5ldyB0bSh0KX0sdG0uYXJyYXlVbmlvbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt2YXIgbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IFlwKFwiYXJyYXlVbmlvblwiLHQpfS5hcHBseSh2b2lkIDAsdCk7cmV0dXJuIG4uX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLmFycmF5VW5pb25cIixuZXcgdG0obil9LHRtLmFycmF5UmVtb3ZlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgWHAoXCJhcnJheVJlbW92ZVwiLHQpfS5hcHBseSh2b2lkIDAsdCk7cmV0dXJuIG4uX21ldGhvZE5hbWU9XCJGaWVsZFZhbHVlLmFycmF5UmVtb3ZlXCIsbmV3IHRtKG4pfSx0bS5pbmNyZW1lbnQ9ZnVuY3Rpb24odCl7dD1uZXcgSnAoXCJpbmNyZW1lbnRcIix0KTtyZXR1cm4gdC5fbWV0aG9kTmFtZT1cIkZpZWxkVmFsdWUuaW5jcmVtZW50XCIsbmV3IHRtKHQpfSx0bS5wcm90b3R5cGUuaXNFcXVhbD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVsZWdhdGUuaXNFcXVhbCh0Ll9kZWxlZ2F0ZSl9LEk9dG07ZnVuY3Rpb24gdG0odCl7dGhpcy5fZGVsZWdhdGU9dH1mdW5jdGlvbiBlbSgpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9kZWxlZ2F0ZT1uZXcoRXAuYmluZC5hcHBseShFcCxzKFt2b2lkIDBdLHQpKSl9ZnVuY3Rpb24gbm0odCl7cmV0dXJuIGU9dGhpcy5fZGVsZWdhdGUscz10LG49bXAoZT16ZChlLHBwKSksdD1uZXcgZHAsZnVuY3Rpb24obix0LHIpe3ZhciBlLGk9dGhpcyxvPShlPXMsdD1kbCh0KSxlPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBVaW50OEFycmF5KXJldHVybiByZCh0LHZvaWQgMCk7aWYodCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiByZChuZXcgVWludDhBcnJheSh0KSx2b2lkIDApO2lmKHQgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSlyZXR1cm4gdC5nZXRSZWFkZXIoKTt0aHJvdyBuZXcgRXJyb3IoXCJTb3VyY2Ugb2YgYHRvQnl0ZVN0cmVhbVJlYWRlcmAgaGFzIHRvIGJlIGEgQXJyYXlCdWZmZXIgb3IgUmVhZGFibGVTdHJlYW1cIil9KFwic3RyaW5nXCI9PXR5cGVvZiBlPyhuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKTplKSxuZXcgb2QoZSx0KSk7bi5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoZnVuY3Rpb24oKXtyZXR1cm4geShpLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZyh0aGlzLGZ1bmN0aW9uKHQpe3N3aXRjaCh0LmxhYmVsKXtjYXNlIDA6cmV0dXJuIGU9emYsWzQsRWQobildO2Nhc2UgMTpyZXR1cm4gZS5hcHBseSh2b2lkIDAsW3Quc2VudCgpLG8scl0pLFsyXX19KX0pfSl9KG4sZS5fZGF0YWJhc2VJZCx0KSx0O3ZhciBlLHMsbn1mdW5jdGlvbiBybSh0KXt2YXIgZT10aGlzLG49dGhpcy5fZGVsZWdhdGUsdD10O3JldHVybiBmdW5jdGlvbihuLHIpe3ZhciB0PXRoaXM7cmV0dXJuIG4uYXN5bmNRdWV1ZS5lbnF1ZXVlKGZ1bmN0aW9uKCl7cmV0dXJuIHkodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIGcodGhpcyxmdW5jdGlvbih0KXtzd2l0Y2godC5sYWJlbCl7Y2FzZSAwOnJldHVybiBlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dDtyZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBuYW1lZCBxdWVyeVwiLFwicmVhZG9ubHlcIixmdW5jdGlvbih0KXtyZXR1cm4gbi5RZS5nZXROYW1lZFF1ZXJ5KHQsZSl9KX0sWzQsYmQobildO2Nhc2UgMTpyZXR1cm5bMixlLmFwcGx5KHZvaWQgMCxbdC5zZW50KCkscl0pXX19KX0pfSl9KG1wKG49emQobixwcCkpLHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQ/bmV3ICRkKG4sbnVsbCx0LnF1ZXJ5KTpudWxsfSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdD9uZXcgS2coZSx0KTpudWxsfSl9dmFyIGltPShvbS5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaW5zdGFudGlhdGlvbk1vZGU9dCx0aGlzfSxvbS5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubXVsdGlwbGVJbnN0YW5jZXM9dCx0aGlzfSxvbS5wcm90b3R5cGUuc2V0U2VydmljZVByb3BzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNlcnZpY2VQcm9wcz10LHRoaXN9LG9tLnByb3RvdHlwZS5zZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkluc3RhbmNlQ3JlYXRlZD10LHRoaXN9LG9tKTtmdW5jdGlvbiBvbSh0LGUsbil7dGhpcy5uYW1lPXQsdGhpcy5pbnN0YW5jZUZhY3Rvcnk9ZSx0aGlzLnR5cGU9bix0aGlzLm11bHRpcGxlSW5zdGFuY2VzPSExLHRoaXMuc2VydmljZVByb3BzPXt9LHRoaXMuaW5zdGFudGlhdGlvbk1vZGU9XCJMQVpZXCIsdGhpcy5vbkluc3RhbmNlQ3JlYXRlZD1udWxsfXZhciBzbSxhbSx1bT17RmlyZXN0b3JlOlRnLEdlb1BvaW50Ol9wLFRpbWVzdGFtcDpRcixCbG9iOndnLFRyYW5zYWN0aW9uOkRnLFdyaXRlQmF0Y2g6Q2csRG9jdW1lbnRSZWZlcmVuY2U6TGcsRG9jdW1lbnRTbmFwc2hvdDpCZyxRdWVyeTpLZyxRdWVyeURvY3VtZW50U25hcHNob3Q6amcsUXVlcnlTbmFwc2hvdDpRZyxDb2xsZWN0aW9uUmVmZXJlbmNlOnpnLEZpZWxkUGF0aDpTZSxGaWVsZFZhbHVlOkksc2V0TG9nTGV2ZWw6ZnVuY3Rpb24odCl7UnIuc2V0TG9nTGV2ZWwodCl9LENBQ0hFX1NJWkVfVU5MSU1JVEVEOi0xfTsoc209ZS5kZWZhdWx0KS5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudChuZXcgaW0oXCJmaXJlc3RvcmVcIixmdW5jdGlvbih0KXt2YXIgZT10LmdldFByb3ZpZGVyKFwiYXBwXCIpLmdldEltbWVkaWF0ZSgpO3JldHVybiBlPWUsdD10LmdldFByb3ZpZGVyKFwiYXV0aC1pbnRlcm5hbFwiKSxuZXcgVGcoZSxuZXcgcHAoZSx0KSxuZXcgRWcpfSxcIlBVQkxJQ1wiKS5zZXRTZXJ2aWNlUHJvcHMoT2JqZWN0LmFzc2lnbih7fSx1bSkpKSxzbS5yZWdpc3RlclZlcnNpb24oXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCIsXCIyLjMuMVwiKSwoYW09VGcpLnByb3RvdHlwZS5sb2FkQnVuZGxlPW5tLGFtLnByb3RvdHlwZS5uYW1lZFF1ZXJ5PXJtfS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2godCl7dGhyb3cgY29uc29sZS5lcnJvcih0KSxuZXcgRXJyb3IoXCJDYW5ub3QgaW5zdGFudGlhdGUgZmlyZWJhc2UtZmlyZXN0b3JlLmpzIC0gYmUgc3VyZSB0byBsb2FkIGZpcmViYXNlLWFwcC5qcyBmaXJzdC5cIil9fSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maXJlYmFzZS1maXJlc3RvcmUuanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/firebase/firebase-firestore.js\n");

/***/ })

});